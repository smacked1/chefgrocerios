var hm=t=>{throw TypeError(t)};var G0=(t,e,r)=>e.has(t)||hm("Cannot "+r);var Y=(t,e,r)=>(G0(t,e,"read from private field"),r?r.call(t):e.get(t)),Ue=(t,e,r)=>e.has(t)?hm("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(t):e.set(t,r),be=(t,e,r,n)=>(G0(t,e,"write to private field"),n?n.call(t,r):e.set(t,r),r),Ze=(t,e,r)=>(G0(t,e,"access private method"),r);var Fu=(t,e,r,n)=>({set _(i){be(t,e,i,r)},get _(){return Y(t,e,n)}});function My(t,e){for(var r=0;r<e.length;r++){const n=e[r];if(typeof n!="string"&&!Array.isArray(n)){for(const i in n)if(i!=="default"&&!(i in t)){const s=Object.getOwnPropertyDescriptor(n,i);s&&Object.defineProperty(t,i,s.get?s:{enumerable:!0,get:()=>n[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))n(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&n(o)}).observe(document,{childList:!0,subtree:!0});function r(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function n(i){if(i.ep)return;i.ep=!0;const s=r(i);fetch(i.href,s)}})();var ic=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Mf(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var ky={exports:{}},kf={},Ly={exports:{}},tt={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var xu=Symbol.for("react.element"),Jb=Symbol.for("react.portal"),eS=Symbol.for("react.fragment"),tS=Symbol.for("react.strict_mode"),rS=Symbol.for("react.profiler"),nS=Symbol.for("react.provider"),iS=Symbol.for("react.context"),sS=Symbol.for("react.forward_ref"),aS=Symbol.for("react.suspense"),oS=Symbol.for("react.memo"),lS=Symbol.for("react.lazy"),pm=Symbol.iterator;function cS(t){return t===null||typeof t!="object"?null:(t=pm&&t[pm]||t["@@iterator"],typeof t=="function"?t:null)}var By={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Fy=Object.assign,Uy={};function Bl(t,e,r){this.props=t,this.context=e,this.refs=Uy,this.updater=r||By}Bl.prototype.isReactComponent={};Bl.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};Bl.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function Vy(){}Vy.prototype=Bl.prototype;function Vp(t,e,r){this.props=t,this.context=e,this.refs=Uy,this.updater=r||By}var Hp=Vp.prototype=new Vy;Hp.constructor=Vp;Fy(Hp,Bl.prototype);Hp.isPureReactComponent=!0;var xm=Array.isArray,Hy=Object.prototype.hasOwnProperty,zp={current:null},zy={key:!0,ref:!0,__self:!0,__source:!0};function Gy(t,e,r){var n,i={},s=null,o=null;if(e!=null)for(n in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(s=""+e.key),e)Hy.call(e,n)&&!zy.hasOwnProperty(n)&&(i[n]=e[n]);var u=arguments.length-2;if(u===1)i.children=r;else if(1<u){for(var f=Array(u),h=0;h<u;h++)f[h]=arguments[h+2];i.children=f}if(t&&t.defaultProps)for(n in u=t.defaultProps,u)i[n]===void 0&&(i[n]=u[n]);return{$$typeof:xu,type:t,key:s,ref:o,props:i,_owner:zp.current}}function uS(t,e){return{$$typeof:xu,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function Gp(t){return typeof t=="object"&&t!==null&&t.$$typeof===xu}function dS(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(r){return e[r]})}var gm=/\/+/g;function W0(t,e){return typeof t=="object"&&t!==null&&t.key!=null?dS(""+t.key):e.toString(36)}function wd(t,e,r,n,i){var s=typeof t;(s==="undefined"||s==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(s){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case xu:case Jb:o=!0}}if(o)return o=t,i=i(o),t=n===""?"."+W0(o,0):n,xm(i)?(r="",t!=null&&(r=t.replace(gm,"$&/")+"/"),wd(i,e,r,"",function(h){return h})):i!=null&&(Gp(i)&&(i=uS(i,r+(!i.key||o&&o.key===i.key?"":(""+i.key).replace(gm,"$&/")+"/")+t)),e.push(i)),1;if(o=0,n=n===""?".":n+":",xm(t))for(var u=0;u<t.length;u++){s=t[u];var f=n+W0(s,u);o+=wd(s,e,r,f,i)}else if(f=cS(t),typeof f=="function")for(t=f.call(t),u=0;!(s=t.next()).done;)s=s.value,f=n+W0(s,u++),o+=wd(s,e,r,f,i);else if(s==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function Uu(t,e,r){if(t==null)return t;var n=[],i=0;return wd(t,n,"","",function(s){return e.call(r,s,i++)}),n}function fS(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(r){(t._status===0||t._status===-1)&&(t._status=1,t._result=r)},function(r){(t._status===0||t._status===-1)&&(t._status=2,t._result=r)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var gn={current:null},Cd={transition:null},hS={ReactCurrentDispatcher:gn,ReactCurrentBatchConfig:Cd,ReactCurrentOwner:zp};function Wy(){throw Error("act(...) is not supported in production builds of React.")}tt.Children={map:Uu,forEach:function(t,e,r){Uu(t,function(){e.apply(this,arguments)},r)},count:function(t){var e=0;return Uu(t,function(){e++}),e},toArray:function(t){return Uu(t,function(e){return e})||[]},only:function(t){if(!Gp(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};tt.Component=Bl;tt.Fragment=eS;tt.Profiler=rS;tt.PureComponent=Vp;tt.StrictMode=tS;tt.Suspense=aS;tt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=hS;tt.act=Wy;tt.cloneElement=function(t,e,r){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var n=Fy({},t.props),i=t.key,s=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(s=e.ref,o=zp.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var u=t.type.defaultProps;for(f in e)Hy.call(e,f)&&!zy.hasOwnProperty(f)&&(n[f]=e[f]===void 0&&u!==void 0?u[f]:e[f])}var f=arguments.length-2;if(f===1)n.children=r;else if(1<f){u=Array(f);for(var h=0;h<f;h++)u[h]=arguments[h+2];n.children=u}return{$$typeof:xu,type:t.type,key:i,ref:s,props:n,_owner:o}};tt.createContext=function(t){return t={$$typeof:iS,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:nS,_context:t},t.Consumer=t};tt.createElement=Gy;tt.createFactory=function(t){var e=Gy.bind(null,t);return e.type=t,e};tt.createRef=function(){return{current:null}};tt.forwardRef=function(t){return{$$typeof:sS,render:t}};tt.isValidElement=Gp;tt.lazy=function(t){return{$$typeof:lS,_payload:{_status:-1,_result:t},_init:fS}};tt.memo=function(t,e){return{$$typeof:oS,type:t,compare:e===void 0?null:e}};tt.startTransition=function(t){var e=Cd.transition;Cd.transition={};try{t()}finally{Cd.transition=e}};tt.unstable_act=Wy;tt.useCallback=function(t,e){return gn.current.useCallback(t,e)};tt.useContext=function(t){return gn.current.useContext(t)};tt.useDebugValue=function(){};tt.useDeferredValue=function(t){return gn.current.useDeferredValue(t)};tt.useEffect=function(t,e){return gn.current.useEffect(t,e)};tt.useId=function(){return gn.current.useId()};tt.useImperativeHandle=function(t,e,r){return gn.current.useImperativeHandle(t,e,r)};tt.useInsertionEffect=function(t,e){return gn.current.useInsertionEffect(t,e)};tt.useLayoutEffect=function(t,e){return gn.current.useLayoutEffect(t,e)};tt.useMemo=function(t,e){return gn.current.useMemo(t,e)};tt.useReducer=function(t,e,r){return gn.current.useReducer(t,e,r)};tt.useRef=function(t){return gn.current.useRef(t)};tt.useState=function(t){return gn.current.useState(t)};tt.useSyncExternalStore=function(t,e,r){return gn.current.useSyncExternalStore(t,e,r)};tt.useTransition=function(){return gn.current.useTransition()};tt.version="18.3.1";Ly.exports=tt;var I=Ly.exports;const ot=Mf(I),Xy=My({__proto__:null,default:ot},[I]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var pS=I,xS=Symbol.for("react.element"),gS=Symbol.for("react.fragment"),mS=Object.prototype.hasOwnProperty,vS=pS.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,yS={key:!0,ref:!0,__self:!0,__source:!0};function Yy(t,e,r){var n,i={},s=null,o=null;r!==void 0&&(s=""+r),e.key!==void 0&&(s=""+e.key),e.ref!==void 0&&(o=e.ref);for(n in e)mS.call(e,n)&&!yS.hasOwnProperty(n)&&(i[n]=e[n]);if(t&&t.defaultProps)for(n in e=t.defaultProps,e)i[n]===void 0&&(i[n]=e[n]);return{$$typeof:xS,type:t,key:s,ref:o,props:i,_owner:vS.current}}kf.Fragment=gS;kf.jsx=Yy;kf.jsxs=Yy;ky.exports=kf;var l=ky.exports,$y={exports:{}},Xn={},Ky={exports:{}},Zy={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(ne,xe){var Ae=ne.length;ne.push(xe);e:for(;0<Ae;){var Te=Ae-1>>>1,ze=ne[Te];if(0<i(ze,xe))ne[Te]=xe,ne[Ae]=ze,Ae=Te;else break e}}function r(ne){return ne.length===0?null:ne[0]}function n(ne){if(ne.length===0)return null;var xe=ne[0],Ae=ne.pop();if(Ae!==xe){ne[0]=Ae;e:for(var Te=0,ze=ne.length,Pt=ze>>>1;Te<Pt;){var it=2*(Te+1)-1,vn=ne[it],Se=it+1,je=ne[Se];if(0>i(vn,Ae))Se<ze&&0>i(je,vn)?(ne[Te]=je,ne[Se]=Ae,Te=Se):(ne[Te]=vn,ne[it]=Ae,Te=it);else if(Se<ze&&0>i(je,Ae))ne[Te]=je,ne[Se]=Ae,Te=Se;else break e}}return xe}function i(ne,xe){var Ae=ne.sortIndex-xe.sortIndex;return Ae!==0?Ae:ne.id-xe.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var o=Date,u=o.now();t.unstable_now=function(){return o.now()-u}}var f=[],h=[],m=1,v=null,w=3,C=!1,N=!1,b=!1,R=typeof setTimeout=="function"?setTimeout:null,_=typeof clearTimeout=="function"?clearTimeout:null,S=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function T(ne){for(var xe=r(h);xe!==null;){if(xe.callback===null)n(h);else if(xe.startTime<=ne)n(h),xe.sortIndex=xe.expirationTime,e(f,xe);else break;xe=r(h)}}function P(ne){if(b=!1,T(ne),!N)if(r(f)!==null)N=!0,ue(B);else{var xe=r(h);xe!==null&&de(P,xe.startTime-ne)}}function B(ne,xe){N=!1,b&&(b=!1,_(F),F=-1),C=!0;var Ae=w;try{for(T(xe),v=r(f);v!==null&&(!(v.expirationTime>xe)||ne&&!ee());){var Te=v.callback;if(typeof Te=="function"){v.callback=null,w=v.priorityLevel;var ze=Te(v.expirationTime<=xe);xe=t.unstable_now(),typeof ze=="function"?v.callback=ze:v===r(f)&&n(f),T(xe)}else n(f);v=r(f)}if(v!==null)var Pt=!0;else{var it=r(h);it!==null&&de(P,it.startTime-xe),Pt=!1}return Pt}finally{v=null,w=Ae,C=!1}}var k=!1,M=null,F=-1,U=5,X=-1;function ee(){return!(t.unstable_now()-X<U)}function Z(){if(M!==null){var ne=t.unstable_now();X=ne;var xe=!0;try{xe=M(!0,ne)}finally{xe?ae():(k=!1,M=null)}}else k=!1}var ae;if(typeof S=="function")ae=function(){S(Z)};else if(typeof MessageChannel<"u"){var K=new MessageChannel,G=K.port2;K.port1.onmessage=Z,ae=function(){G.postMessage(null)}}else ae=function(){R(Z,0)};function ue(ne){M=ne,k||(k=!0,ae())}function de(ne,xe){F=R(function(){ne(t.unstable_now())},xe)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(ne){ne.callback=null},t.unstable_continueExecution=function(){N||C||(N=!0,ue(B))},t.unstable_forceFrameRate=function(ne){0>ne||125<ne?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):U=0<ne?Math.floor(1e3/ne):5},t.unstable_getCurrentPriorityLevel=function(){return w},t.unstable_getFirstCallbackNode=function(){return r(f)},t.unstable_next=function(ne){switch(w){case 1:case 2:case 3:var xe=3;break;default:xe=w}var Ae=w;w=xe;try{return ne()}finally{w=Ae}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(ne,xe){switch(ne){case 1:case 2:case 3:case 4:case 5:break;default:ne=3}var Ae=w;w=ne;try{return xe()}finally{w=Ae}},t.unstable_scheduleCallback=function(ne,xe,Ae){var Te=t.unstable_now();switch(typeof Ae=="object"&&Ae!==null?(Ae=Ae.delay,Ae=typeof Ae=="number"&&0<Ae?Te+Ae:Te):Ae=Te,ne){case 1:var ze=-1;break;case 2:ze=250;break;case 5:ze=1073741823;break;case 4:ze=1e4;break;default:ze=5e3}return ze=Ae+ze,ne={id:m++,callback:xe,priorityLevel:ne,startTime:Ae,expirationTime:ze,sortIndex:-1},Ae>Te?(ne.sortIndex=Ae,e(h,ne),r(f)===null&&ne===r(h)&&(b?(_(F),F=-1):b=!0,de(P,Ae-Te))):(ne.sortIndex=ze,e(f,ne),N||C||(N=!0,ue(B))),ne},t.unstable_shouldYield=ee,t.unstable_wrapCallback=function(ne){var xe=w;return function(){var Ae=w;w=xe;try{return ne.apply(this,arguments)}finally{w=Ae}}}})(Zy);Ky.exports=Zy;var wS=Ky.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var CS=I,Wn=wS;function he(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,r=1;r<arguments.length;r++)e+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var qy=new Set,Vc={};function mo(t,e){Cl(t,e),Cl(t+"Capture",e)}function Cl(t,e){for(Vc[t]=e,t=0;t<e.length;t++)qy.add(e[t])}var Es=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),$1=Object.prototype.hasOwnProperty,ES=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,mm={},vm={};function AS(t){return $1.call(vm,t)?!0:$1.call(mm,t)?!1:ES.test(t)?vm[t]=!0:(mm[t]=!0,!1)}function bS(t,e,r,n){if(r!==null&&r.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function SS(t,e,r,n){if(e===null||typeof e>"u"||bS(t,e,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function mn(t,e,r,n,i,s,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=n,this.attributeNamespace=i,this.mustUseProperty=r,this.propertyName=t,this.type=e,this.sanitizeURL=s,this.removeEmptyString=o}var zr={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){zr[t]=new mn(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];zr[e]=new mn(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){zr[t]=new mn(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){zr[t]=new mn(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){zr[t]=new mn(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){zr[t]=new mn(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){zr[t]=new mn(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){zr[t]=new mn(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){zr[t]=new mn(t,5,!1,t.toLowerCase(),null,!1,!1)});var Wp=/[\-:]([a-z])/g;function Xp(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(Wp,Xp);zr[e]=new mn(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(Wp,Xp);zr[e]=new mn(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(Wp,Xp);zr[e]=new mn(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){zr[t]=new mn(t,1,!1,t.toLowerCase(),null,!1,!1)});zr.xlinkHref=new mn("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){zr[t]=new mn(t,1,!1,t.toLowerCase(),null,!0,!0)});function Yp(t,e,r,n){var i=zr.hasOwnProperty(e)?zr[e]:null;(i!==null?i.type!==0:n||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(SS(e,r,i,n)&&(r=null),n||i===null?AS(e)&&(r===null?t.removeAttribute(e):t.setAttribute(e,""+r)):i.mustUseProperty?t[i.propertyName]=r===null?i.type===3?!1:"":r:(e=i.attributeName,n=i.attributeNamespace,r===null?t.removeAttribute(e):(i=i.type,r=i===3||i===4&&r===!0?"":""+r,n?t.setAttributeNS(n,e,r):t.setAttribute(e,r))))}var Ts=CS.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Vu=Symbol.for("react.element"),jo=Symbol.for("react.portal"),Mo=Symbol.for("react.fragment"),$p=Symbol.for("react.strict_mode"),K1=Symbol.for("react.profiler"),Qy=Symbol.for("react.provider"),Jy=Symbol.for("react.context"),Kp=Symbol.for("react.forward_ref"),Z1=Symbol.for("react.suspense"),q1=Symbol.for("react.suspense_list"),Zp=Symbol.for("react.memo"),Ws=Symbol.for("react.lazy"),ew=Symbol.for("react.offscreen"),ym=Symbol.iterator;function sc(t){return t===null||typeof t!="object"?null:(t=ym&&t[ym]||t["@@iterator"],typeof t=="function"?t:null)}var Qt=Object.assign,X0;function wc(t){if(X0===void 0)try{throw Error()}catch(r){var e=r.stack.trim().match(/\n( *(at )?)/);X0=e&&e[1]||""}return`
`+X0+t}var Y0=!1;function $0(t,e){if(!t||Y0)return"";Y0=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(h){var n=h}Reflect.construct(t,[],e)}else{try{e.call()}catch(h){n=h}t.call(e.prototype)}else{try{throw Error()}catch(h){n=h}t()}}catch(h){if(h&&n&&typeof h.stack=="string"){for(var i=h.stack.split(`
`),s=n.stack.split(`
`),o=i.length-1,u=s.length-1;1<=o&&0<=u&&i[o]!==s[u];)u--;for(;1<=o&&0<=u;o--,u--)if(i[o]!==s[u]){if(o!==1||u!==1)do if(o--,u--,0>u||i[o]!==s[u]){var f=`
`+i[o].replace(" at new "," at ");return t.displayName&&f.includes("<anonymous>")&&(f=f.replace("<anonymous>",t.displayName)),f}while(1<=o&&0<=u);break}}}finally{Y0=!1,Error.prepareStackTrace=r}return(t=t?t.displayName||t.name:"")?wc(t):""}function NS(t){switch(t.tag){case 5:return wc(t.type);case 16:return wc("Lazy");case 13:return wc("Suspense");case 19:return wc("SuspenseList");case 0:case 2:case 15:return t=$0(t.type,!1),t;case 11:return t=$0(t.type.render,!1),t;case 1:return t=$0(t.type,!0),t;default:return""}}function Q1(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Mo:return"Fragment";case jo:return"Portal";case K1:return"Profiler";case $p:return"StrictMode";case Z1:return"Suspense";case q1:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case Jy:return(t.displayName||"Context")+".Consumer";case Qy:return(t._context.displayName||"Context")+".Provider";case Kp:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case Zp:return e=t.displayName||null,e!==null?e:Q1(t.type)||"Memo";case Ws:e=t._payload,t=t._init;try{return Q1(t(e))}catch{}}return null}function _S(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Q1(e);case 8:return e===$p?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Ea(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function tw(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function IS(t){var e=tw(t)?"checked":"value",r=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),n=""+t[e];if(!t.hasOwnProperty(e)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var i=r.get,s=r.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(o){n=""+o,s.call(this,o)}}),Object.defineProperty(t,e,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(o){n=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function Hu(t){t._valueTracker||(t._valueTracker=IS(t))}function rw(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var r=e.getValue(),n="";return t&&(n=tw(t)?t.checked?"true":"false":t.value),t=n,t!==r?(e.setValue(t),!0):!1}function zd(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function J1(t,e){var r=e.checked;return Qt({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??t._wrapperState.initialChecked})}function wm(t,e){var r=e.defaultValue==null?"":e.defaultValue,n=e.checked!=null?e.checked:e.defaultChecked;r=Ea(e.value!=null?e.value:r),t._wrapperState={initialChecked:n,initialValue:r,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function nw(t,e){e=e.checked,e!=null&&Yp(t,"checked",e,!1)}function eh(t,e){nw(t,e);var r=Ea(e.value),n=e.type;if(r!=null)n==="number"?(r===0&&t.value===""||t.value!=r)&&(t.value=""+r):t.value!==""+r&&(t.value=""+r);else if(n==="submit"||n==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?th(t,e.type,r):e.hasOwnProperty("defaultValue")&&th(t,e.type,Ea(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function Cm(t,e,r){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var n=e.type;if(!(n!=="submit"&&n!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,r||e===t.value||(t.value=e),t.defaultValue=e}r=t.name,r!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,r!==""&&(t.name=r)}function th(t,e,r){(e!=="number"||zd(t.ownerDocument)!==t)&&(r==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+r&&(t.defaultValue=""+r))}var Cc=Array.isArray;function Zo(t,e,r,n){if(t=t.options,e){e={};for(var i=0;i<r.length;i++)e["$"+r[i]]=!0;for(r=0;r<t.length;r++)i=e.hasOwnProperty("$"+t[r].value),t[r].selected!==i&&(t[r].selected=i),i&&n&&(t[r].defaultSelected=!0)}else{for(r=""+Ea(r),e=null,i=0;i<t.length;i++){if(t[i].value===r){t[i].selected=!0,n&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function rh(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(he(91));return Qt({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function Em(t,e){var r=e.value;if(r==null){if(r=e.children,e=e.defaultValue,r!=null){if(e!=null)throw Error(he(92));if(Cc(r)){if(1<r.length)throw Error(he(93));r=r[0]}e=r}e==null&&(e=""),r=e}t._wrapperState={initialValue:Ea(r)}}function iw(t,e){var r=Ea(e.value),n=Ea(e.defaultValue);r!=null&&(r=""+r,r!==t.value&&(t.value=r),e.defaultValue==null&&t.defaultValue!==r&&(t.defaultValue=r)),n!=null&&(t.defaultValue=""+n)}function Am(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function sw(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function nh(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?sw(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var zu,aw=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,r,n,i){MSApp.execUnsafeLocalFunction(function(){return t(e,r,n,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(zu=zu||document.createElement("div"),zu.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=zu.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function Hc(t,e){if(e){var r=t.firstChild;if(r&&r===t.lastChild&&r.nodeType===3){r.nodeValue=e;return}}t.textContent=e}var Oc={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},TS=["Webkit","ms","Moz","O"];Object.keys(Oc).forEach(function(t){TS.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),Oc[e]=Oc[t]})});function ow(t,e,r){return e==null||typeof e=="boolean"||e===""?"":r||typeof e!="number"||e===0||Oc.hasOwnProperty(t)&&Oc[t]?(""+e).trim():e+"px"}function lw(t,e){t=t.style;for(var r in e)if(e.hasOwnProperty(r)){var n=r.indexOf("--")===0,i=ow(r,e[r],n);r==="float"&&(r="cssFloat"),n?t.setProperty(r,i):t[r]=i}}var RS=Qt({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ih(t,e){if(e){if(RS[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(he(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(he(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(he(61))}if(e.style!=null&&typeof e.style!="object")throw Error(he(62))}}function sh(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var ah=null;function qp(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var oh=null,qo=null,Qo=null;function bm(t){if(t=vu(t)){if(typeof oh!="function")throw Error(he(280));var e=t.stateNode;e&&(e=Vf(e),oh(t.stateNode,t.type,e))}}function cw(t){qo?Qo?Qo.push(t):Qo=[t]:qo=t}function uw(){if(qo){var t=qo,e=Qo;if(Qo=qo=null,bm(t),e)for(t=0;t<e.length;t++)bm(e[t])}}function dw(t,e){return t(e)}function fw(){}var K0=!1;function hw(t,e,r){if(K0)return t(e,r);K0=!0;try{return dw(t,e,r)}finally{K0=!1,(qo!==null||Qo!==null)&&(fw(),uw())}}function zc(t,e){var r=t.stateNode;if(r===null)return null;var n=Vf(r);if(n===null)return null;r=n[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(t=t.type,n=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!n;break e;default:t=!1}if(t)return null;if(r&&typeof r!="function")throw Error(he(231,e,typeof r));return r}var lh=!1;if(Es)try{var ac={};Object.defineProperty(ac,"passive",{get:function(){lh=!0}}),window.addEventListener("test",ac,ac),window.removeEventListener("test",ac,ac)}catch{lh=!1}function OS(t,e,r,n,i,s,o,u,f){var h=Array.prototype.slice.call(arguments,3);try{e.apply(r,h)}catch(m){this.onError(m)}}var Pc=!1,Gd=null,Wd=!1,ch=null,PS={onError:function(t){Pc=!0,Gd=t}};function DS(t,e,r,n,i,s,o,u,f){Pc=!1,Gd=null,OS.apply(PS,arguments)}function jS(t,e,r,n,i,s,o,u,f){if(DS.apply(this,arguments),Pc){if(Pc){var h=Gd;Pc=!1,Gd=null}else throw Error(he(198));Wd||(Wd=!0,ch=h)}}function vo(t){var e=t,r=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(r=e.return),t=e.return;while(t)}return e.tag===3?r:null}function pw(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function Sm(t){if(vo(t)!==t)throw Error(he(188))}function MS(t){var e=t.alternate;if(!e){if(e=vo(t),e===null)throw Error(he(188));return e!==t?null:t}for(var r=t,n=e;;){var i=r.return;if(i===null)break;var s=i.alternate;if(s===null){if(n=i.return,n!==null){r=n;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===r)return Sm(i),t;if(s===n)return Sm(i),e;s=s.sibling}throw Error(he(188))}if(r.return!==n.return)r=i,n=s;else{for(var o=!1,u=i.child;u;){if(u===r){o=!0,r=i,n=s;break}if(u===n){o=!0,n=i,r=s;break}u=u.sibling}if(!o){for(u=s.child;u;){if(u===r){o=!0,r=s,n=i;break}if(u===n){o=!0,n=s,r=i;break}u=u.sibling}if(!o)throw Error(he(189))}}if(r.alternate!==n)throw Error(he(190))}if(r.tag!==3)throw Error(he(188));return r.stateNode.current===r?t:e}function xw(t){return t=MS(t),t!==null?gw(t):null}function gw(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=gw(t);if(e!==null)return e;t=t.sibling}return null}var mw=Wn.unstable_scheduleCallback,Nm=Wn.unstable_cancelCallback,kS=Wn.unstable_shouldYield,LS=Wn.unstable_requestPaint,or=Wn.unstable_now,BS=Wn.unstable_getCurrentPriorityLevel,Qp=Wn.unstable_ImmediatePriority,vw=Wn.unstable_UserBlockingPriority,Xd=Wn.unstable_NormalPriority,FS=Wn.unstable_LowPriority,yw=Wn.unstable_IdlePriority,Lf=null,ts=null;function US(t){if(ts&&typeof ts.onCommitFiberRoot=="function")try{ts.onCommitFiberRoot(Lf,t,void 0,(t.current.flags&128)===128)}catch{}}var Ri=Math.clz32?Math.clz32:zS,VS=Math.log,HS=Math.LN2;function zS(t){return t>>>=0,t===0?32:31-(VS(t)/HS|0)|0}var Gu=64,Wu=4194304;function Ec(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function Yd(t,e){var r=t.pendingLanes;if(r===0)return 0;var n=0,i=t.suspendedLanes,s=t.pingedLanes,o=r&268435455;if(o!==0){var u=o&~i;u!==0?n=Ec(u):(s&=o,s!==0&&(n=Ec(s)))}else o=r&~i,o!==0?n=Ec(o):s!==0&&(n=Ec(s));if(n===0)return 0;if(e!==0&&e!==n&&!(e&i)&&(i=n&-n,s=e&-e,i>=s||i===16&&(s&4194240)!==0))return e;if(n&4&&(n|=r&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=n;0<e;)r=31-Ri(e),i=1<<r,n|=t[r],e&=~i;return n}function GS(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function WS(t,e){for(var r=t.suspendedLanes,n=t.pingedLanes,i=t.expirationTimes,s=t.pendingLanes;0<s;){var o=31-Ri(s),u=1<<o,f=i[o];f===-1?(!(u&r)||u&n)&&(i[o]=GS(u,e)):f<=e&&(t.expiredLanes|=u),s&=~u}}function uh(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function ww(){var t=Gu;return Gu<<=1,!(Gu&4194240)&&(Gu=64),t}function Z0(t){for(var e=[],r=0;31>r;r++)e.push(t);return e}function gu(t,e,r){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-Ri(e),t[e]=r}function XS(t,e){var r=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var n=t.eventTimes;for(t=t.expirationTimes;0<r;){var i=31-Ri(r),s=1<<i;e[i]=0,n[i]=-1,t[i]=-1,r&=~s}}function Jp(t,e){var r=t.entangledLanes|=e;for(t=t.entanglements;r;){var n=31-Ri(r),i=1<<n;i&e|t[n]&e&&(t[n]|=e),r&=~i}}var St=0;function Cw(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var Ew,ex,Aw,bw,Sw,dh=!1,Xu=[],ca=null,ua=null,da=null,Gc=new Map,Wc=new Map,$s=[],YS="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function _m(t,e){switch(t){case"focusin":case"focusout":ca=null;break;case"dragenter":case"dragleave":ua=null;break;case"mouseover":case"mouseout":da=null;break;case"pointerover":case"pointerout":Gc.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Wc.delete(e.pointerId)}}function oc(t,e,r,n,i,s){return t===null||t.nativeEvent!==s?(t={blockedOn:e,domEventName:r,eventSystemFlags:n,nativeEvent:s,targetContainers:[i]},e!==null&&(e=vu(e),e!==null&&ex(e)),t):(t.eventSystemFlags|=n,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function $S(t,e,r,n,i){switch(e){case"focusin":return ca=oc(ca,t,e,r,n,i),!0;case"dragenter":return ua=oc(ua,t,e,r,n,i),!0;case"mouseover":return da=oc(da,t,e,r,n,i),!0;case"pointerover":var s=i.pointerId;return Gc.set(s,oc(Gc.get(s)||null,t,e,r,n,i)),!0;case"gotpointercapture":return s=i.pointerId,Wc.set(s,oc(Wc.get(s)||null,t,e,r,n,i)),!0}return!1}function Nw(t){var e=Wa(t.target);if(e!==null){var r=vo(e);if(r!==null){if(e=r.tag,e===13){if(e=pw(r),e!==null){t.blockedOn=e,Sw(t.priority,function(){Aw(r)});return}}else if(e===3&&r.stateNode.current.memoizedState.isDehydrated){t.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Ed(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var r=fh(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(r===null){r=t.nativeEvent;var n=new r.constructor(r.type,r);ah=n,r.target.dispatchEvent(n),ah=null}else return e=vu(r),e!==null&&ex(e),t.blockedOn=r,!1;e.shift()}return!0}function Im(t,e,r){Ed(t)&&r.delete(e)}function KS(){dh=!1,ca!==null&&Ed(ca)&&(ca=null),ua!==null&&Ed(ua)&&(ua=null),da!==null&&Ed(da)&&(da=null),Gc.forEach(Im),Wc.forEach(Im)}function lc(t,e){t.blockedOn===e&&(t.blockedOn=null,dh||(dh=!0,Wn.unstable_scheduleCallback(Wn.unstable_NormalPriority,KS)))}function Xc(t){function e(i){return lc(i,t)}if(0<Xu.length){lc(Xu[0],t);for(var r=1;r<Xu.length;r++){var n=Xu[r];n.blockedOn===t&&(n.blockedOn=null)}}for(ca!==null&&lc(ca,t),ua!==null&&lc(ua,t),da!==null&&lc(da,t),Gc.forEach(e),Wc.forEach(e),r=0;r<$s.length;r++)n=$s[r],n.blockedOn===t&&(n.blockedOn=null);for(;0<$s.length&&(r=$s[0],r.blockedOn===null);)Nw(r),r.blockedOn===null&&$s.shift()}var Jo=Ts.ReactCurrentBatchConfig,$d=!0;function ZS(t,e,r,n){var i=St,s=Jo.transition;Jo.transition=null;try{St=1,tx(t,e,r,n)}finally{St=i,Jo.transition=s}}function qS(t,e,r,n){var i=St,s=Jo.transition;Jo.transition=null;try{St=4,tx(t,e,r,n)}finally{St=i,Jo.transition=s}}function tx(t,e,r,n){if($d){var i=fh(t,e,r,n);if(i===null)a1(t,e,n,Kd,r),_m(t,n);else if($S(i,t,e,r,n))n.stopPropagation();else if(_m(t,n),e&4&&-1<YS.indexOf(t)){for(;i!==null;){var s=vu(i);if(s!==null&&Ew(s),s=fh(t,e,r,n),s===null&&a1(t,e,n,Kd,r),s===i)break;i=s}i!==null&&n.stopPropagation()}else a1(t,e,n,null,r)}}var Kd=null;function fh(t,e,r,n){if(Kd=null,t=qp(n),t=Wa(t),t!==null)if(e=vo(t),e===null)t=null;else if(r=e.tag,r===13){if(t=pw(e),t!==null)return t;t=null}else if(r===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return Kd=t,null}function _w(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(BS()){case Qp:return 1;case vw:return 4;case Xd:case FS:return 16;case yw:return 536870912;default:return 16}default:return 16}}var aa=null,rx=null,Ad=null;function Iw(){if(Ad)return Ad;var t,e=rx,r=e.length,n,i="value"in aa?aa.value:aa.textContent,s=i.length;for(t=0;t<r&&e[t]===i[t];t++);var o=r-t;for(n=1;n<=o&&e[r-n]===i[s-n];n++);return Ad=i.slice(t,1<n?1-n:void 0)}function bd(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function Yu(){return!0}function Tm(){return!1}function Yn(t){function e(r,n,i,s,o){this._reactName=r,this._targetInst=i,this.type=n,this.nativeEvent=s,this.target=o,this.currentTarget=null;for(var u in t)t.hasOwnProperty(u)&&(r=t[u],this[u]=r?r(s):s[u]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?Yu:Tm,this.isPropagationStopped=Tm,this}return Qt(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=Yu)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=Yu)},persist:function(){},isPersistent:Yu}),e}var Fl={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},nx=Yn(Fl),mu=Qt({},Fl,{view:0,detail:0}),QS=Yn(mu),q0,Q0,cc,Bf=Qt({},mu,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ix,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==cc&&(cc&&t.type==="mousemove"?(q0=t.screenX-cc.screenX,Q0=t.screenY-cc.screenY):Q0=q0=0,cc=t),q0)},movementY:function(t){return"movementY"in t?t.movementY:Q0}}),Rm=Yn(Bf),JS=Qt({},Bf,{dataTransfer:0}),e6=Yn(JS),t6=Qt({},mu,{relatedTarget:0}),J0=Yn(t6),r6=Qt({},Fl,{animationName:0,elapsedTime:0,pseudoElement:0}),n6=Yn(r6),i6=Qt({},Fl,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),s6=Yn(i6),a6=Qt({},Fl,{data:0}),Om=Yn(a6),o6={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},l6={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},c6={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function u6(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=c6[t])?!!e[t]:!1}function ix(){return u6}var d6=Qt({},mu,{key:function(t){if(t.key){var e=o6[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=bd(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?l6[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ix,charCode:function(t){return t.type==="keypress"?bd(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?bd(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),f6=Yn(d6),h6=Qt({},Bf,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Pm=Yn(h6),p6=Qt({},mu,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ix}),x6=Yn(p6),g6=Qt({},Fl,{propertyName:0,elapsedTime:0,pseudoElement:0}),m6=Yn(g6),v6=Qt({},Bf,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),y6=Yn(v6),w6=[9,13,27,32],sx=Es&&"CompositionEvent"in window,Dc=null;Es&&"documentMode"in document&&(Dc=document.documentMode);var C6=Es&&"TextEvent"in window&&!Dc,Tw=Es&&(!sx||Dc&&8<Dc&&11>=Dc),Dm=" ",jm=!1;function Rw(t,e){switch(t){case"keyup":return w6.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Ow(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var ko=!1;function E6(t,e){switch(t){case"compositionend":return Ow(e);case"keypress":return e.which!==32?null:(jm=!0,Dm);case"textInput":return t=e.data,t===Dm&&jm?null:t;default:return null}}function A6(t,e){if(ko)return t==="compositionend"||!sx&&Rw(t,e)?(t=Iw(),Ad=rx=aa=null,ko=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return Tw&&e.locale!=="ko"?null:e.data;default:return null}}var b6={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Mm(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!b6[t.type]:e==="textarea"}function Pw(t,e,r,n){cw(n),e=Zd(e,"onChange"),0<e.length&&(r=new nx("onChange","change",null,r,n),t.push({event:r,listeners:e}))}var jc=null,Yc=null;function S6(t){zw(t,0)}function Ff(t){var e=Fo(t);if(rw(e))return t}function N6(t,e){if(t==="change")return e}var Dw=!1;if(Es){var e1;if(Es){var t1="oninput"in document;if(!t1){var km=document.createElement("div");km.setAttribute("oninput","return;"),t1=typeof km.oninput=="function"}e1=t1}else e1=!1;Dw=e1&&(!document.documentMode||9<document.documentMode)}function Lm(){jc&&(jc.detachEvent("onpropertychange",jw),Yc=jc=null)}function jw(t){if(t.propertyName==="value"&&Ff(Yc)){var e=[];Pw(e,Yc,t,qp(t)),hw(S6,e)}}function _6(t,e,r){t==="focusin"?(Lm(),jc=e,Yc=r,jc.attachEvent("onpropertychange",jw)):t==="focusout"&&Lm()}function I6(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Ff(Yc)}function T6(t,e){if(t==="click")return Ff(e)}function R6(t,e){if(t==="input"||t==="change")return Ff(e)}function O6(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Di=typeof Object.is=="function"?Object.is:O6;function $c(t,e){if(Di(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var r=Object.keys(t),n=Object.keys(e);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var i=r[n];if(!$1.call(e,i)||!Di(t[i],e[i]))return!1}return!0}function Bm(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Fm(t,e){var r=Bm(t);t=0;for(var n;r;){if(r.nodeType===3){if(n=t+r.textContent.length,t<=e&&n>=e)return{node:r,offset:e-t};t=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=Bm(r)}}function Mw(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?Mw(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function kw(){for(var t=window,e=zd();e instanceof t.HTMLIFrameElement;){try{var r=typeof e.contentWindow.location.href=="string"}catch{r=!1}if(r)t=e.contentWindow;else break;e=zd(t.document)}return e}function ax(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function P6(t){var e=kw(),r=t.focusedElem,n=t.selectionRange;if(e!==r&&r&&r.ownerDocument&&Mw(r.ownerDocument.documentElement,r)){if(n!==null&&ax(r)){if(e=n.start,t=n.end,t===void 0&&(t=e),"selectionStart"in r)r.selectionStart=e,r.selectionEnd=Math.min(t,r.value.length);else if(t=(e=r.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=r.textContent.length,s=Math.min(n.start,i);n=n.end===void 0?s:Math.min(n.end,i),!t.extend&&s>n&&(i=n,n=s,s=i),i=Fm(r,s);var o=Fm(r,n);i&&o&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),s>n?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=r;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<e.length;r++)t=e[r],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var D6=Es&&"documentMode"in document&&11>=document.documentMode,Lo=null,hh=null,Mc=null,ph=!1;function Um(t,e,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;ph||Lo==null||Lo!==zd(n)||(n=Lo,"selectionStart"in n&&ax(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),Mc&&$c(Mc,n)||(Mc=n,n=Zd(hh,"onSelect"),0<n.length&&(e=new nx("onSelect","select",null,e,r),t.push({event:e,listeners:n}),e.target=Lo)))}function $u(t,e){var r={};return r[t.toLowerCase()]=e.toLowerCase(),r["Webkit"+t]="webkit"+e,r["Moz"+t]="moz"+e,r}var Bo={animationend:$u("Animation","AnimationEnd"),animationiteration:$u("Animation","AnimationIteration"),animationstart:$u("Animation","AnimationStart"),transitionend:$u("Transition","TransitionEnd")},r1={},Lw={};Es&&(Lw=document.createElement("div").style,"AnimationEvent"in window||(delete Bo.animationend.animation,delete Bo.animationiteration.animation,delete Bo.animationstart.animation),"TransitionEvent"in window||delete Bo.transitionend.transition);function Uf(t){if(r1[t])return r1[t];if(!Bo[t])return t;var e=Bo[t],r;for(r in e)if(e.hasOwnProperty(r)&&r in Lw)return r1[t]=e[r];return t}var Bw=Uf("animationend"),Fw=Uf("animationiteration"),Uw=Uf("animationstart"),Vw=Uf("transitionend"),Hw=new Map,Vm="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Ta(t,e){Hw.set(t,e),mo(e,[t])}for(var n1=0;n1<Vm.length;n1++){var i1=Vm[n1],j6=i1.toLowerCase(),M6=i1[0].toUpperCase()+i1.slice(1);Ta(j6,"on"+M6)}Ta(Bw,"onAnimationEnd");Ta(Fw,"onAnimationIteration");Ta(Uw,"onAnimationStart");Ta("dblclick","onDoubleClick");Ta("focusin","onFocus");Ta("focusout","onBlur");Ta(Vw,"onTransitionEnd");Cl("onMouseEnter",["mouseout","mouseover"]);Cl("onMouseLeave",["mouseout","mouseover"]);Cl("onPointerEnter",["pointerout","pointerover"]);Cl("onPointerLeave",["pointerout","pointerover"]);mo("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));mo("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));mo("onBeforeInput",["compositionend","keypress","textInput","paste"]);mo("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));mo("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));mo("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ac="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),k6=new Set("cancel close invalid load scroll toggle".split(" ").concat(Ac));function Hm(t,e,r){var n=t.type||"unknown-event";t.currentTarget=r,jS(n,e,void 0,t),t.currentTarget=null}function zw(t,e){e=(e&4)!==0;for(var r=0;r<t.length;r++){var n=t[r],i=n.event;n=n.listeners;e:{var s=void 0;if(e)for(var o=n.length-1;0<=o;o--){var u=n[o],f=u.instance,h=u.currentTarget;if(u=u.listener,f!==s&&i.isPropagationStopped())break e;Hm(i,u,h),s=f}else for(o=0;o<n.length;o++){if(u=n[o],f=u.instance,h=u.currentTarget,u=u.listener,f!==s&&i.isPropagationStopped())break e;Hm(i,u,h),s=f}}}if(Wd)throw t=ch,Wd=!1,ch=null,t}function Bt(t,e){var r=e[yh];r===void 0&&(r=e[yh]=new Set);var n=t+"__bubble";r.has(n)||(Gw(e,t,2,!1),r.add(n))}function s1(t,e,r){var n=0;e&&(n|=4),Gw(r,t,n,e)}var Ku="_reactListening"+Math.random().toString(36).slice(2);function Kc(t){if(!t[Ku]){t[Ku]=!0,qy.forEach(function(r){r!=="selectionchange"&&(k6.has(r)||s1(r,!1,t),s1(r,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[Ku]||(e[Ku]=!0,s1("selectionchange",!1,e))}}function Gw(t,e,r,n){switch(_w(e)){case 1:var i=ZS;break;case 4:i=qS;break;default:i=tx}r=i.bind(null,e,r,t),i=void 0,!lh||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),n?i!==void 0?t.addEventListener(e,r,{capture:!0,passive:i}):t.addEventListener(e,r,!0):i!==void 0?t.addEventListener(e,r,{passive:i}):t.addEventListener(e,r,!1)}function a1(t,e,r,n,i){var s=n;if(!(e&1)&&!(e&2)&&n!==null)e:for(;;){if(n===null)return;var o=n.tag;if(o===3||o===4){var u=n.stateNode.containerInfo;if(u===i||u.nodeType===8&&u.parentNode===i)break;if(o===4)for(o=n.return;o!==null;){var f=o.tag;if((f===3||f===4)&&(f=o.stateNode.containerInfo,f===i||f.nodeType===8&&f.parentNode===i))return;o=o.return}for(;u!==null;){if(o=Wa(u),o===null)return;if(f=o.tag,f===5||f===6){n=s=o;continue e}u=u.parentNode}}n=n.return}hw(function(){var h=s,m=qp(r),v=[];e:{var w=Hw.get(t);if(w!==void 0){var C=nx,N=t;switch(t){case"keypress":if(bd(r)===0)break e;case"keydown":case"keyup":C=f6;break;case"focusin":N="focus",C=J0;break;case"focusout":N="blur",C=J0;break;case"beforeblur":case"afterblur":C=J0;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":C=Rm;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":C=e6;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":C=x6;break;case Bw:case Fw:case Uw:C=n6;break;case Vw:C=m6;break;case"scroll":C=QS;break;case"wheel":C=y6;break;case"copy":case"cut":case"paste":C=s6;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":C=Pm}var b=(e&4)!==0,R=!b&&t==="scroll",_=b?w!==null?w+"Capture":null:w;b=[];for(var S=h,T;S!==null;){T=S;var P=T.stateNode;if(T.tag===5&&P!==null&&(T=P,_!==null&&(P=zc(S,_),P!=null&&b.push(Zc(S,P,T)))),R)break;S=S.return}0<b.length&&(w=new C(w,N,null,r,m),v.push({event:w,listeners:b}))}}if(!(e&7)){e:{if(w=t==="mouseover"||t==="pointerover",C=t==="mouseout"||t==="pointerout",w&&r!==ah&&(N=r.relatedTarget||r.fromElement)&&(Wa(N)||N[As]))break e;if((C||w)&&(w=m.window===m?m:(w=m.ownerDocument)?w.defaultView||w.parentWindow:window,C?(N=r.relatedTarget||r.toElement,C=h,N=N?Wa(N):null,N!==null&&(R=vo(N),N!==R||N.tag!==5&&N.tag!==6)&&(N=null)):(C=null,N=h),C!==N)){if(b=Rm,P="onMouseLeave",_="onMouseEnter",S="mouse",(t==="pointerout"||t==="pointerover")&&(b=Pm,P="onPointerLeave",_="onPointerEnter",S="pointer"),R=C==null?w:Fo(C),T=N==null?w:Fo(N),w=new b(P,S+"leave",C,r,m),w.target=R,w.relatedTarget=T,P=null,Wa(m)===h&&(b=new b(_,S+"enter",N,r,m),b.target=T,b.relatedTarget=R,P=b),R=P,C&&N)t:{for(b=C,_=N,S=0,T=b;T;T=To(T))S++;for(T=0,P=_;P;P=To(P))T++;for(;0<S-T;)b=To(b),S--;for(;0<T-S;)_=To(_),T--;for(;S--;){if(b===_||_!==null&&b===_.alternate)break t;b=To(b),_=To(_)}b=null}else b=null;C!==null&&zm(v,w,C,b,!1),N!==null&&R!==null&&zm(v,R,N,b,!0)}}e:{if(w=h?Fo(h):window,C=w.nodeName&&w.nodeName.toLowerCase(),C==="select"||C==="input"&&w.type==="file")var B=N6;else if(Mm(w))if(Dw)B=R6;else{B=I6;var k=_6}else(C=w.nodeName)&&C.toLowerCase()==="input"&&(w.type==="checkbox"||w.type==="radio")&&(B=T6);if(B&&(B=B(t,h))){Pw(v,B,r,m);break e}k&&k(t,w,h),t==="focusout"&&(k=w._wrapperState)&&k.controlled&&w.type==="number"&&th(w,"number",w.value)}switch(k=h?Fo(h):window,t){case"focusin":(Mm(k)||k.contentEditable==="true")&&(Lo=k,hh=h,Mc=null);break;case"focusout":Mc=hh=Lo=null;break;case"mousedown":ph=!0;break;case"contextmenu":case"mouseup":case"dragend":ph=!1,Um(v,r,m);break;case"selectionchange":if(D6)break;case"keydown":case"keyup":Um(v,r,m)}var M;if(sx)e:{switch(t){case"compositionstart":var F="onCompositionStart";break e;case"compositionend":F="onCompositionEnd";break e;case"compositionupdate":F="onCompositionUpdate";break e}F=void 0}else ko?Rw(t,r)&&(F="onCompositionEnd"):t==="keydown"&&r.keyCode===229&&(F="onCompositionStart");F&&(Tw&&r.locale!=="ko"&&(ko||F!=="onCompositionStart"?F==="onCompositionEnd"&&ko&&(M=Iw()):(aa=m,rx="value"in aa?aa.value:aa.textContent,ko=!0)),k=Zd(h,F),0<k.length&&(F=new Om(F,t,null,r,m),v.push({event:F,listeners:k}),M?F.data=M:(M=Ow(r),M!==null&&(F.data=M)))),(M=C6?E6(t,r):A6(t,r))&&(h=Zd(h,"onBeforeInput"),0<h.length&&(m=new Om("onBeforeInput","beforeinput",null,r,m),v.push({event:m,listeners:h}),m.data=M))}zw(v,e)})}function Zc(t,e,r){return{instance:t,listener:e,currentTarget:r}}function Zd(t,e){for(var r=e+"Capture",n=[];t!==null;){var i=t,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=zc(t,r),s!=null&&n.unshift(Zc(t,s,i)),s=zc(t,e),s!=null&&n.push(Zc(t,s,i))),t=t.return}return n}function To(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function zm(t,e,r,n,i){for(var s=e._reactName,o=[];r!==null&&r!==n;){var u=r,f=u.alternate,h=u.stateNode;if(f!==null&&f===n)break;u.tag===5&&h!==null&&(u=h,i?(f=zc(r,s),f!=null&&o.unshift(Zc(r,f,u))):i||(f=zc(r,s),f!=null&&o.push(Zc(r,f,u)))),r=r.return}o.length!==0&&t.push({event:e,listeners:o})}var L6=/\r\n?/g,B6=/\u0000|\uFFFD/g;function Gm(t){return(typeof t=="string"?t:""+t).replace(L6,`
`).replace(B6,"")}function Zu(t,e,r){if(e=Gm(e),Gm(t)!==e&&r)throw Error(he(425))}function qd(){}var xh=null,gh=null;function mh(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var vh=typeof setTimeout=="function"?setTimeout:void 0,F6=typeof clearTimeout=="function"?clearTimeout:void 0,Wm=typeof Promise=="function"?Promise:void 0,U6=typeof queueMicrotask=="function"?queueMicrotask:typeof Wm<"u"?function(t){return Wm.resolve(null).then(t).catch(V6)}:vh;function V6(t){setTimeout(function(){throw t})}function o1(t,e){var r=e,n=0;do{var i=r.nextSibling;if(t.removeChild(r),i&&i.nodeType===8)if(r=i.data,r==="/$"){if(n===0){t.removeChild(i),Xc(e);return}n--}else r!=="$"&&r!=="$?"&&r!=="$!"||n++;r=i}while(r);Xc(e)}function fa(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function Xm(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var r=t.data;if(r==="$"||r==="$!"||r==="$?"){if(e===0)return t;e--}else r==="/$"&&e++}t=t.previousSibling}return null}var Ul=Math.random().toString(36).slice(2),Ki="__reactFiber$"+Ul,qc="__reactProps$"+Ul,As="__reactContainer$"+Ul,yh="__reactEvents$"+Ul,H6="__reactListeners$"+Ul,z6="__reactHandles$"+Ul;function Wa(t){var e=t[Ki];if(e)return e;for(var r=t.parentNode;r;){if(e=r[As]||r[Ki]){if(r=e.alternate,e.child!==null||r!==null&&r.child!==null)for(t=Xm(t);t!==null;){if(r=t[Ki])return r;t=Xm(t)}return e}t=r,r=t.parentNode}return null}function vu(t){return t=t[Ki]||t[As],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Fo(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(he(33))}function Vf(t){return t[qc]||null}var wh=[],Uo=-1;function Ra(t){return{current:t}}function Ht(t){0>Uo||(t.current=wh[Uo],wh[Uo]=null,Uo--)}function jt(t,e){Uo++,wh[Uo]=t.current,t.current=e}var Aa={},rn=Ra(Aa),Pn=Ra(!1),ao=Aa;function El(t,e){var r=t.type.contextTypes;if(!r)return Aa;var n=t.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===e)return n.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in r)i[s]=e[s];return n&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function Dn(t){return t=t.childContextTypes,t!=null}function Qd(){Ht(Pn),Ht(rn)}function Ym(t,e,r){if(rn.current!==Aa)throw Error(he(168));jt(rn,e),jt(Pn,r)}function Ww(t,e,r){var n=t.stateNode;if(e=e.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var i in n)if(!(i in e))throw Error(he(108,_S(t)||"Unknown",i));return Qt({},r,n)}function Jd(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Aa,ao=rn.current,jt(rn,t),jt(Pn,Pn.current),!0}function $m(t,e,r){var n=t.stateNode;if(!n)throw Error(he(169));r?(t=Ww(t,e,ao),n.__reactInternalMemoizedMergedChildContext=t,Ht(Pn),Ht(rn),jt(rn,t)):Ht(Pn),jt(Pn,r)}var gs=null,Hf=!1,l1=!1;function Xw(t){gs===null?gs=[t]:gs.push(t)}function G6(t){Hf=!0,Xw(t)}function Oa(){if(!l1&&gs!==null){l1=!0;var t=0,e=St;try{var r=gs;for(St=1;t<r.length;t++){var n=r[t];do n=n(!0);while(n!==null)}gs=null,Hf=!1}catch(i){throw gs!==null&&(gs=gs.slice(t+1)),mw(Qp,Oa),i}finally{St=e,l1=!1}}return null}var Vo=[],Ho=0,ef=null,tf=0,ri=[],ni=0,oo=null,vs=1,ys="";function Ha(t,e){Vo[Ho++]=tf,Vo[Ho++]=ef,ef=t,tf=e}function Yw(t,e,r){ri[ni++]=vs,ri[ni++]=ys,ri[ni++]=oo,oo=t;var n=vs;t=ys;var i=32-Ri(n)-1;n&=~(1<<i),r+=1;var s=32-Ri(e)+i;if(30<s){var o=i-i%5;s=(n&(1<<o)-1).toString(32),n>>=o,i-=o,vs=1<<32-Ri(e)+i|r<<i|n,ys=s+t}else vs=1<<s|r<<i|n,ys=t}function ox(t){t.return!==null&&(Ha(t,1),Yw(t,1,0))}function lx(t){for(;t===ef;)ef=Vo[--Ho],Vo[Ho]=null,tf=Vo[--Ho],Vo[Ho]=null;for(;t===oo;)oo=ri[--ni],ri[ni]=null,ys=ri[--ni],ri[ni]=null,vs=ri[--ni],ri[ni]=null}var zn=null,Hn=null,Gt=!1,Ni=null;function $w(t,e){var r=ai(5,null,null,0);r.elementType="DELETED",r.stateNode=e,r.return=t,e=t.deletions,e===null?(t.deletions=[r],t.flags|=16):e.push(r)}function Km(t,e){switch(t.tag){case 5:var r=t.type;return e=e.nodeType!==1||r.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,zn=t,Hn=fa(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,zn=t,Hn=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(r=oo!==null?{id:vs,overflow:ys}:null,t.memoizedState={dehydrated:e,treeContext:r,retryLane:1073741824},r=ai(18,null,null,0),r.stateNode=e,r.return=t,t.child=r,zn=t,Hn=null,!0):!1;default:return!1}}function Ch(t){return(t.mode&1)!==0&&(t.flags&128)===0}function Eh(t){if(Gt){var e=Hn;if(e){var r=e;if(!Km(t,e)){if(Ch(t))throw Error(he(418));e=fa(r.nextSibling);var n=zn;e&&Km(t,e)?$w(n,r):(t.flags=t.flags&-4097|2,Gt=!1,zn=t)}}else{if(Ch(t))throw Error(he(418));t.flags=t.flags&-4097|2,Gt=!1,zn=t}}}function Zm(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;zn=t}function qu(t){if(t!==zn)return!1;if(!Gt)return Zm(t),Gt=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!mh(t.type,t.memoizedProps)),e&&(e=Hn)){if(Ch(t))throw Kw(),Error(he(418));for(;e;)$w(t,e),e=fa(e.nextSibling)}if(Zm(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(he(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var r=t.data;if(r==="/$"){if(e===0){Hn=fa(t.nextSibling);break e}e--}else r!=="$"&&r!=="$!"&&r!=="$?"||e++}t=t.nextSibling}Hn=null}}else Hn=zn?fa(t.stateNode.nextSibling):null;return!0}function Kw(){for(var t=Hn;t;)t=fa(t.nextSibling)}function Al(){Hn=zn=null,Gt=!1}function cx(t){Ni===null?Ni=[t]:Ni.push(t)}var W6=Ts.ReactCurrentBatchConfig;function uc(t,e,r){if(t=r.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(he(309));var n=r.stateNode}if(!n)throw Error(he(147,t));var i=n,s=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===s?e.ref:(e=function(o){var u=i.refs;o===null?delete u[s]:u[s]=o},e._stringRef=s,e)}if(typeof t!="string")throw Error(he(284));if(!r._owner)throw Error(he(290,t))}return t}function Qu(t,e){throw t=Object.prototype.toString.call(e),Error(he(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function qm(t){var e=t._init;return e(t._payload)}function Zw(t){function e(_,S){if(t){var T=_.deletions;T===null?(_.deletions=[S],_.flags|=16):T.push(S)}}function r(_,S){if(!t)return null;for(;S!==null;)e(_,S),S=S.sibling;return null}function n(_,S){for(_=new Map;S!==null;)S.key!==null?_.set(S.key,S):_.set(S.index,S),S=S.sibling;return _}function i(_,S){return _=ga(_,S),_.index=0,_.sibling=null,_}function s(_,S,T){return _.index=T,t?(T=_.alternate,T!==null?(T=T.index,T<S?(_.flags|=2,S):T):(_.flags|=2,S)):(_.flags|=1048576,S)}function o(_){return t&&_.alternate===null&&(_.flags|=2),_}function u(_,S,T,P){return S===null||S.tag!==6?(S=x1(T,_.mode,P),S.return=_,S):(S=i(S,T),S.return=_,S)}function f(_,S,T,P){var B=T.type;return B===Mo?m(_,S,T.props.children,P,T.key):S!==null&&(S.elementType===B||typeof B=="object"&&B!==null&&B.$$typeof===Ws&&qm(B)===S.type)?(P=i(S,T.props),P.ref=uc(_,S,T),P.return=_,P):(P=Od(T.type,T.key,T.props,null,_.mode,P),P.ref=uc(_,S,T),P.return=_,P)}function h(_,S,T,P){return S===null||S.tag!==4||S.stateNode.containerInfo!==T.containerInfo||S.stateNode.implementation!==T.implementation?(S=g1(T,_.mode,P),S.return=_,S):(S=i(S,T.children||[]),S.return=_,S)}function m(_,S,T,P,B){return S===null||S.tag!==7?(S=io(T,_.mode,P,B),S.return=_,S):(S=i(S,T),S.return=_,S)}function v(_,S,T){if(typeof S=="string"&&S!==""||typeof S=="number")return S=x1(""+S,_.mode,T),S.return=_,S;if(typeof S=="object"&&S!==null){switch(S.$$typeof){case Vu:return T=Od(S.type,S.key,S.props,null,_.mode,T),T.ref=uc(_,null,S),T.return=_,T;case jo:return S=g1(S,_.mode,T),S.return=_,S;case Ws:var P=S._init;return v(_,P(S._payload),T)}if(Cc(S)||sc(S))return S=io(S,_.mode,T,null),S.return=_,S;Qu(_,S)}return null}function w(_,S,T,P){var B=S!==null?S.key:null;if(typeof T=="string"&&T!==""||typeof T=="number")return B!==null?null:u(_,S,""+T,P);if(typeof T=="object"&&T!==null){switch(T.$$typeof){case Vu:return T.key===B?f(_,S,T,P):null;case jo:return T.key===B?h(_,S,T,P):null;case Ws:return B=T._init,w(_,S,B(T._payload),P)}if(Cc(T)||sc(T))return B!==null?null:m(_,S,T,P,null);Qu(_,T)}return null}function C(_,S,T,P,B){if(typeof P=="string"&&P!==""||typeof P=="number")return _=_.get(T)||null,u(S,_,""+P,B);if(typeof P=="object"&&P!==null){switch(P.$$typeof){case Vu:return _=_.get(P.key===null?T:P.key)||null,f(S,_,P,B);case jo:return _=_.get(P.key===null?T:P.key)||null,h(S,_,P,B);case Ws:var k=P._init;return C(_,S,T,k(P._payload),B)}if(Cc(P)||sc(P))return _=_.get(T)||null,m(S,_,P,B,null);Qu(S,P)}return null}function N(_,S,T,P){for(var B=null,k=null,M=S,F=S=0,U=null;M!==null&&F<T.length;F++){M.index>F?(U=M,M=null):U=M.sibling;var X=w(_,M,T[F],P);if(X===null){M===null&&(M=U);break}t&&M&&X.alternate===null&&e(_,M),S=s(X,S,F),k===null?B=X:k.sibling=X,k=X,M=U}if(F===T.length)return r(_,M),Gt&&Ha(_,F),B;if(M===null){for(;F<T.length;F++)M=v(_,T[F],P),M!==null&&(S=s(M,S,F),k===null?B=M:k.sibling=M,k=M);return Gt&&Ha(_,F),B}for(M=n(_,M);F<T.length;F++)U=C(M,_,F,T[F],P),U!==null&&(t&&U.alternate!==null&&M.delete(U.key===null?F:U.key),S=s(U,S,F),k===null?B=U:k.sibling=U,k=U);return t&&M.forEach(function(ee){return e(_,ee)}),Gt&&Ha(_,F),B}function b(_,S,T,P){var B=sc(T);if(typeof B!="function")throw Error(he(150));if(T=B.call(T),T==null)throw Error(he(151));for(var k=B=null,M=S,F=S=0,U=null,X=T.next();M!==null&&!X.done;F++,X=T.next()){M.index>F?(U=M,M=null):U=M.sibling;var ee=w(_,M,X.value,P);if(ee===null){M===null&&(M=U);break}t&&M&&ee.alternate===null&&e(_,M),S=s(ee,S,F),k===null?B=ee:k.sibling=ee,k=ee,M=U}if(X.done)return r(_,M),Gt&&Ha(_,F),B;if(M===null){for(;!X.done;F++,X=T.next())X=v(_,X.value,P),X!==null&&(S=s(X,S,F),k===null?B=X:k.sibling=X,k=X);return Gt&&Ha(_,F),B}for(M=n(_,M);!X.done;F++,X=T.next())X=C(M,_,F,X.value,P),X!==null&&(t&&X.alternate!==null&&M.delete(X.key===null?F:X.key),S=s(X,S,F),k===null?B=X:k.sibling=X,k=X);return t&&M.forEach(function(Z){return e(_,Z)}),Gt&&Ha(_,F),B}function R(_,S,T,P){if(typeof T=="object"&&T!==null&&T.type===Mo&&T.key===null&&(T=T.props.children),typeof T=="object"&&T!==null){switch(T.$$typeof){case Vu:e:{for(var B=T.key,k=S;k!==null;){if(k.key===B){if(B=T.type,B===Mo){if(k.tag===7){r(_,k.sibling),S=i(k,T.props.children),S.return=_,_=S;break e}}else if(k.elementType===B||typeof B=="object"&&B!==null&&B.$$typeof===Ws&&qm(B)===k.type){r(_,k.sibling),S=i(k,T.props),S.ref=uc(_,k,T),S.return=_,_=S;break e}r(_,k);break}else e(_,k);k=k.sibling}T.type===Mo?(S=io(T.props.children,_.mode,P,T.key),S.return=_,_=S):(P=Od(T.type,T.key,T.props,null,_.mode,P),P.ref=uc(_,S,T),P.return=_,_=P)}return o(_);case jo:e:{for(k=T.key;S!==null;){if(S.key===k)if(S.tag===4&&S.stateNode.containerInfo===T.containerInfo&&S.stateNode.implementation===T.implementation){r(_,S.sibling),S=i(S,T.children||[]),S.return=_,_=S;break e}else{r(_,S);break}else e(_,S);S=S.sibling}S=g1(T,_.mode,P),S.return=_,_=S}return o(_);case Ws:return k=T._init,R(_,S,k(T._payload),P)}if(Cc(T))return N(_,S,T,P);if(sc(T))return b(_,S,T,P);Qu(_,T)}return typeof T=="string"&&T!==""||typeof T=="number"?(T=""+T,S!==null&&S.tag===6?(r(_,S.sibling),S=i(S,T),S.return=_,_=S):(r(_,S),S=x1(T,_.mode,P),S.return=_,_=S),o(_)):r(_,S)}return R}var bl=Zw(!0),qw=Zw(!1),rf=Ra(null),nf=null,zo=null,ux=null;function dx(){ux=zo=nf=null}function fx(t){var e=rf.current;Ht(rf),t._currentValue=e}function Ah(t,e,r){for(;t!==null;){var n=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,n!==null&&(n.childLanes|=e)):n!==null&&(n.childLanes&e)!==e&&(n.childLanes|=e),t===r)break;t=t.return}}function el(t,e){nf=t,ux=zo=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(Rn=!0),t.firstContext=null)}function di(t){var e=t._currentValue;if(ux!==t)if(t={context:t,memoizedValue:e,next:null},zo===null){if(nf===null)throw Error(he(308));zo=t,nf.dependencies={lanes:0,firstContext:t}}else zo=zo.next=t;return e}var Xa=null;function hx(t){Xa===null?Xa=[t]:Xa.push(t)}function Qw(t,e,r,n){var i=e.interleaved;return i===null?(r.next=r,hx(e)):(r.next=i.next,i.next=r),e.interleaved=r,bs(t,n)}function bs(t,e){t.lanes|=e;var r=t.alternate;for(r!==null&&(r.lanes|=e),r=t,t=t.return;t!==null;)t.childLanes|=e,r=t.alternate,r!==null&&(r.childLanes|=e),r=t,t=t.return;return r.tag===3?r.stateNode:null}var Xs=!1;function px(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Jw(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function ws(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function ha(t,e,r){var n=t.updateQueue;if(n===null)return null;if(n=n.shared,ft&2){var i=n.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),n.pending=e,bs(t,r)}return i=n.interleaved,i===null?(e.next=e,hx(n)):(e.next=i.next,i.next=e),n.interleaved=e,bs(t,r)}function Sd(t,e,r){if(e=e.updateQueue,e!==null&&(e=e.shared,(r&4194240)!==0)){var n=e.lanes;n&=t.pendingLanes,r|=n,e.lanes=r,Jp(t,r)}}function Qm(t,e){var r=t.updateQueue,n=t.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var i=null,s=null;if(r=r.firstBaseUpdate,r!==null){do{var o={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};s===null?i=s=o:s=s.next=o,r=r.next}while(r!==null);s===null?i=s=e:s=s.next=e}else i=s=e;r={baseState:n.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:n.shared,effects:n.effects},t.updateQueue=r;return}t=r.lastBaseUpdate,t===null?r.firstBaseUpdate=e:t.next=e,r.lastBaseUpdate=e}function sf(t,e,r,n){var i=t.updateQueue;Xs=!1;var s=i.firstBaseUpdate,o=i.lastBaseUpdate,u=i.shared.pending;if(u!==null){i.shared.pending=null;var f=u,h=f.next;f.next=null,o===null?s=h:o.next=h,o=f;var m=t.alternate;m!==null&&(m=m.updateQueue,u=m.lastBaseUpdate,u!==o&&(u===null?m.firstBaseUpdate=h:u.next=h,m.lastBaseUpdate=f))}if(s!==null){var v=i.baseState;o=0,m=h=f=null,u=s;do{var w=u.lane,C=u.eventTime;if((n&w)===w){m!==null&&(m=m.next={eventTime:C,lane:0,tag:u.tag,payload:u.payload,callback:u.callback,next:null});e:{var N=t,b=u;switch(w=e,C=r,b.tag){case 1:if(N=b.payload,typeof N=="function"){v=N.call(C,v,w);break e}v=N;break e;case 3:N.flags=N.flags&-65537|128;case 0:if(N=b.payload,w=typeof N=="function"?N.call(C,v,w):N,w==null)break e;v=Qt({},v,w);break e;case 2:Xs=!0}}u.callback!==null&&u.lane!==0&&(t.flags|=64,w=i.effects,w===null?i.effects=[u]:w.push(u))}else C={eventTime:C,lane:w,tag:u.tag,payload:u.payload,callback:u.callback,next:null},m===null?(h=m=C,f=v):m=m.next=C,o|=w;if(u=u.next,u===null){if(u=i.shared.pending,u===null)break;w=u,u=w.next,w.next=null,i.lastBaseUpdate=w,i.shared.pending=null}}while(!0);if(m===null&&(f=v),i.baseState=f,i.firstBaseUpdate=h,i.lastBaseUpdate=m,e=i.shared.interleaved,e!==null){i=e;do o|=i.lane,i=i.next;while(i!==e)}else s===null&&(i.shared.lanes=0);co|=o,t.lanes=o,t.memoizedState=v}}function Jm(t,e,r){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var n=t[e],i=n.callback;if(i!==null){if(n.callback=null,n=r,typeof i!="function")throw Error(he(191,i));i.call(n)}}}var yu={},rs=Ra(yu),Qc=Ra(yu),Jc=Ra(yu);function Ya(t){if(t===yu)throw Error(he(174));return t}function xx(t,e){switch(jt(Jc,e),jt(Qc,t),jt(rs,yu),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:nh(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=nh(e,t)}Ht(rs),jt(rs,e)}function Sl(){Ht(rs),Ht(Qc),Ht(Jc)}function e3(t){Ya(Jc.current);var e=Ya(rs.current),r=nh(e,t.type);e!==r&&(jt(Qc,t),jt(rs,r))}function gx(t){Qc.current===t&&(Ht(rs),Ht(Qc))}var Kt=Ra(0);function af(t){for(var e=t;e!==null;){if(e.tag===13){var r=e.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var c1=[];function mx(){for(var t=0;t<c1.length;t++)c1[t]._workInProgressVersionPrimary=null;c1.length=0}var Nd=Ts.ReactCurrentDispatcher,u1=Ts.ReactCurrentBatchConfig,lo=0,qt=null,yr=null,Rr=null,of=!1,kc=!1,eu=0,X6=0;function $r(){throw Error(he(321))}function vx(t,e){if(e===null)return!1;for(var r=0;r<e.length&&r<t.length;r++)if(!Di(t[r],e[r]))return!1;return!0}function yx(t,e,r,n,i,s){if(lo=s,qt=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Nd.current=t===null||t.memoizedState===null?Z6:q6,t=r(n,i),kc){s=0;do{if(kc=!1,eu=0,25<=s)throw Error(he(301));s+=1,Rr=yr=null,e.updateQueue=null,Nd.current=Q6,t=r(n,i)}while(kc)}if(Nd.current=lf,e=yr!==null&&yr.next!==null,lo=0,Rr=yr=qt=null,of=!1,e)throw Error(he(300));return t}function wx(){var t=eu!==0;return eu=0,t}function Gi(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Rr===null?qt.memoizedState=Rr=t:Rr=Rr.next=t,Rr}function fi(){if(yr===null){var t=qt.alternate;t=t!==null?t.memoizedState:null}else t=yr.next;var e=Rr===null?qt.memoizedState:Rr.next;if(e!==null)Rr=e,yr=t;else{if(t===null)throw Error(he(310));yr=t,t={memoizedState:yr.memoizedState,baseState:yr.baseState,baseQueue:yr.baseQueue,queue:yr.queue,next:null},Rr===null?qt.memoizedState=Rr=t:Rr=Rr.next=t}return Rr}function tu(t,e){return typeof e=="function"?e(t):e}function d1(t){var e=fi(),r=e.queue;if(r===null)throw Error(he(311));r.lastRenderedReducer=t;var n=yr,i=n.baseQueue,s=r.pending;if(s!==null){if(i!==null){var o=i.next;i.next=s.next,s.next=o}n.baseQueue=i=s,r.pending=null}if(i!==null){s=i.next,n=n.baseState;var u=o=null,f=null,h=s;do{var m=h.lane;if((lo&m)===m)f!==null&&(f=f.next={lane:0,action:h.action,hasEagerState:h.hasEagerState,eagerState:h.eagerState,next:null}),n=h.hasEagerState?h.eagerState:t(n,h.action);else{var v={lane:m,action:h.action,hasEagerState:h.hasEagerState,eagerState:h.eagerState,next:null};f===null?(u=f=v,o=n):f=f.next=v,qt.lanes|=m,co|=m}h=h.next}while(h!==null&&h!==s);f===null?o=n:f.next=u,Di(n,e.memoizedState)||(Rn=!0),e.memoizedState=n,e.baseState=o,e.baseQueue=f,r.lastRenderedState=n}if(t=r.interleaved,t!==null){i=t;do s=i.lane,qt.lanes|=s,co|=s,i=i.next;while(i!==t)}else i===null&&(r.lanes=0);return[e.memoizedState,r.dispatch]}function f1(t){var e=fi(),r=e.queue;if(r===null)throw Error(he(311));r.lastRenderedReducer=t;var n=r.dispatch,i=r.pending,s=e.memoizedState;if(i!==null){r.pending=null;var o=i=i.next;do s=t(s,o.action),o=o.next;while(o!==i);Di(s,e.memoizedState)||(Rn=!0),e.memoizedState=s,e.baseQueue===null&&(e.baseState=s),r.lastRenderedState=s}return[s,n]}function t3(){}function r3(t,e){var r=qt,n=fi(),i=e(),s=!Di(n.memoizedState,i);if(s&&(n.memoizedState=i,Rn=!0),n=n.queue,Cx(s3.bind(null,r,n,t),[t]),n.getSnapshot!==e||s||Rr!==null&&Rr.memoizedState.tag&1){if(r.flags|=2048,ru(9,i3.bind(null,r,n,i,e),void 0,null),Dr===null)throw Error(he(349));lo&30||n3(r,e,i)}return i}function n3(t,e,r){t.flags|=16384,t={getSnapshot:e,value:r},e=qt.updateQueue,e===null?(e={lastEffect:null,stores:null},qt.updateQueue=e,e.stores=[t]):(r=e.stores,r===null?e.stores=[t]:r.push(t))}function i3(t,e,r,n){e.value=r,e.getSnapshot=n,a3(e)&&o3(t)}function s3(t,e,r){return r(function(){a3(e)&&o3(t)})}function a3(t){var e=t.getSnapshot;t=t.value;try{var r=e();return!Di(t,r)}catch{return!0}}function o3(t){var e=bs(t,1);e!==null&&Oi(e,t,1,-1)}function e2(t){var e=Gi();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:tu,lastRenderedState:t},e.queue=t,t=t.dispatch=K6.bind(null,qt,t),[e.memoizedState,t]}function ru(t,e,r,n){return t={tag:t,create:e,destroy:r,deps:n,next:null},e=qt.updateQueue,e===null?(e={lastEffect:null,stores:null},qt.updateQueue=e,e.lastEffect=t.next=t):(r=e.lastEffect,r===null?e.lastEffect=t.next=t:(n=r.next,r.next=t,t.next=n,e.lastEffect=t)),t}function l3(){return fi().memoizedState}function _d(t,e,r,n){var i=Gi();qt.flags|=t,i.memoizedState=ru(1|e,r,void 0,n===void 0?null:n)}function zf(t,e,r,n){var i=fi();n=n===void 0?null:n;var s=void 0;if(yr!==null){var o=yr.memoizedState;if(s=o.destroy,n!==null&&vx(n,o.deps)){i.memoizedState=ru(e,r,s,n);return}}qt.flags|=t,i.memoizedState=ru(1|e,r,s,n)}function t2(t,e){return _d(8390656,8,t,e)}function Cx(t,e){return zf(2048,8,t,e)}function c3(t,e){return zf(4,2,t,e)}function u3(t,e){return zf(4,4,t,e)}function d3(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function f3(t,e,r){return r=r!=null?r.concat([t]):null,zf(4,4,d3.bind(null,e,t),r)}function Ex(){}function h3(t,e){var r=fi();e=e===void 0?null:e;var n=r.memoizedState;return n!==null&&e!==null&&vx(e,n[1])?n[0]:(r.memoizedState=[t,e],t)}function p3(t,e){var r=fi();e=e===void 0?null:e;var n=r.memoizedState;return n!==null&&e!==null&&vx(e,n[1])?n[0]:(t=t(),r.memoizedState=[t,e],t)}function x3(t,e,r){return lo&21?(Di(r,e)||(r=ww(),qt.lanes|=r,co|=r,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,Rn=!0),t.memoizedState=r)}function Y6(t,e){var r=St;St=r!==0&&4>r?r:4,t(!0);var n=u1.transition;u1.transition={};try{t(!1),e()}finally{St=r,u1.transition=n}}function g3(){return fi().memoizedState}function $6(t,e,r){var n=xa(t);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},m3(t))v3(e,r);else if(r=Qw(t,e,r,n),r!==null){var i=xn();Oi(r,t,n,i),y3(r,e,n)}}function K6(t,e,r){var n=xa(t),i={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(m3(t))v3(e,i);else{var s=t.alternate;if(t.lanes===0&&(s===null||s.lanes===0)&&(s=e.lastRenderedReducer,s!==null))try{var o=e.lastRenderedState,u=s(o,r);if(i.hasEagerState=!0,i.eagerState=u,Di(u,o)){var f=e.interleaved;f===null?(i.next=i,hx(e)):(i.next=f.next,f.next=i),e.interleaved=i;return}}catch{}finally{}r=Qw(t,e,i,n),r!==null&&(i=xn(),Oi(r,t,n,i),y3(r,e,n))}}function m3(t){var e=t.alternate;return t===qt||e!==null&&e===qt}function v3(t,e){kc=of=!0;var r=t.pending;r===null?e.next=e:(e.next=r.next,r.next=e),t.pending=e}function y3(t,e,r){if(r&4194240){var n=e.lanes;n&=t.pendingLanes,r|=n,e.lanes=r,Jp(t,r)}}var lf={readContext:di,useCallback:$r,useContext:$r,useEffect:$r,useImperativeHandle:$r,useInsertionEffect:$r,useLayoutEffect:$r,useMemo:$r,useReducer:$r,useRef:$r,useState:$r,useDebugValue:$r,useDeferredValue:$r,useTransition:$r,useMutableSource:$r,useSyncExternalStore:$r,useId:$r,unstable_isNewReconciler:!1},Z6={readContext:di,useCallback:function(t,e){return Gi().memoizedState=[t,e===void 0?null:e],t},useContext:di,useEffect:t2,useImperativeHandle:function(t,e,r){return r=r!=null?r.concat([t]):null,_d(4194308,4,d3.bind(null,e,t),r)},useLayoutEffect:function(t,e){return _d(4194308,4,t,e)},useInsertionEffect:function(t,e){return _d(4,2,t,e)},useMemo:function(t,e){var r=Gi();return e=e===void 0?null:e,t=t(),r.memoizedState=[t,e],t},useReducer:function(t,e,r){var n=Gi();return e=r!==void 0?r(e):e,n.memoizedState=n.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},n.queue=t,t=t.dispatch=$6.bind(null,qt,t),[n.memoizedState,t]},useRef:function(t){var e=Gi();return t={current:t},e.memoizedState=t},useState:e2,useDebugValue:Ex,useDeferredValue:function(t){return Gi().memoizedState=t},useTransition:function(){var t=e2(!1),e=t[0];return t=Y6.bind(null,t[1]),Gi().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,r){var n=qt,i=Gi();if(Gt){if(r===void 0)throw Error(he(407));r=r()}else{if(r=e(),Dr===null)throw Error(he(349));lo&30||n3(n,e,r)}i.memoizedState=r;var s={value:r,getSnapshot:e};return i.queue=s,t2(s3.bind(null,n,s,t),[t]),n.flags|=2048,ru(9,i3.bind(null,n,s,r,e),void 0,null),r},useId:function(){var t=Gi(),e=Dr.identifierPrefix;if(Gt){var r=ys,n=vs;r=(n&~(1<<32-Ri(n)-1)).toString(32)+r,e=":"+e+"R"+r,r=eu++,0<r&&(e+="H"+r.toString(32)),e+=":"}else r=X6++,e=":"+e+"r"+r.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},q6={readContext:di,useCallback:h3,useContext:di,useEffect:Cx,useImperativeHandle:f3,useInsertionEffect:c3,useLayoutEffect:u3,useMemo:p3,useReducer:d1,useRef:l3,useState:function(){return d1(tu)},useDebugValue:Ex,useDeferredValue:function(t){var e=fi();return x3(e,yr.memoizedState,t)},useTransition:function(){var t=d1(tu)[0],e=fi().memoizedState;return[t,e]},useMutableSource:t3,useSyncExternalStore:r3,useId:g3,unstable_isNewReconciler:!1},Q6={readContext:di,useCallback:h3,useContext:di,useEffect:Cx,useImperativeHandle:f3,useInsertionEffect:c3,useLayoutEffect:u3,useMemo:p3,useReducer:f1,useRef:l3,useState:function(){return f1(tu)},useDebugValue:Ex,useDeferredValue:function(t){var e=fi();return yr===null?e.memoizedState=t:x3(e,yr.memoizedState,t)},useTransition:function(){var t=f1(tu)[0],e=fi().memoizedState;return[t,e]},useMutableSource:t3,useSyncExternalStore:r3,useId:g3,unstable_isNewReconciler:!1};function Ai(t,e){if(t&&t.defaultProps){e=Qt({},e),t=t.defaultProps;for(var r in t)e[r]===void 0&&(e[r]=t[r]);return e}return e}function bh(t,e,r,n){e=t.memoizedState,r=r(n,e),r=r==null?e:Qt({},e,r),t.memoizedState=r,t.lanes===0&&(t.updateQueue.baseState=r)}var Gf={isMounted:function(t){return(t=t._reactInternals)?vo(t)===t:!1},enqueueSetState:function(t,e,r){t=t._reactInternals;var n=xn(),i=xa(t),s=ws(n,i);s.payload=e,r!=null&&(s.callback=r),e=ha(t,s,i),e!==null&&(Oi(e,t,i,n),Sd(e,t,i))},enqueueReplaceState:function(t,e,r){t=t._reactInternals;var n=xn(),i=xa(t),s=ws(n,i);s.tag=1,s.payload=e,r!=null&&(s.callback=r),e=ha(t,s,i),e!==null&&(Oi(e,t,i,n),Sd(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var r=xn(),n=xa(t),i=ws(r,n);i.tag=2,e!=null&&(i.callback=e),e=ha(t,i,n),e!==null&&(Oi(e,t,n,r),Sd(e,t,n))}};function r2(t,e,r,n,i,s,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(n,s,o):e.prototype&&e.prototype.isPureReactComponent?!$c(r,n)||!$c(i,s):!0}function w3(t,e,r){var n=!1,i=Aa,s=e.contextType;return typeof s=="object"&&s!==null?s=di(s):(i=Dn(e)?ao:rn.current,n=e.contextTypes,s=(n=n!=null)?El(t,i):Aa),e=new e(r,s),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=Gf,t.stateNode=e,e._reactInternals=t,n&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=s),e}function n2(t,e,r,n){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(r,n),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(r,n),e.state!==t&&Gf.enqueueReplaceState(e,e.state,null)}function Sh(t,e,r,n){var i=t.stateNode;i.props=r,i.state=t.memoizedState,i.refs={},px(t);var s=e.contextType;typeof s=="object"&&s!==null?i.context=di(s):(s=Dn(e)?ao:rn.current,i.context=El(t,s)),i.state=t.memoizedState,s=e.getDerivedStateFromProps,typeof s=="function"&&(bh(t,e,s,r),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&Gf.enqueueReplaceState(i,i.state,null),sf(t,r,i,n),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function Nl(t,e){try{var r="",n=e;do r+=NS(n),n=n.return;while(n);var i=r}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:t,source:e,stack:i,digest:null}}function h1(t,e,r){return{value:t,source:null,stack:r??null,digest:e??null}}function Nh(t,e){try{console.error(e.value)}catch(r){setTimeout(function(){throw r})}}var J6=typeof WeakMap=="function"?WeakMap:Map;function C3(t,e,r){r=ws(-1,r),r.tag=3,r.payload={element:null};var n=e.value;return r.callback=function(){uf||(uf=!0,kh=n),Nh(t,e)},r}function E3(t,e,r){r=ws(-1,r),r.tag=3;var n=t.type.getDerivedStateFromError;if(typeof n=="function"){var i=e.value;r.payload=function(){return n(i)},r.callback=function(){Nh(t,e)}}var s=t.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(r.callback=function(){Nh(t,e),typeof n!="function"&&(pa===null?pa=new Set([this]):pa.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),r}function i2(t,e,r){var n=t.pingCache;if(n===null){n=t.pingCache=new J6;var i=new Set;n.set(e,i)}else i=n.get(e),i===void 0&&(i=new Set,n.set(e,i));i.has(r)||(i.add(r),t=hN.bind(null,t,e,r),e.then(t,t))}function s2(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function a2(t,e,r,n,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(e=ws(-1,1),e.tag=2,ha(r,e,1))),r.lanes|=1),t)}var eN=Ts.ReactCurrentOwner,Rn=!1;function hn(t,e,r,n){e.child=t===null?qw(e,null,r,n):bl(e,t.child,r,n)}function o2(t,e,r,n,i){r=r.render;var s=e.ref;return el(e,i),n=yx(t,e,r,n,s,i),r=wx(),t!==null&&!Rn?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Ss(t,e,i)):(Gt&&r&&ox(e),e.flags|=1,hn(t,e,n,i),e.child)}function l2(t,e,r,n,i){if(t===null){var s=r.type;return typeof s=="function"&&!Rx(s)&&s.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(e.tag=15,e.type=s,A3(t,e,s,n,i)):(t=Od(r.type,null,n,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(s=t.child,!(t.lanes&i)){var o=s.memoizedProps;if(r=r.compare,r=r!==null?r:$c,r(o,n)&&t.ref===e.ref)return Ss(t,e,i)}return e.flags|=1,t=ga(s,n),t.ref=e.ref,t.return=e,e.child=t}function A3(t,e,r,n,i){if(t!==null){var s=t.memoizedProps;if($c(s,n)&&t.ref===e.ref)if(Rn=!1,e.pendingProps=n=s,(t.lanes&i)!==0)t.flags&131072&&(Rn=!0);else return e.lanes=t.lanes,Ss(t,e,i)}return _h(t,e,r,n,i)}function b3(t,e,r){var n=e.pendingProps,i=n.children,s=t!==null?t.memoizedState:null;if(n.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},jt(Wo,Un),Un|=r;else{if(!(r&1073741824))return t=s!==null?s.baseLanes|r:r,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,jt(Wo,Un),Un|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=s!==null?s.baseLanes:r,jt(Wo,Un),Un|=n}else s!==null?(n=s.baseLanes|r,e.memoizedState=null):n=r,jt(Wo,Un),Un|=n;return hn(t,e,i,r),e.child}function S3(t,e){var r=e.ref;(t===null&&r!==null||t!==null&&t.ref!==r)&&(e.flags|=512,e.flags|=2097152)}function _h(t,e,r,n,i){var s=Dn(r)?ao:rn.current;return s=El(e,s),el(e,i),r=yx(t,e,r,n,s,i),n=wx(),t!==null&&!Rn?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Ss(t,e,i)):(Gt&&n&&ox(e),e.flags|=1,hn(t,e,r,i),e.child)}function c2(t,e,r,n,i){if(Dn(r)){var s=!0;Jd(e)}else s=!1;if(el(e,i),e.stateNode===null)Id(t,e),w3(e,r,n),Sh(e,r,n,i),n=!0;else if(t===null){var o=e.stateNode,u=e.memoizedProps;o.props=u;var f=o.context,h=r.contextType;typeof h=="object"&&h!==null?h=di(h):(h=Dn(r)?ao:rn.current,h=El(e,h));var m=r.getDerivedStateFromProps,v=typeof m=="function"||typeof o.getSnapshotBeforeUpdate=="function";v||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(u!==n||f!==h)&&n2(e,o,n,h),Xs=!1;var w=e.memoizedState;o.state=w,sf(e,n,o,i),f=e.memoizedState,u!==n||w!==f||Pn.current||Xs?(typeof m=="function"&&(bh(e,r,m,n),f=e.memoizedState),(u=Xs||r2(e,r,u,n,w,f,h))?(v||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=n,e.memoizedState=f),o.props=n,o.state=f,o.context=h,n=u):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),n=!1)}else{o=e.stateNode,Jw(t,e),u=e.memoizedProps,h=e.type===e.elementType?u:Ai(e.type,u),o.props=h,v=e.pendingProps,w=o.context,f=r.contextType,typeof f=="object"&&f!==null?f=di(f):(f=Dn(r)?ao:rn.current,f=El(e,f));var C=r.getDerivedStateFromProps;(m=typeof C=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(u!==v||w!==f)&&n2(e,o,n,f),Xs=!1,w=e.memoizedState,o.state=w,sf(e,n,o,i);var N=e.memoizedState;u!==v||w!==N||Pn.current||Xs?(typeof C=="function"&&(bh(e,r,C,n),N=e.memoizedState),(h=Xs||r2(e,r,h,n,w,N,f)||!1)?(m||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(n,N,f),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(n,N,f)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||u===t.memoizedProps&&w===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||u===t.memoizedProps&&w===t.memoizedState||(e.flags|=1024),e.memoizedProps=n,e.memoizedState=N),o.props=n,o.state=N,o.context=f,n=h):(typeof o.componentDidUpdate!="function"||u===t.memoizedProps&&w===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||u===t.memoizedProps&&w===t.memoizedState||(e.flags|=1024),n=!1)}return Ih(t,e,r,n,s,i)}function Ih(t,e,r,n,i,s){S3(t,e);var o=(e.flags&128)!==0;if(!n&&!o)return i&&$m(e,r,!1),Ss(t,e,s);n=e.stateNode,eN.current=e;var u=o&&typeof r.getDerivedStateFromError!="function"?null:n.render();return e.flags|=1,t!==null&&o?(e.child=bl(e,t.child,null,s),e.child=bl(e,null,u,s)):hn(t,e,u,s),e.memoizedState=n.state,i&&$m(e,r,!0),e.child}function N3(t){var e=t.stateNode;e.pendingContext?Ym(t,e.pendingContext,e.pendingContext!==e.context):e.context&&Ym(t,e.context,!1),xx(t,e.containerInfo)}function u2(t,e,r,n,i){return Al(),cx(i),e.flags|=256,hn(t,e,r,n),e.child}var Th={dehydrated:null,treeContext:null,retryLane:0};function Rh(t){return{baseLanes:t,cachePool:null,transitions:null}}function _3(t,e,r){var n=e.pendingProps,i=Kt.current,s=!1,o=(e.flags&128)!==0,u;if((u=o)||(u=t!==null&&t.memoizedState===null?!1:(i&2)!==0),u?(s=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),jt(Kt,i&1),t===null)return Eh(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=n.children,t=n.fallback,s?(n=e.mode,s=e.child,o={mode:"hidden",children:o},!(n&1)&&s!==null?(s.childLanes=0,s.pendingProps=o):s=Yf(o,n,0,null),t=io(t,n,r,null),s.return=e,t.return=e,s.sibling=t,e.child=s,e.child.memoizedState=Rh(r),e.memoizedState=Th,t):Ax(e,o));if(i=t.memoizedState,i!==null&&(u=i.dehydrated,u!==null))return tN(t,e,o,n,u,i,r);if(s){s=n.fallback,o=e.mode,i=t.child,u=i.sibling;var f={mode:"hidden",children:n.children};return!(o&1)&&e.child!==i?(n=e.child,n.childLanes=0,n.pendingProps=f,e.deletions=null):(n=ga(i,f),n.subtreeFlags=i.subtreeFlags&14680064),u!==null?s=ga(u,s):(s=io(s,o,r,null),s.flags|=2),s.return=e,n.return=e,n.sibling=s,e.child=n,n=s,s=e.child,o=t.child.memoizedState,o=o===null?Rh(r):{baseLanes:o.baseLanes|r,cachePool:null,transitions:o.transitions},s.memoizedState=o,s.childLanes=t.childLanes&~r,e.memoizedState=Th,n}return s=t.child,t=s.sibling,n=ga(s,{mode:"visible",children:n.children}),!(e.mode&1)&&(n.lanes=r),n.return=e,n.sibling=null,t!==null&&(r=e.deletions,r===null?(e.deletions=[t],e.flags|=16):r.push(t)),e.child=n,e.memoizedState=null,n}function Ax(t,e){return e=Yf({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function Ju(t,e,r,n){return n!==null&&cx(n),bl(e,t.child,null,r),t=Ax(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function tN(t,e,r,n,i,s,o){if(r)return e.flags&256?(e.flags&=-257,n=h1(Error(he(422))),Ju(t,e,o,n)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(s=n.fallback,i=e.mode,n=Yf({mode:"visible",children:n.children},i,0,null),s=io(s,i,o,null),s.flags|=2,n.return=e,s.return=e,n.sibling=s,e.child=n,e.mode&1&&bl(e,t.child,null,o),e.child.memoizedState=Rh(o),e.memoizedState=Th,s);if(!(e.mode&1))return Ju(t,e,o,null);if(i.data==="$!"){if(n=i.nextSibling&&i.nextSibling.dataset,n)var u=n.dgst;return n=u,s=Error(he(419)),n=h1(s,n,void 0),Ju(t,e,o,n)}if(u=(o&t.childLanes)!==0,Rn||u){if(n=Dr,n!==null){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(n.suspendedLanes|o)?0:i,i!==0&&i!==s.retryLane&&(s.retryLane=i,bs(t,i),Oi(n,t,i,-1))}return Tx(),n=h1(Error(he(421))),Ju(t,e,o,n)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=pN.bind(null,t),i._reactRetry=e,null):(t=s.treeContext,Hn=fa(i.nextSibling),zn=e,Gt=!0,Ni=null,t!==null&&(ri[ni++]=vs,ri[ni++]=ys,ri[ni++]=oo,vs=t.id,ys=t.overflow,oo=e),e=Ax(e,n.children),e.flags|=4096,e)}function d2(t,e,r){t.lanes|=e;var n=t.alternate;n!==null&&(n.lanes|=e),Ah(t.return,e,r)}function p1(t,e,r,n,i){var s=t.memoizedState;s===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:i}:(s.isBackwards=e,s.rendering=null,s.renderingStartTime=0,s.last=n,s.tail=r,s.tailMode=i)}function I3(t,e,r){var n=e.pendingProps,i=n.revealOrder,s=n.tail;if(hn(t,e,n.children,r),n=Kt.current,n&2)n=n&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&d2(t,r,e);else if(t.tag===19)d2(t,r,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}n&=1}if(jt(Kt,n),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(r=e.child,i=null;r!==null;)t=r.alternate,t!==null&&af(t)===null&&(i=r),r=r.sibling;r=i,r===null?(i=e.child,e.child=null):(i=r.sibling,r.sibling=null),p1(e,!1,i,r,s);break;case"backwards":for(r=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&af(t)===null){e.child=i;break}t=i.sibling,i.sibling=r,r=i,i=t}p1(e,!0,r,null,s);break;case"together":p1(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Id(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function Ss(t,e,r){if(t!==null&&(e.dependencies=t.dependencies),co|=e.lanes,!(r&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(he(153));if(e.child!==null){for(t=e.child,r=ga(t,t.pendingProps),e.child=r,r.return=e;t.sibling!==null;)t=t.sibling,r=r.sibling=ga(t,t.pendingProps),r.return=e;r.sibling=null}return e.child}function rN(t,e,r){switch(e.tag){case 3:N3(e),Al();break;case 5:e3(e);break;case 1:Dn(e.type)&&Jd(e);break;case 4:xx(e,e.stateNode.containerInfo);break;case 10:var n=e.type._context,i=e.memoizedProps.value;jt(rf,n._currentValue),n._currentValue=i;break;case 13:if(n=e.memoizedState,n!==null)return n.dehydrated!==null?(jt(Kt,Kt.current&1),e.flags|=128,null):r&e.child.childLanes?_3(t,e,r):(jt(Kt,Kt.current&1),t=Ss(t,e,r),t!==null?t.sibling:null);jt(Kt,Kt.current&1);break;case 19:if(n=(r&e.childLanes)!==0,t.flags&128){if(n)return I3(t,e,r);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),jt(Kt,Kt.current),n)break;return null;case 22:case 23:return e.lanes=0,b3(t,e,r)}return Ss(t,e,r)}var T3,Oh,R3,O3;T3=function(t,e){for(var r=e.child;r!==null;){if(r.tag===5||r.tag===6)t.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===e)break;for(;r.sibling===null;){if(r.return===null||r.return===e)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};Oh=function(){};R3=function(t,e,r,n){var i=t.memoizedProps;if(i!==n){t=e.stateNode,Ya(rs.current);var s=null;switch(r){case"input":i=J1(t,i),n=J1(t,n),s=[];break;case"select":i=Qt({},i,{value:void 0}),n=Qt({},n,{value:void 0}),s=[];break;case"textarea":i=rh(t,i),n=rh(t,n),s=[];break;default:typeof i.onClick!="function"&&typeof n.onClick=="function"&&(t.onclick=qd)}ih(r,n);var o;r=null;for(h in i)if(!n.hasOwnProperty(h)&&i.hasOwnProperty(h)&&i[h]!=null)if(h==="style"){var u=i[h];for(o in u)u.hasOwnProperty(o)&&(r||(r={}),r[o]="")}else h!=="dangerouslySetInnerHTML"&&h!=="children"&&h!=="suppressContentEditableWarning"&&h!=="suppressHydrationWarning"&&h!=="autoFocus"&&(Vc.hasOwnProperty(h)?s||(s=[]):(s=s||[]).push(h,null));for(h in n){var f=n[h];if(u=i!=null?i[h]:void 0,n.hasOwnProperty(h)&&f!==u&&(f!=null||u!=null))if(h==="style")if(u){for(o in u)!u.hasOwnProperty(o)||f&&f.hasOwnProperty(o)||(r||(r={}),r[o]="");for(o in f)f.hasOwnProperty(o)&&u[o]!==f[o]&&(r||(r={}),r[o]=f[o])}else r||(s||(s=[]),s.push(h,r)),r=f;else h==="dangerouslySetInnerHTML"?(f=f?f.__html:void 0,u=u?u.__html:void 0,f!=null&&u!==f&&(s=s||[]).push(h,f)):h==="children"?typeof f!="string"&&typeof f!="number"||(s=s||[]).push(h,""+f):h!=="suppressContentEditableWarning"&&h!=="suppressHydrationWarning"&&(Vc.hasOwnProperty(h)?(f!=null&&h==="onScroll"&&Bt("scroll",t),s||u===f||(s=[])):(s=s||[]).push(h,f))}r&&(s=s||[]).push("style",r);var h=s;(e.updateQueue=h)&&(e.flags|=4)}};O3=function(t,e,r,n){r!==n&&(e.flags|=4)};function dc(t,e){if(!Gt)switch(t.tailMode){case"hidden":e=t.tail;for(var r=null;e!==null;)e.alternate!==null&&(r=e),e=e.sibling;r===null?t.tail=null:r.sibling=null;break;case"collapsed":r=t.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:n.sibling=null}}function Kr(t){var e=t.alternate!==null&&t.alternate.child===t.child,r=0,n=0;if(e)for(var i=t.child;i!==null;)r|=i.lanes|i.childLanes,n|=i.subtreeFlags&14680064,n|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)r|=i.lanes|i.childLanes,n|=i.subtreeFlags,n|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=n,t.childLanes=r,e}function nN(t,e,r){var n=e.pendingProps;switch(lx(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Kr(e),null;case 1:return Dn(e.type)&&Qd(),Kr(e),null;case 3:return n=e.stateNode,Sl(),Ht(Pn),Ht(rn),mx(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(t===null||t.child===null)&&(qu(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,Ni!==null&&(Fh(Ni),Ni=null))),Oh(t,e),Kr(e),null;case 5:gx(e);var i=Ya(Jc.current);if(r=e.type,t!==null&&e.stateNode!=null)R3(t,e,r,n,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!n){if(e.stateNode===null)throw Error(he(166));return Kr(e),null}if(t=Ya(rs.current),qu(e)){n=e.stateNode,r=e.type;var s=e.memoizedProps;switch(n[Ki]=e,n[qc]=s,t=(e.mode&1)!==0,r){case"dialog":Bt("cancel",n),Bt("close",n);break;case"iframe":case"object":case"embed":Bt("load",n);break;case"video":case"audio":for(i=0;i<Ac.length;i++)Bt(Ac[i],n);break;case"source":Bt("error",n);break;case"img":case"image":case"link":Bt("error",n),Bt("load",n);break;case"details":Bt("toggle",n);break;case"input":wm(n,s),Bt("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!s.multiple},Bt("invalid",n);break;case"textarea":Em(n,s),Bt("invalid",n)}ih(r,s),i=null;for(var o in s)if(s.hasOwnProperty(o)){var u=s[o];o==="children"?typeof u=="string"?n.textContent!==u&&(s.suppressHydrationWarning!==!0&&Zu(n.textContent,u,t),i=["children",u]):typeof u=="number"&&n.textContent!==""+u&&(s.suppressHydrationWarning!==!0&&Zu(n.textContent,u,t),i=["children",""+u]):Vc.hasOwnProperty(o)&&u!=null&&o==="onScroll"&&Bt("scroll",n)}switch(r){case"input":Hu(n),Cm(n,s,!0);break;case"textarea":Hu(n),Am(n);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(n.onclick=qd)}n=i,e.updateQueue=n,n!==null&&(e.flags|=4)}else{o=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=sw(r)),t==="http://www.w3.org/1999/xhtml"?r==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof n.is=="string"?t=o.createElement(r,{is:n.is}):(t=o.createElement(r),r==="select"&&(o=t,n.multiple?o.multiple=!0:n.size&&(o.size=n.size))):t=o.createElementNS(t,r),t[Ki]=e,t[qc]=n,T3(t,e,!1,!1),e.stateNode=t;e:{switch(o=sh(r,n),r){case"dialog":Bt("cancel",t),Bt("close",t),i=n;break;case"iframe":case"object":case"embed":Bt("load",t),i=n;break;case"video":case"audio":for(i=0;i<Ac.length;i++)Bt(Ac[i],t);i=n;break;case"source":Bt("error",t),i=n;break;case"img":case"image":case"link":Bt("error",t),Bt("load",t),i=n;break;case"details":Bt("toggle",t),i=n;break;case"input":wm(t,n),i=J1(t,n),Bt("invalid",t);break;case"option":i=n;break;case"select":t._wrapperState={wasMultiple:!!n.multiple},i=Qt({},n,{value:void 0}),Bt("invalid",t);break;case"textarea":Em(t,n),i=rh(t,n),Bt("invalid",t);break;default:i=n}ih(r,i),u=i;for(s in u)if(u.hasOwnProperty(s)){var f=u[s];s==="style"?lw(t,f):s==="dangerouslySetInnerHTML"?(f=f?f.__html:void 0,f!=null&&aw(t,f)):s==="children"?typeof f=="string"?(r!=="textarea"||f!=="")&&Hc(t,f):typeof f=="number"&&Hc(t,""+f):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(Vc.hasOwnProperty(s)?f!=null&&s==="onScroll"&&Bt("scroll",t):f!=null&&Yp(t,s,f,o))}switch(r){case"input":Hu(t),Cm(t,n,!1);break;case"textarea":Hu(t),Am(t);break;case"option":n.value!=null&&t.setAttribute("value",""+Ea(n.value));break;case"select":t.multiple=!!n.multiple,s=n.value,s!=null?Zo(t,!!n.multiple,s,!1):n.defaultValue!=null&&Zo(t,!!n.multiple,n.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=qd)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return Kr(e),null;case 6:if(t&&e.stateNode!=null)O3(t,e,t.memoizedProps,n);else{if(typeof n!="string"&&e.stateNode===null)throw Error(he(166));if(r=Ya(Jc.current),Ya(rs.current),qu(e)){if(n=e.stateNode,r=e.memoizedProps,n[Ki]=e,(s=n.nodeValue!==r)&&(t=zn,t!==null))switch(t.tag){case 3:Zu(n.nodeValue,r,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&Zu(n.nodeValue,r,(t.mode&1)!==0)}s&&(e.flags|=4)}else n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[Ki]=e,e.stateNode=n}return Kr(e),null;case 13:if(Ht(Kt),n=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(Gt&&Hn!==null&&e.mode&1&&!(e.flags&128))Kw(),Al(),e.flags|=98560,s=!1;else if(s=qu(e),n!==null&&n.dehydrated!==null){if(t===null){if(!s)throw Error(he(318));if(s=e.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(he(317));s[Ki]=e}else Al(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Kr(e),s=!1}else Ni!==null&&(Fh(Ni),Ni=null),s=!0;if(!s)return e.flags&65536?e:null}return e.flags&128?(e.lanes=r,e):(n=n!==null,n!==(t!==null&&t.memoizedState!==null)&&n&&(e.child.flags|=8192,e.mode&1&&(t===null||Kt.current&1?br===0&&(br=3):Tx())),e.updateQueue!==null&&(e.flags|=4),Kr(e),null);case 4:return Sl(),Oh(t,e),t===null&&Kc(e.stateNode.containerInfo),Kr(e),null;case 10:return fx(e.type._context),Kr(e),null;case 17:return Dn(e.type)&&Qd(),Kr(e),null;case 19:if(Ht(Kt),s=e.memoizedState,s===null)return Kr(e),null;if(n=(e.flags&128)!==0,o=s.rendering,o===null)if(n)dc(s,!1);else{if(br!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=af(t),o!==null){for(e.flags|=128,dc(s,!1),n=o.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),e.subtreeFlags=0,n=r,r=e.child;r!==null;)s=r,t=n,s.flags&=14680066,o=s.alternate,o===null?(s.childLanes=0,s.lanes=t,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=o.childLanes,s.lanes=o.lanes,s.child=o.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=o.memoizedProps,s.memoizedState=o.memoizedState,s.updateQueue=o.updateQueue,s.type=o.type,t=o.dependencies,s.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),r=r.sibling;return jt(Kt,Kt.current&1|2),e.child}t=t.sibling}s.tail!==null&&or()>_l&&(e.flags|=128,n=!0,dc(s,!1),e.lanes=4194304)}else{if(!n)if(t=af(o),t!==null){if(e.flags|=128,n=!0,r=t.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),dc(s,!0),s.tail===null&&s.tailMode==="hidden"&&!o.alternate&&!Gt)return Kr(e),null}else 2*or()-s.renderingStartTime>_l&&r!==1073741824&&(e.flags|=128,n=!0,dc(s,!1),e.lanes=4194304);s.isBackwards?(o.sibling=e.child,e.child=o):(r=s.last,r!==null?r.sibling=o:e.child=o,s.last=o)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=or(),e.sibling=null,r=Kt.current,jt(Kt,n?r&1|2:r&1),e):(Kr(e),null);case 22:case 23:return Ix(),n=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==n&&(e.flags|=8192),n&&e.mode&1?Un&1073741824&&(Kr(e),e.subtreeFlags&6&&(e.flags|=8192)):Kr(e),null;case 24:return null;case 25:return null}throw Error(he(156,e.tag))}function iN(t,e){switch(lx(e),e.tag){case 1:return Dn(e.type)&&Qd(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Sl(),Ht(Pn),Ht(rn),mx(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return gx(e),null;case 13:if(Ht(Kt),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(he(340));Al()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return Ht(Kt),null;case 4:return Sl(),null;case 10:return fx(e.type._context),null;case 22:case 23:return Ix(),null;case 24:return null;default:return null}}var ed=!1,en=!1,sN=typeof WeakSet=="function"?WeakSet:Set,Ie=null;function Go(t,e){var r=t.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(n){sr(t,e,n)}else r.current=null}function Ph(t,e,r){try{r()}catch(n){sr(t,e,n)}}var f2=!1;function aN(t,e){if(xh=$d,t=kw(),ax(t)){if("selectionStart"in t)var r={start:t.selectionStart,end:t.selectionEnd};else e:{r=(r=t.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var i=n.anchorOffset,s=n.focusNode;n=n.focusOffset;try{r.nodeType,s.nodeType}catch{r=null;break e}var o=0,u=-1,f=-1,h=0,m=0,v=t,w=null;t:for(;;){for(var C;v!==r||i!==0&&v.nodeType!==3||(u=o+i),v!==s||n!==0&&v.nodeType!==3||(f=o+n),v.nodeType===3&&(o+=v.nodeValue.length),(C=v.firstChild)!==null;)w=v,v=C;for(;;){if(v===t)break t;if(w===r&&++h===i&&(u=o),w===s&&++m===n&&(f=o),(C=v.nextSibling)!==null)break;v=w,w=v.parentNode}v=C}r=u===-1||f===-1?null:{start:u,end:f}}else r=null}r=r||{start:0,end:0}}else r=null;for(gh={focusedElem:t,selectionRange:r},$d=!1,Ie=e;Ie!==null;)if(e=Ie,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,Ie=t;else for(;Ie!==null;){e=Ie;try{var N=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(N!==null){var b=N.memoizedProps,R=N.memoizedState,_=e.stateNode,S=_.getSnapshotBeforeUpdate(e.elementType===e.type?b:Ai(e.type,b),R);_.__reactInternalSnapshotBeforeUpdate=S}break;case 3:var T=e.stateNode.containerInfo;T.nodeType===1?T.textContent="":T.nodeType===9&&T.documentElement&&T.removeChild(T.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(he(163))}}catch(P){sr(e,e.return,P)}if(t=e.sibling,t!==null){t.return=e.return,Ie=t;break}Ie=e.return}return N=f2,f2=!1,N}function Lc(t,e,r){var n=e.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var i=n=n.next;do{if((i.tag&t)===t){var s=i.destroy;i.destroy=void 0,s!==void 0&&Ph(e,r,s)}i=i.next}while(i!==n)}}function Wf(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var r=e=e.next;do{if((r.tag&t)===t){var n=r.create;r.destroy=n()}r=r.next}while(r!==e)}}function Dh(t){var e=t.ref;if(e!==null){var r=t.stateNode;switch(t.tag){case 5:t=r;break;default:t=r}typeof e=="function"?e(t):e.current=t}}function P3(t){var e=t.alternate;e!==null&&(t.alternate=null,P3(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[Ki],delete e[qc],delete e[yh],delete e[H6],delete e[z6])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function D3(t){return t.tag===5||t.tag===3||t.tag===4}function h2(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||D3(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function jh(t,e,r){var n=t.tag;if(n===5||n===6)t=t.stateNode,e?r.nodeType===8?r.parentNode.insertBefore(t,e):r.insertBefore(t,e):(r.nodeType===8?(e=r.parentNode,e.insertBefore(t,r)):(e=r,e.appendChild(t)),r=r._reactRootContainer,r!=null||e.onclick!==null||(e.onclick=qd));else if(n!==4&&(t=t.child,t!==null))for(jh(t,e,r),t=t.sibling;t!==null;)jh(t,e,r),t=t.sibling}function Mh(t,e,r){var n=t.tag;if(n===5||n===6)t=t.stateNode,e?r.insertBefore(t,e):r.appendChild(t);else if(n!==4&&(t=t.child,t!==null))for(Mh(t,e,r),t=t.sibling;t!==null;)Mh(t,e,r),t=t.sibling}var Ur=null,Si=!1;function Bs(t,e,r){for(r=r.child;r!==null;)j3(t,e,r),r=r.sibling}function j3(t,e,r){if(ts&&typeof ts.onCommitFiberUnmount=="function")try{ts.onCommitFiberUnmount(Lf,r)}catch{}switch(r.tag){case 5:en||Go(r,e);case 6:var n=Ur,i=Si;Ur=null,Bs(t,e,r),Ur=n,Si=i,Ur!==null&&(Si?(t=Ur,r=r.stateNode,t.nodeType===8?t.parentNode.removeChild(r):t.removeChild(r)):Ur.removeChild(r.stateNode));break;case 18:Ur!==null&&(Si?(t=Ur,r=r.stateNode,t.nodeType===8?o1(t.parentNode,r):t.nodeType===1&&o1(t,r),Xc(t)):o1(Ur,r.stateNode));break;case 4:n=Ur,i=Si,Ur=r.stateNode.containerInfo,Si=!0,Bs(t,e,r),Ur=n,Si=i;break;case 0:case 11:case 14:case 15:if(!en&&(n=r.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){i=n=n.next;do{var s=i,o=s.destroy;s=s.tag,o!==void 0&&(s&2||s&4)&&Ph(r,e,o),i=i.next}while(i!==n)}Bs(t,e,r);break;case 1:if(!en&&(Go(r,e),n=r.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(u){sr(r,e,u)}Bs(t,e,r);break;case 21:Bs(t,e,r);break;case 22:r.mode&1?(en=(n=en)||r.memoizedState!==null,Bs(t,e,r),en=n):Bs(t,e,r);break;default:Bs(t,e,r)}}function p2(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var r=t.stateNode;r===null&&(r=t.stateNode=new sN),e.forEach(function(n){var i=xN.bind(null,t,n);r.has(n)||(r.add(n),n.then(i,i))})}}function yi(t,e){var r=e.deletions;if(r!==null)for(var n=0;n<r.length;n++){var i=r[n];try{var s=t,o=e,u=o;e:for(;u!==null;){switch(u.tag){case 5:Ur=u.stateNode,Si=!1;break e;case 3:Ur=u.stateNode.containerInfo,Si=!0;break e;case 4:Ur=u.stateNode.containerInfo,Si=!0;break e}u=u.return}if(Ur===null)throw Error(he(160));j3(s,o,i),Ur=null,Si=!1;var f=i.alternate;f!==null&&(f.return=null),i.return=null}catch(h){sr(i,e,h)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)M3(e,t),e=e.sibling}function M3(t,e){var r=t.alternate,n=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(yi(e,t),zi(t),n&4){try{Lc(3,t,t.return),Wf(3,t)}catch(b){sr(t,t.return,b)}try{Lc(5,t,t.return)}catch(b){sr(t,t.return,b)}}break;case 1:yi(e,t),zi(t),n&512&&r!==null&&Go(r,r.return);break;case 5:if(yi(e,t),zi(t),n&512&&r!==null&&Go(r,r.return),t.flags&32){var i=t.stateNode;try{Hc(i,"")}catch(b){sr(t,t.return,b)}}if(n&4&&(i=t.stateNode,i!=null)){var s=t.memoizedProps,o=r!==null?r.memoizedProps:s,u=t.type,f=t.updateQueue;if(t.updateQueue=null,f!==null)try{u==="input"&&s.type==="radio"&&s.name!=null&&nw(i,s),sh(u,o);var h=sh(u,s);for(o=0;o<f.length;o+=2){var m=f[o],v=f[o+1];m==="style"?lw(i,v):m==="dangerouslySetInnerHTML"?aw(i,v):m==="children"?Hc(i,v):Yp(i,m,v,h)}switch(u){case"input":eh(i,s);break;case"textarea":iw(i,s);break;case"select":var w=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var C=s.value;C!=null?Zo(i,!!s.multiple,C,!1):w!==!!s.multiple&&(s.defaultValue!=null?Zo(i,!!s.multiple,s.defaultValue,!0):Zo(i,!!s.multiple,s.multiple?[]:"",!1))}i[qc]=s}catch(b){sr(t,t.return,b)}}break;case 6:if(yi(e,t),zi(t),n&4){if(t.stateNode===null)throw Error(he(162));i=t.stateNode,s=t.memoizedProps;try{i.nodeValue=s}catch(b){sr(t,t.return,b)}}break;case 3:if(yi(e,t),zi(t),n&4&&r!==null&&r.memoizedState.isDehydrated)try{Xc(e.containerInfo)}catch(b){sr(t,t.return,b)}break;case 4:yi(e,t),zi(t);break;case 13:yi(e,t),zi(t),i=t.child,i.flags&8192&&(s=i.memoizedState!==null,i.stateNode.isHidden=s,!s||i.alternate!==null&&i.alternate.memoizedState!==null||(Nx=or())),n&4&&p2(t);break;case 22:if(m=r!==null&&r.memoizedState!==null,t.mode&1?(en=(h=en)||m,yi(e,t),en=h):yi(e,t),zi(t),n&8192){if(h=t.memoizedState!==null,(t.stateNode.isHidden=h)&&!m&&t.mode&1)for(Ie=t,m=t.child;m!==null;){for(v=Ie=m;Ie!==null;){switch(w=Ie,C=w.child,w.tag){case 0:case 11:case 14:case 15:Lc(4,w,w.return);break;case 1:Go(w,w.return);var N=w.stateNode;if(typeof N.componentWillUnmount=="function"){n=w,r=w.return;try{e=n,N.props=e.memoizedProps,N.state=e.memoizedState,N.componentWillUnmount()}catch(b){sr(n,r,b)}}break;case 5:Go(w,w.return);break;case 22:if(w.memoizedState!==null){g2(v);continue}}C!==null?(C.return=w,Ie=C):g2(v)}m=m.sibling}e:for(m=null,v=t;;){if(v.tag===5){if(m===null){m=v;try{i=v.stateNode,h?(s=i.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(u=v.stateNode,f=v.memoizedProps.style,o=f!=null&&f.hasOwnProperty("display")?f.display:null,u.style.display=ow("display",o))}catch(b){sr(t,t.return,b)}}}else if(v.tag===6){if(m===null)try{v.stateNode.nodeValue=h?"":v.memoizedProps}catch(b){sr(t,t.return,b)}}else if((v.tag!==22&&v.tag!==23||v.memoizedState===null||v===t)&&v.child!==null){v.child.return=v,v=v.child;continue}if(v===t)break e;for(;v.sibling===null;){if(v.return===null||v.return===t)break e;m===v&&(m=null),v=v.return}m===v&&(m=null),v.sibling.return=v.return,v=v.sibling}}break;case 19:yi(e,t),zi(t),n&4&&p2(t);break;case 21:break;default:yi(e,t),zi(t)}}function zi(t){var e=t.flags;if(e&2){try{e:{for(var r=t.return;r!==null;){if(D3(r)){var n=r;break e}r=r.return}throw Error(he(160))}switch(n.tag){case 5:var i=n.stateNode;n.flags&32&&(Hc(i,""),n.flags&=-33);var s=h2(t);Mh(t,s,i);break;case 3:case 4:var o=n.stateNode.containerInfo,u=h2(t);jh(t,u,o);break;default:throw Error(he(161))}}catch(f){sr(t,t.return,f)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function oN(t,e,r){Ie=t,k3(t)}function k3(t,e,r){for(var n=(t.mode&1)!==0;Ie!==null;){var i=Ie,s=i.child;if(i.tag===22&&n){var o=i.memoizedState!==null||ed;if(!o){var u=i.alternate,f=u!==null&&u.memoizedState!==null||en;u=ed;var h=en;if(ed=o,(en=f)&&!h)for(Ie=i;Ie!==null;)o=Ie,f=o.child,o.tag===22&&o.memoizedState!==null?m2(i):f!==null?(f.return=o,Ie=f):m2(i);for(;s!==null;)Ie=s,k3(s),s=s.sibling;Ie=i,ed=u,en=h}x2(t)}else i.subtreeFlags&8772&&s!==null?(s.return=i,Ie=s):x2(t)}}function x2(t){for(;Ie!==null;){var e=Ie;if(e.flags&8772){var r=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:en||Wf(5,e);break;case 1:var n=e.stateNode;if(e.flags&4&&!en)if(r===null)n.componentDidMount();else{var i=e.elementType===e.type?r.memoizedProps:Ai(e.type,r.memoizedProps);n.componentDidUpdate(i,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var s=e.updateQueue;s!==null&&Jm(e,s,n);break;case 3:var o=e.updateQueue;if(o!==null){if(r=null,e.child!==null)switch(e.child.tag){case 5:r=e.child.stateNode;break;case 1:r=e.child.stateNode}Jm(e,o,r)}break;case 5:var u=e.stateNode;if(r===null&&e.flags&4){r=u;var f=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":f.autoFocus&&r.focus();break;case"img":f.src&&(r.src=f.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var h=e.alternate;if(h!==null){var m=h.memoizedState;if(m!==null){var v=m.dehydrated;v!==null&&Xc(v)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(he(163))}en||e.flags&512&&Dh(e)}catch(w){sr(e,e.return,w)}}if(e===t){Ie=null;break}if(r=e.sibling,r!==null){r.return=e.return,Ie=r;break}Ie=e.return}}function g2(t){for(;Ie!==null;){var e=Ie;if(e===t){Ie=null;break}var r=e.sibling;if(r!==null){r.return=e.return,Ie=r;break}Ie=e.return}}function m2(t){for(;Ie!==null;){var e=Ie;try{switch(e.tag){case 0:case 11:case 15:var r=e.return;try{Wf(4,e)}catch(f){sr(e,r,f)}break;case 1:var n=e.stateNode;if(typeof n.componentDidMount=="function"){var i=e.return;try{n.componentDidMount()}catch(f){sr(e,i,f)}}var s=e.return;try{Dh(e)}catch(f){sr(e,s,f)}break;case 5:var o=e.return;try{Dh(e)}catch(f){sr(e,o,f)}}}catch(f){sr(e,e.return,f)}if(e===t){Ie=null;break}var u=e.sibling;if(u!==null){u.return=e.return,Ie=u;break}Ie=e.return}}var lN=Math.ceil,cf=Ts.ReactCurrentDispatcher,bx=Ts.ReactCurrentOwner,li=Ts.ReactCurrentBatchConfig,ft=0,Dr=null,fr=null,Hr=0,Un=0,Wo=Ra(0),br=0,nu=null,co=0,Xf=0,Sx=0,Bc=null,_n=null,Nx=0,_l=1/0,xs=null,uf=!1,kh=null,pa=null,td=!1,oa=null,df=0,Fc=0,Lh=null,Td=-1,Rd=0;function xn(){return ft&6?or():Td!==-1?Td:Td=or()}function xa(t){return t.mode&1?ft&2&&Hr!==0?Hr&-Hr:W6.transition!==null?(Rd===0&&(Rd=ww()),Rd):(t=St,t!==0||(t=window.event,t=t===void 0?16:_w(t.type)),t):1}function Oi(t,e,r,n){if(50<Fc)throw Fc=0,Lh=null,Error(he(185));gu(t,r,n),(!(ft&2)||t!==Dr)&&(t===Dr&&(!(ft&2)&&(Xf|=r),br===4&&Ks(t,Hr)),jn(t,n),r===1&&ft===0&&!(e.mode&1)&&(_l=or()+500,Hf&&Oa()))}function jn(t,e){var r=t.callbackNode;WS(t,e);var n=Yd(t,t===Dr?Hr:0);if(n===0)r!==null&&Nm(r),t.callbackNode=null,t.callbackPriority=0;else if(e=n&-n,t.callbackPriority!==e){if(r!=null&&Nm(r),e===1)t.tag===0?G6(v2.bind(null,t)):Xw(v2.bind(null,t)),U6(function(){!(ft&6)&&Oa()}),r=null;else{switch(Cw(n)){case 1:r=Qp;break;case 4:r=vw;break;case 16:r=Xd;break;case 536870912:r=yw;break;default:r=Xd}r=G3(r,L3.bind(null,t))}t.callbackPriority=e,t.callbackNode=r}}function L3(t,e){if(Td=-1,Rd=0,ft&6)throw Error(he(327));var r=t.callbackNode;if(tl()&&t.callbackNode!==r)return null;var n=Yd(t,t===Dr?Hr:0);if(n===0)return null;if(n&30||n&t.expiredLanes||e)e=ff(t,n);else{e=n;var i=ft;ft|=2;var s=F3();(Dr!==t||Hr!==e)&&(xs=null,_l=or()+500,no(t,e));do try{dN();break}catch(u){B3(t,u)}while(!0);dx(),cf.current=s,ft=i,fr!==null?e=0:(Dr=null,Hr=0,e=br)}if(e!==0){if(e===2&&(i=uh(t),i!==0&&(n=i,e=Bh(t,i))),e===1)throw r=nu,no(t,0),Ks(t,n),jn(t,or()),r;if(e===6)Ks(t,n);else{if(i=t.current.alternate,!(n&30)&&!cN(i)&&(e=ff(t,n),e===2&&(s=uh(t),s!==0&&(n=s,e=Bh(t,s))),e===1))throw r=nu,no(t,0),Ks(t,n),jn(t,or()),r;switch(t.finishedWork=i,t.finishedLanes=n,e){case 0:case 1:throw Error(he(345));case 2:za(t,_n,xs);break;case 3:if(Ks(t,n),(n&130023424)===n&&(e=Nx+500-or(),10<e)){if(Yd(t,0)!==0)break;if(i=t.suspendedLanes,(i&n)!==n){xn(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=vh(za.bind(null,t,_n,xs),e);break}za(t,_n,xs);break;case 4:if(Ks(t,n),(n&4194240)===n)break;for(e=t.eventTimes,i=-1;0<n;){var o=31-Ri(n);s=1<<o,o=e[o],o>i&&(i=o),n&=~s}if(n=i,n=or()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*lN(n/1960))-n,10<n){t.timeoutHandle=vh(za.bind(null,t,_n,xs),n);break}za(t,_n,xs);break;case 5:za(t,_n,xs);break;default:throw Error(he(329))}}}return jn(t,or()),t.callbackNode===r?L3.bind(null,t):null}function Bh(t,e){var r=Bc;return t.current.memoizedState.isDehydrated&&(no(t,e).flags|=256),t=ff(t,e),t!==2&&(e=_n,_n=r,e!==null&&Fh(e)),t}function Fh(t){_n===null?_n=t:_n.push.apply(_n,t)}function cN(t){for(var e=t;;){if(e.flags&16384){var r=e.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var n=0;n<r.length;n++){var i=r[n],s=i.getSnapshot;i=i.value;try{if(!Di(s(),i))return!1}catch{return!1}}}if(r=e.child,e.subtreeFlags&16384&&r!==null)r.return=e,e=r;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Ks(t,e){for(e&=~Sx,e&=~Xf,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var r=31-Ri(e),n=1<<r;t[r]=-1,e&=~n}}function v2(t){if(ft&6)throw Error(he(327));tl();var e=Yd(t,0);if(!(e&1))return jn(t,or()),null;var r=ff(t,e);if(t.tag!==0&&r===2){var n=uh(t);n!==0&&(e=n,r=Bh(t,n))}if(r===1)throw r=nu,no(t,0),Ks(t,e),jn(t,or()),r;if(r===6)throw Error(he(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,za(t,_n,xs),jn(t,or()),null}function _x(t,e){var r=ft;ft|=1;try{return t(e)}finally{ft=r,ft===0&&(_l=or()+500,Hf&&Oa())}}function uo(t){oa!==null&&oa.tag===0&&!(ft&6)&&tl();var e=ft;ft|=1;var r=li.transition,n=St;try{if(li.transition=null,St=1,t)return t()}finally{St=n,li.transition=r,ft=e,!(ft&6)&&Oa()}}function Ix(){Un=Wo.current,Ht(Wo)}function no(t,e){t.finishedWork=null,t.finishedLanes=0;var r=t.timeoutHandle;if(r!==-1&&(t.timeoutHandle=-1,F6(r)),fr!==null)for(r=fr.return;r!==null;){var n=r;switch(lx(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&Qd();break;case 3:Sl(),Ht(Pn),Ht(rn),mx();break;case 5:gx(n);break;case 4:Sl();break;case 13:Ht(Kt);break;case 19:Ht(Kt);break;case 10:fx(n.type._context);break;case 22:case 23:Ix()}r=r.return}if(Dr=t,fr=t=ga(t.current,null),Hr=Un=e,br=0,nu=null,Sx=Xf=co=0,_n=Bc=null,Xa!==null){for(e=0;e<Xa.length;e++)if(r=Xa[e],n=r.interleaved,n!==null){r.interleaved=null;var i=n.next,s=r.pending;if(s!==null){var o=s.next;s.next=i,n.next=o}r.pending=n}Xa=null}return t}function B3(t,e){do{var r=fr;try{if(dx(),Nd.current=lf,of){for(var n=qt.memoizedState;n!==null;){var i=n.queue;i!==null&&(i.pending=null),n=n.next}of=!1}if(lo=0,Rr=yr=qt=null,kc=!1,eu=0,bx.current=null,r===null||r.return===null){br=1,nu=e,fr=null;break}e:{var s=t,o=r.return,u=r,f=e;if(e=Hr,u.flags|=32768,f!==null&&typeof f=="object"&&typeof f.then=="function"){var h=f,m=u,v=m.tag;if(!(m.mode&1)&&(v===0||v===11||v===15)){var w=m.alternate;w?(m.updateQueue=w.updateQueue,m.memoizedState=w.memoizedState,m.lanes=w.lanes):(m.updateQueue=null,m.memoizedState=null)}var C=s2(o);if(C!==null){C.flags&=-257,a2(C,o,u,s,e),C.mode&1&&i2(s,h,e),e=C,f=h;var N=e.updateQueue;if(N===null){var b=new Set;b.add(f),e.updateQueue=b}else N.add(f);break e}else{if(!(e&1)){i2(s,h,e),Tx();break e}f=Error(he(426))}}else if(Gt&&u.mode&1){var R=s2(o);if(R!==null){!(R.flags&65536)&&(R.flags|=256),a2(R,o,u,s,e),cx(Nl(f,u));break e}}s=f=Nl(f,u),br!==4&&(br=2),Bc===null?Bc=[s]:Bc.push(s),s=o;do{switch(s.tag){case 3:s.flags|=65536,e&=-e,s.lanes|=e;var _=C3(s,f,e);Qm(s,_);break e;case 1:u=f;var S=s.type,T=s.stateNode;if(!(s.flags&128)&&(typeof S.getDerivedStateFromError=="function"||T!==null&&typeof T.componentDidCatch=="function"&&(pa===null||!pa.has(T)))){s.flags|=65536,e&=-e,s.lanes|=e;var P=E3(s,u,e);Qm(s,P);break e}}s=s.return}while(s!==null)}V3(r)}catch(B){e=B,fr===r&&r!==null&&(fr=r=r.return);continue}break}while(!0)}function F3(){var t=cf.current;return cf.current=lf,t===null?lf:t}function Tx(){(br===0||br===3||br===2)&&(br=4),Dr===null||!(co&268435455)&&!(Xf&268435455)||Ks(Dr,Hr)}function ff(t,e){var r=ft;ft|=2;var n=F3();(Dr!==t||Hr!==e)&&(xs=null,no(t,e));do try{uN();break}catch(i){B3(t,i)}while(!0);if(dx(),ft=r,cf.current=n,fr!==null)throw Error(he(261));return Dr=null,Hr=0,br}function uN(){for(;fr!==null;)U3(fr)}function dN(){for(;fr!==null&&!kS();)U3(fr)}function U3(t){var e=z3(t.alternate,t,Un);t.memoizedProps=t.pendingProps,e===null?V3(t):fr=e,bx.current=null}function V3(t){var e=t;do{var r=e.alternate;if(t=e.return,e.flags&32768){if(r=iN(r,e),r!==null){r.flags&=32767,fr=r;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{br=6,fr=null;return}}else if(r=nN(r,e,Un),r!==null){fr=r;return}if(e=e.sibling,e!==null){fr=e;return}fr=e=t}while(e!==null);br===0&&(br=5)}function za(t,e,r){var n=St,i=li.transition;try{li.transition=null,St=1,fN(t,e,r,n)}finally{li.transition=i,St=n}return null}function fN(t,e,r,n){do tl();while(oa!==null);if(ft&6)throw Error(he(327));r=t.finishedWork;var i=t.finishedLanes;if(r===null)return null;if(t.finishedWork=null,t.finishedLanes=0,r===t.current)throw Error(he(177));t.callbackNode=null,t.callbackPriority=0;var s=r.lanes|r.childLanes;if(XS(t,s),t===Dr&&(fr=Dr=null,Hr=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||td||(td=!0,G3(Xd,function(){return tl(),null})),s=(r.flags&15990)!==0,r.subtreeFlags&15990||s){s=li.transition,li.transition=null;var o=St;St=1;var u=ft;ft|=4,bx.current=null,aN(t,r),M3(r,t),P6(gh),$d=!!xh,gh=xh=null,t.current=r,oN(r),LS(),ft=u,St=o,li.transition=s}else t.current=r;if(td&&(td=!1,oa=t,df=i),s=t.pendingLanes,s===0&&(pa=null),US(r.stateNode),jn(t,or()),e!==null)for(n=t.onRecoverableError,r=0;r<e.length;r++)i=e[r],n(i.value,{componentStack:i.stack,digest:i.digest});if(uf)throw uf=!1,t=kh,kh=null,t;return df&1&&t.tag!==0&&tl(),s=t.pendingLanes,s&1?t===Lh?Fc++:(Fc=0,Lh=t):Fc=0,Oa(),null}function tl(){if(oa!==null){var t=Cw(df),e=li.transition,r=St;try{if(li.transition=null,St=16>t?16:t,oa===null)var n=!1;else{if(t=oa,oa=null,df=0,ft&6)throw Error(he(331));var i=ft;for(ft|=4,Ie=t.current;Ie!==null;){var s=Ie,o=s.child;if(Ie.flags&16){var u=s.deletions;if(u!==null){for(var f=0;f<u.length;f++){var h=u[f];for(Ie=h;Ie!==null;){var m=Ie;switch(m.tag){case 0:case 11:case 15:Lc(8,m,s)}var v=m.child;if(v!==null)v.return=m,Ie=v;else for(;Ie!==null;){m=Ie;var w=m.sibling,C=m.return;if(P3(m),m===h){Ie=null;break}if(w!==null){w.return=C,Ie=w;break}Ie=C}}}var N=s.alternate;if(N!==null){var b=N.child;if(b!==null){N.child=null;do{var R=b.sibling;b.sibling=null,b=R}while(b!==null)}}Ie=s}}if(s.subtreeFlags&2064&&o!==null)o.return=s,Ie=o;else e:for(;Ie!==null;){if(s=Ie,s.flags&2048)switch(s.tag){case 0:case 11:case 15:Lc(9,s,s.return)}var _=s.sibling;if(_!==null){_.return=s.return,Ie=_;break e}Ie=s.return}}var S=t.current;for(Ie=S;Ie!==null;){o=Ie;var T=o.child;if(o.subtreeFlags&2064&&T!==null)T.return=o,Ie=T;else e:for(o=S;Ie!==null;){if(u=Ie,u.flags&2048)try{switch(u.tag){case 0:case 11:case 15:Wf(9,u)}}catch(B){sr(u,u.return,B)}if(u===o){Ie=null;break e}var P=u.sibling;if(P!==null){P.return=u.return,Ie=P;break e}Ie=u.return}}if(ft=i,Oa(),ts&&typeof ts.onPostCommitFiberRoot=="function")try{ts.onPostCommitFiberRoot(Lf,t)}catch{}n=!0}return n}finally{St=r,li.transition=e}}return!1}function y2(t,e,r){e=Nl(r,e),e=C3(t,e,1),t=ha(t,e,1),e=xn(),t!==null&&(gu(t,1,e),jn(t,e))}function sr(t,e,r){if(t.tag===3)y2(t,t,r);else for(;e!==null;){if(e.tag===3){y2(e,t,r);break}else if(e.tag===1){var n=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(pa===null||!pa.has(n))){t=Nl(r,t),t=E3(e,t,1),e=ha(e,t,1),t=xn(),e!==null&&(gu(e,1,t),jn(e,t));break}}e=e.return}}function hN(t,e,r){var n=t.pingCache;n!==null&&n.delete(e),e=xn(),t.pingedLanes|=t.suspendedLanes&r,Dr===t&&(Hr&r)===r&&(br===4||br===3&&(Hr&130023424)===Hr&&500>or()-Nx?no(t,0):Sx|=r),jn(t,e)}function H3(t,e){e===0&&(t.mode&1?(e=Wu,Wu<<=1,!(Wu&130023424)&&(Wu=4194304)):e=1);var r=xn();t=bs(t,e),t!==null&&(gu(t,e,r),jn(t,r))}function pN(t){var e=t.memoizedState,r=0;e!==null&&(r=e.retryLane),H3(t,r)}function xN(t,e){var r=0;switch(t.tag){case 13:var n=t.stateNode,i=t.memoizedState;i!==null&&(r=i.retryLane);break;case 19:n=t.stateNode;break;default:throw Error(he(314))}n!==null&&n.delete(e),H3(t,r)}var z3;z3=function(t,e,r){if(t!==null)if(t.memoizedProps!==e.pendingProps||Pn.current)Rn=!0;else{if(!(t.lanes&r)&&!(e.flags&128))return Rn=!1,rN(t,e,r);Rn=!!(t.flags&131072)}else Rn=!1,Gt&&e.flags&1048576&&Yw(e,tf,e.index);switch(e.lanes=0,e.tag){case 2:var n=e.type;Id(t,e),t=e.pendingProps;var i=El(e,rn.current);el(e,r),i=yx(null,e,n,t,i,r);var s=wx();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,Dn(n)?(s=!0,Jd(e)):s=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,px(e),i.updater=Gf,e.stateNode=i,i._reactInternals=e,Sh(e,n,t,r),e=Ih(null,e,n,!0,s,r)):(e.tag=0,Gt&&s&&ox(e),hn(null,e,i,r),e=e.child),e;case 16:n=e.elementType;e:{switch(Id(t,e),t=e.pendingProps,i=n._init,n=i(n._payload),e.type=n,i=e.tag=mN(n),t=Ai(n,t),i){case 0:e=_h(null,e,n,t,r);break e;case 1:e=c2(null,e,n,t,r);break e;case 11:e=o2(null,e,n,t,r);break e;case 14:e=l2(null,e,n,Ai(n.type,t),r);break e}throw Error(he(306,n,""))}return e;case 0:return n=e.type,i=e.pendingProps,i=e.elementType===n?i:Ai(n,i),_h(t,e,n,i,r);case 1:return n=e.type,i=e.pendingProps,i=e.elementType===n?i:Ai(n,i),c2(t,e,n,i,r);case 3:e:{if(N3(e),t===null)throw Error(he(387));n=e.pendingProps,s=e.memoizedState,i=s.element,Jw(t,e),sf(e,n,null,r);var o=e.memoizedState;if(n=o.element,s.isDehydrated)if(s={element:n,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=s,e.memoizedState=s,e.flags&256){i=Nl(Error(he(423)),e),e=u2(t,e,n,r,i);break e}else if(n!==i){i=Nl(Error(he(424)),e),e=u2(t,e,n,r,i);break e}else for(Hn=fa(e.stateNode.containerInfo.firstChild),zn=e,Gt=!0,Ni=null,r=qw(e,null,n,r),e.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(Al(),n===i){e=Ss(t,e,r);break e}hn(t,e,n,r)}e=e.child}return e;case 5:return e3(e),t===null&&Eh(e),n=e.type,i=e.pendingProps,s=t!==null?t.memoizedProps:null,o=i.children,mh(n,i)?o=null:s!==null&&mh(n,s)&&(e.flags|=32),S3(t,e),hn(t,e,o,r),e.child;case 6:return t===null&&Eh(e),null;case 13:return _3(t,e,r);case 4:return xx(e,e.stateNode.containerInfo),n=e.pendingProps,t===null?e.child=bl(e,null,n,r):hn(t,e,n,r),e.child;case 11:return n=e.type,i=e.pendingProps,i=e.elementType===n?i:Ai(n,i),o2(t,e,n,i,r);case 7:return hn(t,e,e.pendingProps,r),e.child;case 8:return hn(t,e,e.pendingProps.children,r),e.child;case 12:return hn(t,e,e.pendingProps.children,r),e.child;case 10:e:{if(n=e.type._context,i=e.pendingProps,s=e.memoizedProps,o=i.value,jt(rf,n._currentValue),n._currentValue=o,s!==null)if(Di(s.value,o)){if(s.children===i.children&&!Pn.current){e=Ss(t,e,r);break e}}else for(s=e.child,s!==null&&(s.return=e);s!==null;){var u=s.dependencies;if(u!==null){o=s.child;for(var f=u.firstContext;f!==null;){if(f.context===n){if(s.tag===1){f=ws(-1,r&-r),f.tag=2;var h=s.updateQueue;if(h!==null){h=h.shared;var m=h.pending;m===null?f.next=f:(f.next=m.next,m.next=f),h.pending=f}}s.lanes|=r,f=s.alternate,f!==null&&(f.lanes|=r),Ah(s.return,r,e),u.lanes|=r;break}f=f.next}}else if(s.tag===10)o=s.type===e.type?null:s.child;else if(s.tag===18){if(o=s.return,o===null)throw Error(he(341));o.lanes|=r,u=o.alternate,u!==null&&(u.lanes|=r),Ah(o,r,e),o=s.sibling}else o=s.child;if(o!==null)o.return=s;else for(o=s;o!==null;){if(o===e){o=null;break}if(s=o.sibling,s!==null){s.return=o.return,o=s;break}o=o.return}s=o}hn(t,e,i.children,r),e=e.child}return e;case 9:return i=e.type,n=e.pendingProps.children,el(e,r),i=di(i),n=n(i),e.flags|=1,hn(t,e,n,r),e.child;case 14:return n=e.type,i=Ai(n,e.pendingProps),i=Ai(n.type,i),l2(t,e,n,i,r);case 15:return A3(t,e,e.type,e.pendingProps,r);case 17:return n=e.type,i=e.pendingProps,i=e.elementType===n?i:Ai(n,i),Id(t,e),e.tag=1,Dn(n)?(t=!0,Jd(e)):t=!1,el(e,r),w3(e,n,i),Sh(e,n,i,r),Ih(null,e,n,!0,t,r);case 19:return I3(t,e,r);case 22:return b3(t,e,r)}throw Error(he(156,e.tag))};function G3(t,e){return mw(t,e)}function gN(t,e,r,n){this.tag=t,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ai(t,e,r,n){return new gN(t,e,r,n)}function Rx(t){return t=t.prototype,!(!t||!t.isReactComponent)}function mN(t){if(typeof t=="function")return Rx(t)?1:0;if(t!=null){if(t=t.$$typeof,t===Kp)return 11;if(t===Zp)return 14}return 2}function ga(t,e){var r=t.alternate;return r===null?(r=ai(t.tag,e,t.key,t.mode),r.elementType=t.elementType,r.type=t.type,r.stateNode=t.stateNode,r.alternate=t,t.alternate=r):(r.pendingProps=e,r.type=t.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=t.flags&14680064,r.childLanes=t.childLanes,r.lanes=t.lanes,r.child=t.child,r.memoizedProps=t.memoizedProps,r.memoizedState=t.memoizedState,r.updateQueue=t.updateQueue,e=t.dependencies,r.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},r.sibling=t.sibling,r.index=t.index,r.ref=t.ref,r}function Od(t,e,r,n,i,s){var o=2;if(n=t,typeof t=="function")Rx(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case Mo:return io(r.children,i,s,e);case $p:o=8,i|=8;break;case K1:return t=ai(12,r,e,i|2),t.elementType=K1,t.lanes=s,t;case Z1:return t=ai(13,r,e,i),t.elementType=Z1,t.lanes=s,t;case q1:return t=ai(19,r,e,i),t.elementType=q1,t.lanes=s,t;case ew:return Yf(r,i,s,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case Qy:o=10;break e;case Jy:o=9;break e;case Kp:o=11;break e;case Zp:o=14;break e;case Ws:o=16,n=null;break e}throw Error(he(130,t==null?t:typeof t,""))}return e=ai(o,r,e,i),e.elementType=t,e.type=n,e.lanes=s,e}function io(t,e,r,n){return t=ai(7,t,n,e),t.lanes=r,t}function Yf(t,e,r,n){return t=ai(22,t,n,e),t.elementType=ew,t.lanes=r,t.stateNode={isHidden:!1},t}function x1(t,e,r){return t=ai(6,t,null,e),t.lanes=r,t}function g1(t,e,r){return e=ai(4,t.children!==null?t.children:[],t.key,e),e.lanes=r,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function vN(t,e,r,n,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Z0(0),this.expirationTimes=Z0(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Z0(0),this.identifierPrefix=n,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function Ox(t,e,r,n,i,s,o,u,f){return t=new vN(t,e,r,u,f),e===1?(e=1,s===!0&&(e|=8)):e=0,s=ai(3,null,null,e),t.current=s,s.stateNode=t,s.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},px(s),t}function yN(t,e,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:jo,key:n==null?null:""+n,children:t,containerInfo:e,implementation:r}}function W3(t){if(!t)return Aa;t=t._reactInternals;e:{if(vo(t)!==t||t.tag!==1)throw Error(he(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(Dn(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(he(171))}if(t.tag===1){var r=t.type;if(Dn(r))return Ww(t,r,e)}return e}function X3(t,e,r,n,i,s,o,u,f){return t=Ox(r,n,!0,t,i,s,o,u,f),t.context=W3(null),r=t.current,n=xn(),i=xa(r),s=ws(n,i),s.callback=e??null,ha(r,s,i),t.current.lanes=i,gu(t,i,n),jn(t,n),t}function $f(t,e,r,n){var i=e.current,s=xn(),o=xa(i);return r=W3(r),e.context===null?e.context=r:e.pendingContext=r,e=ws(s,o),e.payload={element:t},n=n===void 0?null:n,n!==null&&(e.callback=n),t=ha(i,e,o),t!==null&&(Oi(t,i,o,s),Sd(t,i,o)),o}function hf(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function w2(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var r=t.retryLane;t.retryLane=r!==0&&r<e?r:e}}function Px(t,e){w2(t,e),(t=t.alternate)&&w2(t,e)}function wN(){return null}var Y3=typeof reportError=="function"?reportError:function(t){console.error(t)};function Dx(t){this._internalRoot=t}Kf.prototype.render=Dx.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(he(409));$f(t,e,null,null)};Kf.prototype.unmount=Dx.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;uo(function(){$f(null,t,null,null)}),e[As]=null}};function Kf(t){this._internalRoot=t}Kf.prototype.unstable_scheduleHydration=function(t){if(t){var e=bw();t={blockedOn:null,target:t,priority:e};for(var r=0;r<$s.length&&e!==0&&e<$s[r].priority;r++);$s.splice(r,0,t),r===0&&Nw(t)}};function jx(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Zf(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function C2(){}function CN(t,e,r,n,i){if(i){if(typeof n=="function"){var s=n;n=function(){var h=hf(o);s.call(h)}}var o=X3(e,n,t,0,null,!1,!1,"",C2);return t._reactRootContainer=o,t[As]=o.current,Kc(t.nodeType===8?t.parentNode:t),uo(),o}for(;i=t.lastChild;)t.removeChild(i);if(typeof n=="function"){var u=n;n=function(){var h=hf(f);u.call(h)}}var f=Ox(t,0,!1,null,null,!1,!1,"",C2);return t._reactRootContainer=f,t[As]=f.current,Kc(t.nodeType===8?t.parentNode:t),uo(function(){$f(e,f,r,n)}),f}function qf(t,e,r,n,i){var s=r._reactRootContainer;if(s){var o=s;if(typeof i=="function"){var u=i;i=function(){var f=hf(o);u.call(f)}}$f(e,o,t,i)}else o=CN(r,e,t,i,n);return hf(o)}Ew=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var r=Ec(e.pendingLanes);r!==0&&(Jp(e,r|1),jn(e,or()),!(ft&6)&&(_l=or()+500,Oa()))}break;case 13:uo(function(){var n=bs(t,1);if(n!==null){var i=xn();Oi(n,t,1,i)}}),Px(t,1)}};ex=function(t){if(t.tag===13){var e=bs(t,134217728);if(e!==null){var r=xn();Oi(e,t,134217728,r)}Px(t,134217728)}};Aw=function(t){if(t.tag===13){var e=xa(t),r=bs(t,e);if(r!==null){var n=xn();Oi(r,t,e,n)}Px(t,e)}};bw=function(){return St};Sw=function(t,e){var r=St;try{return St=t,e()}finally{St=r}};oh=function(t,e,r){switch(e){case"input":if(eh(t,r),e=r.name,r.type==="radio"&&e!=null){for(r=t;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<r.length;e++){var n=r[e];if(n!==t&&n.form===t.form){var i=Vf(n);if(!i)throw Error(he(90));rw(n),eh(n,i)}}}break;case"textarea":iw(t,r);break;case"select":e=r.value,e!=null&&Zo(t,!!r.multiple,e,!1)}};dw=_x;fw=uo;var EN={usingClientEntryPoint:!1,Events:[vu,Fo,Vf,cw,uw,_x]},fc={findFiberByHostInstance:Wa,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},AN={bundleType:fc.bundleType,version:fc.version,rendererPackageName:fc.rendererPackageName,rendererConfig:fc.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Ts.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=xw(t),t===null?null:t.stateNode},findFiberByHostInstance:fc.findFiberByHostInstance||wN,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var rd=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!rd.isDisabled&&rd.supportsFiber)try{Lf=rd.inject(AN),ts=rd}catch{}}Xn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=EN;Xn.createPortal=function(t,e){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!jx(e))throw Error(he(200));return yN(t,e,null,r)};Xn.createRoot=function(t,e){if(!jx(t))throw Error(he(299));var r=!1,n="",i=Y3;return e!=null&&(e.unstable_strictMode===!0&&(r=!0),e.identifierPrefix!==void 0&&(n=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=Ox(t,1,!1,null,null,r,!1,n,i),t[As]=e.current,Kc(t.nodeType===8?t.parentNode:t),new Dx(e)};Xn.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(he(188)):(t=Object.keys(t).join(","),Error(he(268,t)));return t=xw(e),t=t===null?null:t.stateNode,t};Xn.flushSync=function(t){return uo(t)};Xn.hydrate=function(t,e,r){if(!Zf(e))throw Error(he(200));return qf(null,t,e,!0,r)};Xn.hydrateRoot=function(t,e,r){if(!jx(t))throw Error(he(405));var n=r!=null&&r.hydratedSources||null,i=!1,s="",o=Y3;if(r!=null&&(r.unstable_strictMode===!0&&(i=!0),r.identifierPrefix!==void 0&&(s=r.identifierPrefix),r.onRecoverableError!==void 0&&(o=r.onRecoverableError)),e=X3(e,null,t,1,r??null,i,!1,s,o),t[As]=e.current,Kc(t),n)for(t=0;t<n.length;t++)r=n[t],i=r._getVersion,i=i(r._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[r,i]:e.mutableSourceEagerHydrationData.push(r,i);return new Kf(e)};Xn.render=function(t,e,r){if(!Zf(e))throw Error(he(200));return qf(null,t,e,!1,r)};Xn.unmountComponentAtNode=function(t){if(!Zf(t))throw Error(he(40));return t._reactRootContainer?(uo(function(){qf(null,null,t,!1,function(){t._reactRootContainer=null,t[As]=null})}),!0):!1};Xn.unstable_batchedUpdates=_x;Xn.unstable_renderSubtreeIntoContainer=function(t,e,r,n){if(!Zf(r))throw Error(he(200));if(t==null||t._reactInternals===void 0)throw Error(he(38));return qf(t,e,r,!1,n)};Xn.version="18.3.1-next-f1338f8080-20240426";function $3(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE($3)}catch(t){console.error(t)}}$3(),$y.exports=Xn;var yo=$y.exports;const bN=Mf(yo);var K3,E2=yo;K3=E2.createRoot,E2.hydrateRoot;function SN(t,e){if(t instanceof RegExp)return{keys:!1,pattern:t};var r,n,i,s,o=[],u="",f=t.split("/");for(f[0]||f.shift();i=f.shift();)r=i[0],r==="*"?(o.push(r),u+=i[1]==="?"?"(?:/(.*))?":"/(.*)"):r===":"?(n=i.indexOf("?",1),s=i.indexOf(".",1),o.push(i.substring(1,~n?n:~s?s:i.length)),u+=~n&&!~s?"(?:/([^/]+?))?":"/([^/]+?)",~s&&(u+=(~n?"?":"")+"\\"+i.substring(s))):u+="/"+i;return{keys:o,pattern:new RegExp("^"+u+(e?"(?=$|/)":"/?$"),"i")}}var Z3={exports:{}},q3={};/**
 * @license React
 * use-sync-external-store-shim.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Il=I;function NN(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var _N=typeof Object.is=="function"?Object.is:NN,IN=Il.useState,TN=Il.useEffect,RN=Il.useLayoutEffect,ON=Il.useDebugValue;function PN(t,e){var r=e(),n=IN({inst:{value:r,getSnapshot:e}}),i=n[0].inst,s=n[1];return RN(function(){i.value=r,i.getSnapshot=e,m1(i)&&s({inst:i})},[t,r,e]),TN(function(){return m1(i)&&s({inst:i}),t(function(){m1(i)&&s({inst:i})})},[t]),ON(r),r}function m1(t){var e=t.getSnapshot;t=t.value;try{var r=e();return!_N(t,r)}catch{return!0}}function DN(t,e){return e()}var jN=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?DN:PN;q3.useSyncExternalStore=Il.useSyncExternalStore!==void 0?Il.useSyncExternalStore:jN;Z3.exports=q3;var MN=Z3.exports;const kN=Xy.useInsertionEffect,LN=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",BN=LN?I.useLayoutEffect:I.useEffect,FN=kN||BN,Q3=t=>{const e=I.useRef([t,(...r)=>e[0](...r)]).current;return FN(()=>{e[0]=t}),e[1]},UN="popstate",Mx="pushState",kx="replaceState",VN="hashchange",A2=[UN,Mx,kx,VN],HN=t=>{for(const e of A2)addEventListener(e,t);return()=>{for(const e of A2)removeEventListener(e,t)}},J3=(t,e)=>MN.useSyncExternalStore(HN,t,e),zN=()=>location.search,GN=({ssrSearch:t=""}={})=>J3(zN,()=>t),b2=()=>location.pathname,WN=({ssrPath:t}={})=>J3(b2,t?()=>t:b2),XN=(t,{replace:e=!1,state:r=null}={})=>history[e?kx:Mx](r,"",t),YN=(t={})=>[WN(t),XN],S2=Symbol.for("wouter_v3");if(typeof history<"u"&&typeof window[S2]>"u"){for(const t of[Mx,kx]){const e=history[t];history[t]=function(){const r=e.apply(this,arguments),n=new Event(t);return n.arguments=arguments,dispatchEvent(n),r}}Object.defineProperty(window,S2,{value:!0})}const $N=(t,e)=>e.toLowerCase().indexOf(t.toLowerCase())?"~"+e:e.slice(t.length)||"/",eC=(t="")=>t==="/"?"":t,KN=(t,e)=>t[0]==="~"?t.slice(1):eC(e)+t,ZN=(t="",e)=>$N(N2(eC(t)),N2(e)),N2=t=>{try{return decodeURI(t)}catch{return t}},tC={hook:YN,searchHook:GN,parser:SN,base:"",ssrPath:void 0,ssrSearch:void 0,hrefs:t=>t},rC=I.createContext(tC),Qf=()=>I.useContext(rC),nC={},iC=I.createContext(nC),qN=()=>I.useContext(iC),Lx=t=>{const[e,r]=t.hook(t);return[ZN(t.base,e),Q3((n,i)=>r(KN(n,t.base),i))]},sC=(t,e,r,n)=>{const{pattern:i,keys:s}=e instanceof RegExp?{keys:!1,pattern:e}:t(e||"*",n),o=i.exec(r)||[],[u,...f]=o;return u!==void 0?[!0,(()=>{const h=s!==!1?Object.fromEntries(s.map((v,w)=>[v,f[w]])):o.groups;let m={...f};return h&&Object.assign(m,h),m})(),...n?[u]:[]]:[!1,null]},QN=({children:t,...e})=>{var m,v;const r=Qf(),n=e.hook?tC:r;let i=n;const[s,o]=((m=e.ssrPath)==null?void 0:m.split("?"))??[];o&&(e.ssrSearch=o,e.ssrPath=s),e.hrefs=e.hrefs??((v=e.hook)==null?void 0:v.hrefs);let u=I.useRef({}),f=u.current,h=f;for(let w in n){const C=w==="base"?n[w]+(e[w]||""):e[w]||n[w];f===h&&C!==h[w]&&(u.current=h={...h}),h[w]=C,C!==n[w]&&(i=h)}return I.createElement(rC.Provider,{value:i,children:t})},_2=({children:t,component:e},r)=>e?I.createElement(e,{params:r}):typeof t=="function"?t(r):t,JN=t=>{let e=I.useRef(nC),r=e.current;for(const n in t)t[n]!==r[n]&&(r=t);return Object.keys(t).length===0&&(r=t),e.current=r},Zr=({path:t,nest:e,match:r,...n})=>{const i=Qf(),[s]=Lx(i),[o,u,f]=r??sC(i.parser,t,s,e),h=JN({...qN(),...u});if(!o)return null;const m=f?I.createElement(QN,{base:f},_2(n,h)):_2(n,h);return I.createElement(iC.Provider,{value:h,children:m})},iu=I.forwardRef((t,e)=>{const r=Qf(),[n,i]=Lx(r),{to:s="",href:o=s,onClick:u,asChild:f,children:h,className:m,replace:v,state:w,...C}=t,N=Q3(R=>{R.ctrlKey||R.metaKey||R.altKey||R.shiftKey||R.button!==0||(u==null||u(R),R.defaultPrevented||(R.preventDefault(),i(o,t)))}),b=r.hrefs(o[0]==="~"?o.slice(1):r.base+o,r);return f&&I.isValidElement(h)?I.cloneElement(h,{onClick:N,href:b}):I.createElement("a",{...C,onClick:N,href:b,className:m!=null&&m.call?m(n===o):m,children:h,ref:e})}),aC=t=>Array.isArray(t)?t.flatMap(e=>aC(e&&e.type===I.Fragment?e.props.children:e)):[t],e_=({children:t,location:e})=>{const r=Qf(),[n]=Lx(r);for(const i of aC(t)){let s=0;if(I.isValidElement(i)&&(s=sC(r.parser,i.props.path,e||n,i.props.nest))[0])return I.cloneElement(i,{match:s})}return null};var Vl=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(t){return this.listeners.add(t),this.onSubscribe(),()=>{this.listeners.delete(t),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},fo=typeof window>"u"||"Deno"in globalThis;function ti(){}function t_(t,e){return typeof t=="function"?t(e):t}function Uh(t){return typeof t=="number"&&t>=0&&t!==1/0}function oC(t,e){return Math.max(t+(e||0)-Date.now(),0)}function rl(t,e){return typeof t=="function"?t(e):t}function _i(t,e){return typeof t=="function"?t(e):t}function I2(t,e){const{type:r="all",exact:n,fetchStatus:i,predicate:s,queryKey:o,stale:u}=t;if(o){if(n){if(e.queryHash!==Bx(o,e.options))return!1}else if(!su(e.queryKey,o))return!1}if(r!=="all"){const f=e.isActive();if(r==="active"&&!f||r==="inactive"&&f)return!1}return!(typeof u=="boolean"&&e.isStale()!==u||i&&i!==e.state.fetchStatus||s&&!s(e))}function T2(t,e){const{exact:r,status:n,predicate:i,mutationKey:s}=t;if(s){if(!e.options.mutationKey)return!1;if(r){if(ho(e.options.mutationKey)!==ho(s))return!1}else if(!su(e.options.mutationKey,s))return!1}return!(n&&e.state.status!==n||i&&!i(e))}function Bx(t,e){return((e==null?void 0:e.queryKeyHashFn)||ho)(t)}function ho(t){return JSON.stringify(t,(e,r)=>Vh(r)?Object.keys(r).sort().reduce((n,i)=>(n[i]=r[i],n),{}):r)}function su(t,e){return t===e?!0:typeof t!=typeof e?!1:t&&e&&typeof t=="object"&&typeof e=="object"?!Object.keys(e).some(r=>!su(t[r],e[r])):!1}function lC(t,e){if(t===e)return t;const r=R2(t)&&R2(e);if(r||Vh(t)&&Vh(e)){const n=r?t:Object.keys(t),i=n.length,s=r?e:Object.keys(e),o=s.length,u=r?[]:{};let f=0;for(let h=0;h<o;h++){const m=r?h:s[h];(!r&&n.includes(m)||r)&&t[m]===void 0&&e[m]===void 0?(u[m]=void 0,f++):(u[m]=lC(t[m],e[m]),u[m]===t[m]&&t[m]!==void 0&&f++)}return i===o&&f===i?t:u}return e}function pf(t,e){if(!e||Object.keys(t).length!==Object.keys(e).length)return!1;for(const r in t)if(t[r]!==e[r])return!1;return!0}function R2(t){return Array.isArray(t)&&t.length===Object.keys(t).length}function Vh(t){if(!O2(t))return!1;const e=t.constructor;if(e===void 0)return!0;const r=e.prototype;return!(!O2(r)||!r.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(t)!==Object.prototype)}function O2(t){return Object.prototype.toString.call(t)==="[object Object]"}function r_(t){return new Promise(e=>{setTimeout(e,t)})}function Hh(t,e,r){return typeof r.structuralSharing=="function"?r.structuralSharing(t,e):r.structuralSharing!==!1?lC(t,e):e}function n_(t,e,r=0){const n=[...t,e];return r&&n.length>r?n.slice(1):n}function i_(t,e,r=0){const n=[e,...t];return r&&n.length>r?n.slice(0,-1):n}var Fx=Symbol();function cC(t,e){return!t.queryFn&&(e!=null&&e.initialPromise)?()=>e.initialPromise:!t.queryFn||t.queryFn===Fx?()=>Promise.reject(new Error(`Missing queryFn: '${t.queryHash}'`)):t.queryFn}var Za,qs,ll,Sy,s_=(Sy=class extends Vl{constructor(){super();Ue(this,Za);Ue(this,qs);Ue(this,ll);be(this,ll,e=>{if(!fo&&window.addEventListener){const r=()=>e();return window.addEventListener("visibilitychange",r,!1),()=>{window.removeEventListener("visibilitychange",r)}}})}onSubscribe(){Y(this,qs)||this.setEventListener(Y(this,ll))}onUnsubscribe(){var e;this.hasListeners()||((e=Y(this,qs))==null||e.call(this),be(this,qs,void 0))}setEventListener(e){var r;be(this,ll,e),(r=Y(this,qs))==null||r.call(this),be(this,qs,e(n=>{typeof n=="boolean"?this.setFocused(n):this.onFocus()}))}setFocused(e){Y(this,Za)!==e&&(be(this,Za,e),this.onFocus())}onFocus(){const e=this.isFocused();this.listeners.forEach(r=>{r(e)})}isFocused(){var e;return typeof Y(this,Za)=="boolean"?Y(this,Za):((e=globalThis.document)==null?void 0:e.visibilityState)!=="hidden"}},Za=new WeakMap,qs=new WeakMap,ll=new WeakMap,Sy),Ux=new s_,cl,Qs,ul,Ny,a_=(Ny=class extends Vl{constructor(){super();Ue(this,cl,!0);Ue(this,Qs);Ue(this,ul);be(this,ul,e=>{if(!fo&&window.addEventListener){const r=()=>e(!0),n=()=>e(!1);return window.addEventListener("online",r,!1),window.addEventListener("offline",n,!1),()=>{window.removeEventListener("online",r),window.removeEventListener("offline",n)}}})}onSubscribe(){Y(this,Qs)||this.setEventListener(Y(this,ul))}onUnsubscribe(){var e;this.hasListeners()||((e=Y(this,Qs))==null||e.call(this),be(this,Qs,void 0))}setEventListener(e){var r;be(this,ul,e),(r=Y(this,Qs))==null||r.call(this),be(this,Qs,e(this.setOnline.bind(this)))}setOnline(e){Y(this,cl)!==e&&(be(this,cl,e),this.listeners.forEach(n=>{n(e)}))}isOnline(){return Y(this,cl)}},cl=new WeakMap,Qs=new WeakMap,ul=new WeakMap,Ny),xf=new a_;function zh(){let t,e;const r=new Promise((i,s)=>{t=i,e=s});r.status="pending",r.catch(()=>{});function n(i){Object.assign(r,i),delete r.resolve,delete r.reject}return r.resolve=i=>{n({status:"fulfilled",value:i}),t(i)},r.reject=i=>{n({status:"rejected",reason:i}),e(i)},r}function o_(t){return Math.min(1e3*2**t,3e4)}function uC(t){return(t??"online")==="online"?xf.isOnline():!0}var dC=class extends Error{constructor(t){super("CancelledError"),this.revert=t==null?void 0:t.revert,this.silent=t==null?void 0:t.silent}};function v1(t){return t instanceof dC}function fC(t){let e=!1,r=0,n=!1,i;const s=zh(),o=b=>{var R;n||(w(new dC(b)),(R=t.abort)==null||R.call(t))},u=()=>{e=!0},f=()=>{e=!1},h=()=>Ux.isFocused()&&(t.networkMode==="always"||xf.isOnline())&&t.canRun(),m=()=>uC(t.networkMode)&&t.canRun(),v=b=>{var R;n||(n=!0,(R=t.onSuccess)==null||R.call(t,b),i==null||i(),s.resolve(b))},w=b=>{var R;n||(n=!0,(R=t.onError)==null||R.call(t,b),i==null||i(),s.reject(b))},C=()=>new Promise(b=>{var R;i=_=>{(n||h())&&b(_)},(R=t.onPause)==null||R.call(t)}).then(()=>{var b;i=void 0,n||(b=t.onContinue)==null||b.call(t)}),N=()=>{if(n)return;let b;const R=r===0?t.initialPromise:void 0;try{b=R??t.fn()}catch(_){b=Promise.reject(_)}Promise.resolve(b).then(v).catch(_=>{var k;if(n)return;const S=t.retry??(fo?0:3),T=t.retryDelay??o_,P=typeof T=="function"?T(r,_):T,B=S===!0||typeof S=="number"&&r<S||typeof S=="function"&&S(r,_);if(e||!B){w(_);return}r++,(k=t.onFail)==null||k.call(t,r,_),r_(P).then(()=>h()?void 0:C()).then(()=>{e?w(_):N()})})};return{promise:s,cancel:o,continue:()=>(i==null||i(),s),cancelRetry:u,continueRetry:f,canStart:m,start:()=>(m()?N():C().then(N),s)}}function l_(){let t=[],e=0,r=u=>{u()},n=u=>{u()},i=u=>setTimeout(u,0);const s=u=>{e?t.push(u):i(()=>{r(u)})},o=()=>{const u=t;t=[],u.length&&i(()=>{n(()=>{u.forEach(f=>{r(f)})})})};return{batch:u=>{let f;e++;try{f=u()}finally{e--,e||o()}return f},batchCalls:u=>(...f)=>{s(()=>{u(...f)})},schedule:s,setNotifyFunction:u=>{r=u},setBatchNotifyFunction:u=>{n=u},setScheduler:u=>{i=u}}}var Cr=l_(),qa,_y,hC=(_y=class{constructor(){Ue(this,qa)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),Uh(this.gcTime)&&be(this,qa,setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(t){this.gcTime=Math.max(this.gcTime||0,t??(fo?1/0:5*60*1e3))}clearGcTimeout(){Y(this,qa)&&(clearTimeout(Y(this,qa)),be(this,qa,void 0))}},qa=new WeakMap,_y),dl,fl,ei,Jr,du,Qa,bi,hs,Iy,c_=(Iy=class extends hC{constructor(e){super();Ue(this,bi);Ue(this,dl);Ue(this,fl);Ue(this,ei);Ue(this,Jr);Ue(this,du);Ue(this,Qa);be(this,Qa,!1),be(this,du,e.defaultOptions),this.setOptions(e.options),this.observers=[],be(this,ei,e.cache),this.queryKey=e.queryKey,this.queryHash=e.queryHash,be(this,dl,u_(this.options)),this.state=e.state??Y(this,dl),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var e;return(e=Y(this,Jr))==null?void 0:e.promise}setOptions(e){this.options={...Y(this,du),...e},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&Y(this,ei).remove(this)}setData(e,r){const n=Hh(this.state.data,e,this.options);return Ze(this,bi,hs).call(this,{data:n,type:"success",dataUpdatedAt:r==null?void 0:r.updatedAt,manual:r==null?void 0:r.manual}),n}setState(e,r){Ze(this,bi,hs).call(this,{type:"setState",state:e,setStateOptions:r})}cancel(e){var n,i;const r=(n=Y(this,Jr))==null?void 0:n.promise;return(i=Y(this,Jr))==null||i.cancel(e),r?r.then(ti).catch(ti):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(Y(this,dl))}isActive(){return this.observers.some(e=>_i(e.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===Fx||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStale(){return this.state.isInvalidated?!0:this.getObserversCount()>0?this.observers.some(e=>e.getCurrentResult().isStale):this.state.data===void 0}isStaleByTime(e=0){return this.state.isInvalidated||this.state.data===void 0||!oC(this.state.dataUpdatedAt,e)}onFocus(){var r;const e=this.observers.find(n=>n.shouldFetchOnWindowFocus());e==null||e.refetch({cancelRefetch:!1}),(r=Y(this,Jr))==null||r.continue()}onOnline(){var r;const e=this.observers.find(n=>n.shouldFetchOnReconnect());e==null||e.refetch({cancelRefetch:!1}),(r=Y(this,Jr))==null||r.continue()}addObserver(e){this.observers.includes(e)||(this.observers.push(e),this.clearGcTimeout(),Y(this,ei).notify({type:"observerAdded",query:this,observer:e}))}removeObserver(e){this.observers.includes(e)&&(this.observers=this.observers.filter(r=>r!==e),this.observers.length||(Y(this,Jr)&&(Y(this,Qa)?Y(this,Jr).cancel({revert:!0}):Y(this,Jr).cancelRetry()),this.scheduleGc()),Y(this,ei).notify({type:"observerRemoved",query:this,observer:e}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||Ze(this,bi,hs).call(this,{type:"invalidate"})}fetch(e,r){var f,h,m;if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&(r!=null&&r.cancelRefetch))this.cancel({silent:!0});else if(Y(this,Jr))return Y(this,Jr).continueRetry(),Y(this,Jr).promise}if(e&&this.setOptions(e),!this.options.queryFn){const v=this.observers.find(w=>w.options.queryFn);v&&this.setOptions(v.options)}const n=new AbortController,i=v=>{Object.defineProperty(v,"signal",{enumerable:!0,get:()=>(be(this,Qa,!0),n.signal)})},s=()=>{const v=cC(this.options,r),w={queryKey:this.queryKey,meta:this.meta};return i(w),be(this,Qa,!1),this.options.persister?this.options.persister(v,w,this):v(w)},o={fetchOptions:r,options:this.options,queryKey:this.queryKey,state:this.state,fetchFn:s};i(o),(f=this.options.behavior)==null||f.onFetch(o,this),be(this,fl,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((h=o.fetchOptions)==null?void 0:h.meta))&&Ze(this,bi,hs).call(this,{type:"fetch",meta:(m=o.fetchOptions)==null?void 0:m.meta});const u=v=>{var w,C,N,b;v1(v)&&v.silent||Ze(this,bi,hs).call(this,{type:"error",error:v}),v1(v)||((C=(w=Y(this,ei).config).onError)==null||C.call(w,v,this),(b=(N=Y(this,ei).config).onSettled)==null||b.call(N,this.state.data,v,this)),this.scheduleGc()};return be(this,Jr,fC({initialPromise:r==null?void 0:r.initialPromise,fn:o.fetchFn,abort:n.abort.bind(n),onSuccess:v=>{var w,C,N,b;if(v===void 0){u(new Error(`${this.queryHash} data is undefined`));return}try{this.setData(v)}catch(R){u(R);return}(C=(w=Y(this,ei).config).onSuccess)==null||C.call(w,v,this),(b=(N=Y(this,ei).config).onSettled)==null||b.call(N,v,this.state.error,this),this.scheduleGc()},onError:u,onFail:(v,w)=>{Ze(this,bi,hs).call(this,{type:"failed",failureCount:v,error:w})},onPause:()=>{Ze(this,bi,hs).call(this,{type:"pause"})},onContinue:()=>{Ze(this,bi,hs).call(this,{type:"continue"})},retry:o.options.retry,retryDelay:o.options.retryDelay,networkMode:o.options.networkMode,canRun:()=>!0})),Y(this,Jr).start()}},dl=new WeakMap,fl=new WeakMap,ei=new WeakMap,Jr=new WeakMap,du=new WeakMap,Qa=new WeakMap,bi=new WeakSet,hs=function(e){const r=n=>{switch(e.type){case"failed":return{...n,fetchFailureCount:e.failureCount,fetchFailureReason:e.error};case"pause":return{...n,fetchStatus:"paused"};case"continue":return{...n,fetchStatus:"fetching"};case"fetch":return{...n,...pC(n.data,this.options),fetchMeta:e.meta??null};case"success":return{...n,data:e.data,dataUpdateCount:n.dataUpdateCount+1,dataUpdatedAt:e.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!e.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const i=e.error;return v1(i)&&i.revert&&Y(this,fl)?{...Y(this,fl),fetchStatus:"idle"}:{...n,error:i,errorUpdateCount:n.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:n.fetchFailureCount+1,fetchFailureReason:i,fetchStatus:"idle",status:"error"};case"invalidate":return{...n,isInvalidated:!0};case"setState":return{...n,...e.state}}};this.state=r(this.state),Cr.batch(()=>{this.observers.forEach(n=>{n.onQueryUpdate()}),Y(this,ei).notify({query:this,type:"updated",action:e})})},Iy);function pC(t,e){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:uC(e.networkMode)?"fetching":"paused",...t===void 0&&{error:null,status:"pending"}}}function u_(t){const e=typeof t.initialData=="function"?t.initialData():t.initialData,r=e!==void 0,n=r?typeof t.initialDataUpdatedAt=="function"?t.initialDataUpdatedAt():t.initialDataUpdatedAt:0;return{data:e,dataUpdateCount:0,dataUpdatedAt:r?n??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:r?"success":"pending",fetchStatus:"idle"}}var Wi,Ty,d_=(Ty=class extends Vl{constructor(e={}){super();Ue(this,Wi);this.config=e,be(this,Wi,new Map)}build(e,r,n){const i=r.queryKey,s=r.queryHash??Bx(i,r);let o=this.get(s);return o||(o=new c_({cache:this,queryKey:i,queryHash:s,options:e.defaultQueryOptions(r),state:n,defaultOptions:e.getQueryDefaults(i)}),this.add(o)),o}add(e){Y(this,Wi).has(e.queryHash)||(Y(this,Wi).set(e.queryHash,e),this.notify({type:"added",query:e}))}remove(e){const r=Y(this,Wi).get(e.queryHash);r&&(e.destroy(),r===e&&Y(this,Wi).delete(e.queryHash),this.notify({type:"removed",query:e}))}clear(){Cr.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}get(e){return Y(this,Wi).get(e)}getAll(){return[...Y(this,Wi).values()]}find(e){const r={exact:!0,...e};return this.getAll().find(n=>I2(r,n))}findAll(e={}){const r=this.getAll();return Object.keys(e).length>0?r.filter(n=>I2(e,n)):r}notify(e){Cr.batch(()=>{this.listeners.forEach(r=>{r(e)})})}onFocus(){Cr.batch(()=>{this.getAll().forEach(e=>{e.onFocus()})})}onOnline(){Cr.batch(()=>{this.getAll().forEach(e=>{e.onOnline()})})}},Wi=new WeakMap,Ty),Xi,dn,Ja,Yi,zs,Ry,f_=(Ry=class extends hC{constructor(e){super();Ue(this,Yi);Ue(this,Xi);Ue(this,dn);Ue(this,Ja);this.mutationId=e.mutationId,be(this,dn,e.mutationCache),be(this,Xi,[]),this.state=e.state||xC(),this.setOptions(e.options),this.scheduleGc()}setOptions(e){this.options=e,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(e){Y(this,Xi).includes(e)||(Y(this,Xi).push(e),this.clearGcTimeout(),Y(this,dn).notify({type:"observerAdded",mutation:this,observer:e}))}removeObserver(e){be(this,Xi,Y(this,Xi).filter(r=>r!==e)),this.scheduleGc(),Y(this,dn).notify({type:"observerRemoved",mutation:this,observer:e})}optionalRemove(){Y(this,Xi).length||(this.state.status==="pending"?this.scheduleGc():Y(this,dn).remove(this))}continue(){var e;return((e=Y(this,Ja))==null?void 0:e.continue())??this.execute(this.state.variables)}async execute(e){var i,s,o,u,f,h,m,v,w,C,N,b,R,_,S,T,P,B,k,M;be(this,Ja,fC({fn:()=>this.options.mutationFn?this.options.mutationFn(e):Promise.reject(new Error("No mutationFn found")),onFail:(F,U)=>{Ze(this,Yi,zs).call(this,{type:"failed",failureCount:F,error:U})},onPause:()=>{Ze(this,Yi,zs).call(this,{type:"pause"})},onContinue:()=>{Ze(this,Yi,zs).call(this,{type:"continue"})},retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>Y(this,dn).canRun(this)}));const r=this.state.status==="pending",n=!Y(this,Ja).canStart();try{if(!r){Ze(this,Yi,zs).call(this,{type:"pending",variables:e,isPaused:n}),await((s=(i=Y(this,dn).config).onMutate)==null?void 0:s.call(i,e,this));const U=await((u=(o=this.options).onMutate)==null?void 0:u.call(o,e));U!==this.state.context&&Ze(this,Yi,zs).call(this,{type:"pending",context:U,variables:e,isPaused:n})}const F=await Y(this,Ja).start();return await((h=(f=Y(this,dn).config).onSuccess)==null?void 0:h.call(f,F,e,this.state.context,this)),await((v=(m=this.options).onSuccess)==null?void 0:v.call(m,F,e,this.state.context)),await((C=(w=Y(this,dn).config).onSettled)==null?void 0:C.call(w,F,null,this.state.variables,this.state.context,this)),await((b=(N=this.options).onSettled)==null?void 0:b.call(N,F,null,e,this.state.context)),Ze(this,Yi,zs).call(this,{type:"success",data:F}),F}catch(F){try{throw await((_=(R=Y(this,dn).config).onError)==null?void 0:_.call(R,F,e,this.state.context,this)),await((T=(S=this.options).onError)==null?void 0:T.call(S,F,e,this.state.context)),await((B=(P=Y(this,dn).config).onSettled)==null?void 0:B.call(P,void 0,F,this.state.variables,this.state.context,this)),await((M=(k=this.options).onSettled)==null?void 0:M.call(k,void 0,F,e,this.state.context)),F}finally{Ze(this,Yi,zs).call(this,{type:"error",error:F})}}finally{Y(this,dn).runNext(this)}}},Xi=new WeakMap,dn=new WeakMap,Ja=new WeakMap,Yi=new WeakSet,zs=function(e){const r=n=>{switch(e.type){case"failed":return{...n,failureCount:e.failureCount,failureReason:e.error};case"pause":return{...n,isPaused:!0};case"continue":return{...n,isPaused:!1};case"pending":return{...n,context:e.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:e.isPaused,status:"pending",variables:e.variables,submittedAt:Date.now()};case"success":return{...n,data:e.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...n,data:void 0,error:e.error,failureCount:n.failureCount+1,failureReason:e.error,isPaused:!1,status:"error"}}};this.state=r(this.state),Cr.batch(()=>{Y(this,Xi).forEach(n=>{n.onMutationUpdate(e)}),Y(this,dn).notify({mutation:this,type:"updated",action:e})})},Ry);function xC(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var Fn,fu,Oy,h_=(Oy=class extends Vl{constructor(e={}){super();Ue(this,Fn);Ue(this,fu);this.config=e,be(this,Fn,new Map),be(this,fu,Date.now())}build(e,r,n){const i=new f_({mutationCache:this,mutationId:++Fu(this,fu)._,options:e.defaultMutationOptions(r),state:n});return this.add(i),i}add(e){const r=nd(e),n=Y(this,Fn).get(r)??[];n.push(e),Y(this,Fn).set(r,n),this.notify({type:"added",mutation:e})}remove(e){var n;const r=nd(e);if(Y(this,Fn).has(r)){const i=(n=Y(this,Fn).get(r))==null?void 0:n.filter(s=>s!==e);i&&(i.length===0?Y(this,Fn).delete(r):Y(this,Fn).set(r,i))}this.notify({type:"removed",mutation:e})}canRun(e){var n;const r=(n=Y(this,Fn).get(nd(e)))==null?void 0:n.find(i=>i.state.status==="pending");return!r||r===e}runNext(e){var n;const r=(n=Y(this,Fn).get(nd(e)))==null?void 0:n.find(i=>i!==e&&i.state.isPaused);return(r==null?void 0:r.continue())??Promise.resolve()}clear(){Cr.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}getAll(){return[...Y(this,Fn).values()].flat()}find(e){const r={exact:!0,...e};return this.getAll().find(n=>T2(r,n))}findAll(e={}){return this.getAll().filter(r=>T2(e,r))}notify(e){Cr.batch(()=>{this.listeners.forEach(r=>{r(e)})})}resumePausedMutations(){const e=this.getAll().filter(r=>r.state.isPaused);return Cr.batch(()=>Promise.all(e.map(r=>r.continue().catch(ti))))}},Fn=new WeakMap,fu=new WeakMap,Oy);function nd(t){var e;return((e=t.options.scope)==null?void 0:e.id)??String(t.mutationId)}function P2(t){return{onFetch:(e,r)=>{var m,v,w,C,N;const n=e.options,i=(w=(v=(m=e.fetchOptions)==null?void 0:m.meta)==null?void 0:v.fetchMore)==null?void 0:w.direction,s=((C=e.state.data)==null?void 0:C.pages)||[],o=((N=e.state.data)==null?void 0:N.pageParams)||[];let u={pages:[],pageParams:[]},f=0;const h=async()=>{let b=!1;const R=T=>{Object.defineProperty(T,"signal",{enumerable:!0,get:()=>(e.signal.aborted?b=!0:e.signal.addEventListener("abort",()=>{b=!0}),e.signal)})},_=cC(e.options,e.fetchOptions),S=async(T,P,B)=>{if(b)return Promise.reject();if(P==null&&T.pages.length)return Promise.resolve(T);const k={queryKey:e.queryKey,pageParam:P,direction:B?"backward":"forward",meta:e.options.meta};R(k);const M=await _(k),{maxPages:F}=e.options,U=B?i_:n_;return{pages:U(T.pages,M,F),pageParams:U(T.pageParams,P,F)}};if(i&&s.length){const T=i==="backward",P=T?p_:D2,B={pages:s,pageParams:o},k=P(n,B);u=await S(B,k,T)}else{const T=t??s.length;do{const P=f===0?o[0]??n.initialPageParam:D2(n,u);if(f>0&&P==null)break;u=await S(u,P),f++}while(f<T)}return u};e.options.persister?e.fetchFn=()=>{var b,R;return(R=(b=e.options).persister)==null?void 0:R.call(b,h,{queryKey:e.queryKey,meta:e.options.meta,signal:e.signal},r)}:e.fetchFn=h}}}function D2(t,{pages:e,pageParams:r}){const n=e.length-1;return e.length>0?t.getNextPageParam(e[n],e,r[n],r):void 0}function p_(t,{pages:e,pageParams:r}){var n;return e.length>0?(n=t.getPreviousPageParam)==null?void 0:n.call(t,e[0],e,r[0],r):void 0}var nr,Js,ea,hl,pl,ta,xl,gl,Py,x_=(Py=class{constructor(t={}){Ue(this,nr);Ue(this,Js);Ue(this,ea);Ue(this,hl);Ue(this,pl);Ue(this,ta);Ue(this,xl);Ue(this,gl);be(this,nr,t.queryCache||new d_),be(this,Js,t.mutationCache||new h_),be(this,ea,t.defaultOptions||{}),be(this,hl,new Map),be(this,pl,new Map),be(this,ta,0)}mount(){Fu(this,ta)._++,Y(this,ta)===1&&(be(this,xl,Ux.subscribe(async t=>{t&&(await this.resumePausedMutations(),Y(this,nr).onFocus())})),be(this,gl,xf.subscribe(async t=>{t&&(await this.resumePausedMutations(),Y(this,nr).onOnline())})))}unmount(){var t,e;Fu(this,ta)._--,Y(this,ta)===0&&((t=Y(this,xl))==null||t.call(this),be(this,xl,void 0),(e=Y(this,gl))==null||e.call(this),be(this,gl,void 0))}isFetching(t){return Y(this,nr).findAll({...t,fetchStatus:"fetching"}).length}isMutating(t){return Y(this,Js).findAll({...t,status:"pending"}).length}getQueryData(t){var r;const e=this.defaultQueryOptions({queryKey:t});return(r=Y(this,nr).get(e.queryHash))==null?void 0:r.state.data}ensureQueryData(t){const e=this.getQueryData(t.queryKey);if(e===void 0)return this.fetchQuery(t);{const r=this.defaultQueryOptions(t),n=Y(this,nr).build(this,r);return t.revalidateIfStale&&n.isStaleByTime(rl(r.staleTime,n))&&this.prefetchQuery(r),Promise.resolve(e)}}getQueriesData(t){return Y(this,nr).findAll(t).map(({queryKey:e,state:r})=>{const n=r.data;return[e,n]})}setQueryData(t,e,r){const n=this.defaultQueryOptions({queryKey:t}),i=Y(this,nr).get(n.queryHash),s=i==null?void 0:i.state.data,o=t_(e,s);if(o!==void 0)return Y(this,nr).build(this,n).setData(o,{...r,manual:!0})}setQueriesData(t,e,r){return Cr.batch(()=>Y(this,nr).findAll(t).map(({queryKey:n})=>[n,this.setQueryData(n,e,r)]))}getQueryState(t){var r;const e=this.defaultQueryOptions({queryKey:t});return(r=Y(this,nr).get(e.queryHash))==null?void 0:r.state}removeQueries(t){const e=Y(this,nr);Cr.batch(()=>{e.findAll(t).forEach(r=>{e.remove(r)})})}resetQueries(t,e){const r=Y(this,nr),n={type:"active",...t};return Cr.batch(()=>(r.findAll(t).forEach(i=>{i.reset()}),this.refetchQueries(n,e)))}cancelQueries(t={},e={}){const r={revert:!0,...e},n=Cr.batch(()=>Y(this,nr).findAll(t).map(i=>i.cancel(r)));return Promise.all(n).then(ti).catch(ti)}invalidateQueries(t={},e={}){return Cr.batch(()=>{if(Y(this,nr).findAll(t).forEach(n=>{n.invalidate()}),t.refetchType==="none")return Promise.resolve();const r={...t,type:t.refetchType??t.type??"active"};return this.refetchQueries(r,e)})}refetchQueries(t={},e){const r={...e,cancelRefetch:(e==null?void 0:e.cancelRefetch)??!0},n=Cr.batch(()=>Y(this,nr).findAll(t).filter(i=>!i.isDisabled()).map(i=>{let s=i.fetch(void 0,r);return r.throwOnError||(s=s.catch(ti)),i.state.fetchStatus==="paused"?Promise.resolve():s}));return Promise.all(n).then(ti)}fetchQuery(t){const e=this.defaultQueryOptions(t);e.retry===void 0&&(e.retry=!1);const r=Y(this,nr).build(this,e);return r.isStaleByTime(rl(e.staleTime,r))?r.fetch(e):Promise.resolve(r.state.data)}prefetchQuery(t){return this.fetchQuery(t).then(ti).catch(ti)}fetchInfiniteQuery(t){return t.behavior=P2(t.pages),this.fetchQuery(t)}prefetchInfiniteQuery(t){return this.fetchInfiniteQuery(t).then(ti).catch(ti)}ensureInfiniteQueryData(t){return t.behavior=P2(t.pages),this.ensureQueryData(t)}resumePausedMutations(){return xf.isOnline()?Y(this,Js).resumePausedMutations():Promise.resolve()}getQueryCache(){return Y(this,nr)}getMutationCache(){return Y(this,Js)}getDefaultOptions(){return Y(this,ea)}setDefaultOptions(t){be(this,ea,t)}setQueryDefaults(t,e){Y(this,hl).set(ho(t),{queryKey:t,defaultOptions:e})}getQueryDefaults(t){const e=[...Y(this,hl).values()];let r={};return e.forEach(n=>{su(t,n.queryKey)&&(r={...r,...n.defaultOptions})}),r}setMutationDefaults(t,e){Y(this,pl).set(ho(t),{mutationKey:t,defaultOptions:e})}getMutationDefaults(t){const e=[...Y(this,pl).values()];let r={};return e.forEach(n=>{su(t,n.mutationKey)&&(r={...r,...n.defaultOptions})}),r}defaultQueryOptions(t){if(t._defaulted)return t;const e={...Y(this,ea).queries,...this.getQueryDefaults(t.queryKey),...t,_defaulted:!0};return e.queryHash||(e.queryHash=Bx(e.queryKey,e)),e.refetchOnReconnect===void 0&&(e.refetchOnReconnect=e.networkMode!=="always"),e.throwOnError===void 0&&(e.throwOnError=!!e.suspense),!e.networkMode&&e.persister&&(e.networkMode="offlineFirst"),e.enabled!==!0&&e.queryFn===Fx&&(e.enabled=!1),e}defaultMutationOptions(t){return t!=null&&t._defaulted?t:{...Y(this,ea).mutations,...(t==null?void 0:t.mutationKey)&&this.getMutationDefaults(t.mutationKey),...t,_defaulted:!0}}clear(){Y(this,nr).clear(),Y(this,Js).clear()}},nr=new WeakMap,Js=new WeakMap,ea=new WeakMap,hl=new WeakMap,pl=new WeakMap,ta=new WeakMap,xl=new WeakMap,gl=new WeakMap,Py),Sn,at,hu,fn,eo,ml,ra,$i,pu,vl,yl,to,ro,na,wl,Et,bc,Gh,Wh,Xh,Yh,$h,Kh,Zh,gC,Dy,g_=(Dy=class extends Vl{constructor(e,r){super();Ue(this,Et);Ue(this,Sn);Ue(this,at);Ue(this,hu);Ue(this,fn);Ue(this,eo);Ue(this,ml);Ue(this,ra);Ue(this,$i);Ue(this,pu);Ue(this,vl);Ue(this,yl);Ue(this,to);Ue(this,ro);Ue(this,na);Ue(this,wl,new Set);this.options=r,be(this,Sn,e),be(this,$i,null),be(this,ra,zh()),this.options.experimental_prefetchInRender||Y(this,ra).reject(new Error("experimental_prefetchInRender feature flag is not enabled")),this.bindMethods(),this.setOptions(r)}bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(Y(this,at).addObserver(this),j2(Y(this,at),this.options)?Ze(this,Et,bc).call(this):this.updateResult(),Ze(this,Et,Yh).call(this))}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return qh(Y(this,at),this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return qh(Y(this,at),this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,Ze(this,Et,$h).call(this),Ze(this,Et,Kh).call(this),Y(this,at).removeObserver(this)}setOptions(e,r){const n=this.options,i=Y(this,at);if(this.options=Y(this,Sn).defaultQueryOptions(e),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof _i(this.options.enabled,Y(this,at))!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");Ze(this,Et,Zh).call(this),Y(this,at).setOptions(this.options),n._defaulted&&!pf(this.options,n)&&Y(this,Sn).getQueryCache().notify({type:"observerOptionsUpdated",query:Y(this,at),observer:this});const s=this.hasListeners();s&&M2(Y(this,at),i,this.options,n)&&Ze(this,Et,bc).call(this),this.updateResult(r),s&&(Y(this,at)!==i||_i(this.options.enabled,Y(this,at))!==_i(n.enabled,Y(this,at))||rl(this.options.staleTime,Y(this,at))!==rl(n.staleTime,Y(this,at)))&&Ze(this,Et,Gh).call(this);const o=Ze(this,Et,Wh).call(this);s&&(Y(this,at)!==i||_i(this.options.enabled,Y(this,at))!==_i(n.enabled,Y(this,at))||o!==Y(this,na))&&Ze(this,Et,Xh).call(this,o)}getOptimisticResult(e){const r=Y(this,Sn).getQueryCache().build(Y(this,Sn),e),n=this.createResult(r,e);return v_(this,n)&&(be(this,fn,n),be(this,ml,this.options),be(this,eo,Y(this,at).state)),n}getCurrentResult(){return Y(this,fn)}trackResult(e,r){const n={};return Object.keys(e).forEach(i=>{Object.defineProperty(n,i,{configurable:!1,enumerable:!0,get:()=>(this.trackProp(i),r==null||r(i),e[i])})}),n}trackProp(e){Y(this,wl).add(e)}getCurrentQuery(){return Y(this,at)}refetch({...e}={}){return this.fetch({...e})}fetchOptimistic(e){const r=Y(this,Sn).defaultQueryOptions(e),n=Y(this,Sn).getQueryCache().build(Y(this,Sn),r);return n.fetch().then(()=>this.createResult(n,r))}fetch(e){return Ze(this,Et,bc).call(this,{...e,cancelRefetch:e.cancelRefetch??!0}).then(()=>(this.updateResult(),Y(this,fn)))}createResult(e,r){var F;const n=Y(this,at),i=this.options,s=Y(this,fn),o=Y(this,eo),u=Y(this,ml),h=e!==n?e.state:Y(this,hu),{state:m}=e;let v={...m},w=!1,C;if(r._optimisticResults){const U=this.hasListeners(),X=!U&&j2(e,r),ee=U&&M2(e,n,r,i);(X||ee)&&(v={...v,...pC(m.data,e.options)}),r._optimisticResults==="isRestoring"&&(v.fetchStatus="idle")}let{error:N,errorUpdatedAt:b,status:R}=v;if(r.select&&v.data!==void 0)if(s&&v.data===(o==null?void 0:o.data)&&r.select===Y(this,pu))C=Y(this,vl);else try{be(this,pu,r.select),C=r.select(v.data),C=Hh(s==null?void 0:s.data,C,r),be(this,vl,C),be(this,$i,null)}catch(U){be(this,$i,U)}else C=v.data;if(r.placeholderData!==void 0&&C===void 0&&R==="pending"){let U;if(s!=null&&s.isPlaceholderData&&r.placeholderData===(u==null?void 0:u.placeholderData))U=s.data;else if(U=typeof r.placeholderData=="function"?r.placeholderData((F=Y(this,yl))==null?void 0:F.state.data,Y(this,yl)):r.placeholderData,r.select&&U!==void 0)try{U=r.select(U),be(this,$i,null)}catch(X){be(this,$i,X)}U!==void 0&&(R="success",C=Hh(s==null?void 0:s.data,U,r),w=!0)}Y(this,$i)&&(N=Y(this,$i),C=Y(this,vl),b=Date.now(),R="error");const _=v.fetchStatus==="fetching",S=R==="pending",T=R==="error",P=S&&_,B=C!==void 0,M={status:R,fetchStatus:v.fetchStatus,isPending:S,isSuccess:R==="success",isError:T,isInitialLoading:P,isLoading:P,data:C,dataUpdatedAt:v.dataUpdatedAt,error:N,errorUpdatedAt:b,failureCount:v.fetchFailureCount,failureReason:v.fetchFailureReason,errorUpdateCount:v.errorUpdateCount,isFetched:v.dataUpdateCount>0||v.errorUpdateCount>0,isFetchedAfterMount:v.dataUpdateCount>h.dataUpdateCount||v.errorUpdateCount>h.errorUpdateCount,isFetching:_,isRefetching:_&&!S,isLoadingError:T&&!B,isPaused:v.fetchStatus==="paused",isPlaceholderData:w,isRefetchError:T&&B,isStale:Vx(e,r),refetch:this.refetch,promise:Y(this,ra)};if(this.options.experimental_prefetchInRender){const U=Z=>{M.status==="error"?Z.reject(M.error):M.data!==void 0&&Z.resolve(M.data)},X=()=>{const Z=be(this,ra,M.promise=zh());U(Z)},ee=Y(this,ra);switch(ee.status){case"pending":e.queryHash===n.queryHash&&U(ee);break;case"fulfilled":(M.status==="error"||M.data!==ee.value)&&X();break;case"rejected":(M.status!=="error"||M.error!==ee.reason)&&X();break}}return M}updateResult(e){const r=Y(this,fn),n=this.createResult(Y(this,at),this.options);if(be(this,eo,Y(this,at).state),be(this,ml,this.options),Y(this,eo).data!==void 0&&be(this,yl,Y(this,at)),pf(n,r))return;be(this,fn,n);const i={},s=()=>{if(!r)return!0;const{notifyOnChangeProps:o}=this.options,u=typeof o=="function"?o():o;if(u==="all"||!u&&!Y(this,wl).size)return!0;const f=new Set(u??Y(this,wl));return this.options.throwOnError&&f.add("error"),Object.keys(Y(this,fn)).some(h=>{const m=h;return Y(this,fn)[m]!==r[m]&&f.has(m)})};(e==null?void 0:e.listeners)!==!1&&s()&&(i.listeners=!0),Ze(this,Et,gC).call(this,{...i,...e})}onQueryUpdate(){this.updateResult(),this.hasListeners()&&Ze(this,Et,Yh).call(this)}},Sn=new WeakMap,at=new WeakMap,hu=new WeakMap,fn=new WeakMap,eo=new WeakMap,ml=new WeakMap,ra=new WeakMap,$i=new WeakMap,pu=new WeakMap,vl=new WeakMap,yl=new WeakMap,to=new WeakMap,ro=new WeakMap,na=new WeakMap,wl=new WeakMap,Et=new WeakSet,bc=function(e){Ze(this,Et,Zh).call(this);let r=Y(this,at).fetch(this.options,e);return e!=null&&e.throwOnError||(r=r.catch(ti)),r},Gh=function(){Ze(this,Et,$h).call(this);const e=rl(this.options.staleTime,Y(this,at));if(fo||Y(this,fn).isStale||!Uh(e))return;const n=oC(Y(this,fn).dataUpdatedAt,e)+1;be(this,to,setTimeout(()=>{Y(this,fn).isStale||this.updateResult()},n))},Wh=function(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(Y(this,at)):this.options.refetchInterval)??!1},Xh=function(e){Ze(this,Et,Kh).call(this),be(this,na,e),!(fo||_i(this.options.enabled,Y(this,at))===!1||!Uh(Y(this,na))||Y(this,na)===0)&&be(this,ro,setInterval(()=>{(this.options.refetchIntervalInBackground||Ux.isFocused())&&Ze(this,Et,bc).call(this)},Y(this,na)))},Yh=function(){Ze(this,Et,Gh).call(this),Ze(this,Et,Xh).call(this,Ze(this,Et,Wh).call(this))},$h=function(){Y(this,to)&&(clearTimeout(Y(this,to)),be(this,to,void 0))},Kh=function(){Y(this,ro)&&(clearInterval(Y(this,ro)),be(this,ro,void 0))},Zh=function(){const e=Y(this,Sn).getQueryCache().build(Y(this,Sn),this.options);if(e===Y(this,at))return;const r=Y(this,at);be(this,at,e),be(this,hu,e.state),this.hasListeners()&&(r==null||r.removeObserver(this),e.addObserver(this))},gC=function(e){Cr.batch(()=>{e.listeners&&this.listeners.forEach(r=>{r(Y(this,fn))}),Y(this,Sn).getQueryCache().notify({query:Y(this,at),type:"observerResultsUpdated"})})},Dy);function m_(t,e){return _i(e.enabled,t)!==!1&&t.state.data===void 0&&!(t.state.status==="error"&&e.retryOnMount===!1)}function j2(t,e){return m_(t,e)||t.state.data!==void 0&&qh(t,e,e.refetchOnMount)}function qh(t,e,r){if(_i(e.enabled,t)!==!1){const n=typeof r=="function"?r(t):r;return n==="always"||n!==!1&&Vx(t,e)}return!1}function M2(t,e,r,n){return(t!==e||_i(n.enabled,t)===!1)&&(!r.suspense||t.state.status!=="error")&&Vx(t,r)}function Vx(t,e){return _i(e.enabled,t)!==!1&&t.isStaleByTime(rl(e.staleTime,t))}function v_(t,e){return!pf(t.getCurrentResult(),e)}var ia,sa,Nn,ms,Cs,Pd,Qh,jy,y_=(jy=class extends Vl{constructor(r,n){super();Ue(this,Cs);Ue(this,ia);Ue(this,sa);Ue(this,Nn);Ue(this,ms);be(this,ia,r),this.setOptions(n),this.bindMethods(),Ze(this,Cs,Pd).call(this)}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(r){var i;const n=this.options;this.options=Y(this,ia).defaultMutationOptions(r),pf(this.options,n)||Y(this,ia).getMutationCache().notify({type:"observerOptionsUpdated",mutation:Y(this,Nn),observer:this}),n!=null&&n.mutationKey&&this.options.mutationKey&&ho(n.mutationKey)!==ho(this.options.mutationKey)?this.reset():((i=Y(this,Nn))==null?void 0:i.state.status)==="pending"&&Y(this,Nn).setOptions(this.options)}onUnsubscribe(){var r;this.hasListeners()||(r=Y(this,Nn))==null||r.removeObserver(this)}onMutationUpdate(r){Ze(this,Cs,Pd).call(this),Ze(this,Cs,Qh).call(this,r)}getCurrentResult(){return Y(this,sa)}reset(){var r;(r=Y(this,Nn))==null||r.removeObserver(this),be(this,Nn,void 0),Ze(this,Cs,Pd).call(this),Ze(this,Cs,Qh).call(this)}mutate(r,n){var i;return be(this,ms,n),(i=Y(this,Nn))==null||i.removeObserver(this),be(this,Nn,Y(this,ia).getMutationCache().build(Y(this,ia),this.options)),Y(this,Nn).addObserver(this),Y(this,Nn).execute(r)}},ia=new WeakMap,sa=new WeakMap,Nn=new WeakMap,ms=new WeakMap,Cs=new WeakSet,Pd=function(){var n;const r=((n=Y(this,Nn))==null?void 0:n.state)??xC();be(this,sa,{...r,isPending:r.status==="pending",isSuccess:r.status==="success",isError:r.status==="error",isIdle:r.status==="idle",mutate:this.mutate,reset:this.reset})},Qh=function(r){Cr.batch(()=>{var n,i,s,o,u,f,h,m;if(Y(this,ms)&&this.hasListeners()){const v=Y(this,sa).variables,w=Y(this,sa).context;(r==null?void 0:r.type)==="success"?((i=(n=Y(this,ms)).onSuccess)==null||i.call(n,r.data,v,w),(o=(s=Y(this,ms)).onSettled)==null||o.call(s,r.data,null,v,w)):(r==null?void 0:r.type)==="error"&&((f=(u=Y(this,ms)).onError)==null||f.call(u,r.error,v,w),(m=(h=Y(this,ms)).onSettled)==null||m.call(h,void 0,r.error,v,w))}this.listeners.forEach(v=>{v(Y(this,sa))})})},jy),mC=I.createContext(void 0),Jf=t=>{const e=I.useContext(mC);if(!e)throw new Error("No QueryClient set, use QueryClientProvider to set one");return e},w_=({client:t,children:e})=>(I.useEffect(()=>(t.mount(),()=>{t.unmount()}),[t]),l.jsx(mC.Provider,{value:t,children:e})),vC=I.createContext(!1),C_=()=>I.useContext(vC);vC.Provider;function E_(){let t=!1;return{clearReset:()=>{t=!1},reset:()=>{t=!0},isReset:()=>t}}var A_=I.createContext(E_()),b_=()=>I.useContext(A_);function yC(t,e){return typeof t=="function"?t(...e):!!t}function Jh(){}var S_=(t,e)=>{(t.suspense||t.throwOnError||t.experimental_prefetchInRender)&&(e.isReset()||(t.retryOnMount=!1))},N_=t=>{I.useEffect(()=>{t.clearReset()},[t])},__=({result:t,errorResetBoundary:e,throwOnError:r,query:n})=>t.isError&&!e.isReset()&&!t.isFetching&&n&&yC(r,[t.error,n]),I_=t=>{t.suspense&&(t.staleTime===void 0&&(t.staleTime=1e3),typeof t.gcTime=="number"&&(t.gcTime=Math.max(t.gcTime,1e3)))},T_=(t,e)=>t.isLoading&&t.isFetching&&!e,R_=(t,e)=>(t==null?void 0:t.suspense)&&e.isPending,k2=(t,e,r)=>e.fetchOptimistic(t).catch(()=>{r.clearReset()});function O_(t,e,r){var m,v,w,C,N;const n=Jf(),i=C_(),s=b_(),o=n.defaultQueryOptions(t);(v=(m=n.getDefaultOptions().queries)==null?void 0:m._experimental_beforeQuery)==null||v.call(m,o),o._optimisticResults=i?"isRestoring":"optimistic",I_(o),S_(o,s),N_(s);const u=!n.getQueryCache().get(o.queryHash),[f]=I.useState(()=>new e(n,o)),h=f.getOptimisticResult(o);if(I.useSyncExternalStore(I.useCallback(b=>{const R=i?Jh:f.subscribe(Cr.batchCalls(b));return f.updateResult(),R},[f,i]),()=>f.getCurrentResult(),()=>f.getCurrentResult()),I.useEffect(()=>{f.setOptions(o,{listeners:!1})},[o,f]),R_(o,h))throw k2(o,f,s);if(__({result:h,errorResetBoundary:s,throwOnError:o.throwOnError,query:n.getQueryCache().get(o.queryHash)}))throw h.error;if((C=(w=n.getDefaultOptions().queries)==null?void 0:w._experimental_afterQuery)==null||C.call(w,o,h),o.experimental_prefetchInRender&&!fo&&T_(h,i)){const b=u?k2(o,f,s):(N=n.getQueryCache().get(o.queryHash))==null?void 0:N.promise;b==null||b.catch(Jh).finally(()=>{f.updateResult()})}return o.notifyOnChangeProps?h:f.trackResult(h)}function as(t,e){return O_(t,g_)}function Qi(t,e){const r=Jf(),[n]=I.useState(()=>new y_(r,t));I.useEffect(()=>{n.setOptions(t)},[n,t]);const i=I.useSyncExternalStore(I.useCallback(o=>n.subscribe(Cr.batchCalls(o)),[n]),()=>n.getCurrentResult(),()=>n.getCurrentResult()),s=I.useCallback((o,u)=>{n.mutate(o,u).catch(Jh)},[n]);if(i.error&&yC(n.options.throwOnError,[i.error]))throw i.error;return{...i,mutate:s,mutateAsync:i.mutate}}async function wC(t){if(!t.ok){const e=await t.text()||t.statusText;throw new Error(`${t.status}: ${e}`)}}async function hr(t,e,r){const n=await fetch(e,{method:t,headers:r?{"Content-Type":"application/json"}:{},body:r?JSON.stringify(r):void 0,credentials:"include"});return await wC(n),n}const CC=({on401:t})=>async({queryKey:e})=>{const r=await fetch(e.join("/"),{credentials:"include"});return t==="returnNull"&&r.status===401?null:(await wC(r),await r.json())},P_=new x_({defaultOptions:{queries:{queryFn:CC({on401:"returnNull"}),refetchInterval:!1,refetchOnWindowFocus:!1,staleTime:5*60*1e3,gcTime:30*60*1e3,retry:(t,e)=>{var r;return(r=e==null?void 0:e.message)!=null&&r.includes("4")?!1:t<2},retryDelay:t=>Math.min(1e3*2**t,1e4)},mutations:{retry:1,retryDelay:1e3}}}),D_=1,j_=1e6;let y1=0;function M_(){return y1=(y1+1)%Number.MAX_SAFE_INTEGER,y1.toString()}const w1=new Map,L2=t=>{if(w1.has(t))return;const e=setTimeout(()=>{w1.delete(t),Uc({type:"REMOVE_TOAST",toastId:t})},j_);w1.set(t,e)},k_=(t,e)=>{switch(e.type){case"ADD_TOAST":return{...t,toasts:[e.toast,...t.toasts].slice(0,D_)};case"UPDATE_TOAST":return{...t,toasts:t.toasts.map(r=>r.id===e.toast.id?{...r,...e.toast}:r)};case"DISMISS_TOAST":{const{toastId:r}=e;return r?L2(r):t.toasts.forEach(n=>{L2(n.id)}),{...t,toasts:t.toasts.map(n=>n.id===r||r===void 0?{...n,open:!1}:n)}}case"REMOVE_TOAST":return e.toastId===void 0?{...t,toasts:[]}:{...t,toasts:t.toasts.filter(r=>r.id!==e.toastId)}}},Dd=[];let jd={toasts:[]};function Uc(t){jd=k_(jd,t),Dd.forEach(e=>{e(jd)})}function L_({...t}){const e=M_(),r=i=>Uc({type:"UPDATE_TOAST",toast:{...i,id:e}}),n=()=>Uc({type:"DISMISS_TOAST",toastId:e});return Uc({type:"ADD_TOAST",toast:{...t,id:e,open:!0,onOpenChange:i=>{i||n()}}}),{id:e,dismiss:n,update:r}}function nn(){const[t,e]=I.useState(jd);return I.useEffect(()=>(Dd.push(e),()=>{const r=Dd.indexOf(e);r>-1&&Dd.splice(r,1)}),[t]),{...t,toast:L_,dismiss:r=>Uc({type:"DISMISS_TOAST",toastId:r})}}function Pe(t,e,{checkForDefaultPrevented:r=!0}={}){return function(i){if(t==null||t(i),r===!1||!i.defaultPrevented)return e==null?void 0:e(i)}}function B2(t,e){if(typeof t=="function")return t(e);t!=null&&(t.current=e)}function EC(...t){return e=>{let r=!1;const n=t.map(i=>{const s=B2(i,e);return!r&&typeof s=="function"&&(r=!0),s});if(r)return()=>{for(let i=0;i<n.length;i++){const s=n[i];typeof s=="function"?s():B2(t[i],null)}}}}function nt(...t){return I.useCallback(EC(...t),t)}function B_(t,e){const r=I.createContext(e),n=s=>{const{children:o,...u}=s,f=I.useMemo(()=>u,Object.values(u));return l.jsx(r.Provider,{value:f,children:o})};n.displayName=t+"Provider";function i(s){const o=I.useContext(r);if(o)return o;if(e!==void 0)return e;throw new Error(`\`${s}\` must be used within \`${t}\``)}return[n,i]}function $n(t,e=[]){let r=[];function n(s,o){const u=I.createContext(o),f=r.length;r=[...r,o];const h=v=>{var _;const{scope:w,children:C,...N}=v,b=((_=w==null?void 0:w[t])==null?void 0:_[f])||u,R=I.useMemo(()=>N,Object.values(N));return l.jsx(b.Provider,{value:R,children:C})};h.displayName=s+"Provider";function m(v,w){var b;const C=((b=w==null?void 0:w[t])==null?void 0:b[f])||u,N=I.useContext(C);if(N)return N;if(o!==void 0)return o;throw new Error(`\`${v}\` must be used within \`${s}\``)}return[h,m]}const i=()=>{const s=r.map(o=>I.createContext(o));return function(u){const f=(u==null?void 0:u[t])||s;return I.useMemo(()=>({[`__scope${t}`]:{...u,[t]:f}}),[u,f])}};return i.scopeName=t,[n,F_(i,...e)]}function F_(...t){const e=t[0];if(t.length===1)return e;const r=()=>{const n=t.map(i=>({useScope:i(),scopeName:i.scopeName}));return function(s){const o=n.reduce((u,{useScope:f,scopeName:h})=>{const v=f(s)[`__scope${h}`];return{...u,...v}},{});return I.useMemo(()=>({[`__scope${e.scopeName}`]:o}),[o])}};return r.scopeName=e.scopeName,r}function Tl(t){const e=V_(t),r=I.forwardRef((n,i)=>{const{children:s,...o}=n,u=I.Children.toArray(s),f=u.find(H_);if(f){const h=f.props.children,m=u.map(v=>v===f?I.Children.count(h)>1?I.Children.only(null):I.isValidElement(h)?h.props.children:null:v);return l.jsx(e,{...o,ref:i,children:I.isValidElement(h)?I.cloneElement(h,void 0,m):null})}return l.jsx(e,{...o,ref:i,children:s})});return r.displayName=`${t}.Slot`,r}var U_=Tl("Slot");function V_(t){const e=I.forwardRef((r,n)=>{const{children:i,...s}=r;if(I.isValidElement(i)){const o=G_(i),u=z_(s,i.props);return i.type!==I.Fragment&&(u.ref=n?EC(n,o):o),I.cloneElement(i,u)}return I.Children.count(i)>1?I.Children.only(null):null});return e.displayName=`${t}.SlotClone`,e}var AC=Symbol("radix.slottable");function bC(t){const e=({children:r})=>l.jsx(l.Fragment,{children:r});return e.displayName=`${t}.Slottable`,e.__radixId=AC,e}function H_(t){return I.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===AC}function z_(t,e){const r={...e};for(const n in e){const i=t[n],s=e[n];/^on[A-Z]/.test(n)?i&&s?r[n]=(...u)=>{s(...u),i(...u)}:i&&(r[n]=i):n==="style"?r[n]={...i,...s}:n==="className"&&(r[n]=[i,s].filter(Boolean).join(" "))}return{...t,...r}}function G_(t){var n,i;let e=(n=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:n.get,r=e&&"isReactWarning"in e&&e.isReactWarning;return r?t.ref:(e=(i=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:i.get,r=e&&"isReactWarning"in e&&e.isReactWarning,r?t.props.ref:t.props.ref||t.ref)}function Hx(t){const e=t+"CollectionProvider",[r,n]=$n(e),[i,s]=r(e,{collectionRef:{current:null},itemMap:new Map}),o=b=>{const{scope:R,children:_}=b,S=ot.useRef(null),T=ot.useRef(new Map).current;return l.jsx(i,{scope:R,itemMap:T,collectionRef:S,children:_})};o.displayName=e;const u=t+"CollectionSlot",f=Tl(u),h=ot.forwardRef((b,R)=>{const{scope:_,children:S}=b,T=s(u,_),P=nt(R,T.collectionRef);return l.jsx(f,{ref:P,children:S})});h.displayName=u;const m=t+"CollectionItemSlot",v="data-radix-collection-item",w=Tl(m),C=ot.forwardRef((b,R)=>{const{scope:_,children:S,...T}=b,P=ot.useRef(null),B=nt(R,P),k=s(m,_);return ot.useEffect(()=>(k.itemMap.set(P,{ref:P,...T}),()=>void k.itemMap.delete(P))),l.jsx(w,{[v]:"",ref:B,children:S})});C.displayName=m;function N(b){const R=s(t+"CollectionConsumer",b);return ot.useCallback(()=>{const S=R.collectionRef.current;if(!S)return[];const T=Array.from(S.querySelectorAll(`[${v}]`));return Array.from(R.itemMap.values()).sort((k,M)=>T.indexOf(k.ref.current)-T.indexOf(M.ref.current))},[R.collectionRef,R.itemMap])}return[{Provider:o,Slot:h,ItemSlot:C},N,n]}var W_=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"],Ve=W_.reduce((t,e)=>{const r=Tl(`Primitive.${e}`),n=I.forwardRef((i,s)=>{const{asChild:o,...u}=i,f=o?r:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),l.jsx(f,{...u,ref:s})});return n.displayName=`Primitive.${e}`,{...t,[e]:n}},{});function SC(t,e){t&&yo.flushSync(()=>t.dispatchEvent(e))}function lr(t){const e=I.useRef(t);return I.useEffect(()=>{e.current=t}),I.useMemo(()=>(...r)=>{var n;return(n=e.current)==null?void 0:n.call(e,...r)},[])}function X_(t,e=globalThis==null?void 0:globalThis.document){const r=lr(t);I.useEffect(()=>{const n=i=>{i.key==="Escape"&&r(i)};return e.addEventListener("keydown",n,{capture:!0}),()=>e.removeEventListener("keydown",n,{capture:!0})},[r,e])}var Y_="DismissableLayer",ep="dismissableLayer.update",$_="dismissableLayer.pointerDownOutside",K_="dismissableLayer.focusOutside",F2,NC=I.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),wu=I.forwardRef((t,e)=>{const{disableOutsidePointerEvents:r=!1,onEscapeKeyDown:n,onPointerDownOutside:i,onFocusOutside:s,onInteractOutside:o,onDismiss:u,...f}=t,h=I.useContext(NC),[m,v]=I.useState(null),w=(m==null?void 0:m.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,C]=I.useState({}),N=nt(e,M=>v(M)),b=Array.from(h.layers),[R]=[...h.layersWithOutsidePointerEventsDisabled].slice(-1),_=b.indexOf(R),S=m?b.indexOf(m):-1,T=h.layersWithOutsidePointerEventsDisabled.size>0,P=S>=_,B=q_(M=>{const F=M.target,U=[...h.branches].some(X=>X.contains(F));!P||U||(i==null||i(M),o==null||o(M),M.defaultPrevented||u==null||u())},w),k=Q_(M=>{const F=M.target;[...h.branches].some(X=>X.contains(F))||(s==null||s(M),o==null||o(M),M.defaultPrevented||u==null||u())},w);return X_(M=>{S===h.layers.size-1&&(n==null||n(M),!M.defaultPrevented&&u&&(M.preventDefault(),u()))},w),I.useEffect(()=>{if(m)return r&&(h.layersWithOutsidePointerEventsDisabled.size===0&&(F2=w.body.style.pointerEvents,w.body.style.pointerEvents="none"),h.layersWithOutsidePointerEventsDisabled.add(m)),h.layers.add(m),U2(),()=>{r&&h.layersWithOutsidePointerEventsDisabled.size===1&&(w.body.style.pointerEvents=F2)}},[m,w,r,h]),I.useEffect(()=>()=>{m&&(h.layers.delete(m),h.layersWithOutsidePointerEventsDisabled.delete(m),U2())},[m,h]),I.useEffect(()=>{const M=()=>C({});return document.addEventListener(ep,M),()=>document.removeEventListener(ep,M)},[]),l.jsx(Ve.div,{...f,ref:N,style:{pointerEvents:T?P?"auto":"none":void 0,...t.style},onFocusCapture:Pe(t.onFocusCapture,k.onFocusCapture),onBlurCapture:Pe(t.onBlurCapture,k.onBlurCapture),onPointerDownCapture:Pe(t.onPointerDownCapture,B.onPointerDownCapture)})});wu.displayName=Y_;var Z_="DismissableLayerBranch",_C=I.forwardRef((t,e)=>{const r=I.useContext(NC),n=I.useRef(null),i=nt(e,n);return I.useEffect(()=>{const s=n.current;if(s)return r.branches.add(s),()=>{r.branches.delete(s)}},[r.branches]),l.jsx(Ve.div,{...t,ref:i})});_C.displayName=Z_;function q_(t,e=globalThis==null?void 0:globalThis.document){const r=lr(t),n=I.useRef(!1),i=I.useRef(()=>{});return I.useEffect(()=>{const s=u=>{if(u.target&&!n.current){let f=function(){IC($_,r,h,{discrete:!0})};const h={originalEvent:u};u.pointerType==="touch"?(e.removeEventListener("click",i.current),i.current=f,e.addEventListener("click",i.current,{once:!0})):f()}else e.removeEventListener("click",i.current);n.current=!1},o=window.setTimeout(()=>{e.addEventListener("pointerdown",s)},0);return()=>{window.clearTimeout(o),e.removeEventListener("pointerdown",s),e.removeEventListener("click",i.current)}},[e,r]),{onPointerDownCapture:()=>n.current=!0}}function Q_(t,e=globalThis==null?void 0:globalThis.document){const r=lr(t),n=I.useRef(!1);return I.useEffect(()=>{const i=s=>{s.target&&!n.current&&IC(K_,r,{originalEvent:s},{discrete:!1})};return e.addEventListener("focusin",i),()=>e.removeEventListener("focusin",i)},[e,r]),{onFocusCapture:()=>n.current=!0,onBlurCapture:()=>n.current=!1}}function U2(){const t=new CustomEvent(ep);document.dispatchEvent(t)}function IC(t,e,r,{discrete:n}){const i=r.originalEvent.target,s=new CustomEvent(t,{bubbles:!1,cancelable:!0,detail:r});e&&i.addEventListener(t,e,{once:!0}),n?SC(i,s):i.dispatchEvent(s)}var J_=wu,e5=_C,Gr=globalThis!=null&&globalThis.document?I.useLayoutEffect:()=>{},t5="Portal",e0=I.forwardRef((t,e)=>{var u;const{container:r,...n}=t,[i,s]=I.useState(!1);Gr(()=>s(!0),[]);const o=r||i&&((u=globalThis==null?void 0:globalThis.document)==null?void 0:u.body);return o?bN.createPortal(l.jsx(Ve.div,{...n,ref:e}),o):null});e0.displayName=t5;function r5(t,e){return I.useReducer((r,n)=>e[r][n]??r,t)}var hi=t=>{const{present:e,children:r}=t,n=n5(e),i=typeof r=="function"?r({present:n.isPresent}):I.Children.only(r),s=nt(n.ref,i5(i));return typeof r=="function"||n.isPresent?I.cloneElement(i,{ref:s}):null};hi.displayName="Presence";function n5(t){const[e,r]=I.useState(),n=I.useRef({}),i=I.useRef(t),s=I.useRef("none"),o=t?"mounted":"unmounted",[u,f]=r5(o,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return I.useEffect(()=>{const h=id(n.current);s.current=u==="mounted"?h:"none"},[u]),Gr(()=>{const h=n.current,m=i.current;if(m!==t){const w=s.current,C=id(h);t?f("MOUNT"):C==="none"||(h==null?void 0:h.display)==="none"?f("UNMOUNT"):f(m&&w!==C?"ANIMATION_OUT":"UNMOUNT"),i.current=t}},[t,f]),Gr(()=>{if(e){let h;const m=e.ownerDocument.defaultView??window,v=C=>{const b=id(n.current).includes(C.animationName);if(C.target===e&&b&&(f("ANIMATION_END"),!i.current)){const R=e.style.animationFillMode;e.style.animationFillMode="forwards",h=m.setTimeout(()=>{e.style.animationFillMode==="forwards"&&(e.style.animationFillMode=R)})}},w=C=>{C.target===e&&(s.current=id(n.current))};return e.addEventListener("animationstart",w),e.addEventListener("animationcancel",v),e.addEventListener("animationend",v),()=>{m.clearTimeout(h),e.removeEventListener("animationstart",w),e.removeEventListener("animationcancel",v),e.removeEventListener("animationend",v)}}else f("ANIMATION_END")},[e,f]),{isPresent:["mounted","unmountSuspended"].includes(u),ref:I.useCallback(h=>{h&&(n.current=getComputedStyle(h)),r(h)},[])}}function id(t){return(t==null?void 0:t.animationName)||"none"}function i5(t){var n,i;let e=(n=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:n.get,r=e&&"isReactWarning"in e&&e.isReactWarning;return r?t.ref:(e=(i=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:i.get,r=e&&"isReactWarning"in e&&e.isReactWarning,r?t.props.ref:t.props.ref||t.ref)}function ba({prop:t,defaultProp:e,onChange:r=()=>{}}){const[n,i]=s5({defaultProp:e,onChange:r}),s=t!==void 0,o=s?t:n,u=lr(r),f=I.useCallback(h=>{if(s){const v=typeof h=="function"?h(t):h;v!==t&&u(v)}else i(h)},[s,t,i,u]);return[o,f]}function s5({defaultProp:t,onChange:e}){const r=I.useState(t),[n]=r,i=I.useRef(n),s=lr(e);return I.useEffect(()=>{i.current!==n&&(s(n),i.current=n)},[n,i,s]),r}var a5="VisuallyHidden",Cu=I.forwardRef((t,e)=>l.jsx(Ve.span,{...t,ref:e,style:{position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal",...t.style}}));Cu.displayName=a5;var o5=Cu,zx="ToastProvider",[Gx,l5,c5]=Hx("Toast"),[TC,Jk]=$n("Toast",[c5]),[u5,t0]=TC(zx),RC=t=>{const{__scopeToast:e,label:r="Notification",duration:n=5e3,swipeDirection:i="right",swipeThreshold:s=50,children:o}=t,[u,f]=I.useState(null),[h,m]=I.useState(0),v=I.useRef(!1),w=I.useRef(!1);return r.trim()||console.error(`Invalid prop \`label\` supplied to \`${zx}\`. Expected non-empty \`string\`.`),l.jsx(Gx.Provider,{scope:e,children:l.jsx(u5,{scope:e,label:r,duration:n,swipeDirection:i,swipeThreshold:s,toastCount:h,viewport:u,onViewportChange:f,onToastAdd:I.useCallback(()=>m(C=>C+1),[]),onToastRemove:I.useCallback(()=>m(C=>C-1),[]),isFocusedToastEscapeKeyDownRef:v,isClosePausedRef:w,children:o})})};RC.displayName=zx;var OC="ToastViewport",d5=["F8"],tp="toast.viewportPause",rp="toast.viewportResume",PC=I.forwardRef((t,e)=>{const{__scopeToast:r,hotkey:n=d5,label:i="Notifications ({hotkey})",...s}=t,o=t0(OC,r),u=l5(r),f=I.useRef(null),h=I.useRef(null),m=I.useRef(null),v=I.useRef(null),w=nt(e,v,o.onViewportChange),C=n.join("+").replace(/Key/g,"").replace(/Digit/g,""),N=o.toastCount>0;I.useEffect(()=>{const R=_=>{var T;n.length!==0&&n.every(P=>_[P]||_.code===P)&&((T=v.current)==null||T.focus())};return document.addEventListener("keydown",R),()=>document.removeEventListener("keydown",R)},[n]),I.useEffect(()=>{const R=f.current,_=v.current;if(N&&R&&_){const S=()=>{if(!o.isClosePausedRef.current){const k=new CustomEvent(tp);_.dispatchEvent(k),o.isClosePausedRef.current=!0}},T=()=>{if(o.isClosePausedRef.current){const k=new CustomEvent(rp);_.dispatchEvent(k),o.isClosePausedRef.current=!1}},P=k=>{!R.contains(k.relatedTarget)&&T()},B=()=>{R.contains(document.activeElement)||T()};return R.addEventListener("focusin",S),R.addEventListener("focusout",P),R.addEventListener("pointermove",S),R.addEventListener("pointerleave",B),window.addEventListener("blur",S),window.addEventListener("focus",T),()=>{R.removeEventListener("focusin",S),R.removeEventListener("focusout",P),R.removeEventListener("pointermove",S),R.removeEventListener("pointerleave",B),window.removeEventListener("blur",S),window.removeEventListener("focus",T)}}},[N,o.isClosePausedRef]);const b=I.useCallback(({tabbingDirection:R})=>{const S=u().map(T=>{const P=T.ref.current,B=[P,...b5(P)];return R==="forwards"?B:B.reverse()});return(R==="forwards"?S.reverse():S).flat()},[u]);return I.useEffect(()=>{const R=v.current;if(R){const _=S=>{var B,k,M;const T=S.altKey||S.ctrlKey||S.metaKey;if(S.key==="Tab"&&!T){const F=document.activeElement,U=S.shiftKey;if(S.target===R&&U){(B=h.current)==null||B.focus();return}const Z=b({tabbingDirection:U?"backwards":"forwards"}),ae=Z.findIndex(K=>K===F);C1(Z.slice(ae+1))?S.preventDefault():U?(k=h.current)==null||k.focus():(M=m.current)==null||M.focus()}};return R.addEventListener("keydown",_),()=>R.removeEventListener("keydown",_)}},[u,b]),l.jsxs(e5,{ref:f,role:"region","aria-label":i.replace("{hotkey}",C),tabIndex:-1,style:{pointerEvents:N?void 0:"none"},children:[N&&l.jsx(np,{ref:h,onFocusFromOutsideViewport:()=>{const R=b({tabbingDirection:"forwards"});C1(R)}}),l.jsx(Gx.Slot,{scope:r,children:l.jsx(Ve.ol,{tabIndex:-1,...s,ref:w})}),N&&l.jsx(np,{ref:m,onFocusFromOutsideViewport:()=>{const R=b({tabbingDirection:"backwards"});C1(R)}})]})});PC.displayName=OC;var DC="ToastFocusProxy",np=I.forwardRef((t,e)=>{const{__scopeToast:r,onFocusFromOutsideViewport:n,...i}=t,s=t0(DC,r);return l.jsx(Cu,{"aria-hidden":!0,tabIndex:0,...i,ref:e,style:{position:"fixed"},onFocus:o=>{var h;const u=o.relatedTarget;!((h=s.viewport)!=null&&h.contains(u))&&n()}})});np.displayName=DC;var r0="Toast",f5="toast.swipeStart",h5="toast.swipeMove",p5="toast.swipeCancel",x5="toast.swipeEnd",jC=I.forwardRef((t,e)=>{const{forceMount:r,open:n,defaultOpen:i,onOpenChange:s,...o}=t,[u=!0,f]=ba({prop:n,defaultProp:i,onChange:s});return l.jsx(hi,{present:r||u,children:l.jsx(v5,{open:u,...o,ref:e,onClose:()=>f(!1),onPause:lr(t.onPause),onResume:lr(t.onResume),onSwipeStart:Pe(t.onSwipeStart,h=>{h.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:Pe(t.onSwipeMove,h=>{const{x:m,y:v}=h.detail.delta;h.currentTarget.setAttribute("data-swipe","move"),h.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${m}px`),h.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${v}px`)}),onSwipeCancel:Pe(t.onSwipeCancel,h=>{h.currentTarget.setAttribute("data-swipe","cancel"),h.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),h.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),h.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),h.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:Pe(t.onSwipeEnd,h=>{const{x:m,y:v}=h.detail.delta;h.currentTarget.setAttribute("data-swipe","end"),h.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),h.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),h.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${m}px`),h.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${v}px`),f(!1)})})})});jC.displayName=r0;var[g5,m5]=TC(r0,{onClose(){}}),v5=I.forwardRef((t,e)=>{const{__scopeToast:r,type:n="foreground",duration:i,open:s,onClose:o,onEscapeKeyDown:u,onPause:f,onResume:h,onSwipeStart:m,onSwipeMove:v,onSwipeCancel:w,onSwipeEnd:C,...N}=t,b=t0(r0,r),[R,_]=I.useState(null),S=nt(e,K=>_(K)),T=I.useRef(null),P=I.useRef(null),B=i||b.duration,k=I.useRef(0),M=I.useRef(B),F=I.useRef(0),{onToastAdd:U,onToastRemove:X}=b,ee=lr(()=>{var G;(R==null?void 0:R.contains(document.activeElement))&&((G=b.viewport)==null||G.focus()),o()}),Z=I.useCallback(K=>{!K||K===1/0||(window.clearTimeout(F.current),k.current=new Date().getTime(),F.current=window.setTimeout(ee,K))},[ee]);I.useEffect(()=>{const K=b.viewport;if(K){const G=()=>{Z(M.current),h==null||h()},ue=()=>{const de=new Date().getTime()-k.current;M.current=M.current-de,window.clearTimeout(F.current),f==null||f()};return K.addEventListener(tp,ue),K.addEventListener(rp,G),()=>{K.removeEventListener(tp,ue),K.removeEventListener(rp,G)}}},[b.viewport,B,f,h,Z]),I.useEffect(()=>{s&&!b.isClosePausedRef.current&&Z(B)},[s,B,b.isClosePausedRef,Z]),I.useEffect(()=>(U(),()=>X()),[U,X]);const ae=I.useMemo(()=>R?VC(R):null,[R]);return b.viewport?l.jsxs(l.Fragment,{children:[ae&&l.jsx(y5,{__scopeToast:r,role:"status","aria-live":n==="foreground"?"assertive":"polite","aria-atomic":!0,children:ae}),l.jsx(g5,{scope:r,onClose:ee,children:yo.createPortal(l.jsx(Gx.ItemSlot,{scope:r,children:l.jsx(J_,{asChild:!0,onEscapeKeyDown:Pe(u,()=>{b.isFocusedToastEscapeKeyDownRef.current||ee(),b.isFocusedToastEscapeKeyDownRef.current=!1}),children:l.jsx(Ve.li,{role:"status","aria-live":"off","aria-atomic":!0,tabIndex:0,"data-state":s?"open":"closed","data-swipe-direction":b.swipeDirection,...N,ref:S,style:{userSelect:"none",touchAction:"none",...t.style},onKeyDown:Pe(t.onKeyDown,K=>{K.key==="Escape"&&(u==null||u(K.nativeEvent),K.nativeEvent.defaultPrevented||(b.isFocusedToastEscapeKeyDownRef.current=!0,ee()))}),onPointerDown:Pe(t.onPointerDown,K=>{K.button===0&&(T.current={x:K.clientX,y:K.clientY})}),onPointerMove:Pe(t.onPointerMove,K=>{if(!T.current)return;const G=K.clientX-T.current.x,ue=K.clientY-T.current.y,de=!!P.current,ne=["left","right"].includes(b.swipeDirection),xe=["left","up"].includes(b.swipeDirection)?Math.min:Math.max,Ae=ne?xe(0,G):0,Te=ne?0:xe(0,ue),ze=K.pointerType==="touch"?10:2,Pt={x:Ae,y:Te},it={originalEvent:K,delta:Pt};de?(P.current=Pt,sd(h5,v,it,{discrete:!1})):V2(Pt,b.swipeDirection,ze)?(P.current=Pt,sd(f5,m,it,{discrete:!1}),K.target.setPointerCapture(K.pointerId)):(Math.abs(G)>ze||Math.abs(ue)>ze)&&(T.current=null)}),onPointerUp:Pe(t.onPointerUp,K=>{const G=P.current,ue=K.target;if(ue.hasPointerCapture(K.pointerId)&&ue.releasePointerCapture(K.pointerId),P.current=null,T.current=null,G){const de=K.currentTarget,ne={originalEvent:K,delta:G};V2(G,b.swipeDirection,b.swipeThreshold)?sd(x5,C,ne,{discrete:!0}):sd(p5,w,ne,{discrete:!0}),de.addEventListener("click",xe=>xe.preventDefault(),{once:!0})}})})})}),b.viewport)})]}):null}),y5=t=>{const{__scopeToast:e,children:r,...n}=t,i=t0(r0,e),[s,o]=I.useState(!1),[u,f]=I.useState(!1);return E5(()=>o(!0)),I.useEffect(()=>{const h=window.setTimeout(()=>f(!0),1e3);return()=>window.clearTimeout(h)},[]),u?null:l.jsx(e0,{asChild:!0,children:l.jsx(Cu,{...n,children:s&&l.jsxs(l.Fragment,{children:[i.label," ",r]})})})},w5="ToastTitle",MC=I.forwardRef((t,e)=>{const{__scopeToast:r,...n}=t;return l.jsx(Ve.div,{...n,ref:e})});MC.displayName=w5;var C5="ToastDescription",kC=I.forwardRef((t,e)=>{const{__scopeToast:r,...n}=t;return l.jsx(Ve.div,{...n,ref:e})});kC.displayName=C5;var LC="ToastAction",BC=I.forwardRef((t,e)=>{const{altText:r,...n}=t;return r.trim()?l.jsx(UC,{altText:r,asChild:!0,children:l.jsx(Wx,{...n,ref:e})}):(console.error(`Invalid prop \`altText\` supplied to \`${LC}\`. Expected non-empty \`string\`.`),null)});BC.displayName=LC;var FC="ToastClose",Wx=I.forwardRef((t,e)=>{const{__scopeToast:r,...n}=t,i=m5(FC,r);return l.jsx(UC,{asChild:!0,children:l.jsx(Ve.button,{type:"button",...n,ref:e,onClick:Pe(t.onClick,i.onClose)})})});Wx.displayName=FC;var UC=I.forwardRef((t,e)=>{const{__scopeToast:r,altText:n,...i}=t;return l.jsx(Ve.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":n||void 0,...i,ref:e})});function VC(t){const e=[];return Array.from(t.childNodes).forEach(n=>{if(n.nodeType===n.TEXT_NODE&&n.textContent&&e.push(n.textContent),A5(n)){const i=n.ariaHidden||n.hidden||n.style.display==="none",s=n.dataset.radixToastAnnounceExclude==="";if(!i)if(s){const o=n.dataset.radixToastAnnounceAlt;o&&e.push(o)}else e.push(...VC(n))}}),e}function sd(t,e,r,{discrete:n}){const i=r.originalEvent.currentTarget,s=new CustomEvent(t,{bubbles:!0,cancelable:!0,detail:r});e&&i.addEventListener(t,e,{once:!0}),n?SC(i,s):i.dispatchEvent(s)}var V2=(t,e,r=0)=>{const n=Math.abs(t.x),i=Math.abs(t.y),s=n>i;return e==="left"||e==="right"?s&&n>r:!s&&i>r};function E5(t=()=>{}){const e=lr(t);Gr(()=>{let r=0,n=0;return r=window.requestAnimationFrame(()=>n=window.requestAnimationFrame(e)),()=>{window.cancelAnimationFrame(r),window.cancelAnimationFrame(n)}},[e])}function A5(t){return t.nodeType===t.ELEMENT_NODE}function b5(t){const e=[],r=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:n=>{const i=n.tagName==="INPUT"&&n.type==="hidden";return n.disabled||n.hidden||i?NodeFilter.FILTER_SKIP:n.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)e.push(r.currentNode);return e}function C1(t){const e=document.activeElement;return t.some(r=>r===e?!0:(r.focus(),document.activeElement!==e))}var S5=RC,HC=PC,zC=jC,GC=MC,WC=kC,XC=BC,YC=Wx;function $C(t){var e,r,n="";if(typeof t=="string"||typeof t=="number")n+=t;else if(typeof t=="object")if(Array.isArray(t)){var i=t.length;for(e=0;e<i;e++)t[e]&&(r=$C(t[e]))&&(n&&(n+=" "),n+=r)}else for(r in t)t[r]&&(n&&(n+=" "),n+=r);return n}function KC(){for(var t,e,r=0,n="",i=arguments.length;r<i;r++)(t=arguments[r])&&(e=$C(t))&&(n&&(n+=" "),n+=e);return n}const H2=t=>typeof t=="boolean"?`${t}`:t===0?"0":t,z2=KC,Eu=(t,e)=>r=>{var n;if((e==null?void 0:e.variants)==null)return z2(t,r==null?void 0:r.class,r==null?void 0:r.className);const{variants:i,defaultVariants:s}=e,o=Object.keys(i).map(h=>{const m=r==null?void 0:r[h],v=s==null?void 0:s[h];if(m===null)return null;const w=H2(m)||H2(v);return i[h][w]}),u=r&&Object.entries(r).reduce((h,m)=>{let[v,w]=m;return w===void 0||(h[v]=w),h},{}),f=e==null||(n=e.compoundVariants)===null||n===void 0?void 0:n.reduce((h,m)=>{let{class:v,className:w,...C}=m;return Object.entries(C).every(N=>{let[b,R]=N;return Array.isArray(R)?R.includes({...s,...u}[b]):{...s,...u}[b]===R})?[...h,v,w]:h},[]);return z2(t,o,f,r==null?void 0:r.class,r==null?void 0:r.className)};/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const N5=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),ZC=(...t)=>t.filter((e,r,n)=>!!e&&n.indexOf(e)===r).join(" ");/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var _5={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const I5=I.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:r=2,absoluteStrokeWidth:n,className:i="",children:s,iconNode:o,...u},f)=>I.createElement("svg",{ref:f,..._5,width:e,height:e,stroke:t,strokeWidth:n?Number(r)*24/Number(e):r,className:ZC("lucide",i),...u},[...o.map(([h,m])=>I.createElement(h,m)),...Array.isArray(s)?s:[s]]));/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ee=(t,e)=>{const r=I.forwardRef(({className:n,...i},s)=>I.createElement(I5,{ref:s,iconNode:e,className:ZC(`lucide-${N5(t)}`,n),...i}));return r.displayName=`${t}`,r};/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xx=Ee("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const G2=Ee("Banknote",[["rect",{width:"20",height:"12",x:"2",y:"6",rx:"2",key:"9lu3g6"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}],["path",{d:"M6 12h.01M18 12h.01",key:"113zkx"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const T5=Ee("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const W2=Ee("BookOpen",[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const X2=Ee("Brain",[["path",{d:"M12 5a3 3 0 1 0-5.997.125 4 4 0 0 0-2.526 5.77 4 4 0 0 0 .556 6.588A4 4 0 1 0 12 18Z",key:"l5xja"}],["path",{d:"M12 5a3 3 0 1 1 5.997.125 4 4 0 0 1 2.526 5.77 4 4 0 0 1-.556 6.588A4 4 0 1 1 12 18Z",key:"ep3f8r"}],["path",{d:"M15 13a4.5 4.5 0 0 1-3-4 4.5 4.5 0 0 1-3 4",key:"1p4c4q"}],["path",{d:"M17.599 6.5a3 3 0 0 0 .399-1.375",key:"tmeiqw"}],["path",{d:"M6.003 5.125A3 3 0 0 0 6.401 6.5",key:"105sqy"}],["path",{d:"M3.477 10.896a4 4 0 0 1 .585-.396",key:"ql3yin"}],["path",{d:"M19.938 10.5a4 4 0 0 1 .585.396",key:"1qfode"}],["path",{d:"M6 18a4 4 0 0 1-1.967-.516",key:"2e4loj"}],["path",{d:"M19.967 17.484A4 4 0 0 1 18 18",key:"159ez6"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qC=Ee("Calculator",[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",key:"1nb95v"}],["line",{x1:"8",x2:"16",y1:"6",y2:"6",key:"x4nwl0"}],["line",{x1:"16",x2:"16",y1:"14",y2:"18",key:"wjye3r"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M8 18h.01",key:"lrp35t"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Md=Ee("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const E1=Ee("Camera",[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const R5=Ee("ChartBar",[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M7 16h8",key:"srdodz"}],["path",{d:"M7 11h12",key:"127s9w"}],["path",{d:"M7 6h3",key:"w9rmul"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Au=Ee("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const au=Ee("ChefHat",[["path",{d:"M17 21a1 1 0 0 0 1-1v-5.35c0-.457.316-.844.727-1.041a4 4 0 0 0-2.134-7.589 5 5 0 0 0-9.186 0 4 4 0 0 0-2.134 7.588c.411.198.727.585.727 1.041V20a1 1 0 0 0 1 1Z",key:"1qvrer"}],["path",{d:"M6 17h12",key:"1jwigz"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QC=Ee("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const O5=Ee("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sa=Ee("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ou=Ee("CircleCheckBig",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JC=Ee("CircleCheck",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const P5=Ee("CircleHelp",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const D5=Ee("CircleX",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ns=Ee("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Y2=Ee("Coffee",[["path",{d:"M10 2v2",key:"7u0qdc"}],["path",{d:"M14 2v2",key:"6buw04"}],["path",{d:"M16 8a1 1 0 0 1 1 1v8a4 4 0 0 1-4 4H7a4 4 0 0 1-4-4V9a1 1 0 0 1 1-1h14a4 4 0 1 1 0 8h-1",key:"pwadti"}],["path",{d:"M6 2v2",key:"colzsn"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const j5=Ee("Cookie",[["path",{d:"M12 2a10 10 0 1 0 10 10 4 4 0 0 1-5-5 4 4 0 0 1-5-5",key:"laymnq"}],["path",{d:"M8.5 8.5v.01",key:"ue8clq"}],["path",{d:"M16 15.5v.01",key:"14dtrp"}],["path",{d:"M12 12v.01",key:"u5ubse"}],["path",{d:"M11 17v.01",key:"1hyl5a"}],["path",{d:"M7 14v.01",key:"uct60s"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $a=Ee("CreditCard",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ns=Ee("Crown",[["path",{d:"M11.562 3.266a.5.5 0 0 1 .876 0L15.39 8.87a1 1 0 0 0 1.516.294L21.183 5.5a.5.5 0 0 1 .798.519l-2.834 10.246a1 1 0 0 1-.956.734H5.81a1 1 0 0 1-.957-.734L2.02 6.02a.5.5 0 0 1 .798-.519l4.276 3.664a1 1 0 0 0 1.516-.294z",key:"1vdc57"}],["path",{d:"M5 21h14",key:"11awu3"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ip=Ee("Database",[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ci=Ee("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gf=Ee("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zs=Ee("ExternalLink",[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const e4=Ee("Eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const M5=Ee("FileArchive",[["path",{d:"M10 12v-1",key:"v7bkov"}],["path",{d:"M10 18v-2",key:"1cjy8d"}],["path",{d:"M10 7V6",key:"dljcrl"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M15.5 22H18a2 2 0 0 0 2-2V7l-5-5H6a2 2 0 0 0-2 2v16a2 2 0 0 0 .274 1.01",key:"gkbcor"}],["circle",{cx:"10",cy:"20",r:"2",key:"1xzdoj"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rl=Ee("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const k5=Ee("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yx=Ee("Gift",[["rect",{x:"3",y:"8",width:"18",height:"4",rx:"1",key:"bkv52"}],["path",{d:"M12 8v13",key:"1c76mn"}],["path",{d:"M19 12v7a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2v-7",key:"6wjy6b"}],["path",{d:"M7.5 8a2.5 2.5 0 0 1 0-5A4.8 8 0 0 1 12 8a4.8 8 0 0 1 4.5-5 2.5 2.5 0 0 1 0 5",key:"1ihvrl"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const L5=Ee("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mf=Ee("Heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const B5=Ee("House",[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ad=Ee("Lightbulb",[["path",{d:"M15 14c.2-1 .7-1.7 1.5-2.5 1-.9 1.5-2.2 1.5-3.5A6 6 0 0 0 6 8c0 1 .2 2.2 1.5 3.5.7.7 1.3 1.5 1.5 2.5",key:"1gvzjb"}],["path",{d:"M9 18h6",key:"x1upvd"}],["path",{d:"M10 22h4",key:"ceow96"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ii=Ee("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $2=Ee("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const t4=Ee("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ji=Ee("MapPin",[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const F5=Ee("Maximize2",[["polyline",{points:"15 3 21 3 21 9",key:"mznyad"}],["polyline",{points:"9 21 3 21 3 15",key:"1avn1i"}],["line",{x1:"21",x2:"14",y1:"3",y2:"10",key:"ota7mn"}],["line",{x1:"3",x2:"10",y1:"21",y2:"14",key:"1atl0r"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const U5=Ee("MessageCircle",[["path",{d:"M7.9 20A9 9 0 1 0 4 16.1L2 22Z",key:"vv11sd"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const V5=Ee("MicOff",[["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}],["path",{d:"M18.89 13.23A7.12 7.12 0 0 0 19 12v-2",key:"80xlxr"}],["path",{d:"M5 10v2a7 7 0 0 0 12 5",key:"p2k8kg"}],["path",{d:"M15 9.34V5a3 3 0 0 0-5.68-1.33",key:"1gzdoj"}],["path",{d:"M9 9v3a3 3 0 0 0 5.12 2.12",key:"r2i35w"}],["line",{x1:"12",x2:"12",y1:"19",y2:"22",key:"x3vr5v"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pi=Ee("Mic",[["path",{d:"M12 2a3 3 0 0 0-3 3v7a3 3 0 0 0 6 0V5a3 3 0 0 0-3-3Z",key:"131961"}],["path",{d:"M19 10v2a7 7 0 0 1-14 0v-2",key:"1vc78b"}],["line",{x1:"12",x2:"12",y1:"19",y2:"22",key:"x3vr5v"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const H5=Ee("Minimize2",[["polyline",{points:"4 14 10 14 10 20",key:"11kfnr"}],["polyline",{points:"20 10 14 10 14 4",key:"rlmsce"}],["line",{x1:"14",x2:"21",y1:"10",y2:"3",key:"o5lafz"}],["line",{x1:"3",x2:"10",y1:"21",y2:"14",key:"1atl0r"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vf=Ee("Navigation",[["polygon",{points:"3 11 22 2 13 21 11 13 3 11",key:"1ltx0t"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yf=Ee("Package",[["path",{d:"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z",key:"1a0edw"}],["path",{d:"M12 22V12",key:"d0xqtd"}],["path",{d:"m3.3 7 7.703 4.734a2 2 0 0 0 1.994 0L20.7 7",key:"yx3hmr"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const z5=Ee("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const r4=Ee("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const G5=Ee("Receipt",[["path",{d:"M4 2v20l2-1 2 1 2-1 2 1 2-1 2 1 2-1 2 1V2l-2 1-2-1-2 1-2-1-2 1-2-1-2 1Z",key:"q3az6g"}],["path",{d:"M16 8h-6a2 2 0 1 0 0 4h4a2 2 0 1 1 0 4H8",key:"1h4pet"}],["path",{d:"M12 17.5v-11",key:"1jc1ny"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sp=Ee("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const W5=Ee("Save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const K2=Ee("Scale",[["path",{d:"m16 16 3-8 3 8c-.87.65-1.92 1-3 1s-2.13-.35-3-1Z",key:"7g6ntu"}],["path",{d:"m2 16 3-8 3 8c-.87.65-1.92 1-3 1s-2.13-.35-3-1Z",key:"ijws7r"}],["path",{d:"M7 21h10",key:"1b0cd5"}],["path",{d:"M12 3v18",key:"108xh3"}],["path",{d:"M3 7h2c2 0 5-1 7-2 2 1 5 2 7 2h2",key:"3gwbw2"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const A1=Ee("Scan",[["path",{d:"M3 7V5a2 2 0 0 1 2-2h2",key:"aa7l1z"}],["path",{d:"M17 3h2a2 2 0 0 1 2 2v2",key:"4qcy5o"}],["path",{d:"M21 17v2a2 2 0 0 1-2 2h-2",key:"6vwrx8"}],["path",{d:"M7 21H5a2 2 0 0 1-2-2v-2",key:"ioqczr"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const n4=Ee("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $x=Ee("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const is=Ee("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ap=Ee("ShoppingBag",[["path",{d:"M6 2 3 6v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6l-3-4Z",key:"hou9p0"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M16 10a4 4 0 0 1-8 0",key:"1ltviw"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const In=Ee("ShoppingCart",[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const X5=Ee("Smartphone",[["rect",{width:"14",height:"20",x:"5",y:"2",rx:"2",ry:"2",key:"1yt0o3"}],["path",{d:"M12 18h.01",key:"mhygvu"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lu=Ee("Sparkles",[["path",{d:"M9.937 15.5A2 2 0 0 0 8.5 14.063l-6.135-1.582a.5.5 0 0 1 0-.962L8.5 9.936A2 2 0 0 0 9.937 8.5l1.582-6.135a.5.5 0 0 1 .963 0L14.063 8.5A2 2 0 0 0 15.5 9.937l6.135 1.581a.5.5 0 0 1 0 .964L15.5 14.063a2 2 0 0 0-1.437 1.437l-1.582 6.135a.5.5 0 0 1-.963 0z",key:"4pj2yx"}],["path",{d:"M20 3v4",key:"1olli1"}],["path",{d:"M22 5h-4",key:"1gvqau"}],["path",{d:"M4 17v2",key:"vumght"}],["path",{d:"M5 18H3",key:"zchphs"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const On=Ee("Star",[["polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2",key:"8f66p6"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Y5=Ee("Tag",[["path",{d:"M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z",key:"vktsd0"}],["circle",{cx:"7.5",cy:"7.5",r:".5",fill:"currentColor",key:"kqv944"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kx=Ee("Target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const i4=Ee("Timer",[["line",{x1:"10",x2:"14",y1:"2",y2:"2",key:"14vaq8"}],["line",{x1:"12",x2:"15",y1:"14",y2:"11",key:"17fdiu"}],["circle",{cx:"12",cy:"14",r:"8",key:"1e1u0o"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const s4=Ee("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $5=Ee("TrendingDown",[["polyline",{points:"22 17 13.5 8.5 8.5 13.5 2 7",key:"1r2t7k"}],["polyline",{points:"16 17 22 17 22 11",key:"11uiuu"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zx=Ee("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const a4=Ee("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const K5=Ee("Truck",[["path",{d:"M14 18V6a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2v11a1 1 0 0 0 1 1h2",key:"wrbu53"}],["path",{d:"M15 18H9",key:"1lyqi6"}],["path",{d:"M19 18h2a1 1 0 0 0 1-1v-3.65a1 1 0 0 0-.22-.624l-3.48-4.35A1 1 0 0 0 17.52 8H14",key:"lysw3i"}],["circle",{cx:"17",cy:"18",r:"2",key:"332jqn"}],["circle",{cx:"7",cy:"18",r:"2",key:"19iecd"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ol=Ee("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wf=Ee("Utensils",[["path",{d:"M3 2v7c0 1.1.9 2 2 2h4a2 2 0 0 0 2-2V2",key:"cjf0a3"}],["path",{d:"M7 2v20",key:"1473qp"}],["path",{d:"M21 15V2a5 5 0 0 0-5 5v6c0 1.1.9 2 2 2h3Zm0 0v7",key:"j28e5"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const op=Ee("Volume2",[["path",{d:"M11 4.702a.705.705 0 0 0-1.203-.498L6.413 7.587A1.4 1.4 0 0 1 5.416 8H3a1 1 0 0 0-1 1v6a1 1 0 0 0 1 1h2.416a1.4 1.4 0 0 1 .997.413l3.383 3.384A.705.705 0 0 0 11 19.298z",key:"uqj9uw"}],["path",{d:"M16 9a5 5 0 0 1 0 6",key:"1q6k2b"}],["path",{d:"M19.364 18.364a9 9 0 0 0 0-12.728",key:"ijwkga"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Z5=Ee("WifiOff",[["path",{d:"M12 20h.01",key:"zekei9"}],["path",{d:"M8.5 16.429a5 5 0 0 1 7 0",key:"1bycff"}],["path",{d:"M5 12.859a10 10 0 0 1 5.17-2.69",key:"1dl1wf"}],["path",{d:"M19 12.859a10 10 0 0 0-2.007-1.523",key:"4k23kn"}],["path",{d:"M2 8.82a15 15 0 0 1 4.177-2.643",key:"1grhjp"}],["path",{d:"M22 8.82a15 15 0 0 0-11.288-3.764",key:"z3jwby"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const q5=Ee("Wifi",[["path",{d:"M12 20h.01",key:"zekei9"}],["path",{d:"M2 8.82a15 15 0 0 1 20 0",key:"dnpr2z"}],["path",{d:"M5 12.859a10 10 0 0 1 14 0",key:"1x1e6c"}],["path",{d:"M8.5 16.429a5 5 0 0 1 7 0",key:"1bycff"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ma=Ee("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const n0=Ee("Zap",[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]]),qx="-",Q5=t=>{const e=eI(t),{conflictingClassGroups:r,conflictingClassGroupModifiers:n}=t;return{getClassGroupId:o=>{const u=o.split(qx);return u[0]===""&&u.length!==1&&u.shift(),o4(u,e)||J5(o)},getConflictingClassGroupIds:(o,u)=>{const f=r[o]||[];return u&&n[o]?[...f,...n[o]]:f}}},o4=(t,e)=>{var o;if(t.length===0)return e.classGroupId;const r=t[0],n=e.nextPart.get(r),i=n?o4(t.slice(1),n):void 0;if(i)return i;if(e.validators.length===0)return;const s=t.join(qx);return(o=e.validators.find(({validator:u})=>u(s)))==null?void 0:o.classGroupId},Z2=/^\[(.+)\]$/,J5=t=>{if(Z2.test(t)){const e=Z2.exec(t)[1],r=e==null?void 0:e.substring(0,e.indexOf(":"));if(r)return"arbitrary.."+r}},eI=t=>{const{theme:e,prefix:r}=t,n={nextPart:new Map,validators:[]};return rI(Object.entries(t.classGroups),r).forEach(([s,o])=>{lp(o,n,s,e)}),n},lp=(t,e,r,n)=>{t.forEach(i=>{if(typeof i=="string"){const s=i===""?e:q2(e,i);s.classGroupId=r;return}if(typeof i=="function"){if(tI(i)){lp(i(n),e,r,n);return}e.validators.push({validator:i,classGroupId:r});return}Object.entries(i).forEach(([s,o])=>{lp(o,q2(e,s),r,n)})})},q2=(t,e)=>{let r=t;return e.split(qx).forEach(n=>{r.nextPart.has(n)||r.nextPart.set(n,{nextPart:new Map,validators:[]}),r=r.nextPart.get(n)}),r},tI=t=>t.isThemeGetter,rI=(t,e)=>e?t.map(([r,n])=>{const i=n.map(s=>typeof s=="string"?e+s:typeof s=="object"?Object.fromEntries(Object.entries(s).map(([o,u])=>[e+o,u])):s);return[r,i]}):t,nI=t=>{if(t<1)return{get:()=>{},set:()=>{}};let e=0,r=new Map,n=new Map;const i=(s,o)=>{r.set(s,o),e++,e>t&&(e=0,n=r,r=new Map)};return{get(s){let o=r.get(s);if(o!==void 0)return o;if((o=n.get(s))!==void 0)return i(s,o),o},set(s,o){r.has(s)?r.set(s,o):i(s,o)}}},l4="!",iI=t=>{const{separator:e,experimentalParseClassName:r}=t,n=e.length===1,i=e[0],s=e.length,o=u=>{const f=[];let h=0,m=0,v;for(let R=0;R<u.length;R++){let _=u[R];if(h===0){if(_===i&&(n||u.slice(R,R+s)===e)){f.push(u.slice(m,R)),m=R+s;continue}if(_==="/"){v=R;continue}}_==="["?h++:_==="]"&&h--}const w=f.length===0?u:u.substring(m),C=w.startsWith(l4),N=C?w.substring(1):w,b=v&&v>m?v-m:void 0;return{modifiers:f,hasImportantModifier:C,baseClassName:N,maybePostfixModifierPosition:b}};return r?u=>r({className:u,parseClassName:o}):o},sI=t=>{if(t.length<=1)return t;const e=[];let r=[];return t.forEach(n=>{n[0]==="["?(e.push(...r.sort(),n),r=[]):r.push(n)}),e.push(...r.sort()),e},aI=t=>({cache:nI(t.cacheSize),parseClassName:iI(t),...Q5(t)}),oI=/\s+/,lI=(t,e)=>{const{parseClassName:r,getClassGroupId:n,getConflictingClassGroupIds:i}=e,s=[],o=t.trim().split(oI);let u="";for(let f=o.length-1;f>=0;f-=1){const h=o[f],{modifiers:m,hasImportantModifier:v,baseClassName:w,maybePostfixModifierPosition:C}=r(h);let N=!!C,b=n(N?w.substring(0,C):w);if(!b){if(!N){u=h+(u.length>0?" "+u:u);continue}if(b=n(w),!b){u=h+(u.length>0?" "+u:u);continue}N=!1}const R=sI(m).join(":"),_=v?R+l4:R,S=_+b;if(s.includes(S))continue;s.push(S);const T=i(b,N);for(let P=0;P<T.length;++P){const B=T[P];s.push(_+B)}u=h+(u.length>0?" "+u:u)}return u};function cI(){let t=0,e,r,n="";for(;t<arguments.length;)(e=arguments[t++])&&(r=c4(e))&&(n&&(n+=" "),n+=r);return n}const c4=t=>{if(typeof t=="string")return t;let e,r="";for(let n=0;n<t.length;n++)t[n]&&(e=c4(t[n]))&&(r&&(r+=" "),r+=e);return r};function uI(t,...e){let r,n,i,s=o;function o(f){const h=e.reduce((m,v)=>v(m),t());return r=aI(h),n=r.cache.get,i=r.cache.set,s=u,u(f)}function u(f){const h=n(f);if(h)return h;const m=lI(f,r);return i(f,m),m}return function(){return s(cI.apply(null,arguments))}}const Lt=t=>{const e=r=>r[t]||[];return e.isThemeGetter=!0,e},u4=/^\[(?:([a-z-]+):)?(.+)\]$/i,dI=/^\d+\/\d+$/,fI=new Set(["px","full","screen"]),hI=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,pI=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,xI=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,gI=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,mI=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,fs=t=>nl(t)||fI.has(t)||dI.test(t),Fs=t=>Hl(t,"length",SI),nl=t=>!!t&&!Number.isNaN(Number(t)),b1=t=>Hl(t,"number",nl),hc=t=>!!t&&Number.isInteger(Number(t)),vI=t=>t.endsWith("%")&&nl(t.slice(0,-1)),$e=t=>u4.test(t),Us=t=>hI.test(t),yI=new Set(["length","size","percentage"]),wI=t=>Hl(t,yI,d4),CI=t=>Hl(t,"position",d4),EI=new Set(["image","url"]),AI=t=>Hl(t,EI,_I),bI=t=>Hl(t,"",NI),pc=()=>!0,Hl=(t,e,r)=>{const n=u4.exec(t);return n?n[1]?typeof e=="string"?n[1]===e:e.has(n[1]):r(n[2]):!1},SI=t=>pI.test(t)&&!xI.test(t),d4=()=>!1,NI=t=>gI.test(t),_I=t=>mI.test(t),II=()=>{const t=Lt("colors"),e=Lt("spacing"),r=Lt("blur"),n=Lt("brightness"),i=Lt("borderColor"),s=Lt("borderRadius"),o=Lt("borderSpacing"),u=Lt("borderWidth"),f=Lt("contrast"),h=Lt("grayscale"),m=Lt("hueRotate"),v=Lt("invert"),w=Lt("gap"),C=Lt("gradientColorStops"),N=Lt("gradientColorStopPositions"),b=Lt("inset"),R=Lt("margin"),_=Lt("opacity"),S=Lt("padding"),T=Lt("saturate"),P=Lt("scale"),B=Lt("sepia"),k=Lt("skew"),M=Lt("space"),F=Lt("translate"),U=()=>["auto","contain","none"],X=()=>["auto","hidden","clip","visible","scroll"],ee=()=>["auto",$e,e],Z=()=>[$e,e],ae=()=>["",fs,Fs],K=()=>["auto",nl,$e],G=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],ue=()=>["solid","dashed","dotted","double","none"],de=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],ne=()=>["start","end","center","between","around","evenly","stretch"],xe=()=>["","0",$e],Ae=()=>["auto","avoid","all","avoid-page","page","left","right","column"],Te=()=>[nl,$e];return{cacheSize:500,separator:":",theme:{colors:[pc],spacing:[fs,Fs],blur:["none","",Us,$e],brightness:Te(),borderColor:[t],borderRadius:["none","","full",Us,$e],borderSpacing:Z(),borderWidth:ae(),contrast:Te(),grayscale:xe(),hueRotate:Te(),invert:xe(),gap:Z(),gradientColorStops:[t],gradientColorStopPositions:[vI,Fs],inset:ee(),margin:ee(),opacity:Te(),padding:Z(),saturate:Te(),scale:Te(),sepia:xe(),skew:Te(),space:Z(),translate:Z()},classGroups:{aspect:[{aspect:["auto","square","video",$e]}],container:["container"],columns:[{columns:[Us]}],"break-after":[{"break-after":Ae()}],"break-before":[{"break-before":Ae()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...G(),$e]}],overflow:[{overflow:X()}],"overflow-x":[{"overflow-x":X()}],"overflow-y":[{"overflow-y":X()}],overscroll:[{overscroll:U()}],"overscroll-x":[{"overscroll-x":U()}],"overscroll-y":[{"overscroll-y":U()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[b]}],"inset-x":[{"inset-x":[b]}],"inset-y":[{"inset-y":[b]}],start:[{start:[b]}],end:[{end:[b]}],top:[{top:[b]}],right:[{right:[b]}],bottom:[{bottom:[b]}],left:[{left:[b]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",hc,$e]}],basis:[{basis:ee()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",$e]}],grow:[{grow:xe()}],shrink:[{shrink:xe()}],order:[{order:["first","last","none",hc,$e]}],"grid-cols":[{"grid-cols":[pc]}],"col-start-end":[{col:["auto",{span:["full",hc,$e]},$e]}],"col-start":[{"col-start":K()}],"col-end":[{"col-end":K()}],"grid-rows":[{"grid-rows":[pc]}],"row-start-end":[{row:["auto",{span:[hc,$e]},$e]}],"row-start":[{"row-start":K()}],"row-end":[{"row-end":K()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",$e]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",$e]}],gap:[{gap:[w]}],"gap-x":[{"gap-x":[w]}],"gap-y":[{"gap-y":[w]}],"justify-content":[{justify:["normal",...ne()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...ne(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...ne(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[S]}],px:[{px:[S]}],py:[{py:[S]}],ps:[{ps:[S]}],pe:[{pe:[S]}],pt:[{pt:[S]}],pr:[{pr:[S]}],pb:[{pb:[S]}],pl:[{pl:[S]}],m:[{m:[R]}],mx:[{mx:[R]}],my:[{my:[R]}],ms:[{ms:[R]}],me:[{me:[R]}],mt:[{mt:[R]}],mr:[{mr:[R]}],mb:[{mb:[R]}],ml:[{ml:[R]}],"space-x":[{"space-x":[M]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[M]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",$e,e]}],"min-w":[{"min-w":[$e,e,"min","max","fit"]}],"max-w":[{"max-w":[$e,e,"none","full","min","max","fit","prose",{screen:[Us]},Us]}],h:[{h:[$e,e,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[$e,e,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[$e,e,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[$e,e,"auto","min","max","fit"]}],"font-size":[{text:["base",Us,Fs]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",b1]}],"font-family":[{font:[pc]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",$e]}],"line-clamp":[{"line-clamp":["none",nl,b1]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",fs,$e]}],"list-image":[{"list-image":["none",$e]}],"list-style-type":[{list:["none","disc","decimal",$e]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[t]}],"placeholder-opacity":[{"placeholder-opacity":[_]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[t]}],"text-opacity":[{"text-opacity":[_]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...ue(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",fs,Fs]}],"underline-offset":[{"underline-offset":["auto",fs,$e]}],"text-decoration-color":[{decoration:[t]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:Z()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",$e]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",$e]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[_]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...G(),CI]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",wI]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},AI]}],"bg-color":[{bg:[t]}],"gradient-from-pos":[{from:[N]}],"gradient-via-pos":[{via:[N]}],"gradient-to-pos":[{to:[N]}],"gradient-from":[{from:[C]}],"gradient-via":[{via:[C]}],"gradient-to":[{to:[C]}],rounded:[{rounded:[s]}],"rounded-s":[{"rounded-s":[s]}],"rounded-e":[{"rounded-e":[s]}],"rounded-t":[{"rounded-t":[s]}],"rounded-r":[{"rounded-r":[s]}],"rounded-b":[{"rounded-b":[s]}],"rounded-l":[{"rounded-l":[s]}],"rounded-ss":[{"rounded-ss":[s]}],"rounded-se":[{"rounded-se":[s]}],"rounded-ee":[{"rounded-ee":[s]}],"rounded-es":[{"rounded-es":[s]}],"rounded-tl":[{"rounded-tl":[s]}],"rounded-tr":[{"rounded-tr":[s]}],"rounded-br":[{"rounded-br":[s]}],"rounded-bl":[{"rounded-bl":[s]}],"border-w":[{border:[u]}],"border-w-x":[{"border-x":[u]}],"border-w-y":[{"border-y":[u]}],"border-w-s":[{"border-s":[u]}],"border-w-e":[{"border-e":[u]}],"border-w-t":[{"border-t":[u]}],"border-w-r":[{"border-r":[u]}],"border-w-b":[{"border-b":[u]}],"border-w-l":[{"border-l":[u]}],"border-opacity":[{"border-opacity":[_]}],"border-style":[{border:[...ue(),"hidden"]}],"divide-x":[{"divide-x":[u]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[u]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[_]}],"divide-style":[{divide:ue()}],"border-color":[{border:[i]}],"border-color-x":[{"border-x":[i]}],"border-color-y":[{"border-y":[i]}],"border-color-s":[{"border-s":[i]}],"border-color-e":[{"border-e":[i]}],"border-color-t":[{"border-t":[i]}],"border-color-r":[{"border-r":[i]}],"border-color-b":[{"border-b":[i]}],"border-color-l":[{"border-l":[i]}],"divide-color":[{divide:[i]}],"outline-style":[{outline:["",...ue()]}],"outline-offset":[{"outline-offset":[fs,$e]}],"outline-w":[{outline:[fs,Fs]}],"outline-color":[{outline:[t]}],"ring-w":[{ring:ae()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[t]}],"ring-opacity":[{"ring-opacity":[_]}],"ring-offset-w":[{"ring-offset":[fs,Fs]}],"ring-offset-color":[{"ring-offset":[t]}],shadow:[{shadow:["","inner","none",Us,bI]}],"shadow-color":[{shadow:[pc]}],opacity:[{opacity:[_]}],"mix-blend":[{"mix-blend":[...de(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":de()}],filter:[{filter:["","none"]}],blur:[{blur:[r]}],brightness:[{brightness:[n]}],contrast:[{contrast:[f]}],"drop-shadow":[{"drop-shadow":["","none",Us,$e]}],grayscale:[{grayscale:[h]}],"hue-rotate":[{"hue-rotate":[m]}],invert:[{invert:[v]}],saturate:[{saturate:[T]}],sepia:[{sepia:[B]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[r]}],"backdrop-brightness":[{"backdrop-brightness":[n]}],"backdrop-contrast":[{"backdrop-contrast":[f]}],"backdrop-grayscale":[{"backdrop-grayscale":[h]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[m]}],"backdrop-invert":[{"backdrop-invert":[v]}],"backdrop-opacity":[{"backdrop-opacity":[_]}],"backdrop-saturate":[{"backdrop-saturate":[T]}],"backdrop-sepia":[{"backdrop-sepia":[B]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[o]}],"border-spacing-x":[{"border-spacing-x":[o]}],"border-spacing-y":[{"border-spacing-y":[o]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",$e]}],duration:[{duration:Te()}],ease:[{ease:["linear","in","out","in-out",$e]}],delay:[{delay:Te()}],animate:[{animate:["none","spin","ping","pulse","bounce",$e]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[P]}],"scale-x":[{"scale-x":[P]}],"scale-y":[{"scale-y":[P]}],rotate:[{rotate:[hc,$e]}],"translate-x":[{"translate-x":[F]}],"translate-y":[{"translate-y":[F]}],"skew-x":[{"skew-x":[k]}],"skew-y":[{"skew-y":[k]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",$e]}],accent:[{accent:["auto",t]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",$e]}],"caret-color":[{caret:[t]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":Z()}],"scroll-mx":[{"scroll-mx":Z()}],"scroll-my":[{"scroll-my":Z()}],"scroll-ms":[{"scroll-ms":Z()}],"scroll-me":[{"scroll-me":Z()}],"scroll-mt":[{"scroll-mt":Z()}],"scroll-mr":[{"scroll-mr":Z()}],"scroll-mb":[{"scroll-mb":Z()}],"scroll-ml":[{"scroll-ml":Z()}],"scroll-p":[{"scroll-p":Z()}],"scroll-px":[{"scroll-px":Z()}],"scroll-py":[{"scroll-py":Z()}],"scroll-ps":[{"scroll-ps":Z()}],"scroll-pe":[{"scroll-pe":Z()}],"scroll-pt":[{"scroll-pt":Z()}],"scroll-pr":[{"scroll-pr":Z()}],"scroll-pb":[{"scroll-pb":Z()}],"scroll-pl":[{"scroll-pl":Z()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",$e]}],fill:[{fill:[t,"none"]}],"stroke-w":[{stroke:[fs,Fs,b1]}],stroke:[{stroke:[t,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},TI=uI(II);function Le(...t){return TI(KC(t))}const RI=S5,f4=I.forwardRef(({className:t,...e},r)=>l.jsx(HC,{ref:r,className:Le("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",t),...e}));f4.displayName=HC.displayName;const OI=Eu("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),h4=I.forwardRef(({className:t,variant:e,...r},n)=>l.jsx(zC,{ref:n,className:Le(OI({variant:e}),t),...r}));h4.displayName=zC.displayName;const PI=I.forwardRef(({className:t,...e},r)=>l.jsx(XC,{ref:r,className:Le("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors hover:bg-secondary focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-muted/40 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive",t),...e}));PI.displayName=XC.displayName;const p4=I.forwardRef(({className:t,...e},r)=>l.jsx(YC,{ref:r,className:Le("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-2 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",t),"toast-close":"",...e,children:l.jsx(ma,{className:"h-4 w-4"})}));p4.displayName=YC.displayName;const x4=I.forwardRef(({className:t,...e},r)=>l.jsx(GC,{ref:r,className:Le("text-sm font-semibold",t),...e}));x4.displayName=GC.displayName;const g4=I.forwardRef(({className:t,...e},r)=>l.jsx(WC,{ref:r,className:Le("text-sm opacity-90",t),...e}));g4.displayName=WC.displayName;function DI(){const{toasts:t}=nn();return l.jsxs(RI,{children:[t.map(function({id:e,title:r,description:n,action:i,...s}){return l.jsxs(h4,{...s,children:[l.jsxs("div",{className:"grid gap-1",children:[r&&l.jsx(x4,{children:r}),n&&l.jsx(g4,{children:n})]}),i,l.jsx(p4,{})]},e)}),l.jsx(f4,{})]})}var jI=Xy[" useId ".trim().toString()]||(()=>{}),MI=0;function va(t){const[e,r]=I.useState(jI());return Gr(()=>{t||r(n=>n??String(MI++))},[t]),t||(e?`radix-${e}`:"")}const kI=["top","right","bottom","left"],Na=Math.min,Vn=Math.max,Cf=Math.round,od=Math.floor,ss=t=>({x:t,y:t}),LI={left:"right",right:"left",bottom:"top",top:"bottom"},BI={start:"end",end:"start"};function cp(t,e,r){return Vn(t,Na(e,r))}function _s(t,e){return typeof t=="function"?t(e):t}function Is(t){return t.split("-")[0]}function zl(t){return t.split("-")[1]}function Qx(t){return t==="x"?"y":"x"}function Jx(t){return t==="y"?"height":"width"}function _a(t){return["top","bottom"].includes(Is(t))?"y":"x"}function eg(t){return Qx(_a(t))}function FI(t,e,r){r===void 0&&(r=!1);const n=zl(t),i=eg(t),s=Jx(i);let o=i==="x"?n===(r?"end":"start")?"right":"left":n==="start"?"bottom":"top";return e.reference[s]>e.floating[s]&&(o=Ef(o)),[o,Ef(o)]}function UI(t){const e=Ef(t);return[up(t),e,up(e)]}function up(t){return t.replace(/start|end/g,e=>BI[e])}function VI(t,e,r){const n=["left","right"],i=["right","left"],s=["top","bottom"],o=["bottom","top"];switch(t){case"top":case"bottom":return r?e?i:n:e?n:i;case"left":case"right":return e?s:o;default:return[]}}function HI(t,e,r,n){const i=zl(t);let s=VI(Is(t),r==="start",n);return i&&(s=s.map(o=>o+"-"+i),e&&(s=s.concat(s.map(up)))),s}function Ef(t){return t.replace(/left|right|bottom|top/g,e=>LI[e])}function zI(t){return{top:0,right:0,bottom:0,left:0,...t}}function m4(t){return typeof t!="number"?zI(t):{top:t,right:t,bottom:t,left:t}}function Af(t){const{x:e,y:r,width:n,height:i}=t;return{width:n,height:i,top:r,left:e,right:e+n,bottom:r+i,x:e,y:r}}function Q2(t,e,r){let{reference:n,floating:i}=t;const s=_a(e),o=eg(e),u=Jx(o),f=Is(e),h=s==="y",m=n.x+n.width/2-i.width/2,v=n.y+n.height/2-i.height/2,w=n[u]/2-i[u]/2;let C;switch(f){case"top":C={x:m,y:n.y-i.height};break;case"bottom":C={x:m,y:n.y+n.height};break;case"right":C={x:n.x+n.width,y:v};break;case"left":C={x:n.x-i.width,y:v};break;default:C={x:n.x,y:n.y}}switch(zl(e)){case"start":C[o]-=w*(r&&h?-1:1);break;case"end":C[o]+=w*(r&&h?-1:1);break}return C}const GI=async(t,e,r)=>{const{placement:n="bottom",strategy:i="absolute",middleware:s=[],platform:o}=r,u=s.filter(Boolean),f=await(o.isRTL==null?void 0:o.isRTL(e));let h=await o.getElementRects({reference:t,floating:e,strategy:i}),{x:m,y:v}=Q2(h,n,f),w=n,C={},N=0;for(let b=0;b<u.length;b++){const{name:R,fn:_}=u[b],{x:S,y:T,data:P,reset:B}=await _({x:m,y:v,initialPlacement:n,placement:w,strategy:i,middlewareData:C,rects:h,platform:o,elements:{reference:t,floating:e}});m=S??m,v=T??v,C={...C,[R]:{...C[R],...P}},B&&N<=50&&(N++,typeof B=="object"&&(B.placement&&(w=B.placement),B.rects&&(h=B.rects===!0?await o.getElementRects({reference:t,floating:e,strategy:i}):B.rects),{x:m,y:v}=Q2(h,w,f)),b=-1)}return{x:m,y:v,placement:w,strategy:i,middlewareData:C}};async function cu(t,e){var r;e===void 0&&(e={});const{x:n,y:i,platform:s,rects:o,elements:u,strategy:f}=t,{boundary:h="clippingAncestors",rootBoundary:m="viewport",elementContext:v="floating",altBoundary:w=!1,padding:C=0}=_s(e,t),N=m4(C),R=u[w?v==="floating"?"reference":"floating":v],_=Af(await s.getClippingRect({element:(r=await(s.isElement==null?void 0:s.isElement(R)))==null||r?R:R.contextElement||await(s.getDocumentElement==null?void 0:s.getDocumentElement(u.floating)),boundary:h,rootBoundary:m,strategy:f})),S=v==="floating"?{x:n,y:i,width:o.floating.width,height:o.floating.height}:o.reference,T=await(s.getOffsetParent==null?void 0:s.getOffsetParent(u.floating)),P=await(s.isElement==null?void 0:s.isElement(T))?await(s.getScale==null?void 0:s.getScale(T))||{x:1,y:1}:{x:1,y:1},B=Af(s.convertOffsetParentRelativeRectToViewportRelativeRect?await s.convertOffsetParentRelativeRectToViewportRelativeRect({elements:u,rect:S,offsetParent:T,strategy:f}):S);return{top:(_.top-B.top+N.top)/P.y,bottom:(B.bottom-_.bottom+N.bottom)/P.y,left:(_.left-B.left+N.left)/P.x,right:(B.right-_.right+N.right)/P.x}}const WI=t=>({name:"arrow",options:t,async fn(e){const{x:r,y:n,placement:i,rects:s,platform:o,elements:u,middlewareData:f}=e,{element:h,padding:m=0}=_s(t,e)||{};if(h==null)return{};const v=m4(m),w={x:r,y:n},C=eg(i),N=Jx(C),b=await o.getDimensions(h),R=C==="y",_=R?"top":"left",S=R?"bottom":"right",T=R?"clientHeight":"clientWidth",P=s.reference[N]+s.reference[C]-w[C]-s.floating[N],B=w[C]-s.reference[C],k=await(o.getOffsetParent==null?void 0:o.getOffsetParent(h));let M=k?k[T]:0;(!M||!await(o.isElement==null?void 0:o.isElement(k)))&&(M=u.floating[T]||s.floating[N]);const F=P/2-B/2,U=M/2-b[N]/2-1,X=Na(v[_],U),ee=Na(v[S],U),Z=X,ae=M-b[N]-ee,K=M/2-b[N]/2+F,G=cp(Z,K,ae),ue=!f.arrow&&zl(i)!=null&&K!==G&&s.reference[N]/2-(K<Z?X:ee)-b[N]/2<0,de=ue?K<Z?K-Z:K-ae:0;return{[C]:w[C]+de,data:{[C]:G,centerOffset:K-G-de,...ue&&{alignmentOffset:de}},reset:ue}}}),XI=function(t){return t===void 0&&(t={}),{name:"flip",options:t,async fn(e){var r,n;const{placement:i,middlewareData:s,rects:o,initialPlacement:u,platform:f,elements:h}=e,{mainAxis:m=!0,crossAxis:v=!0,fallbackPlacements:w,fallbackStrategy:C="bestFit",fallbackAxisSideDirection:N="none",flipAlignment:b=!0,...R}=_s(t,e);if((r=s.arrow)!=null&&r.alignmentOffset)return{};const _=Is(i),S=_a(u),T=Is(u)===u,P=await(f.isRTL==null?void 0:f.isRTL(h.floating)),B=w||(T||!b?[Ef(u)]:UI(u)),k=N!=="none";!w&&k&&B.push(...HI(u,b,N,P));const M=[u,...B],F=await cu(e,R),U=[];let X=((n=s.flip)==null?void 0:n.overflows)||[];if(m&&U.push(F[_]),v){const K=FI(i,o,P);U.push(F[K[0]],F[K[1]])}if(X=[...X,{placement:i,overflows:U}],!U.every(K=>K<=0)){var ee,Z;const K=(((ee=s.flip)==null?void 0:ee.index)||0)+1,G=M[K];if(G)return{data:{index:K,overflows:X},reset:{placement:G}};let ue=(Z=X.filter(de=>de.overflows[0]<=0).sort((de,ne)=>de.overflows[1]-ne.overflows[1])[0])==null?void 0:Z.placement;if(!ue)switch(C){case"bestFit":{var ae;const de=(ae=X.filter(ne=>{if(k){const xe=_a(ne.placement);return xe===S||xe==="y"}return!0}).map(ne=>[ne.placement,ne.overflows.filter(xe=>xe>0).reduce((xe,Ae)=>xe+Ae,0)]).sort((ne,xe)=>ne[1]-xe[1])[0])==null?void 0:ae[0];de&&(ue=de);break}case"initialPlacement":ue=u;break}if(i!==ue)return{reset:{placement:ue}}}return{}}}};function J2(t,e){return{top:t.top-e.height,right:t.right-e.width,bottom:t.bottom-e.height,left:t.left-e.width}}function ev(t){return kI.some(e=>t[e]>=0)}const YI=function(t){return t===void 0&&(t={}),{name:"hide",options:t,async fn(e){const{rects:r}=e,{strategy:n="referenceHidden",...i}=_s(t,e);switch(n){case"referenceHidden":{const s=await cu(e,{...i,elementContext:"reference"}),o=J2(s,r.reference);return{data:{referenceHiddenOffsets:o,referenceHidden:ev(o)}}}case"escaped":{const s=await cu(e,{...i,altBoundary:!0}),o=J2(s,r.floating);return{data:{escapedOffsets:o,escaped:ev(o)}}}default:return{}}}}};async function $I(t,e){const{placement:r,platform:n,elements:i}=t,s=await(n.isRTL==null?void 0:n.isRTL(i.floating)),o=Is(r),u=zl(r),f=_a(r)==="y",h=["left","top"].includes(o)?-1:1,m=s&&f?-1:1,v=_s(e,t);let{mainAxis:w,crossAxis:C,alignmentAxis:N}=typeof v=="number"?{mainAxis:v,crossAxis:0,alignmentAxis:null}:{mainAxis:v.mainAxis||0,crossAxis:v.crossAxis||0,alignmentAxis:v.alignmentAxis};return u&&typeof N=="number"&&(C=u==="end"?N*-1:N),f?{x:C*m,y:w*h}:{x:w*h,y:C*m}}const KI=function(t){return t===void 0&&(t=0),{name:"offset",options:t,async fn(e){var r,n;const{x:i,y:s,placement:o,middlewareData:u}=e,f=await $I(e,t);return o===((r=u.offset)==null?void 0:r.placement)&&(n=u.arrow)!=null&&n.alignmentOffset?{}:{x:i+f.x,y:s+f.y,data:{...f,placement:o}}}}},ZI=function(t){return t===void 0&&(t={}),{name:"shift",options:t,async fn(e){const{x:r,y:n,placement:i}=e,{mainAxis:s=!0,crossAxis:o=!1,limiter:u={fn:R=>{let{x:_,y:S}=R;return{x:_,y:S}}},...f}=_s(t,e),h={x:r,y:n},m=await cu(e,f),v=_a(Is(i)),w=Qx(v);let C=h[w],N=h[v];if(s){const R=w==="y"?"top":"left",_=w==="y"?"bottom":"right",S=C+m[R],T=C-m[_];C=cp(S,C,T)}if(o){const R=v==="y"?"top":"left",_=v==="y"?"bottom":"right",S=N+m[R],T=N-m[_];N=cp(S,N,T)}const b=u.fn({...e,[w]:C,[v]:N});return{...b,data:{x:b.x-r,y:b.y-n,enabled:{[w]:s,[v]:o}}}}}},qI=function(t){return t===void 0&&(t={}),{options:t,fn(e){const{x:r,y:n,placement:i,rects:s,middlewareData:o}=e,{offset:u=0,mainAxis:f=!0,crossAxis:h=!0}=_s(t,e),m={x:r,y:n},v=_a(i),w=Qx(v);let C=m[w],N=m[v];const b=_s(u,e),R=typeof b=="number"?{mainAxis:b,crossAxis:0}:{mainAxis:0,crossAxis:0,...b};if(f){const T=w==="y"?"height":"width",P=s.reference[w]-s.floating[T]+R.mainAxis,B=s.reference[w]+s.reference[T]-R.mainAxis;C<P?C=P:C>B&&(C=B)}if(h){var _,S;const T=w==="y"?"width":"height",P=["top","left"].includes(Is(i)),B=s.reference[v]-s.floating[T]+(P&&((_=o.offset)==null?void 0:_[v])||0)+(P?0:R.crossAxis),k=s.reference[v]+s.reference[T]+(P?0:((S=o.offset)==null?void 0:S[v])||0)-(P?R.crossAxis:0);N<B?N=B:N>k&&(N=k)}return{[w]:C,[v]:N}}}},QI=function(t){return t===void 0&&(t={}),{name:"size",options:t,async fn(e){var r,n;const{placement:i,rects:s,platform:o,elements:u}=e,{apply:f=()=>{},...h}=_s(t,e),m=await cu(e,h),v=Is(i),w=zl(i),C=_a(i)==="y",{width:N,height:b}=s.floating;let R,_;v==="top"||v==="bottom"?(R=v,_=w===(await(o.isRTL==null?void 0:o.isRTL(u.floating))?"start":"end")?"left":"right"):(_=v,R=w==="end"?"top":"bottom");const S=b-m.top-m.bottom,T=N-m.left-m.right,P=Na(b-m[R],S),B=Na(N-m[_],T),k=!e.middlewareData.shift;let M=P,F=B;if((r=e.middlewareData.shift)!=null&&r.enabled.x&&(F=T),(n=e.middlewareData.shift)!=null&&n.enabled.y&&(M=S),k&&!w){const X=Vn(m.left,0),ee=Vn(m.right,0),Z=Vn(m.top,0),ae=Vn(m.bottom,0);C?F=N-2*(X!==0||ee!==0?X+ee:Vn(m.left,m.right)):M=b-2*(Z!==0||ae!==0?Z+ae:Vn(m.top,m.bottom))}await f({...e,availableWidth:F,availableHeight:M});const U=await o.getDimensions(u.floating);return N!==U.width||b!==U.height?{reset:{rects:!0}}:{}}}};function i0(){return typeof window<"u"}function Gl(t){return v4(t)?(t.nodeName||"").toLowerCase():"#document"}function Gn(t){var e;return(t==null||(e=t.ownerDocument)==null?void 0:e.defaultView)||window}function cs(t){var e;return(e=(v4(t)?t.ownerDocument:t.document)||window.document)==null?void 0:e.documentElement}function v4(t){return i0()?t instanceof Node||t instanceof Gn(t).Node:!1}function ji(t){return i0()?t instanceof Element||t instanceof Gn(t).Element:!1}function os(t){return i0()?t instanceof HTMLElement||t instanceof Gn(t).HTMLElement:!1}function tv(t){return!i0()||typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof Gn(t).ShadowRoot}function bu(t){const{overflow:e,overflowX:r,overflowY:n,display:i}=Mi(t);return/auto|scroll|overlay|hidden|clip/.test(e+n+r)&&!["inline","contents"].includes(i)}function JI(t){return["table","td","th"].includes(Gl(t))}function s0(t){return[":popover-open",":modal"].some(e=>{try{return t.matches(e)}catch{return!1}})}function tg(t){const e=rg(),r=ji(t)?Mi(t):t;return["transform","translate","scale","rotate","perspective"].some(n=>r[n]?r[n]!=="none":!1)||(r.containerType?r.containerType!=="normal":!1)||!e&&(r.backdropFilter?r.backdropFilter!=="none":!1)||!e&&(r.filter?r.filter!=="none":!1)||["transform","translate","scale","rotate","perspective","filter"].some(n=>(r.willChange||"").includes(n))||["paint","layout","strict","content"].some(n=>(r.contain||"").includes(n))}function eT(t){let e=Ia(t);for(;os(e)&&!Pl(e);){if(tg(e))return e;if(s0(e))return null;e=Ia(e)}return null}function rg(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function Pl(t){return["html","body","#document"].includes(Gl(t))}function Mi(t){return Gn(t).getComputedStyle(t)}function a0(t){return ji(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.scrollX,scrollTop:t.scrollY}}function Ia(t){if(Gl(t)==="html")return t;const e=t.assignedSlot||t.parentNode||tv(t)&&t.host||cs(t);return tv(e)?e.host:e}function y4(t){const e=Ia(t);return Pl(e)?t.ownerDocument?t.ownerDocument.body:t.body:os(e)&&bu(e)?e:y4(e)}function uu(t,e,r){var n;e===void 0&&(e=[]),r===void 0&&(r=!0);const i=y4(t),s=i===((n=t.ownerDocument)==null?void 0:n.body),o=Gn(i);if(s){const u=dp(o);return e.concat(o,o.visualViewport||[],bu(i)?i:[],u&&r?uu(u):[])}return e.concat(i,uu(i,[],r))}function dp(t){return t.parent&&Object.getPrototypeOf(t.parent)?t.frameElement:null}function w4(t){const e=Mi(t);let r=parseFloat(e.width)||0,n=parseFloat(e.height)||0;const i=os(t),s=i?t.offsetWidth:r,o=i?t.offsetHeight:n,u=Cf(r)!==s||Cf(n)!==o;return u&&(r=s,n=o),{width:r,height:n,$:u}}function ng(t){return ji(t)?t:t.contextElement}function il(t){const e=ng(t);if(!os(e))return ss(1);const r=e.getBoundingClientRect(),{width:n,height:i,$:s}=w4(e);let o=(s?Cf(r.width):r.width)/n,u=(s?Cf(r.height):r.height)/i;return(!o||!Number.isFinite(o))&&(o=1),(!u||!Number.isFinite(u))&&(u=1),{x:o,y:u}}const tT=ss(0);function C4(t){const e=Gn(t);return!rg()||!e.visualViewport?tT:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function rT(t,e,r){return e===void 0&&(e=!1),!r||e&&r!==Gn(t)?!1:e}function po(t,e,r,n){e===void 0&&(e=!1),r===void 0&&(r=!1);const i=t.getBoundingClientRect(),s=ng(t);let o=ss(1);e&&(n?ji(n)&&(o=il(n)):o=il(t));const u=rT(s,r,n)?C4(s):ss(0);let f=(i.left+u.x)/o.x,h=(i.top+u.y)/o.y,m=i.width/o.x,v=i.height/o.y;if(s){const w=Gn(s),C=n&&ji(n)?Gn(n):n;let N=w,b=dp(N);for(;b&&n&&C!==N;){const R=il(b),_=b.getBoundingClientRect(),S=Mi(b),T=_.left+(b.clientLeft+parseFloat(S.paddingLeft))*R.x,P=_.top+(b.clientTop+parseFloat(S.paddingTop))*R.y;f*=R.x,h*=R.y,m*=R.x,v*=R.y,f+=T,h+=P,N=Gn(b),b=dp(N)}}return Af({width:m,height:v,x:f,y:h})}function ig(t,e){const r=a0(t).scrollLeft;return e?e.left+r:po(cs(t)).left+r}function E4(t,e,r){r===void 0&&(r=!1);const n=t.getBoundingClientRect(),i=n.left+e.scrollLeft-(r?0:ig(t,n)),s=n.top+e.scrollTop;return{x:i,y:s}}function nT(t){let{elements:e,rect:r,offsetParent:n,strategy:i}=t;const s=i==="fixed",o=cs(n),u=e?s0(e.floating):!1;if(n===o||u&&s)return r;let f={scrollLeft:0,scrollTop:0},h=ss(1);const m=ss(0),v=os(n);if((v||!v&&!s)&&((Gl(n)!=="body"||bu(o))&&(f=a0(n)),os(n))){const C=po(n);h=il(n),m.x=C.x+n.clientLeft,m.y=C.y+n.clientTop}const w=o&&!v&&!s?E4(o,f,!0):ss(0);return{width:r.width*h.x,height:r.height*h.y,x:r.x*h.x-f.scrollLeft*h.x+m.x+w.x,y:r.y*h.y-f.scrollTop*h.y+m.y+w.y}}function iT(t){return Array.from(t.getClientRects())}function sT(t){const e=cs(t),r=a0(t),n=t.ownerDocument.body,i=Vn(e.scrollWidth,e.clientWidth,n.scrollWidth,n.clientWidth),s=Vn(e.scrollHeight,e.clientHeight,n.scrollHeight,n.clientHeight);let o=-r.scrollLeft+ig(t);const u=-r.scrollTop;return Mi(n).direction==="rtl"&&(o+=Vn(e.clientWidth,n.clientWidth)-i),{width:i,height:s,x:o,y:u}}function aT(t,e){const r=Gn(t),n=cs(t),i=r.visualViewport;let s=n.clientWidth,o=n.clientHeight,u=0,f=0;if(i){s=i.width,o=i.height;const h=rg();(!h||h&&e==="fixed")&&(u=i.offsetLeft,f=i.offsetTop)}return{width:s,height:o,x:u,y:f}}function oT(t,e){const r=po(t,!0,e==="fixed"),n=r.top+t.clientTop,i=r.left+t.clientLeft,s=os(t)?il(t):ss(1),o=t.clientWidth*s.x,u=t.clientHeight*s.y,f=i*s.x,h=n*s.y;return{width:o,height:u,x:f,y:h}}function rv(t,e,r){let n;if(e==="viewport")n=aT(t,r);else if(e==="document")n=sT(cs(t));else if(ji(e))n=oT(e,r);else{const i=C4(t);n={x:e.x-i.x,y:e.y-i.y,width:e.width,height:e.height}}return Af(n)}function A4(t,e){const r=Ia(t);return r===e||!ji(r)||Pl(r)?!1:Mi(r).position==="fixed"||A4(r,e)}function lT(t,e){const r=e.get(t);if(r)return r;let n=uu(t,[],!1).filter(u=>ji(u)&&Gl(u)!=="body"),i=null;const s=Mi(t).position==="fixed";let o=s?Ia(t):t;for(;ji(o)&&!Pl(o);){const u=Mi(o),f=tg(o);!f&&u.position==="fixed"&&(i=null),(s?!f&&!i:!f&&u.position==="static"&&!!i&&["absolute","fixed"].includes(i.position)||bu(o)&&!f&&A4(t,o))?n=n.filter(m=>m!==o):i=u,o=Ia(o)}return e.set(t,n),n}function cT(t){let{element:e,boundary:r,rootBoundary:n,strategy:i}=t;const o=[...r==="clippingAncestors"?s0(e)?[]:lT(e,this._c):[].concat(r),n],u=o[0],f=o.reduce((h,m)=>{const v=rv(e,m,i);return h.top=Vn(v.top,h.top),h.right=Na(v.right,h.right),h.bottom=Na(v.bottom,h.bottom),h.left=Vn(v.left,h.left),h},rv(e,u,i));return{width:f.right-f.left,height:f.bottom-f.top,x:f.left,y:f.top}}function uT(t){const{width:e,height:r}=w4(t);return{width:e,height:r}}function dT(t,e,r){const n=os(e),i=cs(e),s=r==="fixed",o=po(t,!0,s,e);let u={scrollLeft:0,scrollTop:0};const f=ss(0);if(n||!n&&!s)if((Gl(e)!=="body"||bu(i))&&(u=a0(e)),n){const w=po(e,!0,s,e);f.x=w.x+e.clientLeft,f.y=w.y+e.clientTop}else i&&(f.x=ig(i));const h=i&&!n&&!s?E4(i,u):ss(0),m=o.left+u.scrollLeft-f.x-h.x,v=o.top+u.scrollTop-f.y-h.y;return{x:m,y:v,width:o.width,height:o.height}}function S1(t){return Mi(t).position==="static"}function nv(t,e){if(!os(t)||Mi(t).position==="fixed")return null;if(e)return e(t);let r=t.offsetParent;return cs(t)===r&&(r=r.ownerDocument.body),r}function b4(t,e){const r=Gn(t);if(s0(t))return r;if(!os(t)){let i=Ia(t);for(;i&&!Pl(i);){if(ji(i)&&!S1(i))return i;i=Ia(i)}return r}let n=nv(t,e);for(;n&&JI(n)&&S1(n);)n=nv(n,e);return n&&Pl(n)&&S1(n)&&!tg(n)?r:n||eT(t)||r}const fT=async function(t){const e=this.getOffsetParent||b4,r=this.getDimensions,n=await r(t.floating);return{reference:dT(t.reference,await e(t.floating),t.strategy),floating:{x:0,y:0,width:n.width,height:n.height}}};function hT(t){return Mi(t).direction==="rtl"}const pT={convertOffsetParentRelativeRectToViewportRelativeRect:nT,getDocumentElement:cs,getClippingRect:cT,getOffsetParent:b4,getElementRects:fT,getClientRects:iT,getDimensions:uT,getScale:il,isElement:ji,isRTL:hT};function S4(t,e){return t.x===e.x&&t.y===e.y&&t.width===e.width&&t.height===e.height}function xT(t,e){let r=null,n;const i=cs(t);function s(){var u;clearTimeout(n),(u=r)==null||u.disconnect(),r=null}function o(u,f){u===void 0&&(u=!1),f===void 0&&(f=1),s();const h=t.getBoundingClientRect(),{left:m,top:v,width:w,height:C}=h;if(u||e(),!w||!C)return;const N=od(v),b=od(i.clientWidth-(m+w)),R=od(i.clientHeight-(v+C)),_=od(m),T={rootMargin:-N+"px "+-b+"px "+-R+"px "+-_+"px",threshold:Vn(0,Na(1,f))||1};let P=!0;function B(k){const M=k[0].intersectionRatio;if(M!==f){if(!P)return o();M?o(!1,M):n=setTimeout(()=>{o(!1,1e-7)},1e3)}M===1&&!S4(h,t.getBoundingClientRect())&&o(),P=!1}try{r=new IntersectionObserver(B,{...T,root:i.ownerDocument})}catch{r=new IntersectionObserver(B,T)}r.observe(t)}return o(!0),s}function gT(t,e,r,n){n===void 0&&(n={});const{ancestorScroll:i=!0,ancestorResize:s=!0,elementResize:o=typeof ResizeObserver=="function",layoutShift:u=typeof IntersectionObserver=="function",animationFrame:f=!1}=n,h=ng(t),m=i||s?[...h?uu(h):[],...uu(e)]:[];m.forEach(_=>{i&&_.addEventListener("scroll",r,{passive:!0}),s&&_.addEventListener("resize",r)});const v=h&&u?xT(h,r):null;let w=-1,C=null;o&&(C=new ResizeObserver(_=>{let[S]=_;S&&S.target===h&&C&&(C.unobserve(e),cancelAnimationFrame(w),w=requestAnimationFrame(()=>{var T;(T=C)==null||T.observe(e)})),r()}),h&&!f&&C.observe(h),C.observe(e));let N,b=f?po(t):null;f&&R();function R(){const _=po(t);b&&!S4(b,_)&&r(),b=_,N=requestAnimationFrame(R)}return r(),()=>{var _;m.forEach(S=>{i&&S.removeEventListener("scroll",r),s&&S.removeEventListener("resize",r)}),v==null||v(),(_=C)==null||_.disconnect(),C=null,f&&cancelAnimationFrame(N)}}const mT=KI,vT=ZI,yT=XI,wT=QI,CT=YI,iv=WI,ET=qI,AT=(t,e,r)=>{const n=new Map,i={platform:pT,...r},s={...i.platform,_c:n};return GI(t,e,{...i,platform:s})};var kd=typeof document<"u"?I.useLayoutEffect:I.useEffect;function bf(t,e){if(t===e)return!0;if(typeof t!=typeof e)return!1;if(typeof t=="function"&&t.toString()===e.toString())return!0;let r,n,i;if(t&&e&&typeof t=="object"){if(Array.isArray(t)){if(r=t.length,r!==e.length)return!1;for(n=r;n--!==0;)if(!bf(t[n],e[n]))return!1;return!0}if(i=Object.keys(t),r=i.length,r!==Object.keys(e).length)return!1;for(n=r;n--!==0;)if(!{}.hasOwnProperty.call(e,i[n]))return!1;for(n=r;n--!==0;){const s=i[n];if(!(s==="_owner"&&t.$$typeof)&&!bf(t[s],e[s]))return!1}return!0}return t!==t&&e!==e}function N4(t){return typeof window>"u"?1:(t.ownerDocument.defaultView||window).devicePixelRatio||1}function sv(t,e){const r=N4(t);return Math.round(e*r)/r}function N1(t){const e=I.useRef(t);return kd(()=>{e.current=t}),e}function bT(t){t===void 0&&(t={});const{placement:e="bottom",strategy:r="absolute",middleware:n=[],platform:i,elements:{reference:s,floating:o}={},transform:u=!0,whileElementsMounted:f,open:h}=t,[m,v]=I.useState({x:0,y:0,strategy:r,placement:e,middlewareData:{},isPositioned:!1}),[w,C]=I.useState(n);bf(w,n)||C(n);const[N,b]=I.useState(null),[R,_]=I.useState(null),S=I.useCallback(ne=>{ne!==k.current&&(k.current=ne,b(ne))},[]),T=I.useCallback(ne=>{ne!==M.current&&(M.current=ne,_(ne))},[]),P=s||N,B=o||R,k=I.useRef(null),M=I.useRef(null),F=I.useRef(m),U=f!=null,X=N1(f),ee=N1(i),Z=N1(h),ae=I.useCallback(()=>{if(!k.current||!M.current)return;const ne={placement:e,strategy:r,middleware:w};ee.current&&(ne.platform=ee.current),AT(k.current,M.current,ne).then(xe=>{const Ae={...xe,isPositioned:Z.current!==!1};K.current&&!bf(F.current,Ae)&&(F.current=Ae,yo.flushSync(()=>{v(Ae)}))})},[w,e,r,ee,Z]);kd(()=>{h===!1&&F.current.isPositioned&&(F.current.isPositioned=!1,v(ne=>({...ne,isPositioned:!1})))},[h]);const K=I.useRef(!1);kd(()=>(K.current=!0,()=>{K.current=!1}),[]),kd(()=>{if(P&&(k.current=P),B&&(M.current=B),P&&B){if(X.current)return X.current(P,B,ae);ae()}},[P,B,ae,X,U]);const G=I.useMemo(()=>({reference:k,floating:M,setReference:S,setFloating:T}),[S,T]),ue=I.useMemo(()=>({reference:P,floating:B}),[P,B]),de=I.useMemo(()=>{const ne={position:r,left:0,top:0};if(!ue.floating)return ne;const xe=sv(ue.floating,m.x),Ae=sv(ue.floating,m.y);return u?{...ne,transform:"translate("+xe+"px, "+Ae+"px)",...N4(ue.floating)>=1.5&&{willChange:"transform"}}:{position:r,left:xe,top:Ae}},[r,u,ue.floating,m.x,m.y]);return I.useMemo(()=>({...m,update:ae,refs:G,elements:ue,floatingStyles:de}),[m,ae,G,ue,de])}const ST=t=>{function e(r){return{}.hasOwnProperty.call(r,"current")}return{name:"arrow",options:t,fn(r){const{element:n,padding:i}=typeof t=="function"?t(r):t;return n&&e(n)?n.current!=null?iv({element:n.current,padding:i}).fn(r):{}:n?iv({element:n,padding:i}).fn(r):{}}}},NT=(t,e)=>({...mT(t),options:[t,e]}),_T=(t,e)=>({...vT(t),options:[t,e]}),IT=(t,e)=>({...ET(t),options:[t,e]}),TT=(t,e)=>({...yT(t),options:[t,e]}),RT=(t,e)=>({...wT(t),options:[t,e]}),OT=(t,e)=>({...CT(t),options:[t,e]}),PT=(t,e)=>({...ST(t),options:[t,e]});var DT="Arrow",_4=I.forwardRef((t,e)=>{const{children:r,width:n=10,height:i=5,...s}=t;return l.jsx(Ve.svg,{...s,ref:e,width:n,height:i,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:t.asChild?r:l.jsx("polygon",{points:"0,0 30,0 15,10"})})});_4.displayName=DT;var jT=_4;function sg(t){const[e,r]=I.useState(void 0);return Gr(()=>{if(t){r({width:t.offsetWidth,height:t.offsetHeight});const n=new ResizeObserver(i=>{if(!Array.isArray(i)||!i.length)return;const s=i[0];let o,u;if("borderBoxSize"in s){const f=s.borderBoxSize,h=Array.isArray(f)?f[0]:f;o=h.inlineSize,u=h.blockSize}else o=t.offsetWidth,u=t.offsetHeight;r({width:o,height:u})});return n.observe(t,{box:"border-box"}),()=>n.unobserve(t)}else r(void 0)},[t]),e}var ag="Popper",[I4,o0]=$n(ag),[MT,T4]=I4(ag),R4=t=>{const{__scopePopper:e,children:r}=t,[n,i]=I.useState(null);return l.jsx(MT,{scope:e,anchor:n,onAnchorChange:i,children:r})};R4.displayName=ag;var O4="PopperAnchor",P4=I.forwardRef((t,e)=>{const{__scopePopper:r,virtualRef:n,...i}=t,s=T4(O4,r),o=I.useRef(null),u=nt(e,o);return I.useEffect(()=>{s.onAnchorChange((n==null?void 0:n.current)||o.current)}),n?null:l.jsx(Ve.div,{...i,ref:u})});P4.displayName=O4;var og="PopperContent",[kT,LT]=I4(og),D4=I.forwardRef((t,e)=>{var je,We,Jt,ht,Xe,ct;const{__scopePopper:r,side:n="bottom",sideOffset:i=0,align:s="center",alignOffset:o=0,arrowPadding:u=0,avoidCollisions:f=!0,collisionBoundary:h=[],collisionPadding:m=0,sticky:v="partial",hideWhenDetached:w=!1,updatePositionStrategy:C="optimized",onPlaced:N,...b}=t,R=T4(og,r),[_,S]=I.useState(null),T=nt(e,Ge=>S(Ge)),[P,B]=I.useState(null),k=sg(P),M=(k==null?void 0:k.width)??0,F=(k==null?void 0:k.height)??0,U=n+(s!=="center"?"-"+s:""),X=typeof m=="number"?m:{top:0,right:0,bottom:0,left:0,...m},ee=Array.isArray(h)?h:[h],Z=ee.length>0,ae={padding:X,boundary:ee.filter(FT),altBoundary:Z},{refs:K,floatingStyles:G,placement:ue,isPositioned:de,middlewareData:ne}=bT({strategy:"fixed",placement:U,whileElementsMounted:(...Ge)=>gT(...Ge,{animationFrame:C==="always"}),elements:{reference:R.anchor},middleware:[NT({mainAxis:i+F,alignmentAxis:o}),f&&_T({mainAxis:!0,crossAxis:!1,limiter:v==="partial"?IT():void 0,...ae}),f&&TT({...ae}),RT({...ae,apply:({elements:Ge,rects:jr,availableWidth:Wr,availableHeight:xi})=>{const{width:Xt,height:Nt}=jr.reference,Je=Ge.floating.style;Je.setProperty("--radix-popper-available-width",`${Wr}px`),Je.setProperty("--radix-popper-available-height",`${xi}px`),Je.setProperty("--radix-popper-anchor-width",`${Xt}px`),Je.setProperty("--radix-popper-anchor-height",`${Nt}px`)}}),P&&PT({element:P,padding:u}),UT({arrowWidth:M,arrowHeight:F}),w&&OT({strategy:"referenceHidden",...ae})]}),[xe,Ae]=k4(ue),Te=lr(N);Gr(()=>{de&&(Te==null||Te())},[de,Te]);const ze=(je=ne.arrow)==null?void 0:je.x,Pt=(We=ne.arrow)==null?void 0:We.y,it=((Jt=ne.arrow)==null?void 0:Jt.centerOffset)!==0,[vn,Se]=I.useState();return Gr(()=>{_&&Se(window.getComputedStyle(_).zIndex)},[_]),l.jsx("div",{ref:K.setFloating,"data-radix-popper-content-wrapper":"",style:{...G,transform:de?G.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:vn,"--radix-popper-transform-origin":[(ht=ne.transformOrigin)==null?void 0:ht.x,(Xe=ne.transformOrigin)==null?void 0:Xe.y].join(" "),...((ct=ne.hide)==null?void 0:ct.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:t.dir,children:l.jsx(kT,{scope:r,placedSide:xe,onArrowChange:B,arrowX:ze,arrowY:Pt,shouldHideArrow:it,children:l.jsx(Ve.div,{"data-side":xe,"data-align":Ae,...b,ref:T,style:{...b.style,animation:de?void 0:"none"}})})})});D4.displayName=og;var j4="PopperArrow",BT={top:"bottom",right:"left",bottom:"top",left:"right"},M4=I.forwardRef(function(e,r){const{__scopePopper:n,...i}=e,s=LT(j4,n),o=BT[s.placedSide];return l.jsx("span",{ref:s.onArrowChange,style:{position:"absolute",left:s.arrowX,top:s.arrowY,[o]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[s.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[s.placedSide],visibility:s.shouldHideArrow?"hidden":void 0},children:l.jsx(jT,{...i,ref:r,style:{...i.style,display:"block"}})})});M4.displayName=j4;function FT(t){return t!==null}var UT=t=>({name:"transformOrigin",options:t,fn(e){var R,_,S;const{placement:r,rects:n,middlewareData:i}=e,o=((R=i.arrow)==null?void 0:R.centerOffset)!==0,u=o?0:t.arrowWidth,f=o?0:t.arrowHeight,[h,m]=k4(r),v={start:"0%",center:"50%",end:"100%"}[m],w=(((_=i.arrow)==null?void 0:_.x)??0)+u/2,C=(((S=i.arrow)==null?void 0:S.y)??0)+f/2;let N="",b="";return h==="bottom"?(N=o?v:`${w}px`,b=`${-f}px`):h==="top"?(N=o?v:`${w}px`,b=`${n.floating.height+f}px`):h==="right"?(N=`${-f}px`,b=o?v:`${C}px`):h==="left"&&(N=`${n.floating.width+f}px`,b=o?v:`${C}px`),{data:{x:N,y:b}}}});function k4(t){const[e,r="center"]=t.split("-");return[e,r]}var VT=R4,L4=P4,B4=D4,F4=M4,[l0,eL]=$n("Tooltip",[o0]),lg=o0(),U4="TooltipProvider",HT=700,av="tooltip.open",[zT,V4]=l0(U4),H4=t=>{const{__scopeTooltip:e,delayDuration:r=HT,skipDelayDuration:n=300,disableHoverableContent:i=!1,children:s}=t,o=I.useRef(!0),u=I.useRef(!1),f=I.useRef(0);return I.useEffect(()=>{const h=f.current;return()=>window.clearTimeout(h)},[]),l.jsx(zT,{scope:e,isOpenDelayedRef:o,delayDuration:r,onOpen:I.useCallback(()=>{window.clearTimeout(f.current),o.current=!1},[]),onClose:I.useCallback(()=>{window.clearTimeout(f.current),f.current=window.setTimeout(()=>o.current=!0,n)},[n]),isPointerInTransitRef:u,onPointerInTransitChange:I.useCallback(h=>{u.current=h},[]),disableHoverableContent:i,children:s})};H4.displayName=U4;var z4="Tooltip",[tL,c0]=l0(z4),fp="TooltipTrigger",GT=I.forwardRef((t,e)=>{const{__scopeTooltip:r,...n}=t,i=c0(fp,r),s=V4(fp,r),o=lg(r),u=I.useRef(null),f=nt(e,u,i.onTriggerChange),h=I.useRef(!1),m=I.useRef(!1),v=I.useCallback(()=>h.current=!1,[]);return I.useEffect(()=>()=>document.removeEventListener("pointerup",v),[v]),l.jsx(L4,{asChild:!0,...o,children:l.jsx(Ve.button,{"aria-describedby":i.open?i.contentId:void 0,"data-state":i.stateAttribute,...n,ref:f,onPointerMove:Pe(t.onPointerMove,w=>{w.pointerType!=="touch"&&!m.current&&!s.isPointerInTransitRef.current&&(i.onTriggerEnter(),m.current=!0)}),onPointerLeave:Pe(t.onPointerLeave,()=>{i.onTriggerLeave(),m.current=!1}),onPointerDown:Pe(t.onPointerDown,()=>{i.open&&i.onClose(),h.current=!0,document.addEventListener("pointerup",v,{once:!0})}),onFocus:Pe(t.onFocus,()=>{h.current||i.onOpen()}),onBlur:Pe(t.onBlur,i.onClose),onClick:Pe(t.onClick,i.onClose)})})});GT.displayName=fp;var WT="TooltipPortal",[rL,XT]=l0(WT,{forceMount:void 0}),Dl="TooltipContent",G4=I.forwardRef((t,e)=>{const r=XT(Dl,t.__scopeTooltip),{forceMount:n=r.forceMount,side:i="top",...s}=t,o=c0(Dl,t.__scopeTooltip);return l.jsx(hi,{present:n||o.open,children:o.disableHoverableContent?l.jsx(W4,{side:i,...s,ref:e}):l.jsx(YT,{side:i,...s,ref:e})})}),YT=I.forwardRef((t,e)=>{const r=c0(Dl,t.__scopeTooltip),n=V4(Dl,t.__scopeTooltip),i=I.useRef(null),s=nt(e,i),[o,u]=I.useState(null),{trigger:f,onClose:h}=r,m=i.current,{onPointerInTransitChange:v}=n,w=I.useCallback(()=>{u(null),v(!1)},[v]),C=I.useCallback((N,b)=>{const R=N.currentTarget,_={x:N.clientX,y:N.clientY},S=QT(_,R.getBoundingClientRect()),T=JT(_,S),P=e7(b.getBoundingClientRect()),B=r7([...T,...P]);u(B),v(!0)},[v]);return I.useEffect(()=>()=>w(),[w]),I.useEffect(()=>{if(f&&m){const N=R=>C(R,m),b=R=>C(R,f);return f.addEventListener("pointerleave",N),m.addEventListener("pointerleave",b),()=>{f.removeEventListener("pointerleave",N),m.removeEventListener("pointerleave",b)}}},[f,m,C,w]),I.useEffect(()=>{if(o){const N=b=>{const R=b.target,_={x:b.clientX,y:b.clientY},S=(f==null?void 0:f.contains(R))||(m==null?void 0:m.contains(R)),T=!t7(_,o);S?w():T&&(w(),h())};return document.addEventListener("pointermove",N),()=>document.removeEventListener("pointermove",N)}},[f,m,o,h,w]),l.jsx(W4,{...t,ref:s})}),[$T,KT]=l0(z4,{isInside:!1}),ZT=bC("TooltipContent"),W4=I.forwardRef((t,e)=>{const{__scopeTooltip:r,children:n,"aria-label":i,onEscapeKeyDown:s,onPointerDownOutside:o,...u}=t,f=c0(Dl,r),h=lg(r),{onClose:m}=f;return I.useEffect(()=>(document.addEventListener(av,m),()=>document.removeEventListener(av,m)),[m]),I.useEffect(()=>{if(f.trigger){const v=w=>{const C=w.target;C!=null&&C.contains(f.trigger)&&m()};return window.addEventListener("scroll",v,{capture:!0}),()=>window.removeEventListener("scroll",v,{capture:!0})}},[f.trigger,m]),l.jsx(wu,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:s,onPointerDownOutside:o,onFocusOutside:v=>v.preventDefault(),onDismiss:m,children:l.jsxs(B4,{"data-state":f.stateAttribute,...h,...u,ref:e,style:{...u.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[l.jsx(ZT,{children:n}),l.jsx($T,{scope:r,isInside:!0,children:l.jsx(o5,{id:f.contentId,role:"tooltip",children:i||n})})]})})});G4.displayName=Dl;var X4="TooltipArrow",qT=I.forwardRef((t,e)=>{const{__scopeTooltip:r,...n}=t,i=lg(r);return KT(X4,r).isInside?null:l.jsx(F4,{...i,...n,ref:e})});qT.displayName=X4;function QT(t,e){const r=Math.abs(e.top-t.y),n=Math.abs(e.bottom-t.y),i=Math.abs(e.right-t.x),s=Math.abs(e.left-t.x);switch(Math.min(r,n,i,s)){case s:return"left";case i:return"right";case r:return"top";case n:return"bottom";default:throw new Error("unreachable")}}function JT(t,e,r=5){const n=[];switch(e){case"top":n.push({x:t.x-r,y:t.y+r},{x:t.x+r,y:t.y+r});break;case"bottom":n.push({x:t.x-r,y:t.y-r},{x:t.x+r,y:t.y-r});break;case"left":n.push({x:t.x+r,y:t.y-r},{x:t.x+r,y:t.y+r});break;case"right":n.push({x:t.x-r,y:t.y-r},{x:t.x-r,y:t.y+r});break}return n}function e7(t){const{top:e,right:r,bottom:n,left:i}=t;return[{x:i,y:e},{x:r,y:e},{x:r,y:n},{x:i,y:n}]}function t7(t,e){const{x:r,y:n}=t;let i=!1;for(let s=0,o=e.length-1;s<e.length;o=s++){const u=e[s].x,f=e[s].y,h=e[o].x,m=e[o].y;f>n!=m>n&&r<(h-u)*(n-f)/(m-f)+u&&(i=!i)}return i}function r7(t){const e=t.slice();return e.sort((r,n)=>r.x<n.x?-1:r.x>n.x?1:r.y<n.y?-1:r.y>n.y?1:0),n7(e)}function n7(t){if(t.length<=1)return t.slice();const e=[];for(let n=0;n<t.length;n++){const i=t[n];for(;e.length>=2;){const s=e[e.length-1],o=e[e.length-2];if((s.x-o.x)*(i.y-o.y)>=(s.y-o.y)*(i.x-o.x))e.pop();else break}e.push(i)}e.pop();const r=[];for(let n=t.length-1;n>=0;n--){const i=t[n];for(;r.length>=2;){const s=r[r.length-1],o=r[r.length-2];if((s.x-o.x)*(i.y-o.y)>=(s.y-o.y)*(i.x-o.x))r.pop();else break}r.push(i)}return r.pop(),e.length===1&&r.length===1&&e[0].x===r[0].x&&e[0].y===r[0].y?e:e.concat(r)}var i7=H4,Y4=G4;const s7=i7,a7=I.forwardRef(({className:t,sideOffset:e=4,...r},n)=>l.jsx(Y4,{ref:n,sideOffset:e,className:Le("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-tooltip-content-transform-origin]",t),...r}));a7.displayName=Y4.displayName;const cg=Eu("inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),se=I.forwardRef(({className:t,variant:e,size:r,asChild:n=!1,...i},s)=>{const o=n?U_:"button";return l.jsx(o,{className:Le(cg({variant:e,size:r,className:t})),ref:s,...i})});se.displayName="Button";const oe=I.forwardRef(({className:t,...e},r)=>l.jsx("div",{ref:r,className:Le("rounded-lg border bg-card text-card-foreground shadow-sm",t),...e}));oe.displayName="Card";const ve=I.forwardRef(({className:t,...e},r)=>l.jsx("div",{ref:r,className:Le("flex flex-col space-y-1.5 p-6",t),...e}));ve.displayName="CardHeader";const ye=I.forwardRef(({className:t,...e},r)=>l.jsx("h3",{ref:r,className:Le("text-2xl font-semibold leading-none tracking-tight",t),...e}));ye.displayName="CardTitle";const xt=I.forwardRef(({className:t,...e},r)=>l.jsx("p",{ref:r,className:Le("text-sm text-muted-foreground",t),...e}));xt.displayName="CardDescription";const le=I.forwardRef(({className:t,...e},r)=>l.jsx("div",{ref:r,className:Le("p-6 pt-0",t),...e}));le.displayName="CardContent";const o7=I.forwardRef(({className:t,...e},r)=>l.jsx("div",{ref:r,className:Le("flex items-center p-6 pt-0",t),...e}));o7.displayName="CardFooter";class l7 extends I.Component{constructor(){super(...arguments),this.state={hasError:!1},this.handleRetry=()=>{this.setState({hasError:!1,error:void 0})},this.handleReload=()=>{window.location.reload()}}static getDerivedStateFromError(e){return{hasError:!0,error:e}}componentDidCatch(e,r){console.error("Error caught by boundary:",e,r)}render(){return this.state.hasError?this.props.fallback?this.props.fallback:l.jsx("div",{className:"min-h-screen flex items-center justify-center p-4",children:l.jsxs(oe,{className:"w-full max-w-md",children:[l.jsxs(ve,{className:"text-center",children:[l.jsx("div",{className:"flex justify-center mb-4",children:l.jsx(a4,{className:"h-12 w-12 text-red-500"})}),l.jsx(ye,{children:"Something went wrong"}),l.jsx(xt,{children:"We're sorry, but something unexpected happened. Please try again."})]}),l.jsxs(le,{className:"space-y-4",children:[!1,l.jsxs("div",{className:"flex gap-2",children:[l.jsxs(se,{onClick:this.handleRetry,variant:"outline",className:"flex-1",children:[l.jsx(sp,{className:"h-4 w-4 mr-2"}),"Try Again"]}),l.jsx(se,{onClick:this.handleReload,className:"flex-1",children:"Reload Page"})]})]})]})}):this.props.children}}function c7(){const[t,e]=I.useState(null),[r,n]=I.useState(!1),[i,s]=I.useState(!1);I.useEffect(()=>{if(window.matchMedia&&window.matchMedia("(display-mode: standalone)").matches){s(!0);return}const h=v=>{v.preventDefault(),e(v),n(!0)},m=()=>{console.log("ChefGrocer PWA installed!"),s(!0),n(!1),e(null)};return window.addEventListener("beforeinstallprompt",h),window.addEventListener("appinstalled",m),()=>{window.removeEventListener("beforeinstallprompt",h),window.removeEventListener("appinstalled",m)}},[]);const o=async()=>{if(t)try{await t.prompt();const{outcome:h}=await t.userChoice;console.log(h==="accepted"?"User accepted the install prompt":"User dismissed the install prompt"),e(null),n(!1)}catch(h){console.error("Error installing PWA:",h)}},u=()=>{n(!1),localStorage.setItem("pwa-install-dismissed",Date.now().toString())};if(i||!r)return null;const f=localStorage.getItem("pwa-install-dismissed");return f&&Date.now()-parseInt(f)<24*60*60*1e3?null:l.jsx(oe,{className:"fixed bottom-4 left-4 right-4 z-50 border-2 border-emerald-500 bg-gradient-to-r from-emerald-50 to-green-50 shadow-lg md:left-auto md:right-4 md:max-w-sm",children:l.jsx(le,{className:"p-4",children:l.jsxs("div",{className:"flex items-start gap-3",children:[l.jsx("div",{className:"flex-shrink-0 rounded-full bg-emerald-500 p-2",children:l.jsx(X5,{className:"h-5 w-5 text-white"})}),l.jsxs("div",{className:"flex-1 min-w-0",children:[l.jsx("h3",{className:"font-semibold text-gray-900 text-sm",children:"Install ChefGrocer"}),l.jsx("p",{className:"text-xs text-gray-600 mt-1",children:"Get the full app experience with offline access, faster loading, and native features!"}),l.jsxs("div",{className:"flex gap-2 mt-3",children:[l.jsxs(se,{size:"sm",onClick:o,className:"bg-emerald-500 hover:bg-emerald-600 text-white flex items-center gap-1",children:[l.jsx(gf,{className:"h-3 w-3"}),"Install"]}),l.jsx(se,{size:"sm",variant:"outline",onClick:u,className:"text-gray-600",children:"Later"})]})]}),l.jsx(se,{size:"sm",variant:"ghost",onClick:u,className:"flex-shrink-0 p-1 h-auto text-gray-400 hover:text-gray-600",children:l.jsx(ma,{className:"h-4 w-4"})})]})})})}function u7(){const[t,e]=I.useState(navigator.onLine),[r,n]=I.useState(!1);return I.useEffect(()=>{const i=()=>{e(!0),n(!1)},s=()=>{e(!1),n(!0)};return window.addEventListener("online",i),window.addEventListener("offline",s),()=>{window.removeEventListener("online",i),window.removeEventListener("offline",s)}},[]),t&&!r?null:l.jsx(oe,{className:`fixed top-4 left-4 right-4 z-50 shadow-lg md:left-auto md:right-4 md:max-w-sm transition-colors ${t?"bg-green-50 border-green-200":"bg-orange-50 border-orange-200"}`,children:l.jsx(le,{className:"p-3",children:l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx("div",{className:`flex-shrink-0 rounded-full p-2 ${t?"bg-green-500":"bg-orange-500"}`,children:t?l.jsx(q5,{className:"h-4 w-4 text-white"}):l.jsx(Z5,{className:"h-4 w-4 text-white"})}),l.jsxs("div",{className:"flex-1",children:[l.jsx("h3",{className:`font-medium text-sm ${t?"text-green-900":"text-orange-900"}`,children:t?"Back Online":"Offline Mode"}),l.jsx("p",{className:`text-xs mt-1 ${t?"text-green-700":"text-orange-700"}`,children:t?"Connection restored. All features available.":"Limited features. Cached data available."})]})]})})})}const d7=Eu("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function we({className:t,variant:e,...r}){return l.jsx("div",{className:Le(d7({variant:e}),t),...r})}function f7(){const[t,e]=I.useState({loadTime:0,renderTime:0,memoryUsage:0});return I.useEffect(()=>{const r=performance.now();if(window.addEventListener("load",()=>{const i=performance.now()-r;e(s=>({...s,loadTime:i}))}),"memory"in performance){const i=performance.memory;e(s=>({...s,memoryUsage:i.usedJSHeapSize/1048576}))}const n=performance.now()-r;e(i=>({...i,renderTime:n}))},[]),null}var _1="focusScope.autoFocusOnMount",I1="focusScope.autoFocusOnUnmount",ov={bubbles:!1,cancelable:!0},h7="FocusScope",ug=I.forwardRef((t,e)=>{const{loop:r=!1,trapped:n=!1,onMountAutoFocus:i,onUnmountAutoFocus:s,...o}=t,[u,f]=I.useState(null),h=lr(i),m=lr(s),v=I.useRef(null),w=nt(e,b=>f(b)),C=I.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;I.useEffect(()=>{if(n){let b=function(T){if(C.paused||!u)return;const P=T.target;u.contains(P)?v.current=P:Gs(v.current,{select:!0})},R=function(T){if(C.paused||!u)return;const P=T.relatedTarget;P!==null&&(u.contains(P)||Gs(v.current,{select:!0}))},_=function(T){if(document.activeElement===document.body)for(const B of T)B.removedNodes.length>0&&Gs(u)};document.addEventListener("focusin",b),document.addEventListener("focusout",R);const S=new MutationObserver(_);return u&&S.observe(u,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",b),document.removeEventListener("focusout",R),S.disconnect()}}},[n,u,C.paused]),I.useEffect(()=>{if(u){cv.add(C);const b=document.activeElement;if(!u.contains(b)){const _=new CustomEvent(_1,ov);u.addEventListener(_1,h),u.dispatchEvent(_),_.defaultPrevented||(p7(y7($4(u)),{select:!0}),document.activeElement===b&&Gs(u))}return()=>{u.removeEventListener(_1,h),setTimeout(()=>{const _=new CustomEvent(I1,ov);u.addEventListener(I1,m),u.dispatchEvent(_),_.defaultPrevented||Gs(b??document.body,{select:!0}),u.removeEventListener(I1,m),cv.remove(C)},0)}}},[u,h,m,C]);const N=I.useCallback(b=>{if(!r&&!n||C.paused)return;const R=b.key==="Tab"&&!b.altKey&&!b.ctrlKey&&!b.metaKey,_=document.activeElement;if(R&&_){const S=b.currentTarget,[T,P]=x7(S);T&&P?!b.shiftKey&&_===P?(b.preventDefault(),r&&Gs(T,{select:!0})):b.shiftKey&&_===T&&(b.preventDefault(),r&&Gs(P,{select:!0})):_===S&&b.preventDefault()}},[r,n,C.paused]);return l.jsx(Ve.div,{tabIndex:-1,...o,ref:w,onKeyDown:N})});ug.displayName=h7;function p7(t,{select:e=!1}={}){const r=document.activeElement;for(const n of t)if(Gs(n,{select:e}),document.activeElement!==r)return}function x7(t){const e=$4(t),r=lv(e,t),n=lv(e.reverse(),t);return[r,n]}function $4(t){const e=[],r=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:n=>{const i=n.tagName==="INPUT"&&n.type==="hidden";return n.disabled||n.hidden||i?NodeFilter.FILTER_SKIP:n.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)e.push(r.currentNode);return e}function lv(t,e){for(const r of t)if(!g7(r,{upTo:e}))return r}function g7(t,{upTo:e}){if(getComputedStyle(t).visibility==="hidden")return!0;for(;t;){if(e!==void 0&&t===e)return!1;if(getComputedStyle(t).display==="none")return!0;t=t.parentElement}return!1}function m7(t){return t instanceof HTMLInputElement&&"select"in t}function Gs(t,{select:e=!1}={}){if(t&&t.focus){const r=document.activeElement;t.focus({preventScroll:!0}),t!==r&&m7(t)&&e&&t.select()}}var cv=v7();function v7(){let t=[];return{add(e){const r=t[0];e!==r&&(r==null||r.pause()),t=uv(t,e),t.unshift(e)},remove(e){var r;t=uv(t,e),(r=t[0])==null||r.resume()}}}function uv(t,e){const r=[...t],n=r.indexOf(e);return n!==-1&&r.splice(n,1),r}function y7(t){return t.filter(e=>e.tagName!=="A")}var T1=0;function K4(){I.useEffect(()=>{const t=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",t[0]??dv()),document.body.insertAdjacentElement("beforeend",t[1]??dv()),T1++,()=>{T1===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(e=>e.remove()),T1--}},[])}function dv(){const t=document.createElement("span");return t.setAttribute("data-radix-focus-guard",""),t.tabIndex=0,t.style.outline="none",t.style.opacity="0",t.style.position="fixed",t.style.pointerEvents="none",t}var Zi=function(){return Zi=Object.assign||function(e){for(var r,n=1,i=arguments.length;n<i;n++){r=arguments[n];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(e[s]=r[s])}return e},Zi.apply(this,arguments)};function Z4(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(t);i<n.length;i++)e.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(t,n[i])&&(r[n[i]]=t[n[i]]);return r}function w7(t,e,r){if(r||arguments.length===2)for(var n=0,i=e.length,s;n<i;n++)(s||!(n in e))&&(s||(s=Array.prototype.slice.call(e,0,n)),s[n]=e[n]);return t.concat(s||Array.prototype.slice.call(e))}var Ld="right-scroll-bar-position",Bd="width-before-scroll-bar",C7="with-scroll-bars-hidden",E7="--removed-body-scroll-bar-size";function R1(t,e){return typeof t=="function"?t(e):t&&(t.current=e),t}function A7(t,e){var r=I.useState(function(){return{value:t,callback:e,facade:{get current(){return r.value},set current(n){var i=r.value;i!==n&&(r.value=n,r.callback(n,i))}}}})[0];return r.callback=e,r.facade}var b7=typeof window<"u"?I.useLayoutEffect:I.useEffect,fv=new WeakMap;function S7(t,e){var r=A7(null,function(n){return t.forEach(function(i){return R1(i,n)})});return b7(function(){var n=fv.get(r);if(n){var i=new Set(n),s=new Set(t),o=r.current;i.forEach(function(u){s.has(u)||R1(u,null)}),s.forEach(function(u){i.has(u)||R1(u,o)})}fv.set(r,t)},[t]),r}function N7(t){return t}function _7(t,e){e===void 0&&(e=N7);var r=[],n=!1,i={read:function(){if(n)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return r.length?r[r.length-1]:t},useMedium:function(s){var o=e(s,n);return r.push(o),function(){r=r.filter(function(u){return u!==o})}},assignSyncMedium:function(s){for(n=!0;r.length;){var o=r;r=[],o.forEach(s)}r={push:function(u){return s(u)},filter:function(){return r}}},assignMedium:function(s){n=!0;var o=[];if(r.length){var u=r;r=[],u.forEach(s),o=r}var f=function(){var m=o;o=[],m.forEach(s)},h=function(){return Promise.resolve().then(f)};h(),r={push:function(m){o.push(m),h()},filter:function(m){return o=o.filter(m),r}}}};return i}function I7(t){t===void 0&&(t={});var e=_7(null);return e.options=Zi({async:!0,ssr:!1},t),e}var q4=function(t){var e=t.sideCar,r=Z4(t,["sideCar"]);if(!e)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var n=e.read();if(!n)throw new Error("Sidecar medium not found");return I.createElement(n,Zi({},r))};q4.isSideCarExport=!0;function T7(t,e){return t.useMedium(e),q4}var Q4=I7(),O1=function(){},u0=I.forwardRef(function(t,e){var r=I.useRef(null),n=I.useState({onScrollCapture:O1,onWheelCapture:O1,onTouchMoveCapture:O1}),i=n[0],s=n[1],o=t.forwardProps,u=t.children,f=t.className,h=t.removeScrollBar,m=t.enabled,v=t.shards,w=t.sideCar,C=t.noIsolation,N=t.inert,b=t.allowPinchZoom,R=t.as,_=R===void 0?"div":R,S=t.gapMode,T=Z4(t,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noIsolation","inert","allowPinchZoom","as","gapMode"]),P=w,B=S7([r,e]),k=Zi(Zi({},T),i);return I.createElement(I.Fragment,null,m&&I.createElement(P,{sideCar:Q4,removeScrollBar:h,shards:v,noIsolation:C,inert:N,setCallbacks:s,allowPinchZoom:!!b,lockRef:r,gapMode:S}),o?I.cloneElement(I.Children.only(u),Zi(Zi({},k),{ref:B})):I.createElement(_,Zi({},k,{className:f,ref:B}),u))});u0.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};u0.classNames={fullWidth:Bd,zeroRight:Ld};var R7=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function O7(){if(!document)return null;var t=document.createElement("style");t.type="text/css";var e=R7();return e&&t.setAttribute("nonce",e),t}function P7(t,e){t.styleSheet?t.styleSheet.cssText=e:t.appendChild(document.createTextNode(e))}function D7(t){var e=document.head||document.getElementsByTagName("head")[0];e.appendChild(t)}var j7=function(){var t=0,e=null;return{add:function(r){t==0&&(e=O7())&&(P7(e,r),D7(e)),t++},remove:function(){t--,!t&&e&&(e.parentNode&&e.parentNode.removeChild(e),e=null)}}},M7=function(){var t=j7();return function(e,r){I.useEffect(function(){return t.add(e),function(){t.remove()}},[e&&r])}},J4=function(){var t=M7(),e=function(r){var n=r.styles,i=r.dynamic;return t(n,i),null};return e},k7={left:0,top:0,right:0,gap:0},P1=function(t){return parseInt(t||"",10)||0},L7=function(t){var e=window.getComputedStyle(document.body),r=e[t==="padding"?"paddingLeft":"marginLeft"],n=e[t==="padding"?"paddingTop":"marginTop"],i=e[t==="padding"?"paddingRight":"marginRight"];return[P1(r),P1(n),P1(i)]},B7=function(t){if(t===void 0&&(t="margin"),typeof window>"u")return k7;var e=L7(t),r=document.documentElement.clientWidth,n=window.innerWidth;return{left:e[0],top:e[1],right:e[2],gap:Math.max(0,n-r+e[2]-e[0])}},F7=J4(),sl="data-scroll-locked",U7=function(t,e,r,n){var i=t.left,s=t.top,o=t.right,u=t.gap;return r===void 0&&(r="margin"),`
  .`.concat(C7,` {
   overflow: hidden `).concat(n,`;
   padding-right: `).concat(u,"px ").concat(n,`;
  }
  body[`).concat(sl,`] {
    overflow: hidden `).concat(n,`;
    overscroll-behavior: contain;
    `).concat([e&&"position: relative ".concat(n,";"),r==="margin"&&`
    padding-left: `.concat(i,`px;
    padding-top: `).concat(s,`px;
    padding-right: `).concat(o,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(u,"px ").concat(n,`;
    `),r==="padding"&&"padding-right: ".concat(u,"px ").concat(n,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(Ld,` {
    right: `).concat(u,"px ").concat(n,`;
  }
  
  .`).concat(Bd,` {
    margin-right: `).concat(u,"px ").concat(n,`;
  }
  
  .`).concat(Ld," .").concat(Ld,` {
    right: 0 `).concat(n,`;
  }
  
  .`).concat(Bd," .").concat(Bd,` {
    margin-right: 0 `).concat(n,`;
  }
  
  body[`).concat(sl,`] {
    `).concat(E7,": ").concat(u,`px;
  }
`)},hv=function(){var t=parseInt(document.body.getAttribute(sl)||"0",10);return isFinite(t)?t:0},V7=function(){I.useEffect(function(){return document.body.setAttribute(sl,(hv()+1).toString()),function(){var t=hv()-1;t<=0?document.body.removeAttribute(sl):document.body.setAttribute(sl,t.toString())}},[])},H7=function(t){var e=t.noRelative,r=t.noImportant,n=t.gapMode,i=n===void 0?"margin":n;V7();var s=I.useMemo(function(){return B7(i)},[i]);return I.createElement(F7,{styles:U7(s,!e,i,r?"":"!important")})},hp=!1;if(typeof window<"u")try{var ld=Object.defineProperty({},"passive",{get:function(){return hp=!0,!0}});window.addEventListener("test",ld,ld),window.removeEventListener("test",ld,ld)}catch{hp=!1}var Ro=hp?{passive:!1}:!1,z7=function(t){return t.tagName==="TEXTAREA"},eE=function(t,e){if(!(t instanceof Element))return!1;var r=window.getComputedStyle(t);return r[e]!=="hidden"&&!(r.overflowY===r.overflowX&&!z7(t)&&r[e]==="visible")},G7=function(t){return eE(t,"overflowY")},W7=function(t){return eE(t,"overflowX")},pv=function(t,e){var r=e.ownerDocument,n=e;do{typeof ShadowRoot<"u"&&n instanceof ShadowRoot&&(n=n.host);var i=tE(t,n);if(i){var s=rE(t,n),o=s[1],u=s[2];if(o>u)return!0}n=n.parentNode}while(n&&n!==r.body);return!1},X7=function(t){var e=t.scrollTop,r=t.scrollHeight,n=t.clientHeight;return[e,r,n]},Y7=function(t){var e=t.scrollLeft,r=t.scrollWidth,n=t.clientWidth;return[e,r,n]},tE=function(t,e){return t==="v"?G7(e):W7(e)},rE=function(t,e){return t==="v"?X7(e):Y7(e)},$7=function(t,e){return t==="h"&&e==="rtl"?-1:1},K7=function(t,e,r,n,i){var s=$7(t,window.getComputedStyle(e).direction),o=s*n,u=r.target,f=e.contains(u),h=!1,m=o>0,v=0,w=0;do{var C=rE(t,u),N=C[0],b=C[1],R=C[2],_=b-R-s*N;(N||_)&&tE(t,u)&&(v+=_,w+=N),u instanceof ShadowRoot?u=u.host:u=u.parentNode}while(!f&&u!==document.body||f&&(e.contains(u)||e===u));return(m&&(Math.abs(v)<1||!i)||!m&&(Math.abs(w)<1||!i))&&(h=!0),h},cd=function(t){return"changedTouches"in t?[t.changedTouches[0].clientX,t.changedTouches[0].clientY]:[0,0]},xv=function(t){return[t.deltaX,t.deltaY]},gv=function(t){return t&&"current"in t?t.current:t},Z7=function(t,e){return t[0]===e[0]&&t[1]===e[1]},q7=function(t){return`
  .block-interactivity-`.concat(t,` {pointer-events: none;}
  .allow-interactivity-`).concat(t,` {pointer-events: all;}
`)},Q7=0,Oo=[];function J7(t){var e=I.useRef([]),r=I.useRef([0,0]),n=I.useRef(),i=I.useState(Q7++)[0],s=I.useState(J4)[0],o=I.useRef(t);I.useEffect(function(){o.current=t},[t]),I.useEffect(function(){if(t.inert){document.body.classList.add("block-interactivity-".concat(i));var b=w7([t.lockRef.current],(t.shards||[]).map(gv),!0).filter(Boolean);return b.forEach(function(R){return R.classList.add("allow-interactivity-".concat(i))}),function(){document.body.classList.remove("block-interactivity-".concat(i)),b.forEach(function(R){return R.classList.remove("allow-interactivity-".concat(i))})}}},[t.inert,t.lockRef.current,t.shards]);var u=I.useCallback(function(b,R){if("touches"in b&&b.touches.length===2||b.type==="wheel"&&b.ctrlKey)return!o.current.allowPinchZoom;var _=cd(b),S=r.current,T="deltaX"in b?b.deltaX:S[0]-_[0],P="deltaY"in b?b.deltaY:S[1]-_[1],B,k=b.target,M=Math.abs(T)>Math.abs(P)?"h":"v";if("touches"in b&&M==="h"&&k.type==="range")return!1;var F=pv(M,k);if(!F)return!0;if(F?B=M:(B=M==="v"?"h":"v",F=pv(M,k)),!F)return!1;if(!n.current&&"changedTouches"in b&&(T||P)&&(n.current=B),!B)return!0;var U=n.current||B;return K7(U,R,b,U==="h"?T:P,!0)},[]),f=I.useCallback(function(b){var R=b;if(!(!Oo.length||Oo[Oo.length-1]!==s)){var _="deltaY"in R?xv(R):cd(R),S=e.current.filter(function(B){return B.name===R.type&&(B.target===R.target||R.target===B.shadowParent)&&Z7(B.delta,_)})[0];if(S&&S.should){R.cancelable&&R.preventDefault();return}if(!S){var T=(o.current.shards||[]).map(gv).filter(Boolean).filter(function(B){return B.contains(R.target)}),P=T.length>0?u(R,T[0]):!o.current.noIsolation;P&&R.cancelable&&R.preventDefault()}}},[]),h=I.useCallback(function(b,R,_,S){var T={name:b,delta:R,target:_,should:S,shadowParent:eR(_)};e.current.push(T),setTimeout(function(){e.current=e.current.filter(function(P){return P!==T})},1)},[]),m=I.useCallback(function(b){r.current=cd(b),n.current=void 0},[]),v=I.useCallback(function(b){h(b.type,xv(b),b.target,u(b,t.lockRef.current))},[]),w=I.useCallback(function(b){h(b.type,cd(b),b.target,u(b,t.lockRef.current))},[]);I.useEffect(function(){return Oo.push(s),t.setCallbacks({onScrollCapture:v,onWheelCapture:v,onTouchMoveCapture:w}),document.addEventListener("wheel",f,Ro),document.addEventListener("touchmove",f,Ro),document.addEventListener("touchstart",m,Ro),function(){Oo=Oo.filter(function(b){return b!==s}),document.removeEventListener("wheel",f,Ro),document.removeEventListener("touchmove",f,Ro),document.removeEventListener("touchstart",m,Ro)}},[]);var C=t.removeScrollBar,N=t.inert;return I.createElement(I.Fragment,null,N?I.createElement(s,{styles:q7(i)}):null,C?I.createElement(H7,{gapMode:t.gapMode}):null)}function eR(t){for(var e=null;t!==null;)t instanceof ShadowRoot&&(e=t.host,t=t.host),t=t.parentNode;return e}const tR=T7(Q4,J7);var dg=I.forwardRef(function(t,e){return I.createElement(u0,Zi({},t,{ref:e,sideCar:tR}))});dg.classNames=u0.classNames;var rR=function(t){if(typeof document>"u")return null;var e=Array.isArray(t)?t[0]:t;return e.ownerDocument.body},Po=new WeakMap,ud=new WeakMap,dd={},D1=0,nE=function(t){return t&&(t.host||nE(t.parentNode))},nR=function(t,e){return e.map(function(r){if(t.contains(r))return r;var n=nE(r);return n&&t.contains(n)?n:(console.error("aria-hidden",r,"in not contained inside",t,". Doing nothing"),null)}).filter(function(r){return!!r})},iR=function(t,e,r,n){var i=nR(e,Array.isArray(t)?t:[t]);dd[r]||(dd[r]=new WeakMap);var s=dd[r],o=[],u=new Set,f=new Set(i),h=function(v){!v||u.has(v)||(u.add(v),h(v.parentNode))};i.forEach(h);var m=function(v){!v||f.has(v)||Array.prototype.forEach.call(v.children,function(w){if(u.has(w))m(w);else try{var C=w.getAttribute(n),N=C!==null&&C!=="false",b=(Po.get(w)||0)+1,R=(s.get(w)||0)+1;Po.set(w,b),s.set(w,R),o.push(w),b===1&&N&&ud.set(w,!0),R===1&&w.setAttribute(r,"true"),N||w.setAttribute(n,"true")}catch(_){console.error("aria-hidden: cannot operate on ",w,_)}})};return m(e),u.clear(),D1++,function(){o.forEach(function(v){var w=Po.get(v)-1,C=s.get(v)-1;Po.set(v,w),s.set(v,C),w||(ud.has(v)||v.removeAttribute(n),ud.delete(v)),C||v.removeAttribute(r)}),D1--,D1||(Po=new WeakMap,Po=new WeakMap,ud=new WeakMap,dd={})}},iE=function(t,e,r){r===void 0&&(r="data-aria-hidden");var n=Array.from(Array.isArray(t)?t:[t]),i=rR(t);return i?(n.push.apply(n,Array.from(i.querySelectorAll("[aria-live]"))),iR(n,i,r,"aria-hidden")):function(){return null}},fg="Dialog",[sE,aE]=$n(fg),[sR,ki]=sE(fg),oE=t=>{const{__scopeDialog:e,children:r,open:n,defaultOpen:i,onOpenChange:s,modal:o=!0}=t,u=I.useRef(null),f=I.useRef(null),[h=!1,m]=ba({prop:n,defaultProp:i,onChange:s});return l.jsx(sR,{scope:e,triggerRef:u,contentRef:f,contentId:va(),titleId:va(),descriptionId:va(),open:h,onOpenChange:m,onOpenToggle:I.useCallback(()=>m(v=>!v),[m]),modal:o,children:r})};oE.displayName=fg;var lE="DialogTrigger",cE=I.forwardRef((t,e)=>{const{__scopeDialog:r,...n}=t,i=ki(lE,r),s=nt(e,i.triggerRef);return l.jsx(Ve.button,{type:"button","aria-haspopup":"dialog","aria-expanded":i.open,"aria-controls":i.contentId,"data-state":xg(i.open),...n,ref:s,onClick:Pe(t.onClick,i.onOpenToggle)})});cE.displayName=lE;var hg="DialogPortal",[aR,uE]=sE(hg,{forceMount:void 0}),dE=t=>{const{__scopeDialog:e,forceMount:r,children:n,container:i}=t,s=ki(hg,e);return l.jsx(aR,{scope:e,forceMount:r,children:I.Children.map(n,o=>l.jsx(hi,{present:r||s.open,children:l.jsx(e0,{asChild:!0,container:i,children:o})}))})};dE.displayName=hg;var Sf="DialogOverlay",fE=I.forwardRef((t,e)=>{const r=uE(Sf,t.__scopeDialog),{forceMount:n=r.forceMount,...i}=t,s=ki(Sf,t.__scopeDialog);return s.modal?l.jsx(hi,{present:n||s.open,children:l.jsx(lR,{...i,ref:e})}):null});fE.displayName=Sf;var oR=Tl("DialogOverlay.RemoveScroll"),lR=I.forwardRef((t,e)=>{const{__scopeDialog:r,...n}=t,i=ki(Sf,r);return l.jsx(dg,{as:oR,allowPinchZoom:!0,shards:[i.contentRef],children:l.jsx(Ve.div,{"data-state":xg(i.open),...n,ref:e,style:{pointerEvents:"auto",...n.style}})})}),xo="DialogContent",hE=I.forwardRef((t,e)=>{const r=uE(xo,t.__scopeDialog),{forceMount:n=r.forceMount,...i}=t,s=ki(xo,t.__scopeDialog);return l.jsx(hi,{present:n||s.open,children:s.modal?l.jsx(cR,{...i,ref:e}):l.jsx(uR,{...i,ref:e})})});hE.displayName=xo;var cR=I.forwardRef((t,e)=>{const r=ki(xo,t.__scopeDialog),n=I.useRef(null),i=nt(e,r.contentRef,n);return I.useEffect(()=>{const s=n.current;if(s)return iE(s)},[]),l.jsx(pE,{...t,ref:i,trapFocus:r.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:Pe(t.onCloseAutoFocus,s=>{var o;s.preventDefault(),(o=r.triggerRef.current)==null||o.focus()}),onPointerDownOutside:Pe(t.onPointerDownOutside,s=>{const o=s.detail.originalEvent,u=o.button===0&&o.ctrlKey===!0;(o.button===2||u)&&s.preventDefault()}),onFocusOutside:Pe(t.onFocusOutside,s=>s.preventDefault())})}),uR=I.forwardRef((t,e)=>{const r=ki(xo,t.__scopeDialog),n=I.useRef(!1),i=I.useRef(!1);return l.jsx(pE,{...t,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:s=>{var o,u;(o=t.onCloseAutoFocus)==null||o.call(t,s),s.defaultPrevented||(n.current||(u=r.triggerRef.current)==null||u.focus(),s.preventDefault()),n.current=!1,i.current=!1},onInteractOutside:s=>{var f,h;(f=t.onInteractOutside)==null||f.call(t,s),s.defaultPrevented||(n.current=!0,s.detail.originalEvent.type==="pointerdown"&&(i.current=!0));const o=s.target;((h=r.triggerRef.current)==null?void 0:h.contains(o))&&s.preventDefault(),s.detail.originalEvent.type==="focusin"&&i.current&&s.preventDefault()}})}),pE=I.forwardRef((t,e)=>{const{__scopeDialog:r,trapFocus:n,onOpenAutoFocus:i,onCloseAutoFocus:s,...o}=t,u=ki(xo,r),f=I.useRef(null),h=nt(e,f);return K4(),l.jsxs(l.Fragment,{children:[l.jsx(ug,{asChild:!0,loop:!0,trapped:n,onMountAutoFocus:i,onUnmountAutoFocus:s,children:l.jsx(wu,{role:"dialog",id:u.contentId,"aria-describedby":u.descriptionId,"aria-labelledby":u.titleId,"data-state":xg(u.open),...o,ref:h,onDismiss:()=>u.onOpenChange(!1)})}),l.jsxs(l.Fragment,{children:[l.jsx(fR,{titleId:u.titleId}),l.jsx(pR,{contentRef:f,descriptionId:u.descriptionId})]})]})}),pg="DialogTitle",xE=I.forwardRef((t,e)=>{const{__scopeDialog:r,...n}=t,i=ki(pg,r);return l.jsx(Ve.h2,{id:i.titleId,...n,ref:e})});xE.displayName=pg;var gE="DialogDescription",mE=I.forwardRef((t,e)=>{const{__scopeDialog:r,...n}=t,i=ki(gE,r);return l.jsx(Ve.p,{id:i.descriptionId,...n,ref:e})});mE.displayName=gE;var vE="DialogClose",yE=I.forwardRef((t,e)=>{const{__scopeDialog:r,...n}=t,i=ki(vE,r);return l.jsx(Ve.button,{type:"button",...n,ref:e,onClick:Pe(t.onClick,()=>i.onOpenChange(!1))})});yE.displayName=vE;function xg(t){return t?"open":"closed"}var wE="DialogTitleWarning",[dR,CE]=B_(wE,{contentName:xo,titleName:pg,docsSlug:"dialog"}),fR=({titleId:t})=>{const e=CE(wE),r=`\`${e.contentName}\` requires a \`${e.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${e.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${e.docsSlug}`;return I.useEffect(()=>{t&&(document.getElementById(t)||console.error(r))},[r,t]),null},hR="DialogDescriptionWarning",pR=({contentRef:t,descriptionId:e})=>{const n=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${CE(hR).contentName}}.`;return I.useEffect(()=>{var s;const i=(s=t.current)==null?void 0:s.getAttribute("aria-describedby");e&&i&&(document.getElementById(e)||console.warn(n))},[n,t,e]),null},EE=oE,AE=cE,bE=dE,gg=fE,mg=hE,vg=xE,yg=mE,wg=yE;const xR=EE,gR=AE,mR=bE,SE=I.forwardRef(({className:t,...e},r)=>l.jsx(gg,{ref:r,className:Le("fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",t),...e}));SE.displayName=gg.displayName;const NE=I.forwardRef(({className:t,children:e,...r},n)=>l.jsxs(mR,{children:[l.jsx(SE,{}),l.jsxs(mg,{ref:n,className:Le("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",t),...r,children:[e,l.jsxs(wg,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[l.jsx(ma,{className:"h-4 w-4"}),l.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));NE.displayName=mg.displayName;const _E=({className:t,...e})=>l.jsx("div",{className:Le("flex flex-col space-y-1.5 text-center sm:text-left",t),...e});_E.displayName="DialogHeader";const IE=I.forwardRef(({className:t,...e},r)=>l.jsx(vg,{ref:r,className:Le("text-lg font-semibold leading-none tracking-tight",t),...e}));IE.displayName=vg.displayName;const TE=I.forwardRef(({className:t,...e},r)=>l.jsx(yg,{ref:r,className:Le("text-sm text-muted-foreground",t),...e}));TE.displayName=yg.displayName;function Cg(t){const e=I.useRef({value:t,previous:t});return I.useMemo(()=>(e.current.value!==t&&(e.current.previous=e.current.value,e.current.value=t),e.current.previous),[t])}var Eg="Switch",[vR,nL]=$n(Eg),[yR,wR]=vR(Eg),RE=I.forwardRef((t,e)=>{const{__scopeSwitch:r,name:n,checked:i,defaultChecked:s,required:o,disabled:u,value:f="on",onCheckedChange:h,form:m,...v}=t,[w,C]=I.useState(null),N=nt(e,T=>C(T)),b=I.useRef(!1),R=w?m||!!w.closest("form"):!0,[_=!1,S]=ba({prop:i,defaultProp:s,onChange:h});return l.jsxs(yR,{scope:r,checked:_,disabled:u,children:[l.jsx(Ve.button,{type:"button",role:"switch","aria-checked":_,"aria-required":o,"data-state":DE(_),"data-disabled":u?"":void 0,disabled:u,value:f,...v,ref:N,onClick:Pe(t.onClick,T=>{S(P=>!P),R&&(b.current=T.isPropagationStopped(),b.current||T.stopPropagation())})}),R&&l.jsx(CR,{control:w,bubbles:!b.current,name:n,value:f,checked:_,required:o,disabled:u,form:m,style:{transform:"translateX(-100%)"}})]})});RE.displayName=Eg;var OE="SwitchThumb",PE=I.forwardRef((t,e)=>{const{__scopeSwitch:r,...n}=t,i=wR(OE,r);return l.jsx(Ve.span,{"data-state":DE(i.checked),"data-disabled":i.disabled?"":void 0,...n,ref:e})});PE.displayName=OE;var CR=t=>{const{control:e,checked:r,bubbles:n=!0,...i}=t,s=I.useRef(null),o=Cg(r),u=sg(e);return I.useEffect(()=>{const f=s.current,h=window.HTMLInputElement.prototype,v=Object.getOwnPropertyDescriptor(h,"checked").set;if(o!==r&&v){const w=new Event("click",{bubbles:n});v.call(f,r),f.dispatchEvent(w)}},[o,r,n]),l.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:r,...i,tabIndex:-1,ref:s,style:{...t.style,...u,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})};function DE(t){return t?"checked":"unchecked"}var jE=RE,ER=PE;const la=I.forwardRef(({className:t,...e},r)=>l.jsx(jE,{className:Le("peer inline-flex h-6 w-11 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=unchecked]:bg-input",t),...e,ref:r,children:l.jsx(ER,{className:Le("pointer-events-none block h-5 w-5 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-5 data-[state=unchecked]:translate-x-0")})}));la.displayName=jE.displayName;var AR="Label",ME=I.forwardRef((t,e)=>l.jsx(Ve.label,{...t,ref:e,onMouseDown:r=>{var i;r.target.closest("button, input, select, textarea")||((i=t.onMouseDown)==null||i.call(t,r),!r.defaultPrevented&&r.detail>1&&r.preventDefault())}}));ME.displayName=AR;var kE=ME;const bR=Eu("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),si=I.forwardRef(({className:t,...e},r)=>l.jsx(kE,{ref:r,className:Le(bR(),t),...e}));si.displayName=kE.displayName;function SR(){const[t,e]=I.useState(!1),[r,n]=I.useState(!1),[i,s]=I.useState({essential:!0,analytics:!1,personalization:!1});I.useEffect(()=>{const h=localStorage.getItem("chefgrocer-cookie-consent");if(h)try{const m=JSON.parse(h);s(m)}catch(m){console.error("Error parsing cookie preferences:",m)}else{const m=setTimeout(()=>e(!0),2e3);return()=>clearTimeout(m)}},[]);const o=h=>{localStorage.setItem("chefgrocer-cookie-consent",JSON.stringify(h)),s(h),e(!1),n(!1),h.analytics&&console.log("Analytics enabled"),h.personalization&&console.log("Personalization enabled")},u=()=>{o({essential:!0,analytics:!0,personalization:!0})},f=()=>{o({essential:!0,analytics:!1,personalization:!1})};return t?l.jsx(l.Fragment,{children:l.jsx("div",{className:"fixed bottom-4 left-4 right-4 z-50 sm:left-6 sm:right-6 md:left-auto md:right-6 md:max-w-sm",children:l.jsx(oe,{className:"shadow-lg border-2",children:l.jsx(le,{className:"p-4",children:l.jsxs("div",{className:"flex items-start gap-3",children:[l.jsx(j5,{className:"h-5 w-5 text-orange-600 mt-1 flex-shrink-0"}),l.jsxs("div",{className:"flex-1",children:[l.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[l.jsx("h3",{className:"font-semibold text-sm",children:"Cookie Preferences"}),l.jsxs(we,{variant:"secondary",className:"text-xs",children:[l.jsx(is,{className:"h-3 w-3 mr-1"}),"Secure"]})]}),l.jsx("p",{className:"text-xs text-gray-600 dark:text-gray-300 mb-3",children:"We use cookies to enhance your experience, analyze usage, and personalize content. Your privacy is protected with industry-standard encryption."}),l.jsxs("div",{className:"flex flex-col gap-2",children:[l.jsxs("div",{className:"flex gap-2",children:[l.jsx(se,{onClick:u,size:"sm",className:"flex-1",children:"Accept All"}),l.jsx(se,{onClick:f,variant:"outline",size:"sm",className:"flex-1",children:"Essential Only"})]}),l.jsxs("div",{className:"flex justify-between items-center",children:[l.jsxs(xR,{open:r,onOpenChange:n,children:[l.jsx(gR,{asChild:!0,children:l.jsxs(se,{variant:"ghost",size:"sm",className:"p-0 h-auto text-xs",children:[l.jsx($x,{className:"h-3 w-3 mr-1"}),"Customize"]})}),l.jsx(NR,{preferences:i,onSave:o})]}),l.jsx(iu,{href:"/privacy-policy",className:"text-xs text-orange-600 hover:underline",children:"Privacy Policy"})]})]})]}),l.jsx(se,{variant:"ghost",size:"sm",onClick:f,className:"p-1 h-auto text-gray-400 hover:text-gray-600",children:l.jsx(ma,{className:"h-4 w-4"})})]})})})})}):null}function NR({preferences:t,onSave:e}){const[r,n]=I.useState(t),i=()=>{e(r)};return l.jsxs(NE,{className:"sm:max-w-md",children:[l.jsxs(_E,{children:[l.jsxs(IE,{className:"flex items-center gap-2",children:[l.jsx($x,{className:"h-5 w-5"}),"Cookie Preferences"]}),l.jsx(TE,{children:"Control which cookies ChefGrocer can use to improve your experience."})]}),l.jsxs("div",{className:"space-y-6 py-4",children:[l.jsx("div",{className:"space-y-2",children:l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{children:[l.jsx(si,{className:"font-medium",children:"Essential Cookies"}),l.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-300",children:"Required for login, security, and core functionality"})]}),l.jsx(la,{checked:!0,disabled:!0})]})}),l.jsx("div",{className:"space-y-2",children:l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{children:[l.jsx(si,{className:"font-medium",children:"Analytics"}),l.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-300",children:"Help us understand app usage and performance"})]}),l.jsx(la,{checked:r.analytics,onCheckedChange:s=>n(o=>({...o,analytics:s}))})]})}),l.jsx("div",{className:"space-y-2",children:l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{children:[l.jsx(si,{className:"font-medium",children:"Personalization"}),l.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-300",children:"Customize recipes and recommendations for you"})]}),l.jsx(la,{checked:r.personalization,onCheckedChange:s=>n(o=>({...o,personalization:s}))})]})}),l.jsx("div",{className:"bg-blue-50 dark:bg-blue-900/20 p-3 rounded-lg",children:l.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[l.jsx(is,{className:"h-4 w-4 text-blue-600"}),l.jsx("span",{className:"font-medium",children:"Your data is always encrypted and never sold."})]})})]}),l.jsxs("div",{className:"flex gap-2 pt-4",children:[l.jsx(se,{onClick:i,className:"flex-1",children:"Save Preferences"}),l.jsx(se,{variant:"outline",onClick:()=>e({essential:!0,analytics:!1,personalization:!1}),children:"Essential Only"})]})]})}function LE(){const{data:t,isLoading:e}=as({queryKey:["/api/auth/user"],retry:!1,queryFn:CC({on401:"returnNull"})});return{user:t,isLoading:e,isAuthenticated:!!t}}var _R=I.createContext(void 0);function d0(t){const e=I.useContext(_R);return t||e||"ltr"}var j1="rovingFocusGroup.onEntryFocus",IR={bubbles:!1,cancelable:!0},f0="RovingFocusGroup",[pp,BE,TR]=Hx(f0),[RR,FE]=$n(f0,[TR]),[OR,PR]=RR(f0),UE=I.forwardRef((t,e)=>l.jsx(pp.Provider,{scope:t.__scopeRovingFocusGroup,children:l.jsx(pp.Slot,{scope:t.__scopeRovingFocusGroup,children:l.jsx(DR,{...t,ref:e})})}));UE.displayName=f0;var DR=I.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:r,orientation:n,loop:i=!1,dir:s,currentTabStopId:o,defaultCurrentTabStopId:u,onCurrentTabStopIdChange:f,onEntryFocus:h,preventScrollOnEntryFocus:m=!1,...v}=t,w=I.useRef(null),C=nt(e,w),N=d0(s),[b=null,R]=ba({prop:o,defaultProp:u,onChange:f}),[_,S]=I.useState(!1),T=lr(h),P=BE(r),B=I.useRef(!1),[k,M]=I.useState(0);return I.useEffect(()=>{const F=w.current;if(F)return F.addEventListener(j1,T),()=>F.removeEventListener(j1,T)},[T]),l.jsx(OR,{scope:r,orientation:n,dir:N,loop:i,currentTabStopId:b,onItemFocus:I.useCallback(F=>R(F),[R]),onItemShiftTab:I.useCallback(()=>S(!0),[]),onFocusableItemAdd:I.useCallback(()=>M(F=>F+1),[]),onFocusableItemRemove:I.useCallback(()=>M(F=>F-1),[]),children:l.jsx(Ve.div,{tabIndex:_||k===0?-1:0,"data-orientation":n,...v,ref:C,style:{outline:"none",...t.style},onMouseDown:Pe(t.onMouseDown,()=>{B.current=!0}),onFocus:Pe(t.onFocus,F=>{const U=!B.current;if(F.target===F.currentTarget&&U&&!_){const X=new CustomEvent(j1,IR);if(F.currentTarget.dispatchEvent(X),!X.defaultPrevented){const ee=P().filter(ue=>ue.focusable),Z=ee.find(ue=>ue.active),ae=ee.find(ue=>ue.id===b),G=[Z,ae,...ee].filter(Boolean).map(ue=>ue.ref.current);zE(G,m)}}B.current=!1}),onBlur:Pe(t.onBlur,()=>S(!1))})})}),VE="RovingFocusGroupItem",HE=I.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:r,focusable:n=!0,active:i=!1,tabStopId:s,...o}=t,u=va(),f=s||u,h=PR(VE,r),m=h.currentTabStopId===f,v=BE(r),{onFocusableItemAdd:w,onFocusableItemRemove:C}=h;return I.useEffect(()=>{if(n)return w(),()=>C()},[n,w,C]),l.jsx(pp.ItemSlot,{scope:r,id:f,focusable:n,active:i,children:l.jsx(Ve.span,{tabIndex:m?0:-1,"data-orientation":h.orientation,...o,ref:e,onMouseDown:Pe(t.onMouseDown,N=>{n?h.onItemFocus(f):N.preventDefault()}),onFocus:Pe(t.onFocus,()=>h.onItemFocus(f)),onKeyDown:Pe(t.onKeyDown,N=>{if(N.key==="Tab"&&N.shiftKey){h.onItemShiftTab();return}if(N.target!==N.currentTarget)return;const b=kR(N,h.orientation,h.dir);if(b!==void 0){if(N.metaKey||N.ctrlKey||N.altKey||N.shiftKey)return;N.preventDefault();let _=v().filter(S=>S.focusable).map(S=>S.ref.current);if(b==="last")_.reverse();else if(b==="prev"||b==="next"){b==="prev"&&_.reverse();const S=_.indexOf(N.currentTarget);_=h.loop?LR(_,S+1):_.slice(S+1)}setTimeout(()=>zE(_))}})})})});HE.displayName=VE;var jR={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function MR(t,e){return e!=="rtl"?t:t==="ArrowLeft"?"ArrowRight":t==="ArrowRight"?"ArrowLeft":t}function kR(t,e,r){const n=MR(t.key,r);if(!(e==="vertical"&&["ArrowLeft","ArrowRight"].includes(n))&&!(e==="horizontal"&&["ArrowUp","ArrowDown"].includes(n)))return jR[n]}function zE(t,e=!1){const r=document.activeElement;for(const n of t)if(n===r||(n.focus({preventScroll:e}),document.activeElement!==r))return}function LR(t,e){return t.map((r,n)=>t[(e+n)%t.length])}var BR=UE,FR=HE,Ag="Tabs",[UR,iL]=$n(Ag,[FE]),GE=FE(),[VR,bg]=UR(Ag),WE=I.forwardRef((t,e)=>{const{__scopeTabs:r,value:n,onValueChange:i,defaultValue:s,orientation:o="horizontal",dir:u,activationMode:f="automatic",...h}=t,m=d0(u),[v,w]=ba({prop:n,onChange:i,defaultProp:s});return l.jsx(VR,{scope:r,baseId:va(),value:v,onValueChange:w,orientation:o,dir:m,activationMode:f,children:l.jsx(Ve.div,{dir:m,"data-orientation":o,...h,ref:e})})});WE.displayName=Ag;var XE="TabsList",YE=I.forwardRef((t,e)=>{const{__scopeTabs:r,loop:n=!0,...i}=t,s=bg(XE,r),o=GE(r);return l.jsx(BR,{asChild:!0,...o,orientation:s.orientation,dir:s.dir,loop:n,children:l.jsx(Ve.div,{role:"tablist","aria-orientation":s.orientation,...i,ref:e})})});YE.displayName=XE;var $E="TabsTrigger",KE=I.forwardRef((t,e)=>{const{__scopeTabs:r,value:n,disabled:i=!1,...s}=t,o=bg($E,r),u=GE(r),f=QE(o.baseId,n),h=JE(o.baseId,n),m=n===o.value;return l.jsx(FR,{asChild:!0,...u,focusable:!i,active:m,children:l.jsx(Ve.button,{type:"button",role:"tab","aria-selected":m,"aria-controls":h,"data-state":m?"active":"inactive","data-disabled":i?"":void 0,disabled:i,id:f,...s,ref:e,onMouseDown:Pe(t.onMouseDown,v=>{!i&&v.button===0&&v.ctrlKey===!1?o.onValueChange(n):v.preventDefault()}),onKeyDown:Pe(t.onKeyDown,v=>{[" ","Enter"].includes(v.key)&&o.onValueChange(n)}),onFocus:Pe(t.onFocus,()=>{const v=o.activationMode!=="manual";!m&&!i&&v&&o.onValueChange(n)})})})});KE.displayName=$E;var ZE="TabsContent",qE=I.forwardRef((t,e)=>{const{__scopeTabs:r,value:n,forceMount:i,children:s,...o}=t,u=bg(ZE,r),f=QE(u.baseId,n),h=JE(u.baseId,n),m=n===u.value,v=I.useRef(m);return I.useEffect(()=>{const w=requestAnimationFrame(()=>v.current=!1);return()=>cancelAnimationFrame(w)},[]),l.jsx(hi,{present:i||m,children:({present:w})=>l.jsx(Ve.div,{"data-state":m?"active":"inactive","data-orientation":u.orientation,role:"tabpanel","aria-labelledby":f,hidden:!w,id:h,tabIndex:0,...o,ref:e,style:{...t.style,animationDuration:v.current?"0s":void 0},children:w&&s})})});qE.displayName=ZE;function QE(t,e){return`${t}-trigger-${e}`}function JE(t,e){return`${t}-content-${e}`}var HR=WE,eA=YE,tA=KE,rA=qE;const Wl=HR,Xl=I.forwardRef(({className:t,...e},r)=>l.jsx(eA,{ref:r,className:Le("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",t),...e}));Xl.displayName=eA.displayName;const tn=I.forwardRef(({className:t,...e},r)=>l.jsx(tA,{ref:r,className:Le("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm",t),...e}));tn.displayName=tA.displayName;const pn=I.forwardRef(({className:t,...e},r)=>l.jsx(rA,{ref:r,className:Le("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",t),...e}));pn.displayName=rA.displayName;const Zt=I.forwardRef(({className:t,type:e,...r},n)=>l.jsx("input",{type:e,className:Le("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",t),ref:n,...r}));Zt.displayName="Input";function zR({onIngredientSelect:t}){const[e,r]=I.useState(!1),[n,i]=I.useState(""),[s,o]=I.useState(""),[u,f]=I.useState([]),[h,m]=I.useState(!1),[v,w]=I.useState(0),C=I.useRef(null),{toast:N}=nn();I.useEffect(()=>{if("webkitSpeechRecognition"in window||"SpeechRecognition"in window){const k=window.SpeechRecognition||window.webkitSpeechRecognition,M=new k;M.continuous=!1,M.interimResults=!0,M.lang="en-US",M.maxAlternatives=1,M.onstart=()=>{r(!0),i(""),w(0)},M.onresult=F=>{let U="",X="";for(let ee=F.resultIndex;ee<F.results.length;ee++){const Z=F.results[ee][0].transcript;F.results[ee].isFinal?(U+=Z,w(F.results[ee][0].confidence)):X+=Z}i(U||X),U&&(o(U),S(U))},M.onerror=F=>{r(!1),N({title:"Voice Recognition Error",description:`Error: ${F.error}. Please try again.`,variant:"destructive"})},M.onend=()=>{r(!1)},C.current=M,m(!0)}else m(!1);return()=>{C.current&&C.current.abort()}},[N]);const b=Qi({mutationFn:async k=>await hr("/api/search/ingredients",{method:"POST",body:JSON.stringify({query:k,useAI:!0}),headers:{"Content-Type":"application/json"}}),onSuccess:k=>{var M;f(k.results||[]),((M=k.results)==null?void 0:M.length)===0&&N({title:"No Results",description:"No ingredients found. Try searching for something else."})},onError:k=>{N({title:"Search Error",description:"Failed to search ingredients. Please try again.",variant:"destructive"})}}),R=()=>{if(!h){N({title:"Voice Not Supported",description:"Voice recognition is not supported in your browser.",variant:"destructive"});return}if(C.current&&!e)try{C.current.start(),N({title:"Listening...",description:"Speak the name of an ingredient you want to search for."})}catch{N({title:"Voice Error",description:"Could not start voice recognition. Please try again.",variant:"destructive"})}},_=()=>{C.current&&e&&C.current.stop()},S=k=>{k.trim()&&b.mutate(k.trim())},T=()=>{S(s)},P=k=>{if("speechSynthesis"in window){const M=new SpeechSynthesisUtterance(k);M.rate=.8,M.pitch=1,M.volume=.8,speechSynthesis.speak(M)}},B=k=>{t&&t(k);const M=`${k.name}: ${k.calories} calories per ${k.servingSize}. ${k.nutritionInfo.protein}g protein, ${k.nutritionInfo.carbs}g carbs, ${k.nutritionInfo.fat}g fat.`;P(M),N({title:"Ingredient Selected",description:`${k.name} has been selected`})};return l.jsxs("div",{className:"space-y-6",children:[l.jsxs(oe,{children:[l.jsxs(ve,{children:[l.jsxs(ye,{className:"flex items-center gap-2",children:[l.jsx(Pi,{className:"h-5 w-5 text-orange-600"}),"Voice-Activated Ingredient Search"]}),l.jsx(xt,{children:"Speak or type to search for ingredients with detailed nutrition information"})]}),l.jsxs(le,{className:"space-y-4",children:[l.jsxs("div",{className:"flex flex-col sm:flex-row gap-3",children:[l.jsx("div",{className:"flex-1",children:l.jsx(Zt,{placeholder:"Type ingredient name or use voice search...",value:s,onChange:k=>o(k.target.value),onKeyPress:k=>{k.key==="Enter"&&T()},className:"w-full"})}),l.jsxs("div",{className:"flex gap-2",children:[l.jsx(se,{onClick:e?_:R,variant:e?"destructive":"default",size:"lg",disabled:!h,className:"min-w-[120px]",children:e?l.jsx(l.Fragment,{children:l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("div",{className:"w-2 h-2 bg-red-500 rounded-full animate-pulse"}),l.jsx(V5,{className:"h-4 w-4"})]})}):l.jsxs(l.Fragment,{children:[l.jsx(Pi,{className:"h-4 w-4 mr-2"}),h?"Listen":"Not Supported"]})}),l.jsx(se,{onClick:T,disabled:!s.trim()||b.isPending,variant:"outline",children:b.isPending?l.jsx(ii,{className:"h-4 w-4 animate-spin"}):l.jsx(n4,{className:"h-4 w-4"})})]})]}),(e||n)&&l.jsxs("div",{className:"p-3 bg-orange-50 dark:bg-orange-950 rounded-lg border border-orange-200 dark:border-orange-800",children:[l.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[l.jsx("div",{className:"w-2 h-2 bg-orange-500 rounded-full animate-pulse"}),l.jsx("span",{className:"text-sm font-medium text-orange-700 dark:text-orange-300",children:e?"Listening...":"Heard:"}),v>0&&l.jsxs(we,{variant:"secondary",className:"text-xs",children:[Math.round(v*100),"% confidence"]})]}),l.jsx("p",{className:"text-orange-800 dark:text-orange-200 font-medium",children:n||"Start speaking..."})]}),b.isPending&&l.jsxs("div",{className:"flex items-center gap-2 text-blue-600",children:[l.jsx(ii,{className:"h-4 w-4 animate-spin"}),l.jsx("span",{children:"Searching ingredients..."})]})]})]}),u.length>0&&l.jsxs("div",{className:"space-y-4",children:[l.jsxs("h3",{className:"text-lg font-semibold flex items-center gap-2",children:[l.jsx(JC,{className:"h-5 w-5 text-green-600"}),"Found ",u.length," ingredient",u.length!==1?"s":""]}),l.jsx("div",{className:"grid gap-4",children:u.map((k,M)=>l.jsx(oe,{className:"cursor-pointer hover:shadow-md transition-shadow border-l-4 border-l-orange-500",onClick:()=>B(k),children:l.jsxs(le,{className:"p-4",children:[l.jsxs("div",{className:"flex justify-between items-start mb-3",children:[l.jsxs("div",{children:[l.jsx("h4",{className:"font-semibold text-lg",children:k.name}),l.jsxs("div",{className:"flex gap-2 mt-1",children:[l.jsx(we,{variant:"secondary",children:k.category}),k.subCategory&&l.jsx(we,{variant:"outline",children:k.subCategory}),k.brand&&l.jsx(we,{variant:"outline",children:k.brand})]})]}),l.jsxs("div",{className:"text-right",children:[l.jsx("div",{className:"text-2xl font-bold text-orange-600",children:k.calories}),l.jsxs("div",{className:"text-sm text-gray-600",children:["cal/",k.servingSize]})]})]}),l.jsxs("div",{className:"grid grid-cols-3 sm:grid-cols-6 gap-2 mb-3",children:[l.jsxs("div",{className:"text-center p-2 bg-gray-50 dark:bg-gray-800 rounded",children:[l.jsxs("div",{className:"font-semibold text-sm",children:[k.nutritionInfo.protein,"g"]}),l.jsx("div",{className:"text-xs text-gray-600",children:"Protein"})]}),l.jsxs("div",{className:"text-center p-2 bg-gray-50 dark:bg-gray-800 rounded",children:[l.jsxs("div",{className:"font-semibold text-sm",children:[k.nutritionInfo.carbs,"g"]}),l.jsx("div",{className:"text-xs text-gray-600",children:"Carbs"})]}),l.jsxs("div",{className:"text-center p-2 bg-gray-50 dark:bg-gray-800 rounded",children:[l.jsxs("div",{className:"font-semibold text-sm",children:[k.nutritionInfo.fat,"g"]}),l.jsx("div",{className:"text-xs text-gray-600",children:"Fat"})]}),l.jsxs("div",{className:"text-center p-2 bg-gray-50 dark:bg-gray-800 rounded",children:[l.jsxs("div",{className:"font-semibold text-sm",children:[k.nutritionInfo.fiber,"g"]}),l.jsx("div",{className:"text-xs text-gray-600",children:"Fiber"})]}),l.jsxs("div",{className:"text-center p-2 bg-gray-50 dark:bg-gray-800 rounded",children:[l.jsxs("div",{className:"font-semibold text-sm",children:[k.nutritionInfo.sugar,"g"]}),l.jsx("div",{className:"text-xs text-gray-600",children:"Sugar"})]}),l.jsxs("div",{className:"text-center p-2 bg-gray-50 dark:bg-gray-800 rounded",children:[l.jsxs("div",{className:"font-semibold text-sm",children:[k.nutritionInfo.sodium,"mg"]}),l.jsx("div",{className:"text-xs text-gray-600",children:"Sodium"})]})]}),k.allergens.length>0&&l.jsxs("div",{className:"mb-2",children:[l.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[l.jsx(Sa,{className:"h-4 w-4 text-red-500"}),l.jsx("span",{className:"text-sm font-medium text-red-700 dark:text-red-300",children:"Allergens:"})]}),l.jsx("div",{className:"flex flex-wrap gap-1",children:k.allergens.map((F,U)=>l.jsx(we,{variant:"destructive",className:"text-xs",children:F},U))})]}),l.jsxs("div",{className:"flex justify-between items-center text-sm text-gray-600",children:[l.jsx("div",{className:"flex items-center gap-2",children:l.jsxs(se,{variant:"ghost",size:"sm",onClick:F=>{F.stopPropagation(),P(`${k.name}: ${k.calories} calories per ${k.servingSize}`)},children:[l.jsx(op,{className:"h-3 w-3 mr-1"}),"Hear Info"]})}),k.estimatedPrice&&l.jsxs("div",{className:"font-medium text-green-600",children:["~",k.estimatedPrice]})]})]})},M))})]}),s&&u.length===0&&!b.isPending&&l.jsx(oe,{children:l.jsxs(le,{className:"text-center py-8",children:[l.jsx(Sa,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),l.jsx("h3",{className:"text-lg font-semibold mb-2",children:"No ingredients found"}),l.jsx("p",{className:"text-gray-600 mb-4",children:"Try searching for a different ingredient or use more specific terms."}),l.jsx(se,{variant:"outline",onClick:()=>o(""),children:"Clear Search"})]})})]})}function xp(t,[e,r]){return Math.min(r,Math.max(e,t))}var GR=[" ","Enter","ArrowUp","ArrowDown"],WR=[" ","Enter"],Su="Select",[h0,p0,XR]=Hx(Su),[Yl,sL]=$n(Su,[XR,o0]),x0=o0(),[YR,Pa]=Yl(Su),[$R,KR]=Yl(Su),nA=t=>{const{__scopeSelect:e,children:r,open:n,defaultOpen:i,onOpenChange:s,value:o,defaultValue:u,onValueChange:f,dir:h,name:m,autoComplete:v,disabled:w,required:C,form:N}=t,b=x0(e),[R,_]=I.useState(null),[S,T]=I.useState(null),[P,B]=I.useState(!1),k=d0(h),[M=!1,F]=ba({prop:n,defaultProp:i,onChange:s}),[U,X]=ba({prop:o,defaultProp:u,onChange:f}),ee=I.useRef(null),Z=R?N||!!R.closest("form"):!0,[ae,K]=I.useState(new Set),G=Array.from(ae).map(ue=>ue.props.value).join(";");return l.jsx(VT,{...b,children:l.jsxs(YR,{required:C,scope:e,trigger:R,onTriggerChange:_,valueNode:S,onValueNodeChange:T,valueNodeHasChildren:P,onValueNodeHasChildrenChange:B,contentId:va(),value:U,onValueChange:X,open:M,onOpenChange:F,dir:k,triggerPointerDownPosRef:ee,disabled:w,children:[l.jsx(h0.Provider,{scope:e,children:l.jsx($R,{scope:t.__scopeSelect,onNativeOptionAdd:I.useCallback(ue=>{K(de=>new Set(de).add(ue))},[]),onNativeOptionRemove:I.useCallback(ue=>{K(de=>{const ne=new Set(de);return ne.delete(ue),ne})},[]),children:r})}),Z?l.jsxs(IA,{"aria-hidden":!0,required:C,tabIndex:-1,name:m,autoComplete:v,value:U,onChange:ue=>X(ue.target.value),disabled:w,form:N,children:[U===void 0?l.jsx("option",{value:""}):null,Array.from(ae)]},G):null]})})};nA.displayName=Su;var iA="SelectTrigger",sA=I.forwardRef((t,e)=>{const{__scopeSelect:r,disabled:n=!1,...i}=t,s=x0(r),o=Pa(iA,r),u=o.disabled||n,f=nt(e,o.onTriggerChange),h=p0(r),m=I.useRef("touch"),[v,w,C]=TA(b=>{const R=h().filter(T=>!T.disabled),_=R.find(T=>T.value===o.value),S=RA(R,b,_);S!==void 0&&o.onValueChange(S.value)}),N=b=>{u||(o.onOpenChange(!0),C()),b&&(o.triggerPointerDownPosRef.current={x:Math.round(b.pageX),y:Math.round(b.pageY)})};return l.jsx(L4,{asChild:!0,...s,children:l.jsx(Ve.button,{type:"button",role:"combobox","aria-controls":o.contentId,"aria-expanded":o.open,"aria-required":o.required,"aria-autocomplete":"none",dir:o.dir,"data-state":o.open?"open":"closed",disabled:u,"data-disabled":u?"":void 0,"data-placeholder":_A(o.value)?"":void 0,...i,ref:f,onClick:Pe(i.onClick,b=>{b.currentTarget.focus(),m.current!=="mouse"&&N(b)}),onPointerDown:Pe(i.onPointerDown,b=>{m.current=b.pointerType;const R=b.target;R.hasPointerCapture(b.pointerId)&&R.releasePointerCapture(b.pointerId),b.button===0&&b.ctrlKey===!1&&b.pointerType==="mouse"&&(N(b),b.preventDefault())}),onKeyDown:Pe(i.onKeyDown,b=>{const R=v.current!=="";!(b.ctrlKey||b.altKey||b.metaKey)&&b.key.length===1&&w(b.key),!(R&&b.key===" ")&&GR.includes(b.key)&&(N(),b.preventDefault())})})})});sA.displayName=iA;var aA="SelectValue",oA=I.forwardRef((t,e)=>{const{__scopeSelect:r,className:n,style:i,children:s,placeholder:o="",...u}=t,f=Pa(aA,r),{onValueNodeHasChildrenChange:h}=f,m=s!==void 0,v=nt(e,f.onValueNodeChange);return Gr(()=>{h(m)},[h,m]),l.jsx(Ve.span,{...u,ref:v,style:{pointerEvents:"none"},children:_A(f.value)?l.jsx(l.Fragment,{children:o}):s})});oA.displayName=aA;var ZR="SelectIcon",lA=I.forwardRef((t,e)=>{const{__scopeSelect:r,children:n,...i}=t;return l.jsx(Ve.span,{"aria-hidden":!0,...i,ref:e,children:n||""})});lA.displayName=ZR;var qR="SelectPortal",cA=t=>l.jsx(e0,{asChild:!0,...t});cA.displayName=qR;var go="SelectContent",uA=I.forwardRef((t,e)=>{const r=Pa(go,t.__scopeSelect),[n,i]=I.useState();if(Gr(()=>{i(new DocumentFragment)},[]),!r.open){const s=n;return s?yo.createPortal(l.jsx(dA,{scope:t.__scopeSelect,children:l.jsx(h0.Slot,{scope:t.__scopeSelect,children:l.jsx("div",{children:t.children})})}),s):null}return l.jsx(fA,{...t,ref:e})});uA.displayName=go;var Ei=10,[dA,Da]=Yl(go),QR="SelectContentImpl",JR=Tl("SelectContent.RemoveScroll"),fA=I.forwardRef((t,e)=>{const{__scopeSelect:r,position:n="item-aligned",onCloseAutoFocus:i,onEscapeKeyDown:s,onPointerDownOutside:o,side:u,sideOffset:f,align:h,alignOffset:m,arrowPadding:v,collisionBoundary:w,collisionPadding:C,sticky:N,hideWhenDetached:b,avoidCollisions:R,..._}=t,S=Pa(go,r),[T,P]=I.useState(null),[B,k]=I.useState(null),M=nt(e,je=>P(je)),[F,U]=I.useState(null),[X,ee]=I.useState(null),Z=p0(r),[ae,K]=I.useState(!1),G=I.useRef(!1);I.useEffect(()=>{if(T)return iE(T)},[T]),K4();const ue=I.useCallback(je=>{const[We,...Jt]=Z().map(ct=>ct.ref.current),[ht]=Jt.slice(-1),Xe=document.activeElement;for(const ct of je)if(ct===Xe||(ct==null||ct.scrollIntoView({block:"nearest"}),ct===We&&B&&(B.scrollTop=0),ct===ht&&B&&(B.scrollTop=B.scrollHeight),ct==null||ct.focus(),document.activeElement!==Xe))return},[Z,B]),de=I.useCallback(()=>ue([F,T]),[ue,F,T]);I.useEffect(()=>{ae&&de()},[ae,de]);const{onOpenChange:ne,triggerPointerDownPosRef:xe}=S;I.useEffect(()=>{if(T){let je={x:0,y:0};const We=ht=>{var Xe,ct;je={x:Math.abs(Math.round(ht.pageX)-(((Xe=xe.current)==null?void 0:Xe.x)??0)),y:Math.abs(Math.round(ht.pageY)-(((ct=xe.current)==null?void 0:ct.y)??0))}},Jt=ht=>{je.x<=10&&je.y<=10?ht.preventDefault():T.contains(ht.target)||ne(!1),document.removeEventListener("pointermove",We),xe.current=null};return xe.current!==null&&(document.addEventListener("pointermove",We),document.addEventListener("pointerup",Jt,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",We),document.removeEventListener("pointerup",Jt,{capture:!0})}}},[T,ne,xe]),I.useEffect(()=>{const je=()=>ne(!1);return window.addEventListener("blur",je),window.addEventListener("resize",je),()=>{window.removeEventListener("blur",je),window.removeEventListener("resize",je)}},[ne]);const[Ae,Te]=TA(je=>{const We=Z().filter(Xe=>!Xe.disabled),Jt=We.find(Xe=>Xe.ref.current===document.activeElement),ht=RA(We,je,Jt);ht&&setTimeout(()=>ht.ref.current.focus())}),ze=I.useCallback((je,We,Jt)=>{const ht=!G.current&&!Jt;(S.value!==void 0&&S.value===We||ht)&&(U(je),ht&&(G.current=!0))},[S.value]),Pt=I.useCallback(()=>T==null?void 0:T.focus(),[T]),it=I.useCallback((je,We,Jt)=>{const ht=!G.current&&!Jt;(S.value!==void 0&&S.value===We||ht)&&ee(je)},[S.value]),vn=n==="popper"?gp:hA,Se=vn===gp?{side:u,sideOffset:f,align:h,alignOffset:m,arrowPadding:v,collisionBoundary:w,collisionPadding:C,sticky:N,hideWhenDetached:b,avoidCollisions:R}:{};return l.jsx(dA,{scope:r,content:T,viewport:B,onViewportChange:k,itemRefCallback:ze,selectedItem:F,onItemLeave:Pt,itemTextRefCallback:it,focusSelectedItem:de,selectedItemText:X,position:n,isPositioned:ae,searchRef:Ae,children:l.jsx(dg,{as:JR,allowPinchZoom:!0,children:l.jsx(ug,{asChild:!0,trapped:S.open,onMountAutoFocus:je=>{je.preventDefault()},onUnmountAutoFocus:Pe(i,je=>{var We;(We=S.trigger)==null||We.focus({preventScroll:!0}),je.preventDefault()}),children:l.jsx(wu,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:s,onPointerDownOutside:o,onFocusOutside:je=>je.preventDefault(),onDismiss:()=>S.onOpenChange(!1),children:l.jsx(vn,{role:"listbox",id:S.contentId,"data-state":S.open?"open":"closed",dir:S.dir,onContextMenu:je=>je.preventDefault(),..._,...Se,onPlaced:()=>K(!0),ref:M,style:{display:"flex",flexDirection:"column",outline:"none",..._.style},onKeyDown:Pe(_.onKeyDown,je=>{const We=je.ctrlKey||je.altKey||je.metaKey;if(je.key==="Tab"&&je.preventDefault(),!We&&je.key.length===1&&Te(je.key),["ArrowUp","ArrowDown","Home","End"].includes(je.key)){let ht=Z().filter(Xe=>!Xe.disabled).map(Xe=>Xe.ref.current);if(["ArrowUp","End"].includes(je.key)&&(ht=ht.slice().reverse()),["ArrowUp","ArrowDown"].includes(je.key)){const Xe=je.target,ct=ht.indexOf(Xe);ht=ht.slice(ct+1)}setTimeout(()=>ue(ht)),je.preventDefault()}})})})})})})});fA.displayName=QR;var e9="SelectItemAlignedPosition",hA=I.forwardRef((t,e)=>{const{__scopeSelect:r,onPlaced:n,...i}=t,s=Pa(go,r),o=Da(go,r),[u,f]=I.useState(null),[h,m]=I.useState(null),v=nt(e,M=>m(M)),w=p0(r),C=I.useRef(!1),N=I.useRef(!0),{viewport:b,selectedItem:R,selectedItemText:_,focusSelectedItem:S}=o,T=I.useCallback(()=>{if(s.trigger&&s.valueNode&&u&&h&&b&&R&&_){const M=s.trigger.getBoundingClientRect(),F=h.getBoundingClientRect(),U=s.valueNode.getBoundingClientRect(),X=_.getBoundingClientRect();if(s.dir!=="rtl"){const Xe=X.left-F.left,ct=U.left-Xe,Ge=M.left-ct,jr=M.width+Ge,Wr=Math.max(jr,F.width),xi=window.innerWidth-Ei,Xt=xp(ct,[Ei,Math.max(Ei,xi-Wr)]);u.style.minWidth=jr+"px",u.style.left=Xt+"px"}else{const Xe=F.right-X.right,ct=window.innerWidth-U.right-Xe,Ge=window.innerWidth-M.right-ct,jr=M.width+Ge,Wr=Math.max(jr,F.width),xi=window.innerWidth-Ei,Xt=xp(ct,[Ei,Math.max(Ei,xi-Wr)]);u.style.minWidth=jr+"px",u.style.right=Xt+"px"}const ee=w(),Z=window.innerHeight-Ei*2,ae=b.scrollHeight,K=window.getComputedStyle(h),G=parseInt(K.borderTopWidth,10),ue=parseInt(K.paddingTop,10),de=parseInt(K.borderBottomWidth,10),ne=parseInt(K.paddingBottom,10),xe=G+ue+ae+ne+de,Ae=Math.min(R.offsetHeight*5,xe),Te=window.getComputedStyle(b),ze=parseInt(Te.paddingTop,10),Pt=parseInt(Te.paddingBottom,10),it=M.top+M.height/2-Ei,vn=Z-it,Se=R.offsetHeight/2,je=R.offsetTop+Se,We=G+ue+je,Jt=xe-We;if(We<=it){const Xe=ee.length>0&&R===ee[ee.length-1].ref.current;u.style.bottom="0px";const ct=h.clientHeight-b.offsetTop-b.offsetHeight,Ge=Math.max(vn,Se+(Xe?Pt:0)+ct+de),jr=We+Ge;u.style.height=jr+"px"}else{const Xe=ee.length>0&&R===ee[0].ref.current;u.style.top="0px";const Ge=Math.max(it,G+b.offsetTop+(Xe?ze:0)+Se)+Jt;u.style.height=Ge+"px",b.scrollTop=We-it+b.offsetTop}u.style.margin=`${Ei}px 0`,u.style.minHeight=Ae+"px",u.style.maxHeight=Z+"px",n==null||n(),requestAnimationFrame(()=>C.current=!0)}},[w,s.trigger,s.valueNode,u,h,b,R,_,s.dir,n]);Gr(()=>T(),[T]);const[P,B]=I.useState();Gr(()=>{h&&B(window.getComputedStyle(h).zIndex)},[h]);const k=I.useCallback(M=>{M&&N.current===!0&&(T(),S==null||S(),N.current=!1)},[T,S]);return l.jsx(r9,{scope:r,contentWrapper:u,shouldExpandOnScrollRef:C,onScrollButtonChange:k,children:l.jsx("div",{ref:f,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:P},children:l.jsx(Ve.div,{...i,ref:v,style:{boxSizing:"border-box",maxHeight:"100%",...i.style}})})})});hA.displayName=e9;var t9="SelectPopperPosition",gp=I.forwardRef((t,e)=>{const{__scopeSelect:r,align:n="start",collisionPadding:i=Ei,...s}=t,o=x0(r);return l.jsx(B4,{...o,...s,ref:e,align:n,collisionPadding:i,style:{boxSizing:"border-box",...s.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});gp.displayName=t9;var[r9,Sg]=Yl(go,{}),mp="SelectViewport",pA=I.forwardRef((t,e)=>{const{__scopeSelect:r,nonce:n,...i}=t,s=Da(mp,r),o=Sg(mp,r),u=nt(e,s.onViewportChange),f=I.useRef(0);return l.jsxs(l.Fragment,{children:[l.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:n}),l.jsx(h0.Slot,{scope:r,children:l.jsx(Ve.div,{"data-radix-select-viewport":"",role:"presentation",...i,ref:u,style:{position:"relative",flex:1,overflow:"hidden auto",...i.style},onScroll:Pe(i.onScroll,h=>{const m=h.currentTarget,{contentWrapper:v,shouldExpandOnScrollRef:w}=o;if(w!=null&&w.current&&v){const C=Math.abs(f.current-m.scrollTop);if(C>0){const N=window.innerHeight-Ei*2,b=parseFloat(v.style.minHeight),R=parseFloat(v.style.height),_=Math.max(b,R);if(_<N){const S=_+C,T=Math.min(N,S),P=S-T;v.style.height=T+"px",v.style.bottom==="0px"&&(m.scrollTop=P>0?P:0,v.style.justifyContent="flex-end")}}}f.current=m.scrollTop})})})]})});pA.displayName=mp;var xA="SelectGroup",[n9,i9]=Yl(xA),s9=I.forwardRef((t,e)=>{const{__scopeSelect:r,...n}=t,i=va();return l.jsx(n9,{scope:r,id:i,children:l.jsx(Ve.div,{role:"group","aria-labelledby":i,...n,ref:e})})});s9.displayName=xA;var gA="SelectLabel",mA=I.forwardRef((t,e)=>{const{__scopeSelect:r,...n}=t,i=i9(gA,r);return l.jsx(Ve.div,{id:i.id,...n,ref:e})});mA.displayName=gA;var Nf="SelectItem",[a9,vA]=Yl(Nf),yA=I.forwardRef((t,e)=>{const{__scopeSelect:r,value:n,disabled:i=!1,textValue:s,...o}=t,u=Pa(Nf,r),f=Da(Nf,r),h=u.value===n,[m,v]=I.useState(s??""),[w,C]=I.useState(!1),N=nt(e,S=>{var T;return(T=f.itemRefCallback)==null?void 0:T.call(f,S,n,i)}),b=va(),R=I.useRef("touch"),_=()=>{i||(u.onValueChange(n),u.onOpenChange(!1))};if(n==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return l.jsx(a9,{scope:r,value:n,disabled:i,textId:b,isSelected:h,onItemTextChange:I.useCallback(S=>{v(T=>T||((S==null?void 0:S.textContent)??"").trim())},[]),children:l.jsx(h0.ItemSlot,{scope:r,value:n,disabled:i,textValue:m,children:l.jsx(Ve.div,{role:"option","aria-labelledby":b,"data-highlighted":w?"":void 0,"aria-selected":h&&w,"data-state":h?"checked":"unchecked","aria-disabled":i||void 0,"data-disabled":i?"":void 0,tabIndex:i?void 0:-1,...o,ref:N,onFocus:Pe(o.onFocus,()=>C(!0)),onBlur:Pe(o.onBlur,()=>C(!1)),onClick:Pe(o.onClick,()=>{R.current!=="mouse"&&_()}),onPointerUp:Pe(o.onPointerUp,()=>{R.current==="mouse"&&_()}),onPointerDown:Pe(o.onPointerDown,S=>{R.current=S.pointerType}),onPointerMove:Pe(o.onPointerMove,S=>{var T;R.current=S.pointerType,i?(T=f.onItemLeave)==null||T.call(f):R.current==="mouse"&&S.currentTarget.focus({preventScroll:!0})}),onPointerLeave:Pe(o.onPointerLeave,S=>{var T;S.currentTarget===document.activeElement&&((T=f.onItemLeave)==null||T.call(f))}),onKeyDown:Pe(o.onKeyDown,S=>{var P;((P=f.searchRef)==null?void 0:P.current)!==""&&S.key===" "||(WR.includes(S.key)&&_(),S.key===" "&&S.preventDefault())})})})})});yA.displayName=Nf;var Sc="SelectItemText",wA=I.forwardRef((t,e)=>{const{__scopeSelect:r,className:n,style:i,...s}=t,o=Pa(Sc,r),u=Da(Sc,r),f=vA(Sc,r),h=KR(Sc,r),[m,v]=I.useState(null),w=nt(e,_=>v(_),f.onItemTextChange,_=>{var S;return(S=u.itemTextRefCallback)==null?void 0:S.call(u,_,f.value,f.disabled)}),C=m==null?void 0:m.textContent,N=I.useMemo(()=>l.jsx("option",{value:f.value,disabled:f.disabled,children:C},f.value),[f.disabled,f.value,C]),{onNativeOptionAdd:b,onNativeOptionRemove:R}=h;return Gr(()=>(b(N),()=>R(N)),[b,R,N]),l.jsxs(l.Fragment,{children:[l.jsx(Ve.span,{id:f.textId,...s,ref:w}),f.isSelected&&o.valueNode&&!o.valueNodeHasChildren?yo.createPortal(s.children,o.valueNode):null]})});wA.displayName=Sc;var CA="SelectItemIndicator",EA=I.forwardRef((t,e)=>{const{__scopeSelect:r,...n}=t;return vA(CA,r).isSelected?l.jsx(Ve.span,{"aria-hidden":!0,...n,ref:e}):null});EA.displayName=CA;var vp="SelectScrollUpButton",AA=I.forwardRef((t,e)=>{const r=Da(vp,t.__scopeSelect),n=Sg(vp,t.__scopeSelect),[i,s]=I.useState(!1),o=nt(e,n.onScrollButtonChange);return Gr(()=>{if(r.viewport&&r.isPositioned){let u=function(){const h=f.scrollTop>0;s(h)};const f=r.viewport;return u(),f.addEventListener("scroll",u),()=>f.removeEventListener("scroll",u)}},[r.viewport,r.isPositioned]),i?l.jsx(SA,{...t,ref:o,onAutoScroll:()=>{const{viewport:u,selectedItem:f}=r;u&&f&&(u.scrollTop=u.scrollTop-f.offsetHeight)}}):null});AA.displayName=vp;var yp="SelectScrollDownButton",bA=I.forwardRef((t,e)=>{const r=Da(yp,t.__scopeSelect),n=Sg(yp,t.__scopeSelect),[i,s]=I.useState(!1),o=nt(e,n.onScrollButtonChange);return Gr(()=>{if(r.viewport&&r.isPositioned){let u=function(){const h=f.scrollHeight-f.clientHeight,m=Math.ceil(f.scrollTop)<h;s(m)};const f=r.viewport;return u(),f.addEventListener("scroll",u),()=>f.removeEventListener("scroll",u)}},[r.viewport,r.isPositioned]),i?l.jsx(SA,{...t,ref:o,onAutoScroll:()=>{const{viewport:u,selectedItem:f}=r;u&&f&&(u.scrollTop=u.scrollTop+f.offsetHeight)}}):null});bA.displayName=yp;var SA=I.forwardRef((t,e)=>{const{__scopeSelect:r,onAutoScroll:n,...i}=t,s=Da("SelectScrollButton",r),o=I.useRef(null),u=p0(r),f=I.useCallback(()=>{o.current!==null&&(window.clearInterval(o.current),o.current=null)},[]);return I.useEffect(()=>()=>f(),[f]),Gr(()=>{var m;const h=u().find(v=>v.ref.current===document.activeElement);(m=h==null?void 0:h.ref.current)==null||m.scrollIntoView({block:"nearest"})},[u]),l.jsx(Ve.div,{"aria-hidden":!0,...i,ref:e,style:{flexShrink:0,...i.style},onPointerDown:Pe(i.onPointerDown,()=>{o.current===null&&(o.current=window.setInterval(n,50))}),onPointerMove:Pe(i.onPointerMove,()=>{var h;(h=s.onItemLeave)==null||h.call(s),o.current===null&&(o.current=window.setInterval(n,50))}),onPointerLeave:Pe(i.onPointerLeave,()=>{f()})})}),o9="SelectSeparator",NA=I.forwardRef((t,e)=>{const{__scopeSelect:r,...n}=t;return l.jsx(Ve.div,{"aria-hidden":!0,...n,ref:e})});NA.displayName=o9;var wp="SelectArrow",l9=I.forwardRef((t,e)=>{const{__scopeSelect:r,...n}=t,i=x0(r),s=Pa(wp,r),o=Da(wp,r);return s.open&&o.position==="popper"?l.jsx(F4,{...i,...n,ref:e}):null});l9.displayName=wp;function _A(t){return t===""||t===void 0}var IA=I.forwardRef((t,e)=>{const{value:r,...n}=t,i=I.useRef(null),s=nt(e,i),o=Cg(r);return I.useEffect(()=>{const u=i.current,f=window.HTMLSelectElement.prototype,m=Object.getOwnPropertyDescriptor(f,"value").set;if(o!==r&&m){const v=new Event("change",{bubbles:!0});m.call(u,r),u.dispatchEvent(v)}},[o,r]),l.jsx(Cu,{asChild:!0,children:l.jsx("select",{...n,ref:s,defaultValue:r})})});IA.displayName="BubbleSelect";function TA(t){const e=lr(t),r=I.useRef(""),n=I.useRef(0),i=I.useCallback(o=>{const u=r.current+o;e(u),function f(h){r.current=h,window.clearTimeout(n.current),h!==""&&(n.current=window.setTimeout(()=>f(""),1e3))}(u)},[e]),s=I.useCallback(()=>{r.current="",window.clearTimeout(n.current)},[]);return I.useEffect(()=>()=>window.clearTimeout(n.current),[]),[r,i,s]}function RA(t,e,r){const i=e.length>1&&Array.from(e).every(h=>h===e[0])?e[0]:e,s=r?t.indexOf(r):-1;let o=c9(t,Math.max(s,0));i.length===1&&(o=o.filter(h=>h!==r));const f=o.find(h=>h.textValue.toLowerCase().startsWith(i.toLowerCase()));return f!==r?f:void 0}function c9(t,e){return t.map((r,n)=>t[(e+n)%t.length])}var u9=nA,OA=sA,d9=oA,f9=lA,h9=cA,PA=uA,p9=pA,DA=mA,jA=yA,x9=wA,g9=EA,MA=AA,kA=bA,LA=NA;const mv=u9,vv=d9,Cp=I.forwardRef(({className:t,children:e,...r},n)=>l.jsxs(OA,{ref:n,className:Le("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background data-[placeholder]:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",t),...r,children:[e,l.jsx(f9,{asChild:!0,children:l.jsx(QC,{className:"h-4 w-4 opacity-50"})})]}));Cp.displayName=OA.displayName;const BA=I.forwardRef(({className:t,...e},r)=>l.jsx(MA,{ref:r,className:Le("flex cursor-default items-center justify-center py-1",t),...e,children:l.jsx(O5,{className:"h-4 w-4"})}));BA.displayName=MA.displayName;const FA=I.forwardRef(({className:t,...e},r)=>l.jsx(kA,{ref:r,className:Le("flex cursor-default items-center justify-center py-1",t),...e,children:l.jsx(QC,{className:"h-4 w-4"})}));FA.displayName=kA.displayName;const Ep=I.forwardRef(({className:t,children:e,position:r="popper",...n},i)=>l.jsx(h9,{children:l.jsxs(PA,{ref:i,className:Le("relative z-50 max-h-[--radix-select-content-available-height] min-w-[8rem] overflow-y-auto overflow-x-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-select-content-transform-origin]",r==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",t),position:r,...n,children:[l.jsx(BA,{}),l.jsx(p9,{className:Le("p-1",r==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:e}),l.jsx(FA,{})]})}));Ep.displayName=PA.displayName;const m9=I.forwardRef(({className:t,...e},r)=>l.jsx(DA,{ref:r,className:Le("py-1.5 pl-8 pr-2 text-sm font-semibold",t),...e}));m9.displayName=DA.displayName;const qr=I.forwardRef(({className:t,children:e,...r},n)=>l.jsxs(jA,{ref:n,className:Le("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),...r,children:[l.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:l.jsx(g9,{children:l.jsx(Au,{className:"h-4 w-4"})})}),l.jsx(x9,{children:e})]}));qr.displayName=jA.displayName;const v9=I.forwardRef(({className:t,...e},r)=>l.jsx(LA,{ref:r,className:Le("-mx-1 my-1 h-px bg-muted",t),...e}));v9.displayName=LA.displayName;function y9(){const[t,e]=I.useState(""),[r,n]=I.useState(""),[i,s]=I.useState(""),[o,u]=I.useState(""),[f,h]=I.useState([]),[m,v]=I.useState(null),[w,C]=I.useState(!1),N=Qi({mutationFn:async k=>{const M=new URLSearchParams({query:k.query,number:"12"});return k.diet&&M.append("diet",k.diet),k.type&&M.append("type",k.type),k.intolerances&&M.append("intolerances",k.intolerances),await(await hr("GET",`/api/spoonacular/search?${M.toString()}`)).json()},onSuccess:k=>{h(k.results||[])}}),b=Qi({mutationFn:async()=>await(await hr("GET","/api/spoonacular/random?number=6")).json(),onSuccess:k=>{h(k.recipes||[])}}),R=Qi({mutationFn:async k=>await(await hr("GET",`/api/spoonacular/recipe/${k}`)).json(),onSuccess:k=>{v(k)}}),_=()=>{t.trim()&&N.mutate({query:t,diet:r,type:i,intolerances:o})},S=()=>{b.mutate()},T=k=>{R.mutate(k.id)},P=k=>({vegetarian:"bg-green-100 text-green-700",vegan:"bg-emerald-100 text-emerald-700","gluten free":"bg-blue-100 text-blue-700",ketogenic:"bg-purple-100 text-purple-700",paleo:"bg-orange-100 text-orange-700","dairy free":"bg-yellow-100 text-yellow-700"})[k.toLowerCase()]||"bg-gray-100 text-gray-700",B=k=>k>=70?"text-green-600":k>=50?"text-yellow-600":"text-red-600";return l.jsxs("div",{className:"space-y-6",children:[l.jsxs(oe,{children:[l.jsx(ve,{children:l.jsxs(ye,{className:"flex items-center justify-between",children:[l.jsxs("div",{className:"flex items-center space-x-2",children:[l.jsx(lu,{className:"w-6 h-6 text-orange-500"}),l.jsx("span",{children:"Spoonacular Recipe Search"})]}),l.jsx(we,{className:"bg-orange-100 text-orange-700",children:"500,000+ Premium Recipes"})]})}),l.jsxs(le,{className:"space-y-4",children:[l.jsxs("div",{className:"flex space-x-2",children:[l.jsx(Zt,{placeholder:"Search for recipes (e.g., 'chicken pasta', 'chocolate cake')...",value:t,onChange:k=>e(k.target.value),onKeyPress:k=>k.key==="Enter"&&_(),className:"flex-1"}),l.jsxs(se,{onClick:_,disabled:N.isPending,children:[l.jsx(n4,{className:"w-4 h-4 mr-2"}),"Search"]}),l.jsx(se,{variant:"outline",onClick:()=>C(!w),children:l.jsx(k5,{className:"w-4 h-4"})})]}),w&&l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 p-4 border rounded-lg bg-gray-50",children:[l.jsxs("div",{children:[l.jsx("label",{className:"text-sm font-medium mb-2 block",children:"Diet"}),l.jsxs(mv,{value:r,onValueChange:n,children:[l.jsx(Cp,{children:l.jsx(vv,{placeholder:"Any diet"})}),l.jsxs(Ep,{children:[l.jsx(qr,{value:"",children:"Any diet"}),l.jsx(qr,{value:"vegetarian",children:"Vegetarian"}),l.jsx(qr,{value:"vegan",children:"Vegan"}),l.jsx(qr,{value:"glutenFree",children:"Gluten Free"}),l.jsx(qr,{value:"ketogenic",children:"Ketogenic"}),l.jsx(qr,{value:"paleo",children:"Paleo"}),l.jsx(qr,{value:"dairyFree",children:"Dairy Free"}),l.jsx(qr,{value:"lowCarb",children:"Low Carb"})]})]})]}),l.jsxs("div",{children:[l.jsx("label",{className:"text-sm font-medium mb-2 block",children:"Meal Type"}),l.jsxs(mv,{value:i,onValueChange:s,children:[l.jsx(Cp,{children:l.jsx(vv,{placeholder:"Any type"})}),l.jsxs(Ep,{children:[l.jsx(qr,{value:"",children:"Any type"}),l.jsx(qr,{value:"breakfast",children:"Breakfast"}),l.jsx(qr,{value:"lunch",children:"Lunch"}),l.jsx(qr,{value:"dinner",children:"Dinner"}),l.jsx(qr,{value:"dessert",children:"Dessert"}),l.jsx(qr,{value:"snack",children:"Snack"}),l.jsx(qr,{value:"appetizer",children:"Appetizer"})]})]})]}),l.jsxs("div",{children:[l.jsx("label",{className:"text-sm font-medium mb-2 block",children:"Intolerances"}),l.jsx(Zt,{placeholder:"e.g., peanut, shellfish",value:o,onChange:k=>u(k.target.value)})]})]}),l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs(se,{variant:"outline",onClick:S,disabled:b.isPending,children:[l.jsx(lu,{className:"w-4 h-4 mr-2"}),"Random Recipes"]}),f.length>0&&l.jsxs(we,{variant:"outline",children:[f.length," recipes found"]})]})]})]}),f.length>0&&l.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:f.map(k=>{var M;return l.jsxs(oe,{className:"cursor-pointer hover:shadow-lg transition-shadow",onClick:()=>T(k),children:[l.jsxs("div",{className:"aspect-video relative overflow-hidden rounded-t-lg",children:[l.jsx("img",{src:k.image,alt:k.title,className:"w-full h-full object-cover",onError:F=>{F.currentTarget.src="https://images.unsplash.com/photo-1546833999-b9f581a1996d?w=400&h=300&fit=crop"}}),l.jsx("div",{className:"absolute top-2 right-2",children:l.jsxs(we,{className:"bg-white/90 text-black",children:[l.jsx(On,{className:"w-3 h-3 mr-1 text-yellow-500"}),k.spoonacularScore?Math.round(k.spoonacularScore):"N/A"]})})]}),l.jsxs(le,{className:"p-4",children:[l.jsx("h3",{className:"font-semibold text-lg mb-2 line-clamp-2",children:k.title}),l.jsxs("div",{className:"flex items-center space-x-4 text-sm text-gray-600 mb-3",children:[l.jsxs("div",{className:"flex items-center space-x-1",children:[l.jsx(Ns,{className:"w-4 h-4"}),l.jsxs("span",{children:[k.readyInMinutes," min"]})]}),l.jsxs("div",{className:"flex items-center space-x-1",children:[l.jsx(Ol,{className:"w-4 h-4"}),l.jsxs("span",{children:[k.servings," servings"]})]}),k.healthScore&&l.jsxs("div",{className:"flex items-center space-x-1",children:[l.jsx(mf,{className:`w-4 h-4 ${B(k.healthScore)}`}),l.jsx("span",{className:B(k.healthScore),children:k.healthScore})]})]}),k.pricePerServing&&l.jsxs("div",{className:"text-sm text-green-600 mb-2",children:["$",(k.pricePerServing/100).toFixed(2)," per serving"]}),k.diets.length>0&&l.jsxs("div",{className:"flex flex-wrap gap-1 mb-3",children:[k.diets.slice(0,3).map(F=>l.jsx(we,{className:P(F),children:F},F)),k.diets.length>3&&l.jsxs(we,{variant:"outline",children:["+",k.diets.length-3," more"]})]}),l.jsx("div",{className:"text-sm text-gray-600 line-clamp-2",children:((M=k.summary)==null?void 0:M.replace(/<[^>]*>/g,""))||"No description available"})]})]},k.id)})}),m&&l.jsxs(oe,{className:"fixed inset-4 z-50 overflow-auto bg-white shadow-2xl",children:[l.jsx(ve,{className:"border-b",children:l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsx(ye,{className:"text-2xl",children:m.title}),l.jsx(se,{variant:"outline",onClick:()=>v(null),children:""})]})}),l.jsx(le,{className:"p-6",children:l.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[l.jsxs("div",{children:[l.jsx("img",{src:m.image,alt:m.title,className:"w-full rounded-lg mb-4"}),l.jsxs("div",{className:"grid grid-cols-3 gap-4 mb-4",children:[l.jsxs("div",{className:"text-center",children:[l.jsx(Ns,{className:"w-6 h-6 mx-auto mb-1 text-blue-500"}),l.jsxs("div",{className:"text-sm font-medium",children:[m.readyInMinutes," min"]})]}),l.jsxs("div",{className:"text-center",children:[l.jsx(Ol,{className:"w-6 h-6 mx-auto mb-1 text-green-500"}),l.jsxs("div",{className:"text-sm font-medium",children:[m.servings," servings"]})]}),l.jsxs("div",{className:"text-center",children:[l.jsx(mf,{className:"w-6 h-6 mx-auto mb-1 text-red-500"}),l.jsxs("div",{className:"text-sm font-medium",children:["Health: ",m.healthScore]})]})]}),m.nutrition&&l.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg mb-4",children:[l.jsx("h4",{className:"font-semibold mb-2",children:"Nutrition (per serving)"}),l.jsxs("div",{className:"grid grid-cols-2 gap-2 text-sm",children:[l.jsxs("div",{children:["Calories: ",m.nutrition.calories]}),l.jsxs("div",{children:["Protein: ",m.nutrition.protein]}),l.jsxs("div",{children:["Fat: ",m.nutrition.fat]}),l.jsxs("div",{children:["Carbs: ",m.nutrition.carbohydrates]})]})]})]}),l.jsxs("div",{children:[l.jsx("div",{className:"prose max-w-none",children:l.jsx("div",{className:"text-gray-700 mb-4",dangerouslySetInnerHTML:{__html:m.summary}})}),m.diets.length>0&&l.jsxs("div",{className:"mb-4",children:[l.jsx("h4",{className:"font-semibold mb-2",children:"Dietary Information"}),l.jsx("div",{className:"flex flex-wrap gap-2",children:m.diets.map(k=>l.jsx(we,{className:P(k),children:k},k))})]}),m.cuisines.length>0&&l.jsxs("div",{className:"mb-4",children:[l.jsx("h4",{className:"font-semibold mb-2",children:"Cuisines"}),l.jsx("div",{className:"flex flex-wrap gap-2",children:m.cuisines.map(k=>l.jsx(we,{variant:"outline",children:k},k))})]}),l.jsxs(se,{className:"w-full mt-4",children:[l.jsx(Zs,{className:"w-4 h-4 mr-2"}),"View Full Recipe on Spoonacular"]})]})]})})]}),(N.isPending||b.isPending)&&l.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[1,2,3,4,5,6].map(k=>l.jsxs(oe,{className:"animate-pulse",children:[l.jsx("div",{className:"aspect-video bg-gray-200 rounded-t-lg"}),l.jsxs(le,{className:"p-4",children:[l.jsx("div",{className:"h-6 bg-gray-200 rounded mb-2"}),l.jsx("div",{className:"h-4 bg-gray-200 rounded mb-2"}),l.jsx("div",{className:"h-4 bg-gray-200 rounded w-3/4"})]})]},k))})]})}function w9(){const[t,e]=I.useState(""),r=(i,s="grocery stores")=>{const o=`${s} near ${i||"me"}`,u=`https://www.google.com/maps/search/${encodeURIComponent(o)}`;window.open(u,"_blank")},n=()=>{navigator.geolocation?navigator.geolocation.getCurrentPosition(i=>{const{latitude:s,longitude:o}=i.coords;e(`${s},${o}`),r(`${s},${o}`)},i=>{console.error("Location error:",i),r("grocery stores")}):r("grocery stores")};return l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{className:"text-center p-6 bg-orange-50 rounded-lg border border-orange-200",children:[l.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-3",children:"Find Stores with Google Maps"}),l.jsx("p",{className:"text-sm text-gray-600 mb-4",children:"Search directly in Google Maps for the most accurate, real-time store information"}),l.jsx("div",{className:"flex flex-col sm:flex-row gap-3 max-w-md mx-auto",children:l.jsx(Zt,{type:"text",placeholder:"Enter location (optional)...",value:t,onChange:i=>e(i.target.value),className:"flex-1 bg-white border-orange-300 focus:border-orange-500"})}),l.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-3 mt-4",children:[l.jsxs(se,{onClick:()=>r(t,"grocery stores"),className:"bg-orange-500 hover:bg-orange-600 text-white flex items-center gap-2",children:[l.jsx(ap,{className:"w-4 h-4"}),"Grocery Stores"]}),l.jsxs(se,{onClick:()=>r(t,"supermarket"),className:"bg-blue-500 hover:bg-blue-600 text-white flex items-center gap-2",children:[l.jsx(Ji,{className:"w-4 h-4"}),"Supermarkets"]}),l.jsxs(se,{onClick:()=>r(t,"walmart target costco"),className:"bg-green-500 hover:bg-green-600 text-white flex items-center gap-2",children:[l.jsx(On,{className:"w-4 h-4"}),"Big Box Stores"]}),l.jsx(se,{onClick:()=>r(t,"farmers market"),className:"bg-purple-500 hover:bg-purple-600 text-white flex items-center gap-2",children:" Farmers Markets"}),l.jsx(se,{onClick:()=>r(t,"organic health food store"),className:"bg-teal-500 hover:bg-teal-600 text-white flex items-center gap-2",children:" Health Stores"}),l.jsxs(se,{onClick:n,className:"bg-gray-600 hover:bg-gray-700 text-white flex items-center gap-2",children:[l.jsx(vf,{className:"w-4 h-4"}),"Use My Location"]})]})]}),l.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-4",children:[{name:"Walmart",query:"walmart",icon:"",color:"bg-blue-100 text-blue-800"},{name:"Target",query:"target",icon:"",color:"bg-red-100 text-red-800"},{name:"Costco",query:"costco",icon:"",color:"bg-purple-100 text-purple-800"},{name:"Whole Foods",query:"whole foods",icon:"",color:"bg-green-100 text-green-800"},{name:"ALDI",query:"aldi",icon:"",color:"bg-orange-100 text-orange-800"},{name:"Kroger",query:"kroger",icon:"",color:"bg-indigo-100 text-indigo-800"}].map((i,s)=>l.jsx(oe,{className:"border-2 border-gray-200 hover:border-orange-400 hover:shadow-lg transition-all cursor-pointer bg-white",onClick:()=>r(t,i.query),children:l.jsxs(le,{className:"p-4 text-center",children:[l.jsx("div",{className:"text-2xl mb-2",children:i.icon}),l.jsx("h3",{className:"font-semibold text-sm text-gray-900 mb-1",children:i.name}),l.jsx(we,{className:`text-xs ${i.color}`,children:"Find Nearby"})]})},s))}),l.jsxs(oe,{className:"border-orange-300 bg-orange-50",children:[l.jsx(ve,{children:l.jsxs(ye,{className:"text-orange-800 flex items-center gap-2",children:[l.jsx(On,{className:"w-5 h-5"}),"Compare Prices Across Stores"]})}),l.jsxs(le,{children:[l.jsx("p",{className:"text-sm text-orange-700 mb-4",children:"Use Google Maps to find stores, then compare prices for your shopping list items across different locations."}),l.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-2",children:["Walmart vs Target","Costco vs Sam's Club","Kroger vs Safeway","Whole Foods vs Fresh Market"].map((i,s)=>l.jsx(se,{variant:"outline",size:"sm",className:"text-xs border-orange-300 text-orange-600 hover:bg-orange-100",onClick:()=>r(t,i.split(" vs ")[0]),children:i},s))})]})]})]})}function C9(){const[t,e]=I.useState(""),[r,n]=I.useState(""),{data:i=[]}=as({queryKey:["/api/delivery-services",{area:t}]}),{data:s=[]}=as({queryKey:["/api/restaurant-menu",{category:r==="all"?"":r}]}),o=h=>{switch(h){case"food_delivery":return l.jsx(wf,{className:"w-5 h-5 text-orange-500"});case"grocery_delivery":return l.jsx(ap,{className:"w-5 h-5 text-green-500"});case"restaurant_delivery":return l.jsx(Y2,{className:"w-5 h-5 text-blue-500"});default:return l.jsx(yf,{className:"w-5 h-5 text-gray-500"})}},u=h=>{switch(h.toLowerCase()){case"doordash":return"bg-red-100 text-red-700";case"grubhub":return"bg-orange-100 text-orange-700";case"uber eats":return"bg-green-100 text-green-700";case"instacart":return"bg-blue-100 text-blue-700";default:return"bg-gray-100 text-gray-700"}},f=[{value:"mains",label:"Main Dishes"},{value:"appetizers",label:"Appetizers"},{value:"desserts",label:"Desserts"},{value:"beverages",label:"Beverages"},{value:"salads",label:"Salads"},{value:"pizza",label:"Pizza"},{value:"asian",label:"Asian Cuisine"},{value:"mexican",label:"Mexican Food"}];return l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{className:"text-center",children:[l.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Food Delivery Services"}),l.jsx("p",{className:"text-gray-600",children:"Find restaurants and groceries available for delivery in your area"})]}),l.jsxs(oe,{children:[l.jsx(ve,{children:l.jsxs(ye,{className:"flex items-center space-x-2",children:[l.jsx(Ji,{className:"w-5 h-5 text-blue-600"}),l.jsx("span",{children:"Find Services in Your Area"})]})}),l.jsx(le,{children:l.jsxs("div",{className:"flex space-x-2",children:[l.jsx(Zt,{placeholder:"Enter your location (e.g., 'New York, NY' or 'Los Angeles, CA')",value:t,onChange:h=>e(h.target.value),className:"flex-1"}),l.jsxs(se,{className:"bg-blue-600 text-white hover:bg-blue-700",children:[l.jsx(Ji,{className:"w-4 h-4 mr-2"}),"Search"]})]})})]}),l.jsxs("div",{children:[l.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Available Delivery Services"}),l.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:i.map(h=>l.jsxs(oe,{className:"hover:shadow-lg transition-shadow",children:[l.jsx(ve,{children:l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{className:"flex items-center space-x-3",children:[o(h.type),l.jsxs("div",{children:[l.jsx(ye,{className:"text-lg",children:h.name}),l.jsx(we,{className:u(h.name),children:h.type.replace("_"," ")})]})]}),l.jsx(se,{variant:"ghost",size:"sm",onClick:()=>window.open(h.websiteUrl,"_blank"),children:l.jsx(Zs,{className:"w-4 h-4"})})]})}),l.jsx(le,{children:l.jsxs("div",{className:"space-y-3",children:[l.jsxs("div",{className:"grid grid-cols-2 gap-2 text-sm",children:[l.jsxs("div",{className:"flex items-center space-x-2",children:[l.jsx(Ns,{className:"w-4 h-4 text-blue-600"}),l.jsx("span",{children:h.averageDeliveryTime})]}),l.jsxs("div",{className:"flex items-center space-x-2",children:[l.jsx(ci,{className:"w-4 h-4 text-green-600"}),l.jsx("span",{children:h.deliveryFee})]})]}),l.jsxs("div",{className:"text-sm",children:[l.jsx("span",{className:"font-medium",children:"Minimum Order: "}),l.jsx("span",{className:"text-green-600",children:h.minimumOrder})]}),h.features.length>0&&l.jsxs("div",{children:[l.jsx("div",{className:"text-sm font-medium mb-2",children:"Features:"}),l.jsxs("div",{className:"flex flex-wrap gap-1",children:[h.features.slice(0,3).map((m,v)=>l.jsx(we,{variant:"secondary",className:"text-xs",children:m.replace("_"," ")},v)),h.features.length>3&&l.jsxs(we,{variant:"secondary",className:"text-xs",children:["+",h.features.length-3," more"]})]})]}),h.supportedAreas.length>0&&l.jsxs("div",{children:[l.jsx("div",{className:"text-sm font-medium mb-1",children:"Service Areas:"}),l.jsxs("div",{className:"text-xs text-gray-600",children:[h.supportedAreas.slice(0,2).map(m=>m.replace("_"," ")).join(", "),h.supportedAreas.length>2&&" and more"]})]}),l.jsxs(se,{className:"w-full",onClick:()=>window.open(h.websiteUrl,"_blank"),children:[l.jsx(Zs,{className:"w-4 h-4 mr-2"}),"Order Now"]})]})})]},h.id))})]}),l.jsxs("div",{children:[l.jsxs("div",{className:"flex justify-between items-center mb-4",children:[l.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Popular Restaurant Items"}),l.jsxs("select",{value:r,onChange:h=>n(h.target.value),className:"px-3 py-2 border rounded-md text-sm",children:[l.jsx("option",{value:"all",children:"All Categories"}),f.map(h=>l.jsx("option",{value:h.value,children:h.label},h.value))]})]}),l.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:s.map(h=>l.jsxs(oe,{className:"hover:shadow-lg transition-shadow",children:[l.jsx(ve,{children:l.jsxs("div",{className:"flex justify-between items-start",children:[l.jsxs("div",{children:[l.jsx(ye,{className:"text-lg",children:h.itemName}),l.jsx("p",{className:"text-sm text-gray-600 font-medium",children:h.restaurantName}),l.jsx("p",{className:"text-sm text-gray-500 mt-1",children:h.description})]}),l.jsxs("div",{className:"text-right",children:[l.jsx("div",{className:"text-lg font-bold text-green-600",children:h.price}),h.calories&&l.jsxs("div",{className:"text-xs text-gray-500",children:[h.calories," cal"]})]})]})}),l.jsx(le,{children:l.jsxs("div",{className:"space-y-3",children:[l.jsx(we,{className:"bg-blue-100 text-blue-700",children:h.category}),h.dietaryTags.length>0&&l.jsx("div",{className:"flex flex-wrap gap-1",children:h.dietaryTags.map((m,v)=>l.jsx(we,{variant:"secondary",className:"text-xs",children:m.replace("_"," ")},v))}),h.allergens.length>0&&l.jsxs("div",{className:"text-xs text-red-600",children:[l.jsx("span",{className:"font-medium",children:"Contains: "}),h.allergens.join(", ")]}),l.jsxs("div",{className:"flex flex-wrap gap-2",children:[h.doordashUrl&&l.jsxs(se,{size:"sm",variant:"outline",onClick:()=>window.open(h.doordashUrl,"_blank"),className:"flex-1 text-xs",children:[l.jsx(Zs,{className:"w-3 h-3 mr-1"}),"DoorDash"]}),h.grubhubUrl&&l.jsxs(se,{size:"sm",variant:"outline",onClick:()=>window.open(h.grubhubUrl,"_blank"),className:"flex-1 text-xs",children:[l.jsx(Zs,{className:"w-3 h-3 mr-1"}),"Grubhub"]}),h.ubereatsUrl&&l.jsxs(se,{size:"sm",variant:"outline",onClick:()=>window.open(h.ubereatsUrl,"_blank"),className:"flex-1 text-xs",children:[l.jsx(Zs,{className:"w-3 h-3 mr-1"}),"Uber Eats"]})]})]})})]},h.id))})]}),l.jsxs(oe,{children:[l.jsx(ve,{children:l.jsx(ye,{children:"Popular Delivery Services"})}),l.jsx(le,{children:l.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[l.jsxs(se,{variant:"outline",className:"h-20 flex flex-col items-center justify-center space-y-2",onClick:()=>window.open("https://www.doordash.com","_blank"),children:[l.jsx(K5,{className:"w-6 h-6 text-red-500"}),l.jsx("span",{children:"DoorDash"})]}),l.jsxs(se,{variant:"outline",className:"h-20 flex flex-col items-center justify-center space-y-2",onClick:()=>window.open("https://www.grubhub.com","_blank"),children:[l.jsx(wf,{className:"w-6 h-6 text-orange-500"}),l.jsx("span",{children:"Grubhub"})]}),l.jsxs(se,{variant:"outline",className:"h-20 flex flex-col items-center justify-center space-y-2",onClick:()=>window.open("https://www.ubereats.com","_blank"),children:[l.jsx(Y2,{className:"w-6 h-6 text-green-500"}),l.jsx("span",{children:"Uber Eats"})]}),l.jsxs(se,{variant:"outline",className:"h-20 flex flex-col items-center justify-center space-y-2",onClick:()=>window.open("https://www.instacart.com","_blank"),children:[l.jsx(ap,{className:"w-6 h-6 text-blue-500"}),l.jsx("span",{children:"Instacart"})]})]})})]})]})}var Ng="Checkbox",[E9,aL]=$n(Ng),[A9,b9]=E9(Ng),UA=I.forwardRef((t,e)=>{const{__scopeCheckbox:r,name:n,checked:i,defaultChecked:s,required:o,disabled:u,value:f="on",onCheckedChange:h,form:m,...v}=t,[w,C]=I.useState(null),N=nt(e,P=>C(P)),b=I.useRef(!1),R=w?m||!!w.closest("form"):!0,[_=!1,S]=ba({prop:i,defaultProp:s,onChange:h}),T=I.useRef(_);return I.useEffect(()=>{const P=w==null?void 0:w.form;if(P){const B=()=>S(T.current);return P.addEventListener("reset",B),()=>P.removeEventListener("reset",B)}},[w,S]),l.jsxs(A9,{scope:r,state:_,disabled:u,children:[l.jsx(Ve.button,{type:"button",role:"checkbox","aria-checked":ya(_)?"mixed":_,"aria-required":o,"data-state":zA(_),"data-disabled":u?"":void 0,disabled:u,value:f,...v,ref:N,onKeyDown:Pe(t.onKeyDown,P=>{P.key==="Enter"&&P.preventDefault()}),onClick:Pe(t.onClick,P=>{S(B=>ya(B)?!0:!B),R&&(b.current=P.isPropagationStopped(),b.current||P.stopPropagation())})}),R&&l.jsx(S9,{control:w,bubbles:!b.current,name:n,value:f,checked:_,required:o,disabled:u,form:m,style:{transform:"translateX(-100%)"},defaultChecked:ya(s)?!1:s})]})});UA.displayName=Ng;var VA="CheckboxIndicator",HA=I.forwardRef((t,e)=>{const{__scopeCheckbox:r,forceMount:n,...i}=t,s=b9(VA,r);return l.jsx(hi,{present:n||ya(s.state)||s.state===!0,children:l.jsx(Ve.span,{"data-state":zA(s.state),"data-disabled":s.disabled?"":void 0,...i,ref:e,style:{pointerEvents:"none",...t.style}})})});HA.displayName=VA;var S9=t=>{const{control:e,checked:r,bubbles:n=!0,defaultChecked:i,...s}=t,o=I.useRef(null),u=Cg(r),f=sg(e);I.useEffect(()=>{const m=o.current,v=window.HTMLInputElement.prototype,C=Object.getOwnPropertyDescriptor(v,"checked").set;if(u!==r&&C){const N=new Event("click",{bubbles:n});m.indeterminate=ya(r),C.call(m,ya(r)?!1:r),m.dispatchEvent(N)}},[u,r,n]);const h=I.useRef(ya(r)?!1:r);return l.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:i??h.current,...s,tabIndex:-1,ref:o,style:{...t.style,...f,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})};function ya(t){return t==="indeterminate"}function zA(t){return ya(t)?"indeterminate":t?"checked":"unchecked"}var GA=UA,N9=HA;const WA=I.forwardRef(({className:t,...e},r)=>l.jsx(GA,{ref:r,className:Le("peer h-4 w-4 shrink-0 rounded-sm border border-primary ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground",t),...e,children:l.jsx(N9,{className:Le("flex items-center justify-center text-current"),children:l.jsx(Au,{className:"h-4 w-4"})})}));WA.displayName=GA.displayName;function _9(){const[t,e]=I.useState(null),[r,n]=I.useState(""),[i,s]=I.useState(10),[o,u]=I.useState(""),{toast:f}=nn(),h=()=>{if(!navigator.geolocation){n("Geolocation is not supported by this browser.");return}navigator.geolocation.getCurrentPosition(async _=>{const S={latitude:_.coords.latitude,longitude:_.coords.longitude};try{const P=await(await hr("POST","/api/location/reverse-geocode",{latitude:S.latitude,longitude:S.longitude})).json();e({...S,...P}),f({title:"Location Found",description:`Found stores near ${P.city||"your location"}`})}catch{e(S),f({title:"Location Found",description:"Location acquired, searching for nearby stores..."})}},_=>{let S="Unable to get your location.";switch(_.code){case _.PERMISSION_DENIED:S="Location access denied. Please enable location permissions.";break;case _.POSITION_UNAVAILABLE:S="Location information unavailable.";break;case _.TIMEOUT:S="Location request timed out.";break}n(S),f({title:"Location Error",description:S,variant:"destructive"})},{enableHighAccuracy:!0,timeout:1e4,maximumAge:3e5})},{data:m=[],isLoading:v,refetch:w}=as({queryKey:["/api/ai/nearby-stores",t,i],queryFn:async()=>t?await(await hr("POST","/api/ai/nearby-stores",{lat:t.latitude,lon:t.longitude,radius:i*1609.34})).json():[],enabled:!!t}),C=m.filter(_=>{if(!o)return!0;const S=o.toLowerCase();return _.name.toLowerCase().includes(S)||_.brand&&_.brand.toLowerCase().includes(S)}),N=_=>{const S=encodeURIComponent(_.address);window.open(`https://www.openstreetmap.org/search?query=${S}`,"_blank")},b=_=>{if(t){const S=`https://www.openstreetmap.org/directions?engine=fossgis_osrm_car&route=${t.latitude}%2C${t.longitude}%3B${_.latitude}%2C${_.longitude}`;window.open(S,"_blank")}else{const S=encodeURIComponent(_.address);window.open(`https://www.openstreetmap.org/search?query=${S}`,"_blank")}},R=_=>({supermarket:{color:"bg-blue-500",text:"Supermarket"},convenience:{color:"bg-green-500",text:"Convenience"},grocery:{color:"bg-purple-500",text:"Grocery"}})[_]||{color:"bg-gray-500",text:"Store"};return I.useEffect(()=>{h()},[]),l.jsxs("div",{className:"space-y-6",children:[l.jsxs(oe,{children:[l.jsx(ve,{children:l.jsxs(ye,{className:"flex items-center gap-2",children:[l.jsx(Ji,{className:"h-5 w-5"}),"Find Nearby Stores"]})}),l.jsxs(le,{className:"space-y-4",children:[l.jsxs("div",{className:"flex items-center gap-4",children:[l.jsxs(se,{onClick:h,variant:"outline",className:"flex items-center gap-2",children:[l.jsx(vf,{className:"h-4 w-4"}),"Get My Location"]}),t&&l.jsxs(we,{variant:"secondary",className:"flex items-center gap-1",children:[l.jsx(Ji,{className:"h-3 w-3"}),t.city,", ",t.state]})]}),r&&l.jsx("div",{className:"text-red-600 text-sm",children:r}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"text-sm font-medium",children:"Search Radius (miles)"}),l.jsx(Zt,{type:"number",value:i,onChange:_=>s(Number(_.target.value)),min:1,max:50,className:"mt-1"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"text-sm font-medium",children:"Filter by Store"}),l.jsx(Zt,{placeholder:"e.g., Walmart, Target, ALDI",value:o,onChange:_=>u(_.target.value),className:"mt-1"})]})]}),t&&l.jsx(se,{onClick:()=>w(),disabled:v,children:v?"Searching...":"Refresh Stores"})]})]}),C.length>0&&l.jsxs("div",{className:"space-y-4",children:[l.jsxs("h3",{className:"text-lg font-semibold",children:["Found ",C.length," stores near you"]}),C.map(_=>l.jsx(oe,{className:"hover:shadow-md transition-shadow",children:l.jsxs(le,{className:"p-6",children:[l.jsxs("div",{className:"flex justify-between items-start mb-4",children:[l.jsxs("div",{className:"flex-1",children:[l.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[l.jsx("h4",{className:"text-lg font-semibold",children:_.name}),l.jsx(we,{className:R(_.type).color+" text-white",children:R(_.type).text})]}),_.brand&&l.jsx("p",{className:"text-gray-600 mb-1",children:_.brand}),l.jsx("p",{className:"text-sm text-gray-500 mb-2",children:_.address}),_.openingHours&&l.jsxs("p",{className:"text-sm text-green-600",children:[l.jsx(Ns,{className:"h-3 w-3 inline mr-1"}),_.openingHours]})]}),l.jsxs("div",{className:"text-right space-y-2",children:[l.jsx("p",{className:"text-sm font-medium text-blue-600",children:_.distanceText}),_.phone&&l.jsxs(se,{size:"sm",variant:"outline",onClick:()=>window.open(`tel:${_.phone}`),children:[l.jsx(z5,{className:"h-3 w-3 mr-1"}),"Call"]})]})]}),l.jsx("div",{className:"mb-4",children:_.wheelchair&&l.jsxs(we,{variant:"outline",className:"mb-2",children:[" Wheelchair Accessible: ",_.wheelchair]})}),l.jsxs("div",{className:"flex gap-2",children:[l.jsxs(se,{size:"sm",onClick:()=>b(_),className:"flex items-center gap-1",children:[l.jsx(vf,{className:"h-3 w-3"}),"Directions"]}),l.jsxs(se,{size:"sm",variant:"outline",onClick:()=>N(_),className:"flex items-center gap-1",children:[l.jsx(Ji,{className:"h-3 w-3"}),"View on Map"]}),_.website&&l.jsxs(se,{size:"sm",variant:"outline",onClick:()=>window.open(_.website||"","_blank"),className:"flex items-center gap-1",children:[l.jsx(Zs,{className:"h-3 w-3"}),"Website"]})]})]})},_.id))]}),t&&C.length>0&&l.jsx(oe,{children:l.jsxs(le,{className:"text-center py-8",children:[l.jsx(Ji,{className:"h-12 w-12 mx-auto mb-4 text-gray-400"}),l.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Interactive Map"}),l.jsx("p",{className:"text-gray-500",children:'Interactive map view coming soon! For now, use the "Directions" button to get turn-by-turn navigation.'})]})}),t&&C.length===0&&!v&&l.jsx(oe,{children:l.jsx(le,{className:"text-center py-8",children:l.jsxs("p",{className:"text-gray-500",children:["No stores found within ",i," miles. Try increasing the search radius."]})})})]})}function I9(){const[t,e]=I.useState(100),[r,n]=I.useState(""),[i,s]=I.useState(1),[o,u]=I.useState("General"),[f,h]=I.useState(!1),[m,v]=I.useState(!1),[w,C]=I.useState(""),N=Jf(),{data:b=[],isLoading:R}=as({queryKey:["/api/grocery-items"]}),{data:_=[]}=as({queryKey:["/api/shopping-tips"],queryFn:()=>fetch("/api/shopping-tips").then(K=>K.json())}),S=Qi({mutationFn:async({id:K,completed:G})=>await(await hr("PATCH",`/api/grocery-items/${K}`,{completed:G})).json(),onSuccess:()=>{N.invalidateQueries({queryKey:["/api/grocery-items"]})}}),T=Qi({mutationFn:async K=>await(await hr("POST","/api/ai/price-comparison",{items:K})).json()}),P=Qi({mutationFn:async({groceryList:K,budget:G})=>await(await hr("POST","/api/ai/shopping-tips",{groceryList:K,budget:G})).json()}),B=Qi({mutationFn:async K=>await(await hr("POST","/api/grocery-items",K)).json(),onSuccess:()=>{N.invalidateQueries({queryKey:["/api/grocery-items"]}),n("")}}),k=(K,G)=>{S.mutate({id:K,completed:G})},M=()=>{const K=b.map(G=>G.name);T.mutate(K)},F=()=>{const K=b.map(G=>G.name);P.mutate({groceryList:K,budget:t})},U=K=>{const G=K.toLowerCase(),ue={apple:"https://images.unsplash.com/photo-1560806887-1e4cd0b6cbd6?w=150&h=150&fit=crop&auto=format",banana:"https://images.unsplash.com/photo-1481349518771-20055b2a7b24?w=150&h=150&fit=crop&auto=format",orange:"https://images.unsplash.com/photo-1580052614034-c55d20bfee3b?w=150&h=150&fit=crop&auto=format",strawberry:"https://images.unsplash.com/photo-1464965911861-746a04b4bca6?w=150&h=150&fit=crop&auto=format",grape:"https://images.unsplash.com/photo-1537640538966-79f369143019?w=150&h=150&fit=crop&auto=format",lemon:"https://images.unsplash.com/photo-1590502593747-42a4501a2ba1?w=150&h=150&fit=crop&auto=format",carrot:"https://images.unsplash.com/photo-1447175008436-054170c2e979?w=150&h=150&fit=crop&auto=format",broccoli:"https://images.unsplash.com/photo-1459411552884-841db9b3cc2a?w=150&h=150&fit=crop&auto=format",tomato:"https://images.unsplash.com/photo-1518977676601-b53f82aba655?w=150&h=150&fit=crop&auto=format",potato:"https://images.unsplash.com/photo-1518977676601-b53f82aba655?w=150&h=150&fit=crop&auto=format",onion:"https://images.unsplash.com/photo-1508313880080-c4baa5b8dabd?w=150&h=150&fit=crop&auto=format",lettuce:"https://images.unsplash.com/photo-1556909114-4f880bff4795?w=150&h=150&fit=crop&auto=format","bell pepper":"https://images.unsplash.com/photo-1525607551316-4a8e16ce5ade?w=150&h=150&fit=crop&auto=format",spinach:"https://images.unsplash.com/photo-1576045057995-568f588f82fb?w=150&h=150&fit=crop&auto=format",cucumber:"https://images.unsplash.com/photo-1520645902307-3b5ac0ae0f6a?w=150&h=150&fit=crop&auto=format",chicken:"https://images.unsplash.com/photo-1604503468506-a8da13d82791?w=150&h=150&fit=crop&auto=format",beef:"https://images.unsplash.com/photo-1588347818125-3c1cb6420b4c?w=150&h=150&fit=crop&auto=format",fish:"https://images.unsplash.com/photo-1559827260-dc66d52bef19?w=150&h=150&fit=crop&auto=format",salmon:"https://images.unsplash.com/photo-1467003909585-2f8a72700288?w=150&h=150&fit=crop&auto=format",egg:"https://images.unsplash.com/photo-1582722872445-44dc5f7e3c8f?w=150&h=150&fit=crop&auto=format",turkey:"https://images.unsplash.com/photo-1574781330855-d0db292d96d6?w=150&h=150&fit=crop&auto=format",pork:"https://images.unsplash.com/photo-1602470520998-f4a52199a3d6?w=150&h=150&fit=crop&auto=format",milk:"https://images.unsplash.com/photo-1563636619-e9143da7973b?w=150&h=150&fit=crop&auto=format",cheese:"https://images.unsplash.com/photo-1486297678162-eb2a19b0a32d?w=150&h=150&fit=crop&auto=format",yogurt:"https://images.unsplash.com/photo-1488477304112-4944851de03d?w=150&h=150&fit=crop&auto=format",butter:"https://images.unsplash.com/photo-1589985270826-4b7bb135bc9d?w=150&h=150&fit=crop&auto=format",cream:"https://images.unsplash.com/photo-1524482326475-6c71706c2e87?w=150&h=150&fit=crop&auto=format",bread:"https://images.unsplash.com/photo-1509440159596-0249088772ff?w=150&h=150&fit=crop&auto=format",rice:"https://images.unsplash.com/photo-1516684732162-798a0062be99?w=150&h=150&fit=crop&auto=format",pasta:"https://images.unsplash.com/photo-1551892589-865f69869476?w=150&h=150&fit=crop&auto=format",flour:"https://images.unsplash.com/photo-1574323347407-f5e1ad6d020b?w=150&h=150&fit=crop&auto=format",sugar:"https://images.unsplash.com/photo-1587431164373-8d2e943aee13?w=150&h=150&fit=crop&auto=format",oats:"https://images.unsplash.com/photo-1544997150-6f38b1eb4f11?w=150&h=150&fit=crop&auto=format","olive oil":"https://images.unsplash.com/photo-1474979266404-7eaacbcd87c5?w=150&h=150&fit=crop&auto=format",oil:"https://images.unsplash.com/photo-1474979266404-7eaacbcd87c5?w=150&h=150&fit=crop&auto=format",salt:"https://images.unsplash.com/photo-1518779578993-ec3579fee39f?w=150&h=150&fit=crop&auto=format","black pepper":"https://images.unsplash.com/photo-1599991991644-47e0cdd91e14?w=150&h=150&fit=crop&auto=format",garlic:"https://images.unsplash.com/photo-1580489944761-15a19d654956?w=150&h=150&fit=crop&auto=format",water:"https://images.unsplash.com/photo-1523362628745-0c100150b504?w=150&h=150&fit=crop&auto=format",coffee:"https://images.unsplash.com/photo-1495474472287-4d71bcdd2085?w=150&h=150&fit=crop&auto=format",tea:"https://images.unsplash.com/photo-1597318985515-91a3f24ff6f7?w=150&h=150&fit=crop&auto=format",juice:"https://images.unsplash.com/photo-1560806887-1e4cd0b6cbd6?w=150&h=150&fit=crop&auto=format",default:"https://images.unsplash.com/photo-1542838132-92c53300491e?w=150&h=150&fit=crop&auto=format"};for(const[de,ne]of Object.entries(ue))if(G.includes(de))return ne;return ue.default},X=()=>{r.trim()&&B.mutate({name:r.trim(),quantity:i,category:o,estimatedPrice:Math.round((Math.random()*10+1)*100)/100,completed:!1})},ee=()=>{if(!w.trim())return;w.split(/[,\n]/).map(G=>G.trim()).filter(G=>G.length>0).forEach(G=>{B.mutate({name:G,quantity:1,category:"General",estimatedPrice:0,completed:!1})}),C(""),v(!1)},Z=()=>b.reduce((K,G)=>{if(G.estimatedPrice){const ue=parseFloat(G.estimatedPrice.replace("$",""));return K+ue}return K},0).toFixed(2),ae=b.reduce((K,G)=>{if(G.saleSavings){const ue=parseFloat(G.saleSavings.replace(/[^0-9.]/g,""));return K+(ue||0)}return K},0);return R?l.jsx("div",{className:"space-y-6",children:l.jsx(oe,{className:"animate-pulse",children:l.jsx(le,{className:"p-6",children:l.jsxs("div",{className:"space-y-4",children:[l.jsx("div",{className:"h-6 bg-gray-200 rounded w-1/2"}),l.jsx("div",{className:"space-y-2",children:[1,2,3,4,5].map(K=>l.jsx("div",{className:"h-4 bg-gray-200 rounded"},K))})]})})})}):l.jsxs("div",{className:"space-y-6",children:[l.jsxs(oe,{children:[l.jsx(ve,{children:l.jsxs("div",{className:"flex justify-between items-center",children:[l.jsxs(ye,{className:"text-2xl flex items-center space-x-2",children:[l.jsx(In,{className:"w-6 h-6 text-orange-500"}),l.jsx("span",{children:"Smart Grocery List"})]}),l.jsxs("div",{className:"flex items-center space-x-2",children:[l.jsxs(we,{className:"bg-green-100 text-green-700",children:[b.filter(K=>!K.completed).length," items"]}),l.jsxs(we,{className:"bg-blue-100 text-blue-700",children:["Est. $",Z()]}),ae>0&&l.jsxs(we,{className:"bg-orange-100 text-orange-700",children:["Save $",ae.toFixed(2)]})]})]})}),l.jsx(le,{children:b.length===0?l.jsxs("div",{className:"text-center py-12",children:[l.jsx(In,{className:"w-16 h-16 text-gray-400 mx-auto mb-4"}),l.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Your grocery list is empty"}),l.jsx("p",{className:"text-gray-500 mb-4",children:"Add items to start building your shopping list"}),l.jsxs("div",{className:"flex space-x-2 max-w-md mx-auto",children:[l.jsx(Zt,{placeholder:"Add your first item...",value:r,onChange:K=>n(K.target.value),onKeyPress:K=>K.key==="Enter"&&X(),className:"flex-1"}),l.jsxs(se,{onClick:X,disabled:B.isPending||!r.trim(),className:"bg-green-600 hover:bg-green-700 text-white",children:[l.jsx(In,{className:"h-4 w-4 mr-2"}),"Add"]})]})]}):l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{className:"mb-4 p-4 border rounded-lg bg-gray-50",children:[l.jsxs("div",{className:"flex items-center justify-between mb-3",children:[l.jsx("h4",{className:"font-medium text-gray-900",children:"Add Items"}),l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(se,{variant:m?"outline":"default",size:"sm",onClick:()=>v(!1),className:"text-xs",children:"Single Item"}),l.jsx(se,{variant:m?"default":"outline",size:"sm",onClick:()=>v(!0),className:"text-xs",children:"Multiple Items"})]})]}),m?l.jsxs("div",{className:"space-y-3",children:[l.jsx("textarea",{placeholder:`Enter multiple items (one per line or separated by commas)
Example:
Apples
Bread
Milk`,value:w,onChange:K=>C(K.target.value),className:"w-full p-3 border rounded-lg resize-none h-24 text-sm"}),l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("span",{className:"text-xs text-gray-500",children:[w.split(/[,\n]/).filter(K=>K.trim().length>0).length," items to add"]}),l.jsxs(se,{onClick:ee,disabled:B.isPending||!w.trim(),className:"bg-green-600 hover:bg-green-700 text-white",children:[l.jsx(In,{className:"h-4 w-4 mr-2"}),"Add All Items"]})]})]}):l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-2",children:[l.jsx(Zt,{placeholder:"Item name...",value:r,onChange:K=>n(K.target.value),onKeyPress:K=>K.key==="Enter"&&X(),className:"md:col-span-2"}),l.jsx(Zt,{type:"number",placeholder:"Qty",value:i,onChange:K=>s(Number(K.target.value)),min:"1",className:"w-full"}),l.jsxs(se,{onClick:X,disabled:B.isPending||!r.trim(),className:"bg-green-600 hover:bg-green-700 text-white",children:[l.jsx(In,{className:"h-4 w-4 mr-2"}),"Add"]})]})]}),l.jsx("div",{className:"flex justify-end mb-4",children:l.jsxs(se,{onClick:()=>h(!f),variant:"outline",className:"flex items-center gap-2",children:[l.jsx(vf,{className:"h-4 w-4"}),f?"Hide Stores":"Find Stores"]})}),f&&l.jsx("div",{className:"mb-6 p-4 border rounded-lg bg-gray-50",children:l.jsx(_9,{})}),l.jsx("div",{className:"grid gap-4",children:b.map(K=>l.jsxs("div",{className:"flex items-center justify-between p-4 border rounded-lg hover:bg-gray-50",children:[l.jsxs("div",{className:"flex items-center space-x-3 flex-1",children:[l.jsx(WA,{checked:K.completed||!1,onCheckedChange:G=>k(K.id,G),className:"text-green-600"}),l.jsx("div",{className:"w-12 h-12 rounded-lg overflow-hidden bg-gray-100 flex-shrink-0",children:l.jsx("img",{src:U(K.name),alt:K.name,className:"w-full h-full object-cover",onError:G=>{G.currentTarget.src="https://images.unsplash.com/photo-1542838132-92c53300491e?w=150&h=150&fit=crop&auto=format"}})}),l.jsxs("div",{className:"flex-1",children:[l.jsxs("div",{className:"flex items-center space-x-2",children:[l.jsx("span",{className:`font-medium ${K.completed?"line-through text-gray-500":"text-gray-900"}`,children:K.name}),l.jsx("span",{className:"text-gray-500 text-sm",children:K.quantity}),K.onSale&&l.jsx(we,{className:"bg-red-100 text-red-700 text-xs",children:"ON SALE"})]}),l.jsxs("div",{className:"flex items-center space-x-4 mt-1 text-sm text-gray-600",children:[K.estimatedPrice&&l.jsxs("div",{className:"flex items-center space-x-1",children:[l.jsx(ci,{className:"w-3 h-3"}),l.jsx("span",{children:K.estimatedPrice})]}),K.bestStore&&l.jsxs("div",{className:"flex items-center space-x-1",children:[l.jsx(Ji,{className:"w-3 h-3"}),l.jsx("span",{children:K.bestStore})]}),K.couponCode&&l.jsxs("div",{className:"flex items-center space-x-1",children:[l.jsx(Y5,{className:"w-3 h-3 text-orange-600"}),l.jsx("span",{className:"text-orange-600",children:K.couponCode})]})]}),K.saleSavings&&l.jsxs("div",{className:"flex items-center space-x-1 mt-1",children:[l.jsx($5,{className:"w-3 h-3 text-green-600"}),l.jsx("span",{className:"text-green-600 text-sm font-medium",children:K.saleSavings})]})]})]}),K.storeLink&&l.jsx(se,{variant:"ghost",size:"sm",className:"text-blue-600 hover:text-blue-800",onClick:()=>window.open(K.storeLink||"","_blank"),children:l.jsx(Zs,{className:"w-4 h-4"})})]},K.id))}),l.jsxs("div",{className:"flex flex-wrap gap-2 pt-4 border-t",children:[l.jsxs(se,{onClick:M,disabled:T.isPending,className:"bg-blue-600 text-white hover:bg-blue-700",children:[l.jsx(qC,{className:"w-4 h-4 mr-2"}),"Compare Prices"]}),l.jsxs("div",{className:"flex items-center space-x-2",children:[l.jsx(Zt,{type:"number",placeholder:"Budget",value:t,onChange:K=>e(Number(K.target.value)),className:"w-24"}),l.jsxs(se,{onClick:F,disabled:P.isPending,variant:"outline",children:[l.jsx(ad,{className:"w-4 h-4 mr-2"}),"Get Tips"]})]})]})]})})]}),T.data&&l.jsxs(oe,{children:[l.jsx(ve,{children:l.jsxs(ye,{className:"flex items-center space-x-2",children:[l.jsx(ci,{className:"w-5 h-5 text-green-600"}),l.jsx("span",{children:"Price Comparison"})]})}),l.jsx(le,{children:l.jsx("div",{className:"space-y-4",children:T.data.map((K,G)=>l.jsxs("div",{className:"border rounded-lg p-4",children:[l.jsx("h4",{className:"font-semibold mb-3",children:K.item}),l.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-3 mb-3",children:K.stores.map((ue,de)=>l.jsxs("div",{className:"bg-gray-50 rounded p-3",children:[l.jsxs("div",{className:"flex justify-between items-start mb-2",children:[l.jsx("span",{className:"font-medium",children:ue.name}),l.jsx("span",{className:"text-green-600 font-bold",children:ue.price})]}),l.jsxs("div",{className:"text-sm text-gray-600 space-y-1",children:[ue.distance&&l.jsxs("div",{children:[" ",ue.distance]}),ue.delivery&&l.jsx("div",{children:" Delivery available"}),ue.curbside&&l.jsx("div",{children:" Curbside pickup"}),ue.savings&&l.jsxs("div",{className:"text-orange-600",children:[" ",ue.savings]}),ue.coupon&&l.jsxs("div",{className:"text-blue-600",children:[" ",ue.coupon]})]})]},de))}),l.jsx("div",{className:"bg-green-50 border border-green-200 rounded p-3",children:l.jsxs("div",{className:"flex items-center space-x-2",children:[l.jsx(n0,{className:"w-4 h-4 text-green-600"}),l.jsx("span",{className:"font-medium text-green-800",children:"Best Deal:"}),l.jsxs("span",{className:"text-green-700",children:[K.bestDeal.store," - ",K.bestDeal.price]}),l.jsxs("span",{className:"text-green-600 text-sm",children:["(",K.bestDeal.savings,")"]})]})})]},G))})})]}),P.data&&l.jsxs(oe,{children:[l.jsx(ve,{children:l.jsxs(ye,{className:"flex items-center space-x-2",children:[l.jsx(ad,{className:"w-5 h-5 text-yellow-600"}),l.jsx("span",{children:"Money-Saving Tips"})]})}),l.jsx(le,{children:l.jsx("div",{className:"grid gap-4",children:P.data.map((K,G)=>l.jsxs("div",{className:"border rounded-lg p-4",children:[l.jsxs("div",{className:"flex justify-between items-start mb-2",children:[l.jsx("h4",{className:"font-semibold",children:K.title}),l.jsxs("div",{className:"flex space-x-2",children:[l.jsx(we,{variant:"secondary",className:"text-xs",children:K.category}),l.jsx(we,{className:"bg-green-100 text-green-700 text-xs",children:K.estimatedSavings})]})]}),l.jsx("p",{className:"text-gray-600 text-sm",children:K.description}),l.jsx("div",{className:"mt-2",children:l.jsxs(we,{variant:K.difficulty==="easy"?"default":K.difficulty==="medium"?"secondary":"destructive",className:"text-xs",children:[K.difficulty," to implement"]})})]},G))})})]}),_.length>0&&l.jsxs(oe,{children:[l.jsx(ve,{children:l.jsxs(ye,{className:"flex items-center space-x-2",children:[l.jsx(ad,{className:"w-5 h-5 text-orange-500"}),l.jsx("span",{children:"General Shopping Tips"})]})}),l.jsx(le,{children:l.jsx("div",{className:"grid gap-3",children:_.slice(0,3).map(K=>l.jsxs("div",{className:"flex items-start space-x-3 p-3 bg-orange-50 rounded-lg border border-orange-200",children:[l.jsx("div",{className:"w-8 h-8 bg-orange-500 rounded-full flex items-center justify-center flex-shrink-0",children:l.jsx(ad,{className:"w-4 h-4 text-white"})}),l.jsxs("div",{className:"flex-1",children:[l.jsx("h5",{className:"font-medium text-orange-900",children:K.title}),l.jsx("p",{className:"text-orange-700 text-sm mt-1",children:K.description}),l.jsxs("div",{className:"flex items-center space-x-2 mt-2",children:[l.jsxs(we,{className:"bg-orange-100 text-orange-700 text-xs",children:["Save ",K.estimatedSavings]}),l.jsx(we,{variant:"outline",className:"text-xs",children:K.difficulty})]})]})]},K.id))})})]})]})}class T9{constructor(e){this.recognition=null,this.isListening=!1,this.isPaused=!1,this.isProcessing=!1,this.onResultCallback=null,this.onErrorCallback=null,this.onStatusChangeCallback=null,this.availableVoices=[],this.synthesis=window.speechSynthesis,this.settings={language:"en-US",continuous:!1,interimResults:!0,maxAlternatives:3,voiceRate:1,voicePitch:1,voiceVolume:.8,...e},this.initializeSpeechRecognition(),this.loadAvailableVoices()}initializeSpeechRecognition(){if("webkitSpeechRecognition"in window||"SpeechRecognition"in window){const e=window.SpeechRecognition||window.webkitSpeechRecognition;this.recognition=new e,this.recognition.continuous=this.settings.continuous,this.recognition.interimResults=this.settings.interimResults,this.recognition.lang=this.settings.language,this.recognition.maxAlternatives=this.settings.maxAlternatives,this.recognition.onstart=()=>{this.isListening=!0,this.updateStatus("listening"),console.log(" Voice listening started...")},this.recognition.onresult=r=>{const n=r.results[r.results.length-1];if(n.isFinal){this.isProcessing=!0,this.updateStatus("processing");const i=n[0].transcript.trim(),s=n[0].confidence||.8;console.log(` Voice command: "${i}" (confidence: ${s.toFixed(2)})`);const o=this.parseCommand(i,s);this.onResultCallback&&this.onResultCallback(o),this.isProcessing=!1,this.updateStatus("idle")}else if(this.settings.interimResults){const i=n[0].transcript;console.log(` Interim: "${i}"`)}},this.recognition.onerror=r=>{this.updateStatus("error");const n=this.getErrorMessage(r.error);this.onErrorCallback&&this.onErrorCallback(n)},this.recognition.onend=()=>{this.isListening=!1,this.updateStatus("idle")}}}loadAvailableVoices(){const e=()=>{this.availableVoices=this.synthesis.getVoices()};e(),this.synthesis.onvoiceschanged!==void 0&&(this.synthesis.onvoiceschanged=e)}updateStatus(e){this.onStatusChangeCallback&&this.onStatusChangeCallback(e)}getErrorMessage(e){return{"no-speech":"No speech was detected. Please try again.","audio-capture":"Audio capture failed. Please check your microphone.","not-allowed":"Microphone permission denied. Please allow microphone access.",network:"Network error occurred. Please check your connection.","service-not-allowed":"Speech recognition service not allowed.","bad-grammar":"Grammar error in speech recognition.","language-not-supported":"Language not supported.",aborted:"Speech recognition was aborted."}[e]||`Speech recognition error: ${e}`}startListening(e,r,n){if(!this.recognition)return r&&r("Speech recognition not supported in this browser"),!1;if(this.isListening)return r&&r("Already listening"),!1;this.onResultCallback=e,this.onErrorCallback=r||null,this.onStatusChangeCallback=n||null;try{return this.recognition.start(),!0}catch{return r&&r("Failed to start speech recognition"),!1}}stopListening(){this.recognition&&this.isListening&&this.recognition.stop()}pauseListening(){this.recognition&&this.isListening&&(this.isPaused=!0,this.recognition.stop())}resumeListening(){this.isPaused&&(this.isPaused=!1,this.recognition&&this.recognition.start())}async speak(e,r){return new Promise((n,i)=>{r!=null&&r.interrupt&&this.synthesis.cancel();const s=new SpeechSynthesisUtterance(e);if(s.rate=(r==null?void 0:r.rate)||this.settings.voiceRate,s.pitch=(r==null?void 0:r.pitch)||this.settings.voicePitch,s.volume=(r==null?void 0:r.volume)||this.settings.voiceVolume,r!=null&&r.voice){const o=this.availableVoices.find(u=>u.name.includes(r.voice)||u.lang.includes(r.voice));o&&(s.voice=o)}else{const o=this.availableVoices.find(u=>u.lang.startsWith("en")&&u.name.includes("Female"))||this.availableVoices.find(u=>u.lang.startsWith("en"));o&&(s.voice=o)}s.onend=()=>n(),s.onerror=o=>i(new Error(`Speech synthesis failed: ${o.error}`)),this.synthesis.speak(s)})}parseCommand(e,r){const n=e.toLowerCase().trim(),i={action:"unknown",parameters:{},confidence:r,rawTranscript:e,timestamp:new Date};return this.matchPattern(n,["add recipe","create recipe","save recipe"])?(i.action="add_recipe",i.parameters={recipe:this.extractAfterKeywords(n,["add recipe","create recipe","save recipe"])}):this.matchPattern(n,["plan meal","schedule meal","add meal"])?(i.action="plan_meal",i.parameters={meal:this.extractAfterKeywords(n,["plan meal","schedule meal","add meal"]),mealType:this.extractMealType(n),date:this.extractDate(n)}):this.matchPattern(n,["add to grocery","add to shopping","buy","need to buy"])?(i.action="add_grocery_item",i.parameters={item:this.extractAfterKeywords(n,["add to grocery","add to shopping","buy","need to buy"]),quantity:this.extractQuantity(n)}):this.matchPattern(n,["search for","find recipe","look for","show me"])?(i.action="search_recipes",i.parameters={query:this.extractAfterKeywords(n,["search for","find recipe","look for","show me"])}):this.matchPattern(n,["how to make","how do i make","how to cook","how do i cook","cook","make","instructions for","steps for","recipe for"])?(i.action="get_cooking_instructions",i.parameters={recipe:this.extractAfterKeywords(n,["how to make","how do i make","how to cook","how do i cook","cook","make","instructions for","steps for","recipe for"])}):this.matchPattern(n,["step by step","guide me through","walk me through","cooking guide","tell me how","explain how"])?(i.action="step_by_step_guide",i.parameters={recipe:this.extractAfterKeywords(n,["step by step","guide me through","walk me through","cooking guide","tell me how","explain how"])}):this.matchPattern(n,["nutrition facts","calories in","how many calories"])?(i.action="get_nutrition",i.parameters={food:this.extractAfterKeywords(n,["nutrition facts","calories in","how many calories"])}):this.matchPattern(n,["set timer","start timer","timer for"])?(i.action="set_timer",i.parameters={duration:this.extractDuration(n),label:this.extractTimerLabel(n)}):this.matchPattern(n,["find store","nearest store","grocery store near"])?(i.action="find_stores",i.parameters={location:this.extractLocation(n)}):this.matchPattern(n,["find restaurant","restaurants near","food near","places to eat","where to eat"])?(i.action="find_restaurants",i.parameters={location:this.extractLocation(n),cuisine:this.extractCuisine(n),query:n}):this.matchPattern(n,["help","what can you do","commands"])&&(i.action="show_help",i.parameters={}),i}matchPattern(e,r){return r.some(n=>e.includes(n))}extractAfterKeywords(e,r){for(const n of r){const i=e.indexOf(n);if(i!==-1)return e.substring(i+n.length).trim()}return""}extractMealType(e){const r=["breakfast","lunch","dinner","snack","brunch"];for(const n of r)if(e.includes(n))return n;return"dinner"}extractDate(e){const r=new Date;if(e.includes("today"))return r.toISOString().split("T")[0];if(e.includes("tomorrow")){const n=new Date(r);return n.setDate(n.getDate()+1),n.toISOString().split("T")[0]}return r.toISOString().split("T")[0]}extractQuantity(e){const r=e.match(/(\d+(?:\.\d+)?)\s*(?:pounds?|lbs?|kilograms?|kg|grams?|g|ounces?|oz|cups?|tablespoons?|tbsp|teaspoons?|tsp|pieces?|items?)?/i);return r?r[0]:"1"}extractDuration(e){const r=e.match(/(\d+)\s*(?:minutes?|mins?|hours?|hrs?|seconds?|secs?)?/i);if(r){const n=parseInt(r[1]);return e.includes("hour")?n*60:e.includes("second")?Math.max(1,Math.floor(n/60)):n}return 5}extractTimerLabel(e){const r=e.match(/timer for (.+?)(?:\s+for\s+\d+|\s*$)/i);return r?r[1].trim():"Cooking timer"}extractLocation(e){const r=e.match(/(?:near|in|at)\s+(.+)/i);return r?r[1].trim():"current location"}extractCuisine(e){const r=["italian","chinese","mexican","indian","thai","japanese","american","french","mediterranean","pizza","burgers","seafood","vegetarian","vegan"];for(const n of r)if(e.includes(n))return n;return""}getListeningState(){return this.isListening}getProcessingState(){return this.isProcessing}isSupported(){return!!(window.SpeechRecognition||window.webkitSpeechRecognition)&&!!window.speechSynthesis}getAvailableVoices(){return this.availableVoices}updateSettings(e){this.settings={...this.settings,...e},this.recognition&&(this.recognition.lang=this.settings.language,this.recognition.continuous=this.settings.continuous,this.recognition.interimResults=this.settings.interimResults,this.recognition.maxAlternatives=this.settings.maxAlternatives)}stopSpeaking(){this.synthesis.cancel()}isSpeaking(){return this.synthesis.speaking}}function R9(t){const[e,r]=I.useState(!1),[n,i]=I.useState(!1),[s,o]=I.useState(!1),[u,f]=I.useState("idle"),[h,m]=I.useState(null),[v,w]=I.useState(null),C=I.useRef(null);I.useEffect(()=>(C.current=new T9(t==null?void 0:t.settings),o(C.current.isSupported()),()=>{C.current&&(C.current.stopListening(),C.current.stopSpeaking())}),[]);const N=I.useCallback((F,U)=>!C.current||e?!1:C.current.startListening(ee=>{m(ee),w(null),F&&F(ee)},ee=>{w(ee),U&&U(ee)},ee=>{f(ee),r(ee==="listening"),i(ee==="processing")}),[e]),b=I.useCallback(()=>{C.current&&e&&(C.current.stopListening(),r(!1),f("idle"))},[e]),R=I.useCallback(()=>{C.current&&(C.current.pauseListening(),r(!1),f("idle"))},[]),_=I.useCallback(()=>{C.current&&C.current.resumeListening()},[]),S=I.useCallback(async(F,U)=>{if(C.current)try{await C.current.speak(F,U)}catch(X){console.error("Speech synthesis failed:",X),w("Failed to speak text")}},[]),T=I.useCallback(()=>{C.current&&C.current.stopSpeaking()},[]),P=I.useCallback(()=>{var F;return((F=C.current)==null?void 0:F.isSpeaking())||!1},[]),B=I.useCallback(()=>{var F;return((F=C.current)==null?void 0:F.getAvailableVoices())||[]},[]),k=I.useCallback(F=>{C.current&&C.current.updateSettings(F)},[]),M=I.useCallback(()=>{w(null)},[]);return{isListening:e,isProcessing:n,isSupported:s,status:u,lastCommand:h,error:v,startListening:N,stopListening:b,pauseListening:R,resumeListening:_,speak:S,stopSpeaking:T,isSpeaking:P,getAvailableVoices:B,updateSettings:k,clearError:M}}function O9(){const[t,e]=I.useState(!1),[r,n]=I.useState(!1),[i,s]=I.useState([]),{isListening:o,isProcessing:u,isSupported:f,status:h,lastCommand:m,error:v,startListening:w,stopListening:C,speak:N,clearError:b}=R9(),{toast:R}=nn(),_=Jf(),S=Qi({mutationFn:async M=>await P(M),onSuccess:M=>{T("assistant",M.message),M.shouldSpeak&&N(M.message,{interrupt:!0}),M.success&&(_.invalidateQueries({queryKey:["recipes"]}),_.invalidateQueries({queryKey:["meal-plans"]}),_.invalidateQueries({queryKey:["grocery-items"]}))}});I.useEffect(()=>{m&&(T("user",m.rawTranscript),S.mutate(m))},[m]);const T=(M,F)=>{s(U=>[{type:M,text:F,timestamp:new Date},...U.slice(0,9)])},P=async M=>({success:!0,message:{add_recipe:`I'll help you add ${M.parameters.recipe} to your recipes.`,plan_meal:`Planning ${M.parameters.meal} for ${M.parameters.mealType||"dinner"}.`,add_grocery_item:`Added ${M.parameters.item} to your grocery list.`,search_recipes:`Searching for ${M.parameters.query} recipes.`,get_nutrition:`Getting nutrition facts for ${M.parameters.food}.`,set_timer:`Timer set for ${M.parameters.duration} minutes.`,find_stores:`Finding stores near ${M.parameters.location}.`,show_help:"I can help with recipes, meal planning, grocery lists, nutrition info, timers, and store finding."}[M.action]||"I understand you want help with cooking. Let me assist you!",shouldSpeak:!0}),B=()=>{if(!f){R({title:"Voice Not Supported",description:"Your browser doesn't support voice recognition",variant:"destructive"});return}o?C():(b(),e(!0),w())},k=()=>{switch(h){case"listening":return"bg-blue-500 animate-pulse";case"processing":return"bg-orange-500";case"error":return"bg-red-500";default:return"bg-gray-400"}};return f?l.jsxs(l.Fragment,{children:[!t&&l.jsxs("div",{className:"fixed bottom-6 right-6 z-50",children:[l.jsx(se,{onClick:()=>e(!0),className:"w-14 h-14 rounded-full bg-blue-500 hover:bg-blue-600 shadow-lg",children:l.jsx(op,{className:"h-6 w-6 text-white"})}),(o||u)&&l.jsx("div",{className:`absolute -top-1 -right-1 w-4 h-4 rounded-full ${k()}`})]}),t&&l.jsx("div",{className:"fixed bottom-6 right-6 z-50 w-80",children:l.jsxs(oe,{className:"shadow-2xl border-2 border-blue-200",children:[l.jsxs("div",{className:"flex items-center justify-between p-3 bg-blue-500 text-white rounded-t-lg",children:[l.jsxs("div",{className:"flex items-center space-x-2",children:[l.jsx(op,{className:"h-4 w-4"}),l.jsx("span",{className:"font-medium",children:"Voice Assistant"})]}),l.jsxs("div",{className:"flex items-center space-x-1",children:[l.jsx(se,{onClick:()=>n(!r),variant:"ghost",size:"sm",className:"text-white hover:bg-blue-600 h-6 w-6 p-0",children:r?l.jsx(F5,{className:"h-3 w-3"}):l.jsx(H5,{className:"h-3 w-3"})}),l.jsx(se,{onClick:()=>e(!1),variant:"ghost",size:"sm",className:"text-white hover:bg-blue-600 h-6 w-6 p-0",children:l.jsx(ma,{className:"h-3 w-3"})})]})]}),!r&&l.jsxs(le,{className:"p-4 max-h-96 overflow-hidden",children:[l.jsxs("div",{className:"flex items-center justify-between mb-4",children:[l.jsxs(we,{variant:h==="listening"?"default":"secondary",className:"flex items-center space-x-1",children:[l.jsx("div",{className:`w-2 h-2 rounded-full ${k()}`}),l.jsx("span",{className:"capitalize",children:h})]}),l.jsxs(se,{onClick:B,disabled:u,size:"sm",className:o?"bg-red-500 hover:bg-red-600":"bg-blue-500 hover:bg-blue-600",children:[l.jsx(Pi,{className:"h-3 w-3 mr-1"}),o?"Stop":"Talk"]})]}),l.jsx("div",{className:"space-y-2 max-h-64 overflow-y-auto",children:i.length===0?l.jsxs("div",{className:"text-center py-4 text-gray-500",children:[l.jsx(U5,{className:"h-8 w-8 mx-auto mb-2 text-gray-400"}),l.jsx("p",{className:"text-sm",children:'Click "Talk" to start a conversation'}),l.jsx("p",{className:"text-xs mt-1",children:'Try: "Add milk to grocery list"'})]}):i.map((M,F)=>l.jsx("div",{className:`p-2 rounded-lg text-sm ${M.type==="user"?"bg-blue-100 text-blue-800 ml-4":"bg-gray-100 text-gray-800 mr-4"}`,children:l.jsxs("div",{className:"flex items-start justify-between",children:[l.jsx("p",{children:M.text}),l.jsx("span",{className:"text-xs opacity-60 ml-2",children:M.timestamp.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})})]})},F))}),v&&l.jsxs("div",{className:"mt-3 p-2 bg-red-100 rounded text-red-800 text-sm",children:[l.jsx("p",{children:v}),l.jsx(se,{onClick:b,variant:"ghost",size:"sm",className:"mt-1 text-red-600 hover:text-red-800 h-6 px-2",children:"Clear"})]}),l.jsxs("div",{className:"mt-4 pt-3 border-t border-gray-200",children:[l.jsx("p",{className:"text-xs text-gray-500 mb-2",children:"Quick voice commands:"}),l.jsxs("div",{className:"grid grid-cols-2 gap-1 text-xs",children:[l.jsx("div",{className:"text-gray-600",children:'"Add recipe"'}),l.jsx("div",{className:"text-gray-600",children:'"Plan meal"'}),l.jsx("div",{className:"text-gray-600",children:'"Grocery list"'}),l.jsx("div",{className:"text-gray-600",children:'"Find recipes"'})]})]})]})]})})]}):null}const g0=I.forwardRef(({className:t,...e},r)=>l.jsx("textarea",{className:Le("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",t),ref:r,...e}));g0.displayName="Textarea";function P9(){const[t,e]=I.useState(!1),[r,n]=I.useState(null),{toast:i}=nn(),[s,o]=I.useState(""),[u,f]=I.useState(""),[h,m]=I.useState(7),[v,w]=I.useState(""),[C,N]=I.useState(""),[b,R]=I.useState(""),[_,S]=I.useState(""),[T,P]=I.useState(""),B=async()=>{if(!s.trim()){i({title:"Please enter ingredients",variant:"destructive"});return}e(!0);try{const ee=await(await fetch("/api/gemini/recipe/generate",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({ingredients:s.split(",").map(Z=>Z.trim()),cuisine:u||void 0,servings:4,difficulty:"medium"})})).json();n({type:"recipe",data:ee}),i({title:"Recipe generated successfully!"})}catch{i({title:"Failed to generate recipe",variant:"destructive"})}e(!1)},k=async()=>{e(!0);try{const ee=await(await fetch("/api/gemini/meal-plan/generate",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({days:h,budget:v?parseFloat(v):void 0,preferences:["healthy","balanced"]})})).json();n({type:"mealPlan",data:ee}),i({title:"Meal plan generated successfully!"})}catch{i({title:"Failed to generate meal plan",variant:"destructive"})}e(!1)},M=async()=>{if(!C.trim()){i({title:"Please enter a food item",variant:"destructive"});return}e(!0);try{const ee=await(await fetch("/api/gemini/nutrition/analyze",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({foodItem:C,quantity:b||"1 serving"})})).json();n({type:"nutrition",data:ee}),i({title:"Nutrition analysis completed!"})}catch{i({title:"Failed to analyze nutrition",variant:"destructive"})}e(!1)},F=async()=>{if(!_.trim()){i({title:"Please enter a voice command",variant:"destructive"});return}e(!0);try{const ee=await(await fetch("/api/gemini/voice/process",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({command:_})})).json();n({type:"voice",data:ee}),i({title:"Voice command processed!"})}catch{i({title:"Failed to process voice command",variant:"destructive"})}e(!1)},U=async()=>{if(!T.trim()){i({title:"Please enter grocery items",variant:"destructive"});return}e(!0);try{const ee=await(await fetch("/api/gemini/shopping/suggestions",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({groceryList:T.split(",").map(Z=>Z.trim())})})).json();n({type:"shopping",data:ee}),i({title:"Shopping suggestions generated!"})}catch{i({title:"Failed to get shopping suggestions",variant:"destructive"})}e(!1)};return l.jsxs("div",{className:"max-w-6xl mx-auto p-6 space-y-6",children:[l.jsxs("div",{className:"text-center",children:[l.jsxs("h1",{className:"text-3xl font-bold flex items-center justify-center gap-2",children:[l.jsx(X2,{className:"h-8 w-8 text-blue-600"}),"Gemini AI Kitchen Assistant"]}),l.jsx("p",{className:"text-gray-600 mt-2",children:"Free AI-powered cooking features using Google Gemini"}),l.jsx(we,{variant:"secondary",className:"mt-2",children:"100% Free  1,500 requests/day"})]}),l.jsxs(Wl,{defaultValue:"recipe",className:"w-full",children:[l.jsxs(Xl,{className:"grid w-full grid-cols-5",children:[l.jsxs(tn,{value:"recipe",className:"flex items-center gap-2",children:[l.jsx(wf,{className:"h-4 w-4"}),"Recipe"]}),l.jsxs(tn,{value:"meal-plan",className:"flex items-center gap-2",children:[l.jsx(Md,{className:"h-4 w-4"}),"Meal Plan"]}),l.jsxs(tn,{value:"nutrition",className:"flex items-center gap-2",children:[l.jsx(X2,{className:"h-4 w-4"}),"Nutrition"]}),l.jsxs(tn,{value:"voice",className:"flex items-center gap-2",children:[l.jsx(Pi,{className:"h-4 w-4"}),"Voice"]}),l.jsxs(tn,{value:"shopping",className:"flex items-center gap-2",children:[l.jsx(In,{className:"h-4 w-4"}),"Shopping"]})]}),l.jsx(pn,{value:"recipe",children:l.jsxs(oe,{children:[l.jsxs(ve,{children:[l.jsx(ye,{children:"AI Recipe Generator"}),l.jsx(xt,{children:"Generate recipes from ingredients using Gemini AI"})]}),l.jsxs(le,{className:"space-y-4",children:[l.jsx(Zt,{placeholder:"Enter ingredients (comma separated): chicken, rice, vegetables",value:s,onChange:X=>o(X.target.value)}),l.jsx(Zt,{placeholder:"Cuisine style (optional): Italian, Chinese, Mexican",value:u,onChange:X=>f(X.target.value)}),l.jsxs(se,{onClick:B,disabled:t,className:"w-full",children:[t?l.jsx(ii,{className:"h-4 w-4 animate-spin mr-2"}):null,"Generate Recipe with AI"]})]})]})}),l.jsx(pn,{value:"meal-plan",children:l.jsxs(oe,{children:[l.jsxs(ve,{children:[l.jsx(ye,{children:"AI Meal Planner"}),l.jsx(xt,{children:"Create personalized meal plans with budget optimization"})]}),l.jsxs(le,{className:"space-y-4",children:[l.jsx(Zt,{type:"number",placeholder:"Number of days (1-14)",value:h,onChange:X=>m(parseInt(X.target.value)||7),min:"1",max:"14"}),l.jsx(Zt,{placeholder:"Daily budget (optional): 25",value:v,onChange:X=>w(X.target.value)}),l.jsxs(se,{onClick:k,disabled:t,className:"w-full",children:[t?l.jsx(ii,{className:"h-4 w-4 animate-spin mr-2"}):null,"Generate Meal Plan with AI"]})]})]})}),l.jsx(pn,{value:"nutrition",children:l.jsxs(oe,{children:[l.jsxs(ve,{children:[l.jsx(ye,{children:"AI Nutrition Analyzer"}),l.jsx(xt,{children:"Get detailed nutritional information powered by AI"})]}),l.jsxs(le,{className:"space-y-4",children:[l.jsx(Zt,{placeholder:"Food item: grilled chicken breast",value:C,onChange:X=>N(X.target.value)}),l.jsx(Zt,{placeholder:"Quantity (optional): 1 serving, 100g, 1 cup",value:b,onChange:X=>R(X.target.value)}),l.jsxs(se,{onClick:M,disabled:t,className:"w-full",children:[t?l.jsx(ii,{className:"h-4 w-4 animate-spin mr-2"}):null,"Analyze Nutrition with AI"]})]})]})}),l.jsx(pn,{value:"voice",children:l.jsxs(oe,{children:[l.jsxs(ve,{children:[l.jsx(ye,{children:"Voice Command Processor"}),l.jsx(xt,{children:"Test natural language commands for cooking assistance"})]}),l.jsxs(le,{className:"space-y-4",children:[l.jsx(g0,{placeholder:"Try: 'Find me a quick dinner recipe with chicken' or 'Plan my meals for this week'",value:_,onChange:X=>S(X.target.value),rows:3}),l.jsxs(se,{onClick:F,disabled:t,className:"w-full",children:[t?l.jsx(ii,{className:"h-4 w-4 animate-spin mr-2"}):null,"Process Command with AI"]})]})]})}),l.jsx(pn,{value:"shopping",children:l.jsxs(oe,{children:[l.jsxs(ve,{children:[l.jsx(ye,{children:"Smart Shopping Assistant"}),l.jsx(xt,{children:"Get AI-powered shopping tips and budget optimization"})]}),l.jsxs(le,{className:"space-y-4",children:[l.jsx(Zt,{placeholder:"Grocery items (comma separated): milk, bread, eggs, chicken",value:T,onChange:X=>P(X.target.value)}),l.jsxs(se,{onClick:U,disabled:t,className:"w-full",children:[t?l.jsx(ii,{className:"h-4 w-4 animate-spin mr-2"}):null,"Get Shopping Suggestions with AI"]})]})]})})]}),r&&l.jsxs(oe,{className:"mt-6",children:[l.jsx(ve,{children:l.jsx(ye,{children:"AI Results"})}),l.jsx(le,{children:l.jsx("div",{className:"bg-gray-50 p-4 rounded-lg",children:l.jsx("pre",{className:"whitespace-pre-wrap text-sm",children:JSON.stringify(r.data,null,2)})})})]})]})}function D9(){const[t,e]=I.useState("voice");return I.useState(!1),I.useState([{id:1,name:"Spaghetti Carbonara",description:"Classic Italian pasta dish",readyInMinutes:30,servings:4},{id:2,name:"Chicken Stir Fry",description:"Quick and healthy dinner",readyInMinutes:20,servings:2}]),l.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-orange-100 via-orange-50 to-orange-200",children:[l.jsxs("div",{className:"flex h-screen",children:[l.jsxs("div",{className:"w-80 bg-white border-r border-orange-200 shadow-xl flex flex-col overflow-hidden",children:[l.jsxs("div",{className:"p-6 bg-gradient-to-r from-orange-500 to-orange-600",children:[l.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[l.jsx("div",{className:"w-12 h-12 bg-white/20 rounded-xl flex items-center justify-center shadow-lg",children:l.jsx(au,{className:"w-6 h-6 text-white"})}),l.jsxs("div",{children:[l.jsx("h1",{className:"text-2xl font-bold text-white",children:"ChefGrocer"}),l.jsx("p",{className:"text-orange-100",children:"AI-Powered Kitchen Assistant"})]})]}),l.jsxs("div",{className:"flex items-center gap-2 text-white/90",children:[l.jsx("div",{className:"w-3 h-3 bg-green-400 rounded-full animate-pulse shadow-md"}),l.jsx("span",{className:"font-medium",children:"Voice Ready"}),l.jsx(T5,{className:"w-4 h-4 text-white/80"})]})]}),l.jsx("div",{className:"flex-1 overflow-auto",children:l.jsxs(Wl,{value:t,onValueChange:e,className:"h-full flex flex-col",children:[l.jsxs("div",{className:"grid grid-cols-4 gap-2 p-4 bg-white border-b border-orange-100",children:[l.jsxs("button",{onClick:()=>e("voice"),className:`flex flex-col gap-2 py-3 px-2 rounded-lg transition-colors ${t==="voice"?"bg-orange-500 text-white shadow-md":"hover:bg-orange-50 text-gray-700"}`,children:[l.jsx(Pi,{className:"w-5 h-5 mx-auto"}),l.jsx("span",{className:"text-xs font-medium",children:"Voice"})]}),l.jsxs("button",{onClick:()=>e("recipes"),className:`flex flex-col gap-2 py-3 px-2 rounded-lg transition-colors ${t==="recipes"?"bg-orange-500 text-white shadow-md":"hover:bg-orange-50 text-gray-700"}`,children:[l.jsx(W2,{className:"w-5 h-5 mx-auto"}),l.jsx("span",{className:"text-xs font-medium",children:"Recipe"})]}),l.jsxs("button",{onClick:()=>e("stores"),className:`flex flex-col gap-2 py-3 px-2 rounded-lg transition-colors ${t==="stores"?"bg-orange-500 text-white shadow-md":"hover:bg-orange-50 text-gray-700"}`,children:[l.jsx(Ji,{className:"w-5 h-5 mx-auto"}),l.jsx("span",{className:"text-xs font-medium",children:"Stores"})]}),l.jsxs("button",{onClick:()=>e("shop"),className:`flex flex-col gap-2 py-3 px-2 rounded-lg transition-colors ${t==="shop"?"bg-orange-500 text-white shadow-md":"hover:bg-orange-50 text-gray-700"}`,children:[l.jsx(In,{className:"w-5 h-5 mx-auto"}),l.jsx("span",{className:"text-xs font-medium",children:"Shop"})]})]}),l.jsxs("div",{className:"grid grid-cols-4 gap-2 p-4 border-b border-orange-100",children:[l.jsxs("button",{onClick:()=>e("food"),className:`flex flex-col gap-2 py-3 px-2 rounded-lg transition-colors ${t==="food"?"bg-orange-500 text-white shadow-md":"hover:bg-orange-50 text-gray-700"}`,children:[l.jsx(wf,{className:"w-5 h-5 mx-auto"}),l.jsx("span",{className:"text-xs font-medium",children:"Food"})]}),l.jsxs("button",{onClick:()=>e("budget"),className:`flex flex-col gap-2 py-3 px-2 rounded-lg transition-colors ${t==="budget"?"bg-orange-500 text-white shadow-md":"hover:bg-orange-50 text-gray-700"}`,children:[l.jsx(ci,{className:"w-5 h-5 mx-auto"}),l.jsx("span",{className:"text-xs font-medium",children:"Budget"})]}),l.jsxs("button",{onClick:()=>e("meals"),className:`flex flex-col gap-2 py-3 px-2 rounded-lg transition-colors ${t==="meals"?"bg-orange-500 text-white shadow-md":"hover:bg-orange-50 text-gray-700"}`,children:[l.jsx(Md,{className:"w-5 h-5 mx-auto"}),l.jsx("span",{className:"text-xs font-medium",children:"Meals"})]}),l.jsxs("button",{onClick:()=>e("pro"),className:`flex flex-col gap-2 py-3 px-2 rounded-lg transition-colors ${t==="pro"?"bg-orange-500 text-white shadow-md":"hover:bg-orange-50 text-gray-700"}`,children:[l.jsx(ns,{className:"w-5 h-5 mx-auto"}),l.jsx("span",{className:"text-xs font-medium",children:"Pro"})]})]}),l.jsxs("div",{className:"p-4 bg-gradient-to-br from-orange-50 to-orange-100 border-b border-orange-200",children:[l.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-2",children:"Voice AI Chef"}),l.jsx("p",{className:"text-gray-700 mb-3 text-sm",children:"Advanced hands-free cooking guidance"}),l.jsxs("div",{className:"flex items-center justify-between mb-3",children:[l.jsx("span",{className:"text-sm font-medium text-green-700",children:"Active"}),l.jsx("div",{className:"w-6 h-6 bg-green-500 rounded-full flex items-center justify-center",children:l.jsx("div",{className:"w-3 h-3 bg-white rounded-full animate-pulse"})})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx("div",{className:"text-sm font-medium text-gray-900",children:"Voice Commands"}),l.jsx("div",{className:"w-8 h-8 bg-orange-500 rounded-full flex items-center justify-center shadow-md",children:l.jsx(Pi,{className:"w-4 h-4 text-white"})})]})]})]})})]}),l.jsx("div",{className:"flex-1 overflow-auto",children:l.jsxs("div",{className:"p-6 space-y-6",children:[t==="voice"&&l.jsx("div",{className:"space-y-6",children:l.jsxs(oe,{className:"border-orange-500 shadow-2xl bg-gradient-to-br from-orange-100 to-orange-200",children:[l.jsx(ve,{className:"bg-gradient-to-r from-orange-500 to-orange-600 rounded-t-lg",children:l.jsxs(ye,{className:"flex items-center gap-4 text-white",children:[l.jsx("div",{className:"w-12 h-12 bg-orange-700 rounded-2xl flex items-center justify-center shadow-lg",children:l.jsx(Pi,{className:"w-6 h-6 text-white"})}),l.jsxs("div",{children:[l.jsx("h2",{className:"text-2xl font-bold",children:"Voice AI Chef"}),l.jsx("p",{className:"text-base text-orange-100 font-medium",children:"Your hands-free cooking companion"})]}),l.jsx(we,{className:"ml-auto bg-green-600 text-white px-3 py-1 shadow-md",children:"Active"})]})}),l.jsxs(le,{className:"p-6 space-y-6",children:[l.jsx(P9,{}),l.jsx(zR,{})]})]})}),t==="recipes"&&l.jsx("div",{className:"space-y-6",children:l.jsxs(oe,{className:"border-orange-500 shadow-2xl bg-gradient-to-br from-orange-100 to-orange-200",children:[l.jsx(ve,{className:"bg-gradient-to-r from-orange-500 to-orange-600 rounded-t-lg",children:l.jsxs(ye,{className:"flex items-center gap-4 text-white",children:[l.jsx("div",{className:"w-12 h-12 bg-orange-700 rounded-2xl flex items-center justify-center shadow-lg",children:l.jsx(W2,{className:"w-6 h-6 text-white"})}),l.jsxs("div",{children:[l.jsx("h2",{className:"text-2xl font-bold",children:"Recipe Discovery"}),l.jsx("p",{className:"text-base text-orange-100 font-medium",children:"500,000+ recipes at your fingertips"})]}),l.jsx(we,{className:"ml-auto bg-blue-600 text-white px-3 py-1 shadow-md",children:"Premium"})]})}),l.jsx(le,{className:"p-6 space-y-6",children:l.jsx(y9,{})})]})}),t==="stores"&&l.jsx("div",{className:"space-y-6",children:l.jsxs(oe,{className:"border-orange-500 shadow-2xl bg-gradient-to-br from-orange-100 to-orange-200",children:[l.jsx(ve,{className:"bg-gradient-to-r from-orange-500 to-orange-600 rounded-t-lg",children:l.jsxs(ye,{className:"flex items-center gap-4 text-white",children:[l.jsx("div",{className:"w-12 h-12 bg-orange-700 rounded-2xl flex items-center justify-center shadow-lg",children:l.jsx(Ji,{className:"w-6 h-6 text-white"})}),l.jsxs("div",{children:[l.jsx("h2",{className:"text-2xl font-bold",children:"Find Stores Near You"}),l.jsx("p",{className:"text-base text-orange-100 font-medium",children:"Real locations with Google Maps integration"})]}),l.jsx(we,{className:"ml-auto bg-green-600 text-white px-3 py-1 shadow-md",children:"Live GPS"})]})}),l.jsxs(le,{className:"p-6 space-y-6",children:[l.jsx(w9,{}),l.jsx(C9,{})]})]})}),t==="shop"&&l.jsx("div",{className:"space-y-6",children:l.jsxs(oe,{className:"border-orange-500 shadow-2xl bg-gradient-to-br from-orange-100 to-orange-200",children:[l.jsx(ve,{className:"bg-gradient-to-r from-orange-500 to-orange-600 rounded-t-lg",children:l.jsxs(ye,{className:"flex items-center gap-4 text-white",children:[l.jsx("div",{className:"w-12 h-12 bg-orange-700 rounded-2xl flex items-center justify-center shadow-lg",children:l.jsx(In,{className:"w-6 h-6 text-white"})}),l.jsxs("div",{children:[l.jsx("h2",{className:"text-2xl font-bold",children:"Smart Shopping"}),l.jsx("p",{className:"text-base text-orange-100 font-medium",children:"Intelligent grocery lists and price comparison"})]}),l.jsx(we,{className:"ml-auto bg-purple-600 text-white px-3 py-1 shadow-md",children:"AI-Powered"})]})}),l.jsx(le,{className:"p-6 space-y-6",children:l.jsx(I9,{})})]})}),t==="budget"&&l.jsx("div",{className:"space-y-6",children:l.jsxs(oe,{className:"border-emerald-500 shadow-2xl bg-gradient-to-br from-emerald-50 to-emerald-100",children:[l.jsx(ve,{className:"bg-gradient-to-r from-emerald-500 to-emerald-600 rounded-t-lg",children:l.jsxs(ye,{className:"flex items-center gap-4 text-white",children:[l.jsx("div",{className:"w-12 h-12 bg-emerald-700 rounded-2xl flex items-center justify-center shadow-lg",children:l.jsx(ci,{className:"w-6 h-6 text-white"})}),l.jsxs("div",{children:[l.jsx("h2",{className:"text-2xl font-bold",children:"Smart Budget Tracker"}),l.jsx("p",{className:"text-base text-emerald-100 font-medium",children:"Track your food spending and save money"})]})]})}),l.jsx(le,{className:"p-8",children:l.jsxs("div",{className:"text-center p-8",children:[l.jsx(ci,{className:"w-16 h-16 mx-auto mb-4 text-emerald-500"}),l.jsx("h3",{className:"text-xl font-semibold mb-2",children:"Budget Tracker Coming Soon"}),l.jsx("p",{className:"text-gray-600",children:"Track your food expenses and savings"})]})})]})}),t==="meals"&&l.jsx("div",{className:"space-y-6",children:l.jsxs(oe,{className:"border-indigo-500 shadow-2xl bg-gradient-to-br from-indigo-50 to-indigo-100",children:[l.jsx(ve,{className:"bg-gradient-to-r from-indigo-500 to-indigo-600 rounded-t-lg",children:l.jsxs(ye,{className:"flex items-center gap-4 text-white",children:[l.jsx("div",{className:"w-12 h-12 bg-indigo-700 rounded-2xl flex items-center justify-center shadow-lg",children:l.jsx(Md,{className:"w-6 h-6 text-white"})}),l.jsxs("div",{children:[l.jsx("h2",{className:"text-2xl font-bold",children:"Daily Meal Calendar"}),l.jsx("p",{className:"text-base text-indigo-100 font-medium",children:"Plan your meals for the week ahead"})]})]})}),l.jsx(le,{className:"p-8",children:l.jsxs("div",{className:"text-center p-8",children:[l.jsx(Md,{className:"w-16 h-16 mx-auto mb-4 text-indigo-500"}),l.jsx("h3",{className:"text-xl font-semibold mb-2",children:"Meal Calendar Coming Soon"}),l.jsx("p",{className:"text-gray-600",children:"Plan your weekly meals with AI assistance"})]})})]})}),t==="pro"&&l.jsx("div",{className:"space-y-6",children:l.jsxs(oe,{className:"border-purple-500 shadow-2xl bg-gradient-to-br from-purple-50 to-purple-100",children:[l.jsx(ve,{className:"bg-gradient-to-r from-purple-500 to-purple-600 rounded-t-lg",children:l.jsxs(ye,{className:"flex items-center gap-4 text-white",children:[l.jsx("div",{className:"w-12 h-12 bg-purple-700 rounded-2xl flex items-center justify-center shadow-lg",children:l.jsx(ns,{className:"w-6 h-6 text-white"})}),l.jsxs("div",{children:[l.jsx("h2",{className:"text-2xl font-bold",children:"ChefGrocer Premium"}),l.jsx("p",{className:"text-base text-purple-100 font-medium",children:"Unlock advanced cooking features"})]})]})}),l.jsx(le,{className:"p-8",children:l.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:l.jsxs("div",{className:"text-center p-6 border border-orange-300 rounded-lg bg-white shadow-md",children:[l.jsx(ns,{className:"w-12 h-12 mx-auto mb-4 text-orange-500"}),l.jsx("h3",{className:"text-xl font-bold text-orange-900",children:"Premium"}),l.jsx("div",{className:"text-3xl font-bold text-orange-900",children:"$4.99"}),l.jsx("p",{className:"text-orange-700",children:"per month"}),l.jsx(se,{className:"w-full mt-4 bg-orange-500 hover:bg-orange-600 text-white",children:"Upgrade Now"})]})})})]})})]})})]}),l.jsx(O9,{})]})}function j9(){return l.jsx("div",{className:"min-h-screen bg-gradient-to-br from-orange-50 to-amber-50 dark:from-gray-900 dark:to-gray-800",children:l.jsxs("div",{className:"container mx-auto px-4 py-16",children:[l.jsxs("div",{className:"text-center mb-16",children:[l.jsxs("div",{className:"inline-flex items-center gap-2 mb-6",children:[l.jsx(au,{className:"h-8 w-8 text-orange-600"}),l.jsx("h1",{className:"text-4xl font-bold text-gray-900 dark:text-white",children:"ChefGrocer"})]}),l.jsx("h2",{className:"text-3xl md:text-5xl font-bold text-gray-900 dark:text-white mb-6",children:"Your AI-Powered Cooking Assistant"}),l.jsx("p",{className:"text-xl text-gray-600 dark:text-gray-300 mb-8 max-w-3xl mx-auto",children:"Transform your kitchen into a smart cooking hub with voice commands, AI-powered meal planning, and money-saving grocery management. Cook smarter, save more, and enjoy every meal."}),l.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center",children:[l.jsx(se,{onClick:()=>window.location.href="/login",size:"lg",className:"bg-orange-600 hover:bg-orange-700 text-white px-8 py-3 text-lg",children:"Start Cooking Smart"}),l.jsx(se,{variant:"outline",size:"lg",className:"border-orange-600 text-orange-600 hover:bg-orange-50 px-8 py-3 text-lg",children:"Watch Demo"})]}),l.jsxs("div",{className:"mt-6 text-center space-x-4",children:[l.jsx(se,{onClick:()=>window.location.href="/privacy-policy",variant:"ghost",size:"sm",className:"text-gray-600 hover:text-gray-800",children:"Privacy Policy"}),l.jsx(se,{onClick:()=>window.location.href="/terms",variant:"ghost",size:"sm",className:"text-gray-600 hover:text-gray-800",children:"Terms of Use"})]})]}),l.jsxs("div",{className:"grid md:grid-cols-3 gap-8 mb-16",children:[l.jsx(oe,{className:"text-center",children:l.jsxs(ve,{children:[l.jsx(Pi,{className:"h-12 w-12 text-orange-600 mx-auto mb-4"}),l.jsx(ye,{children:"Voice Commands"}),l.jsx(xt,{children:"Control your kitchen hands-free with natural voice commands. Perfect for busy cooking moments."})]})}),l.jsx(oe,{className:"text-center",children:l.jsxs(ve,{children:[l.jsx(lu,{className:"h-12 w-12 text-orange-600 mx-auto mb-4"}),l.jsx(ye,{children:"AI Meal Planning"}),l.jsx(xt,{children:"Get personalized recipe suggestions and meal plans based on your preferences and dietary needs."})]})}),l.jsx(oe,{className:"text-center",children:l.jsxs(ve,{children:[l.jsx(ci,{className:"h-12 w-12 text-orange-600 mx-auto mb-4"}),l.jsx(ye,{children:"Smart Savings"}),l.jsx(xt,{children:"Compare prices across stores, find deals, and get personalized money-saving tips for groceries."})]})})]}),l.jsxs("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-6 mb-16",children:[l.jsxs(oe,{children:[l.jsx(ve,{children:l.jsxs(ye,{className:"flex items-center gap-2",children:[l.jsx(Ns,{className:"h-5 w-5 text-orange-600"}),"Recipe Management"]})}),l.jsx(le,{children:l.jsx("p",{className:"text-gray-600 dark:text-gray-300",children:"Store, organize, and discover new recipes with detailed nutrition information and cooking instructions."})})]}),l.jsxs(oe,{children:[l.jsx(ve,{children:l.jsxs(ye,{className:"flex items-center gap-2",children:[l.jsx(qC,{className:"h-5 w-5 text-orange-600"}),"Nutrition Tracking"]})}),l.jsx(le,{children:l.jsx("p",{className:"text-gray-600 dark:text-gray-300",children:"Track calories, macros, and nutrients across 1000+ foods with comprehensive nutrition data."})})]}),l.jsxs(oe,{children:[l.jsx(ve,{children:l.jsxs(ye,{className:"flex items-center gap-2",children:[l.jsx(ci,{className:"h-5 w-5 text-orange-600"}),"Price Comparison"]})}),l.jsx(le,{children:l.jsx("p",{className:"text-gray-600 dark:text-gray-300",children:"Compare grocery prices across multiple stores and get alerts when items go on sale."})})]})]}),l.jsxs("div",{className:"text-center mb-16",children:[l.jsx("h3",{className:"text-2xl font-bold text-gray-900 dark:text-white mb-8",children:"Start Free, Upgrade When Ready"}),l.jsxs("div",{className:"grid md:grid-cols-3 gap-6 max-w-4xl mx-auto mb-8",children:[l.jsxs(oe,{className:"text-center",children:[l.jsxs(ve,{children:[l.jsx(ye,{className:"text-lg",children:"Free"}),l.jsxs("div",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:["$0",l.jsx("span",{className:"text-sm font-normal text-gray-500",children:"/month"})]})]}),l.jsx(le,{children:l.jsxs("div",{className:"space-y-2 text-sm",children:[l.jsx("div",{children:" Basic voice commands"}),l.jsx("div",{children:" Simple recipe management"}),l.jsx("div",{children:" Price comparison"}),l.jsx("div",{children:" Basic grocery lists"})]})})]}),l.jsxs(oe,{className:"text-center border-2 border-orange-500 relative",children:[l.jsx(we,{className:"absolute -top-2 left-1/2 transform -translate-x-1/2 bg-orange-500",children:"Most Popular"}),l.jsxs(ve,{children:[l.jsx(ye,{className:"text-lg",children:"Premium"}),l.jsxs("div",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:["$4.99",l.jsx("span",{className:"text-sm font-normal text-gray-500",children:"/month"})]}),l.jsx("div",{className:"text-sm text-green-600",children:"7-day free trial"})]}),l.jsxs(le,{children:[l.jsxs("div",{className:"space-y-2 text-sm",children:[l.jsx("div",{children:" Everything in Free"}),l.jsx("div",{children:" Unlimited AI recipes"}),l.jsx("div",{children:" Advanced meal planning"}),l.jsx("div",{children:" Smart grocery lists"}),l.jsx("div",{children:" Nutrition tracking"})]}),l.jsx(se,{onClick:()=>window.location.href="/login",className:"w-full mt-4 bg-orange-600 hover:bg-orange-700",children:"Start Free Trial"})]})]}),l.jsxs(oe,{className:"text-center border-2 border-yellow-500",children:[l.jsx(we,{className:"absolute -top-2 left-1/2 transform -translate-x-1/2 bg-yellow-500 text-black",children:"Best Value"}),l.jsxs(ve,{children:[l.jsx(ye,{className:"text-lg",children:"Lifetime Pass"}),l.jsxs("div",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:["$99.99",l.jsx("span",{className:"text-sm font-normal text-gray-500",children:" one-time"})]}),l.jsx("div",{className:"text-sm text-red-600",children:"Only 953 left!"})]}),l.jsxs(le,{children:[l.jsxs("div",{className:"space-y-2 text-sm",children:[l.jsx("div",{children:" Everything in Pro"}),l.jsx("div",{children:" Lifetime access"}),l.jsx("div",{children:" No recurring payments"}),l.jsx("div",{children:" All future features"}),l.jsx("div",{children:" Priority support"})]}),l.jsx(se,{onClick:()=>window.location.href="/login",className:"w-full mt-4 bg-yellow-600 hover:bg-yellow-700",children:"Get Lifetime Access"})]})]})]}),l.jsx("div",{className:"text-center",children:l.jsx(se,{onClick:()=>window.location.href="/login",variant:"outline",className:"border-orange-600 text-orange-600 hover:bg-orange-50",children:"View All Plans & Pricing"})})]}),l.jsx("div",{className:"text-center",children:l.jsxs(oe,{className:"max-w-2xl mx-auto bg-gradient-to-r from-orange-600 to-amber-600 text-white",children:[l.jsxs(ve,{children:[l.jsx(ye,{className:"text-2xl",children:"Ready to Transform Your Kitchen?"}),l.jsx(xt,{className:"text-orange-100",children:"Join thousands of home cooks who are saving time and money with ChefGrocer."})]}),l.jsx(le,{children:l.jsx(se,{onClick:()=>window.location.href="/",size:"lg",variant:"secondary",className:"bg-white text-orange-600 hover:bg-gray-100 px-8 py-3 text-lg",children:"Get Started Free"})})]})})]})})}function M9(){return l.jsx("div",{className:"min-h-screen w-full flex items-center justify-center bg-gray-50",children:l.jsx(oe,{className:"w-full max-w-md mx-4",children:l.jsxs(le,{className:"pt-6",children:[l.jsxs("div",{className:"flex mb-4 gap-2",children:[l.jsx(Sa,{className:"h-8 w-8 text-red-500"}),l.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"404 Page Not Found"})]}),l.jsx("p",{className:"mt-4 text-sm text-gray-600",children:"Did you forget to add the page to the router?"})]})})})}var XA={exports:{}},k9="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",L9=k9,B9=L9;function YA(){}function $A(){}$A.resetWarningCache=YA;var F9=function(){function t(n,i,s,o,u,f){if(f!==B9){var h=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw h.name="Invariant Violation",h}}t.isRequired=t;function e(){return t}var r={array:t,bigint:t,bool:t,func:t,number:t,object:t,string:t,symbol:t,any:t,arrayOf:e,element:t,elementType:t,instanceOf:e,node:t,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e,checkPropTypes:$A,resetWarningCache:YA};return r.PropTypes=r,r};XA.exports=F9();var U9=XA.exports;const $t=Mf(U9);function yv(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function wv(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?yv(Object(r),!0).forEach(function(n){KA(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):yv(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Fd(t){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Fd=function(e){return typeof e}:Fd=function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Fd(t)}function KA(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function V9(t,e){if(t==null)return{};var r={},n=Object.keys(t),i,s;for(s=0;s<n.length;s++)i=n[s],!(e.indexOf(i)>=0)&&(r[i]=t[i]);return r}function H9(t,e){if(t==null)return{};var r=V9(t,e),n,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)n=s[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function ZA(t,e){return z9(t)||G9(t,e)||W9(t,e)||X9()}function z9(t){if(Array.isArray(t))return t}function G9(t,e){var r=t&&(typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"]);if(r!=null){var n=[],i=!0,s=!1,o,u;try{for(r=r.call(t);!(i=(o=r.next()).done)&&(n.push(o.value),!(e&&n.length===e));i=!0);}catch(f){s=!0,u=f}finally{try{!i&&r.return!=null&&r.return()}finally{if(s)throw u}}return n}}function W9(t,e){if(t){if(typeof t=="string")return Cv(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Cv(t,e)}}function Cv(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function X9(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var Ln=function(e,r,n){var i=!!n,s=ot.useRef(n);ot.useEffect(function(){s.current=n},[n]),ot.useEffect(function(){if(!i||!e)return function(){};var o=function(){s.current&&s.current.apply(s,arguments)};return e.on(r,o),function(){e.off(r,o)}},[i,r,e,s])},Ap=function(e){var r=ot.useRef(e);return ot.useEffect(function(){r.current=e},[e]),r.current},jl=function(e){return e!==null&&Fd(e)==="object"},Y9=function(e){return jl(e)&&typeof e.then=="function"},$9=function(e){return jl(e)&&typeof e.elements=="function"&&typeof e.createToken=="function"&&typeof e.createPaymentMethod=="function"&&typeof e.confirmCardPayment=="function"},Ev="[object Object]",K9=function t(e,r){if(!jl(e)||!jl(r))return e===r;var n=Array.isArray(e),i=Array.isArray(r);if(n!==i)return!1;var s=Object.prototype.toString.call(e)===Ev,o=Object.prototype.toString.call(r)===Ev;if(s!==o)return!1;if(!s&&!n)return e===r;var u=Object.keys(e),f=Object.keys(r);if(u.length!==f.length)return!1;for(var h={},m=0;m<u.length;m+=1)h[u[m]]=!0;for(var v=0;v<f.length;v+=1)h[f[v]]=!0;var w=Object.keys(h);if(w.length!==u.length)return!1;var C=e,N=r,b=function(_){return t(C[_],N[_])};return w.every(b)},qA=function(e,r,n){return jl(e)?Object.keys(e).reduce(function(i,s){var o=!jl(r)||!K9(e[s],r[s]);return n.includes(s)?(o&&console.warn("Unsupported prop change: options.".concat(s," is not a mutable property.")),i):o?wv(wv({},i||{}),{},KA({},s,e[s])):i},null):null},QA="Invalid prop `stripe` supplied to `Elements`. We recommend using the `loadStripe` utility from `@stripe/stripe-js`. See https://stripe.com/docs/stripe-js/react#elements-props-stripe for details.",Av=function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:QA;if(e===null||$9(e))return e;throw new Error(r)},Z9=function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:QA;if(Y9(e))return{tag:"async",stripePromise:Promise.resolve(e).then(function(i){return Av(i,r)})};var n=Av(e,r);return n===null?{tag:"empty"}:{tag:"sync",stripe:n}},q9=function(e){!e||!e._registerWrapper||!e.registerAppInfo||(e._registerWrapper({name:"react-stripe-js",version:"3.9.0"}),e.registerAppInfo({name:"react-stripe-js",version:"3.9.0",url:"https://stripe.com/docs/stripe-js/react"}))},m0=ot.createContext(null);m0.displayName="ElementsContext";var JA=function(e,r){if(!e)throw new Error("Could not find Elements context; You need to wrap the part of your app that ".concat(r," in an <Elements> provider."));return e},v0=function(e){var r=e.stripe,n=e.options,i=e.children,s=ot.useMemo(function(){return Z9(r)},[r]),o=ot.useState(function(){return{stripe:s.tag==="sync"?s.stripe:null,elements:s.tag==="sync"?s.stripe.elements(n):null}}),u=ZA(o,2),f=u[0],h=u[1];ot.useEffect(function(){var w=!0,C=function(b){h(function(R){return R.stripe?R:{stripe:b,elements:b.elements(n)}})};return s.tag==="async"&&!f.stripe?s.stripePromise.then(function(N){N&&w&&C(N)}):s.tag==="sync"&&!f.stripe&&C(s.stripe),function(){w=!1}},[s,f,n]);var m=Ap(r);ot.useEffect(function(){m!==null&&m!==r&&console.warn("Unsupported prop change on Elements: You cannot change the `stripe` prop after setting it.")},[m,r]);var v=Ap(n);return ot.useEffect(function(){if(f.elements){var w=qA(n,v,["clientSecret","fonts"]);w&&f.elements.update(w)}},[n,v,f.elements]),ot.useEffect(function(){q9(f.stripe)},[f.stripe]),ot.createElement(m0.Provider,{value:f},i)};v0.propTypes={stripe:$t.any,options:$t.object};var Q9=function(e){var r=ot.useContext(m0);return JA(r,e)},_g=function(){var e=Q9("calls useElements()"),r=e.elements;return r};$t.func.isRequired;var e8=ot.createContext(null);e8.displayName="CheckoutSdkContext";var J9=function(e,r){if(!e)throw new Error("Could not find CheckoutProvider context; You need to wrap the part of your app that ".concat(r," in an <CheckoutProvider> provider."));return e},eO=ot.createContext(null);eO.displayName="CheckoutContext";$t.any,$t.shape({fetchClientSecret:$t.func.isRequired,elementsOptions:$t.object}).isRequired;var bp=function(e){var r=ot.useContext(e8),n=ot.useContext(m0);if(r&&n)throw new Error("You cannot wrap the part of your app that ".concat(e," in both <CheckoutProvider> and <Elements> providers."));return r?J9(r,e):JA(n,e)},tO=["mode"],rO=function(e){return e.charAt(0).toUpperCase()+e.slice(1)},cr=function(e,r){var n="".concat(rO(e),"Element"),i=function(f){var h=f.id,m=f.className,v=f.options,w=v===void 0?{}:v,C=f.onBlur,N=f.onFocus,b=f.onReady,R=f.onChange,_=f.onEscape,S=f.onClick,T=f.onLoadError,P=f.onLoaderStart,B=f.onNetworksChange,k=f.onConfirm,M=f.onCancel,F=f.onShippingAddressChange,U=f.onShippingRateChange,X=bp("mounts <".concat(n,">")),ee="elements"in X?X.elements:null,Z="checkoutSdk"in X?X.checkoutSdk:null,ae=ot.useState(null),K=ZA(ae,2),G=K[0],ue=K[1],de=ot.useRef(null),ne=ot.useRef(null);Ln(G,"blur",C),Ln(G,"focus",N),Ln(G,"escape",_),Ln(G,"click",S),Ln(G,"loaderror",T),Ln(G,"loaderstart",P),Ln(G,"networkschange",B),Ln(G,"confirm",k),Ln(G,"cancel",M),Ln(G,"shippingaddresschange",F),Ln(G,"shippingratechange",U),Ln(G,"change",R);var xe;b&&(e==="expressCheckout"?xe=b:xe=function(){b(G)}),Ln(G,"ready",xe),ot.useLayoutEffect(function(){if(de.current===null&&ne.current!==null&&(ee||Z)){var Te=null;if(Z)switch(e){case"payment":Te=Z.createPaymentElement(w);break;case"address":if("mode"in w){var ze=w.mode,Pt=H9(w,tO);if(ze==="shipping")Te=Z.createShippingAddressElement(Pt);else if(ze==="billing")Te=Z.createBillingAddressElement(Pt);else throw new Error("Invalid options.mode. mode must be 'billing' or 'shipping'.")}else throw new Error("You must supply options.mode. mode must be 'billing' or 'shipping'.");break;case"expressCheckout":Te=Z.createExpressCheckoutElement(w);break;case"currencySelector":Te=Z.createCurrencySelectorElement();break;case"taxId":Te=Z.createTaxIdElement(w);break;default:throw new Error("Invalid Element type ".concat(n,". You must use either the <PaymentElement />, <AddressElement options={{mode: 'shipping'}} />, <AddressElement options={{mode: 'billing'}} />, or <ExpressCheckoutElement />."))}else ee&&(Te=ee.create(e,w));de.current=Te,ue(Te),Te&&Te.mount(ne.current)}},[ee,Z,w]);var Ae=Ap(w);return ot.useEffect(function(){if(de.current){var Te=qA(w,Ae,["paymentRequest"]);Te&&"update"in de.current&&de.current.update(Te)}},[w,Ae]),ot.useLayoutEffect(function(){return function(){if(de.current&&typeof de.current.destroy=="function")try{de.current.destroy(),de.current=null}catch{}}},[]),ot.createElement("div",{id:h,className:m,ref:ne})},s=function(f){bp("mounts <".concat(n,">"));var h=f.id,m=f.className;return ot.createElement("div",{id:h,className:m})},o=r?s:i;return o.propTypes={id:$t.string,className:$t.string,onChange:$t.func,onBlur:$t.func,onFocus:$t.func,onReady:$t.func,onEscape:$t.func,onClick:$t.func,onLoadError:$t.func,onLoaderStart:$t.func,onNetworksChange:$t.func,onConfirm:$t.func,onCancel:$t.func,onShippingAddressChange:$t.func,onShippingRateChange:$t.func,options:$t.object},o.displayName=n,o.__elementType=e,o},ur=typeof window>"u",nO=ot.createContext(null);nO.displayName="EmbeddedCheckoutProviderContext";var Ig=function(){var e=bp("calls useStripe()"),r=e.stripe;return r};cr("auBankAccount",ur);cr("card",ur);cr("cardNumber",ur);cr("cardExpiry",ur);cr("cardCvc",ur);cr("fpxBank",ur);cr("iban",ur);cr("idealBank",ur);cr("p24Bank",ur);cr("epsBank",ur);var Tg=cr("payment",ur);cr("expressCheckout",ur);cr("currencySelector",ur);cr("paymentRequestButton",ur);cr("linkAuthentication",ur);cr("address",ur);cr("shippingAddress",ur);cr("paymentMethodMessaging",ur);cr("affirmMessage",ur);cr("afterpayClearpayMessage",ur);cr("taxId",ur);var t8="basil",iO=function(e){return e===3?"v3":e},r8="https://js.stripe.com",sO="".concat(r8,"/").concat(t8,"/stripe.js"),aO=/^https:\/\/js\.stripe\.com\/v3\/?(\?.*)?$/,oO=/^https:\/\/js\.stripe\.com\/(v3|[a-z]+)\/stripe\.js(\?.*)?$/,bv="loadStripe.setLoadParameters was called but an existing Stripe.js script already exists in the document; existing script parameters will be used",lO=function(e){return aO.test(e)||oO.test(e)},cO=function(){for(var e=document.querySelectorAll('script[src^="'.concat(r8,'"]')),r=0;r<e.length;r++){var n=e[r];if(lO(n.src))return n}return null},Sv=function(e){var r="",n=document.createElement("script");n.src="".concat(sO).concat(r);var i=document.head||document.body;if(!i)throw new Error("Expected document.body not to be null. Stripe.js requires a <body> element.");return i.appendChild(n),n},uO=function(e,r){!e||!e._registerWrapper||e._registerWrapper({name:"stripe-js",version:"7.8.0",startTime:r})},xc=null,fd=null,hd=null,dO=function(e){return function(r){e(new Error("Failed to load Stripe.js",{cause:r}))}},fO=function(e,r){return function(){window.Stripe?e(window.Stripe):r(new Error("Stripe.js not available"))}},hO=function(e){return xc!==null?xc:(xc=new Promise(function(r,n){if(typeof window>"u"||typeof document>"u"){r(null);return}if(window.Stripe&&e&&console.warn(bv),window.Stripe){r(window.Stripe);return}try{var i=cO();if(i&&e)console.warn(bv);else if(!i)i=Sv(e);else if(i&&hd!==null&&fd!==null){var s;i.removeEventListener("load",hd),i.removeEventListener("error",fd),(s=i.parentNode)===null||s===void 0||s.removeChild(i),i=Sv(e)}hd=fO(r,n),fd=dO(n),i.addEventListener("load",hd),i.addEventListener("error",fd)}catch(o){n(o);return}}),xc.catch(function(r){return xc=null,Promise.reject(r)}))},pO=function(e,r,n){if(e===null)return null;var i=r[0],s=i.match(/^pk_test/),o=iO(e.version),u=t8;s&&o!==u&&console.warn("Stripe.js@".concat(o," was loaded on the page, but @stripe/stripe-js@").concat("7.8.0"," expected Stripe.js@").concat(u,". This may result in unexpected behavior. For more information, see https://docs.stripe.com/sdks/stripejs-versioning"));var f=e.apply(void 0,r);return uO(f,n),f},gc,n8=!1,i8=function(){return gc||(gc=hO(null).catch(function(e){return gc=null,Promise.reject(e)}),gc)};Promise.resolve().then(function(){return i8()}).catch(function(t){n8||console.warn(t)});var Rg=function(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];n8=!0;var i=Date.now();return i8().then(function(s){return pO(s,r,i)})};class Xo{constructor(){this.queue=[],this.isInitialized=!1}static getInstance(){return Xo.instance||(Xo.instance=new Xo),Xo.instance}initialize(){this.isInitialized||(this.processQueue(),this.isInitialized=!0)}track(e){const r={event:e.event||`${e.category}_${e.action}`,...e};this.isInitialized?this.sendEvent(r):this.queue.push(r)}processQueue(){for(;this.queue.length>0;){const e=this.queue.shift();e&&this.sendEvent(e)}}sendEvent(e){}trackPageView(e){this.track({category:"Navigation",action:"page_view",label:e})}trackUserAction(e,r,n){this.track({category:"User",action:e,label:r,value:n})}trackError(e,r){this.track({category:"Error",action:"error_occurred",label:e,properties:{context:r}})}trackPerformance(e,r){this.track({category:"Performance",action:"metric_recorded",label:e,value:r})}trackSubscription(e,r){this.track({category:"Subscription",action:r,label:e})}trackSearch(e,r,n){this.track({category:"Search",action:"search_performed",label:e,value:r,properties:{source:n}})}}const s8=Xo.getInstance();function Og({title:t,description:e,keywords:r,canonical:n,ogImage:i,ogType:s="website",noIndex:o=!1}){I.useEffect(()=>{t&&(document.title=`${t} | ChefGrocer`),e&&M1("description",e),r&&M1("keywords",r),n&&xO("canonical",n),t&&pd("og:title",t),e&&pd("og:description",e),i&&pd("og:image",i),pd("og:type",s),M1("robots",o?"noindex, nofollow":"index, follow"),s8.trackPageView(window.location.pathname)},[t,e,r,n,i,s,o])}function M1(t,e){let r=document.querySelector(`meta[name="${t}"]`);r||(r=document.createElement("meta"),r.setAttribute("name",t),document.head.appendChild(r)),r.setAttribute("content",e)}function pd(t,e){let r=document.querySelector(`meta[property="${t}"]`);r||(r=document.createElement("meta"),r.setAttribute("property",t),document.head.appendChild(r)),r.setAttribute("content",e)}function xO(t,e){let r=document.querySelector(`link[rel="${t}"]`);r||(r=document.createElement("link"),r.setAttribute("rel",t),document.head.appendChild(r)),r.setAttribute("href",e)}const gO={home:{title:"AI-Powered Smart Cooking Assistant",description:"Transform your cooking with ChefGrocer's AI-powered meal planning, smart grocery lists, USDA nutrition data, and voice-guided cooking assistance. Start your free trial today!",keywords:"AI cooking assistant, meal planning, nutrition database, grocery list, USDA food data, recipe management, smart cooking"},subscribe:{title:"Subscribe to ChefGrocer Pro",description:"Unlock premium features with ChefGrocer Pro. Get unlimited meal plans, auto-generated grocery lists, pantry tracking, and custom AI plans for just $4.99/month.",keywords:"ChefGrocer subscription, premium meal planning, AI cooking assistant pro, unlimited recipes"},checkout:{title:"Secure Checkout - ChefGrocer",description:"Complete your ChefGrocer purchase securely. Unlock premium cooking features and start your culinary journey with AI-powered assistance.",keywords:"ChefGrocer checkout, secure payment, premium cooking features",noIndex:!0}};function mO({paymentType:t="subscription",amount:e="$4.99",plan:r="ChefGrocer Pro",onContinue:n}){return I.useEffect(()=>{const i=setTimeout(()=>{n&&n()},3e3);return()=>clearTimeout(i)},[n]),l.jsx("div",{className:"min-h-screen bg-gradient-to-br from-green-50 to-emerald-50 flex items-center justify-center p-4",children:l.jsxs(oe,{className:"w-full max-w-md mx-auto shadow-xl border-0",children:[l.jsxs(ve,{className:"text-center pb-4",children:[l.jsx("div",{className:"mx-auto w-20 h-20 bg-green-100 rounded-full flex items-center justify-center mb-4",children:l.jsx(ou,{className:"h-12 w-12 text-green-600"})}),l.jsx(ye,{className:"text-2xl font-bold text-gray-900",children:"Payment Successful! "})]}),l.jsxs(le,{className:"space-y-6 text-center",children:[l.jsxs("div",{className:"space-y-2",children:[l.jsxs("p",{className:"text-gray-600",children:["Welcome to ",l.jsx("span",{className:"font-semibold text-orange-600",children:r}),"!"]}),l.jsxs("div",{className:"flex items-center justify-center space-x-2",children:[l.jsx(we,{className:"bg-green-100 text-green-700",children:t==="subscription"?"Monthly Subscription":"One-time Purchase"}),l.jsx(we,{variant:"outline",children:e})]})]}),l.jsxs("div",{className:"bg-orange-50 rounded-lg p-4 space-y-3",children:[l.jsxs("div",{className:"flex items-center justify-center space-x-2 text-orange-700",children:[l.jsx(ns,{className:"h-5 w-5"}),l.jsx("span",{className:"font-medium",children:"Your Premium Features"})]}),l.jsxs("div",{className:"grid grid-cols-1 gap-2 text-sm text-gray-700",children:[l.jsxs("div",{className:"flex items-center space-x-2",children:[l.jsx(On,{className:"h-4 w-4 text-yellow-500"}),l.jsx("span",{children:"Unlimited weekly meal plans"})]}),l.jsxs("div",{className:"flex items-center space-x-2",children:[l.jsx(On,{className:"h-4 w-4 text-yellow-500"}),l.jsx("span",{children:"Auto-generated grocery lists"})]}),l.jsxs("div",{className:"flex items-center space-x-2",children:[l.jsx(On,{className:"h-4 w-4 text-yellow-500"}),l.jsx("span",{children:"Pantry tracking & budgeting"})]}),l.jsxs("div",{className:"flex items-center space-x-2",children:[l.jsx(On,{className:"h-4 w-4 text-yellow-500"}),l.jsx("span",{children:"Custom AI meal plans"})]})]})]}),l.jsxs("div",{className:"space-y-3",children:[l.jsx("p",{className:"text-sm text-gray-600",children:t==="subscription"?"Your subscription is now active and will renew automatically.":"You now have lifetime access to premium features."}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(iu,{href:"/",children:l.jsxs(se,{className:"w-full bg-gradient-to-r from-orange-500 to-red-500 hover:from-orange-600 hover:to-red-600",children:[l.jsx(B5,{className:"h-4 w-4 mr-2"}),"Start Using Pro Features"]})}),l.jsxs(se,{variant:"outline",className:"w-full",children:[l.jsx(G5,{className:"h-4 w-4 mr-2"}),"View Receipt"]})]})]}),l.jsx("div",{className:"text-xs text-gray-500 bg-gray-50 rounded p-3",children:l.jsxs("p",{children:["Need help? Contact our support team at dxmylesx22@gmail.com",t==="subscription"&&l.jsx("span",{className:"block mt-1",children:"You can manage your subscription anytime in your account settings."})]})})]})]})})}const vO=Eu("relative w-full rounded-lg border p-4 [&>svg~*]:pl-7 [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-foreground",{variants:{variant:{default:"bg-background text-foreground",destructive:"border-destructive/50 text-destructive dark:border-destructive [&>svg]:text-destructive"}},defaultVariants:{variant:"default"}}),a8=I.forwardRef(({className:t,variant:e,...r},n)=>l.jsx("div",{ref:n,role:"alert",className:Le(vO({variant:e}),t),...r}));a8.displayName="Alert";const yO=I.forwardRef(({className:t,...e},r)=>l.jsx("h5",{ref:r,className:Le("mb-1 font-medium leading-none tracking-tight",t),...e}));yO.displayName="AlertTitle";const o8=I.forwardRef(({className:t,...e},r)=>l.jsx("div",{ref:r,className:Le("text-sm [&_p]:leading-relaxed",t),...e}));o8.displayName="AlertDescription";function Nv({error:t="Your payment could not be processed",errorCode:e,onRetry:r,onGoBack:n,isRetrying:i=!1}){const[s,o]=I.useState(!1),f=(m=>{switch(m){case"card_declined":return{title:"Card Declined",message:"Your card was declined. Please try a different payment method or contact your bank.",icon:l.jsx($a,{className:"h-5 w-5 text-red-500"})};case"insufficient_funds":return{title:"Insufficient Funds",message:"Your card doesn't have enough funds for this purchase. Please try a different card.",icon:l.jsx($a,{className:"h-5 w-5 text-red-500"})};case"expired_card":return{title:"Card Expired",message:"Your card has expired. Please update your payment information with a valid card.",icon:l.jsx($a,{className:"h-5 w-5 text-red-500"})};case"incorrect_cvc":return{title:"Invalid Security Code",message:"The security code (CVC) you entered is incorrect. Please check and try again.",icon:l.jsx($a,{className:"h-5 w-5 text-red-500"})};case"processing_error":return{title:"Processing Error",message:"There was a temporary issue processing your payment. Please try again in a moment.",icon:l.jsx(a4,{className:"h-5 w-5 text-orange-500"})};default:return{title:"Payment Failed",message:t,icon:l.jsx(D5,{className:"h-5 w-5 text-red-500"})}}})(e),h=["Check that your card information is entered correctly","Ensure your card has sufficient funds","Verify that your card is not expired","Try using a different payment method","Contact your bank if the issue persists"];return l.jsx("div",{className:"min-h-screen bg-gradient-to-br from-red-50 to-orange-50 flex items-center justify-center p-4",children:l.jsxs(oe,{className:"w-full max-w-md mx-auto shadow-xl border-0",children:[l.jsxs(ve,{className:"text-center pb-4",children:[l.jsx("div",{className:"mx-auto w-20 h-20 bg-red-100 rounded-full flex items-center justify-center mb-4",children:f.icon}),l.jsx(ye,{className:"text-xl font-bold text-gray-900",children:f.title})]}),l.jsxs(le,{className:"space-y-6",children:[l.jsx(a8,{children:l.jsx(o8,{className:"text-center",children:f.message})}),l.jsxs("div",{className:"space-y-3",children:[l.jsxs("button",{onClick:()=>o(!s),className:"flex items-center justify-between w-full text-left text-sm font-medium text-gray-700 hover:text-gray-900",children:[l.jsxs("span",{className:"flex items-center",children:[l.jsx(P5,{className:"h-4 w-4 mr-2"}),"Common Solutions"]}),l.jsx("span",{className:"text-xs",children:s?"Hide":"Show"})]}),s&&l.jsx("div",{className:"bg-blue-50 rounded-lg p-4 space-y-2",children:l.jsx("ul",{className:"text-sm text-gray-700 space-y-1",children:h.map((m,v)=>l.jsxs("li",{className:"flex items-start",children:[l.jsx("span",{className:"text-blue-500 mr-2",children:""}),m]},v))})})]}),l.jsxs("div",{className:"space-y-3",children:[r&&l.jsx(se,{onClick:r,disabled:i,className:"w-full bg-gradient-to-r from-orange-500 to-red-500 hover:from-orange-600 hover:to-red-600",children:i?l.jsxs(l.Fragment,{children:[l.jsx(sp,{className:"h-4 w-4 mr-2 animate-spin"}),"Retrying..."]}):l.jsxs(l.Fragment,{children:[l.jsx(sp,{className:"h-4 w-4 mr-2"}),"Try Again"]})}),n&&l.jsxs(se,{variant:"outline",onClick:n,className:"w-full",children:[l.jsx(Xx,{className:"h-4 w-4 mr-2"}),"Go Back"]})]}),l.jsxs("div",{className:"text-center space-y-2",children:[l.jsx("p",{className:"text-sm text-gray-600",children:"Still having trouble?"}),l.jsxs("div",{className:"space-y-1",children:[l.jsx(se,{variant:"link",className:"h-auto p-0 text-sm",children:"Contact Support"}),l.jsx("p",{className:"text-xs text-gray-500",children:"dxmylesx22@gmail.com  Available 24/7"})]})]}),e&&l.jsxs("div",{className:"text-xs text-gray-400 bg-gray-50 rounded p-2 text-center",children:["Error Code: ",e]})]})]})})}let k1=null;const _v=()=>(k1||(k1=Rg("pk_test_51RqmpGLQYkvsYTnRMsaazcW1JZDnUR7YPuUicCqgNqLEwufTMTQuJ19QXnRCfoczHM8dDY5VjDvaMyqBOML2mjrj00oeMgUaH1").catch(t=>(console.warn("Failed to load Stripe.js:",t),null))),k1),wO=({amount:t,description:e,onSuccess:r,onError:n})=>{const i=Ig(),s=_g(),[o,u]=I.useState(!1),f=async h=>{if(h.preventDefault(),!(!i||!s)){u(!0);try{const{error:m}=await i.confirmPayment({elements:s,confirmParams:{return_url:window.location.origin}});m?n(m.message||"Payment failed",m.code):r()}catch{n("An unexpected error occurred. Please try again.")}u(!1)}};return l.jsxs("form",{onSubmit:f,className:"space-y-6",children:[l.jsxs("div",{className:"p-4 bg-muted rounded-lg",children:[l.jsx("h3",{className:"font-semibold",children:e}),l.jsxs("p",{className:"text-2xl font-bold text-primary",children:["$",t.toFixed(2)]})]}),l.jsx(Tg,{}),l.jsx(se,{type:"submit",disabled:!i||o,className:"w-full",children:o?"Processing...":`Pay $${t.toFixed(2)}`})]})};function CO(){Og(gO.checkout);const[t,e]=I.useState(""),[r]=I.useState(29.99),[n]=I.useState("Premium AI Cooking Assistant Features"),[i,s]=I.useState("form"),[o,u]=I.useState({message:""}),[f,h]=I.useState(!1),m=()=>{s("success")},v=(_,S)=>{u({message:_,code:S}),s("error")},w=async()=>{h(!0),s("form"),e("");try{const S=await(await hr("POST","/api/create-payment-intent",{amount:r,description:n,paymentType:"one-time",currency:"usd"})).json();e(S.clientSecret)}catch{v("Failed to initialize payment retry. Please refresh and try again.")}h(!1)},C=()=>{s("form"),u({message:""})},{toast:N}=nn();if(I.useEffect(()=>{hr("POST","/api/create-payment-intent",{amount:r,paymentType:"one_time",description:n}).then(_=>_.json()).then(_=>{_.clientSecret?e(_.clientSecret):N({title:"Setup Required",description:_.message||"Payment processing is not configured yet.",variant:"destructive"})}).catch(_=>{N({title:"Error",description:"Failed to initialize payment. Please try again.",variant:"destructive"})})},[r,n,N]),i==="success")return l.jsx(mO,{paymentType:"one-time",amount:`$${r.toFixed(2)}`,plan:"Premium Features"});if(i==="error")return l.jsx(Nv,{error:o.message,errorCode:o.code,onRetry:w,onGoBack:C,isRetrying:f});const[b,R]=I.useState(null);return I.useEffect(()=>{_v().then(_=>{R(_!==null)})},[]),b===!1?l.jsx(Nv,{error:"Payment system is currently unavailable. Please try again later or contact support.",onGoBack:()=>window.history.back()}):t?l.jsx("div",{className:"min-h-screen bg-gray-50 py-12",children:l.jsx("div",{className:"max-w-md mx-auto",children:l.jsxs(oe,{children:[l.jsxs(ve,{children:[l.jsx(ye,{children:"Complete Your Purchase"}),l.jsx(xt,{children:"Secure payment powered by Stripe"})]}),l.jsx(le,{children:l.jsx(v0,{stripe:_v(),options:{clientSecret:t},children:l.jsx(wO,{amount:r,description:n,onSuccess:m,onError:v})})})]})})}):l.jsx("div",{className:"min-h-screen flex items-center justify-center",children:l.jsx("div",{className:"animate-spin w-8 h-8 border-4 border-primary border-t-transparent rounded-full"})})}const EO=Rg("pk_test_51RqmpGLQYkvsYTnRMsaazcW1JZDnUR7YPuUicCqgNqLEwufTMTQuJ19QXnRCfoczHM8dDY5VjDvaMyqBOML2mjrj00oeMgUaH1"),L1=[{id:"free",name:"Free",price:"$0",period:"forever",description:"Get started with basic features",features:["Basic recipe search","Simple meal planning","Basic voice commands","Standard support","50 recipes per month"],color:"from-gray-100 to-gray-200",textColor:"text-gray-800",buttonColor:"bg-gray-600 hover:bg-gray-700",popular:!1,icon:On},{id:"premium",name:"Premium",price:"$4.99",period:"per month",description:"Perfect for home cooks",features:["Unlimited recipe access","Advanced meal planning","Enhanced voice AI","Priority support","Nutrition analysis","Shopping list sync","Price comparison"],color:"from-orange-400 to-orange-500",textColor:"text-white",buttonColor:"bg-orange-600 hover:bg-orange-700",popular:!0,icon:n0,savings:"Most Popular"},{id:"pro",name:"Pro",price:"$9.99",period:"per month",description:"For serious food enthusiasts",features:["Everything in Premium","Advanced AI chef assistant","Custom recipe creation","Professional meal plans","Bulk shopping lists","24/7 priority support","Restaurant partnerships","Early access features"],color:"from-blue-500 to-blue-600",textColor:"text-white",buttonColor:"bg-blue-600 hover:bg-blue-700",popular:!1,icon:ns},{id:"lifetime",name:"Lifetime Pass",price:"$99.99",period:"one-time payment",description:"Ultimate value for life",features:["Everything in Pro","Lifetime access guarantee","All future updates included","VIP customer status","Exclusive content access","Personal cooking coach","White-glove onboarding","Satisfaction guarantee"],color:"from-purple-500 to-pink-500",textColor:"text-white",buttonColor:"bg-purple-600 hover:bg-purple-700",popular:!1,icon:ns,savings:"Best Value",originalPrice:"$359.64",savePercentage:"72%"}],AO=({selectedPlan:t})=>{const e=Ig(),r=_g(),{toast:n}=nn(),[i,s]=I.useState(!1),o=async u=>{if(u.preventDefault(),!(!e||!r)){s(!0);try{const{error:f}=await e.confirmPayment({elements:r,confirmParams:{return_url:`${window.location.origin}?payment=success`}});n(f?{title:"Payment Failed",description:f.message,variant:"destructive"}:{title:"Payment Successful",description:`Welcome to ChefGrocer ${t.name}!`})}catch{n({title:"Payment Error",description:"Something went wrong. Please try again.",variant:"destructive"})}finally{s(!1)}}};return l.jsxs("form",{onSubmit:o,className:"space-y-6",children:[l.jsx(Tg,{}),l.jsx(se,{type:"submit",disabled:!e||i,className:`w-full h-12 text-lg font-semibold ${t.buttonColor} shadow-lg`,children:i?l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin"}),"Processing..."]}):`Subscribe to ${t.name} - ${t.price}`})]})};function bO(){const[t,e]=I.useState(L1[1]),[r,n]=I.useState(""),[i,s]=I.useState(!1),{toast:o}=nn();I.useEffect(()=>{const h=new URLSearchParams(window.location.search).get("plan");if(h){const m=L1.find(v=>v.id===h);m&&e(m)}},[]),I.useEffect(()=>{if(t.id==="free"){n("");return}s(!0),(async()=>{try{let h="/api/create-payment-intent",m={};t.id==="lifetime"?(h="/api/create-payment-intent",m={amount:99.99}):(h="/api/get-or-create-subscription",m={plan:t.id});const w=await(await hr("POST",h,m)).json();n(w.clientSecret)}catch(h){console.error("Payment setup error:",h),o({title:"Setup Error",description:"Unable to initialize payment. Please try again.",variant:"destructive"})}finally{s(!1)}})()},[t,o]);const u=()=>{o({title:"Welcome to ChefGrocer!",description:"You're now using the free plan. Upgrade anytime for more features."}),window.location.href="/"};return l.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-orange-50 via-orange-100 to-orange-200",children:[l.jsx("div",{className:"bg-gradient-to-r from-orange-500 to-orange-600 text-white",children:l.jsxs("div",{className:"max-w-7xl mx-auto px-4 py-16 text-center",children:[l.jsxs("div",{className:"flex items-center justify-center gap-3 mb-4",children:[l.jsx("div",{className:"w-16 h-16 bg-orange-700 rounded-2xl flex items-center justify-center shadow-xl",children:l.jsx(ns,{className:"w-8 h-8 text-white"})}),l.jsx("h1",{className:"text-4xl md:text-5xl font-bold",children:"ChefGrocer"})]}),l.jsx("p",{className:"text-xl text-orange-100 mb-2",children:"Choose Your Cooking Journey"}),l.jsx("p",{className:"text-base text-orange-200",children:"Unlock the full potential of AI-powered cooking"})]})}),l.jsxs("div",{className:"max-w-7xl mx-auto px-4 py-16",children:[l.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-8 mb-16",children:L1.map(f=>{const h=f.icon,m=t.id===f.id;return l.jsxs(oe,{className:`relative cursor-pointer transition-all duration-300 hover:scale-105 ${m?"ring-4 ring-orange-400 shadow-2xl":"hover:shadow-xl"} ${f.popular?"border-orange-400 shadow-lg":"border-gray-200"}`,onClick:()=>e(f),children:[f.popular&&l.jsx("div",{className:"absolute -top-3 left-1/2 transform -translate-x-1/2",children:l.jsx(we,{className:"bg-orange-500 text-white px-4 py-1 text-sm font-semibold",children:f.savings})}),f.savings&&f.id==="lifetime"&&l.jsx("div",{className:"absolute -top-3 right-4",children:l.jsxs(we,{className:"bg-green-500 text-white px-3 py-1 text-xs font-semibold",children:["Save ",f.savePercentage]})}),l.jsxs(ve,{className:`bg-gradient-to-r ${f.color} ${f.textColor} rounded-t-lg text-center`,children:[l.jsx("div",{className:"flex items-center justify-center mb-3",children:l.jsx("div",{className:`w-12 h-12 ${f.id==="free"?"bg-gray-700":"bg-white bg-opacity-20"} rounded-xl flex items-center justify-center`,children:l.jsx(h,{className:`w-6 h-6 ${f.id==="free"?"text-white":f.textColor}`})})}),l.jsx(ye,{className:"text-2xl font-bold",children:f.name}),l.jsxs("div",{className:"space-y-1",children:[l.jsxs("div",{className:"flex items-center justify-center gap-2",children:[l.jsx("span",{className:"text-3xl font-bold",children:f.price}),f.originalPrice&&l.jsx("span",{className:"text-lg line-through opacity-70",children:f.originalPrice})]}),l.jsx("p",{className:"text-sm opacity-90",children:f.period})]}),l.jsx("p",{className:"text-sm mt-2 opacity-90",children:f.description})]}),l.jsxs(le,{className:"p-6",children:[l.jsx("ul",{className:"space-y-3",children:f.features.map((v,w)=>l.jsxs("li",{className:"flex items-center gap-3",children:[l.jsx(Au,{className:"w-4 h-4 text-green-500 flex-shrink-0"}),l.jsx("span",{className:"text-sm text-gray-700",children:v})]},w))}),l.jsx(se,{className:`w-full mt-6 h-12 font-semibold ${m?f.buttonColor+" ring-2 ring-offset-2 ring-orange-400":f.buttonColor}`,onClick:()=>e(f),children:m?"Selected":"Choose Plan"})]})]},f.id)})}),t.id!=="free"&&l.jsxs(oe,{className:"max-w-2xl mx-auto border-orange-300 shadow-xl",children:[l.jsxs(ve,{className:"bg-gradient-to-r from-orange-500 to-orange-600 text-white rounded-t-lg",children:[l.jsxs(ye,{className:"text-2xl text-center flex items-center justify-center gap-3",children:[l.jsx(is,{className:"w-6 h-6"}),"Secure Payment for ",t.name]}),l.jsx("p",{className:"text-center text-orange-100",children:"Powered by Stripe - Your payment information is encrypted and secure"})]}),l.jsx(le,{className:"p-8",children:i?l.jsx("div",{className:"flex items-center justify-center py-12",children:l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx("div",{className:"w-6 h-6 border-3 border-orange-500 border-t-transparent rounded-full animate-spin"}),l.jsx("span",{className:"text-lg text-gray-600",children:"Setting up secure payment..."})]})}):r?l.jsx(v0,{stripe:EO,options:{clientSecret:r},children:l.jsx(AO,{selectedPlan:t})}):l.jsxs("div",{className:"text-center py-8",children:[l.jsx("p",{className:"text-gray-600",children:"Unable to initialize payment. Please try again."}),l.jsx(se,{className:"mt-4 bg-orange-500 hover:bg-orange-600",onClick:()=>window.location.reload(),children:"Retry"})]})})]}),t.id==="free"&&l.jsxs(oe,{className:"max-w-2xl mx-auto border-gray-300 shadow-xl",children:[l.jsxs(ve,{className:"bg-gradient-to-r from-gray-500 to-gray-600 text-white rounded-t-lg",children:[l.jsxs(ye,{className:"text-2xl text-center flex items-center justify-center gap-3",children:[l.jsx(On,{className:"w-6 h-6"}),"Start with Free Plan"]}),l.jsx("p",{className:"text-center text-gray-100",children:"Begin your cooking journey at no cost"})]}),l.jsx(le,{className:"p-8 text-center",children:l.jsxs("div",{className:"space-y-4",children:[l.jsx("p",{className:"text-gray-600",children:"Get started immediately with basic features. Upgrade anytime for more capabilities."}),l.jsx(se,{className:"bg-gray-600 hover:bg-gray-700 text-white h-12 px-8 text-lg font-semibold",onClick:u,children:"Start Free Plan"})]})})]}),l.jsxs("div",{className:"mt-20",children:[l.jsx("h2",{className:"text-3xl font-bold text-center text-gray-900 mb-4",children:"Why Choose ChefGrocer Premium?"}),l.jsx("p",{className:"text-center text-gray-600 mb-12 max-w-3xl mx-auto",children:"Join thousands of home cooks who are transforming their kitchen experience with AI-powered assistance"}),l.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8",children:[{icon:mf,title:"AI-Powered Assistance",description:"Get personalized recipe recommendations and cooking guidance powered by advanced AI technology."},{icon:lu,title:"Smart Meal Planning",description:"Generate weekly meal plans based on your preferences, dietary restrictions, and budget."},{icon:Yx,title:"Money-Saving Features",description:"Compare prices across stores, find deals, and optimize your grocery shopping for maximum savings."}].map((f,h)=>l.jsx(oe,{className:"text-center border-orange-200 hover:shadow-lg transition-shadow",children:l.jsxs(le,{className:"p-8",children:[l.jsx("div",{className:"w-16 h-16 bg-gradient-to-br from-orange-400 to-orange-500 rounded-2xl flex items-center justify-center mx-auto mb-4",children:l.jsx(f.icon,{className:"w-8 h-8 text-white"})}),l.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-3",children:f.title}),l.jsx("p",{className:"text-gray-600",children:f.description})]})},h))})]}),l.jsx("div",{className:"mt-16 text-center",children:l.jsx(oe,{className:"max-w-2xl mx-auto border-green-300 bg-green-50",children:l.jsxs(le,{className:"p-8",children:[l.jsxs("div",{className:"flex items-center justify-center gap-3 mb-4",children:[l.jsx(is,{className:"w-8 h-8 text-green-600"}),l.jsx("h3",{className:"text-2xl font-bold text-green-800",children:"30-Day Money-Back Guarantee"})]}),l.jsx("p",{className:"text-green-700",children:"Try ChefGrocer risk-free. If you're not completely satisfied within 30 days, we'll refund your money, no questions asked."})]})})})]})]})}var Pg="Progress",Dg=100,[SO,oL]=$n(Pg),[NO,_O]=SO(Pg),l8=I.forwardRef((t,e)=>{const{__scopeProgress:r,value:n=null,max:i,getValueLabel:s=IO,...o}=t;(i||i===0)&&!Iv(i)&&console.error(TO(`${i}`,"Progress"));const u=Iv(i)?i:Dg;n!==null&&!Tv(n,u)&&console.error(RO(`${n}`,"Progress"));const f=Tv(n,u)?n:null,h=_f(f)?s(f,u):void 0;return l.jsx(NO,{scope:r,value:f,max:u,children:l.jsx(Ve.div,{"aria-valuemax":u,"aria-valuemin":0,"aria-valuenow":_f(f)?f:void 0,"aria-valuetext":h,role:"progressbar","data-state":d8(f,u),"data-value":f??void 0,"data-max":u,...o,ref:e})})});l8.displayName=Pg;var c8="ProgressIndicator",u8=I.forwardRef((t,e)=>{const{__scopeProgress:r,...n}=t,i=_O(c8,r);return l.jsx(Ve.div,{"data-state":d8(i.value,i.max),"data-value":i.value??void 0,"data-max":i.max,...n,ref:e})});u8.displayName=c8;function IO(t,e){return`${Math.round(t/e*100)}%`}function d8(t,e){return t==null?"indeterminate":t===e?"complete":"loading"}function _f(t){return typeof t=="number"}function Iv(t){return _f(t)&&!isNaN(t)&&t>0}function Tv(t,e){return _f(t)&&!isNaN(t)&&t<=e&&t>=0}function TO(t,e){return`Invalid prop \`max\` of value \`${t}\` supplied to \`${e}\`. Only numbers greater than 0 are valid max values. Defaulting to \`${Dg}\`.`}function RO(t,e){return`Invalid prop \`value\` of value \`${t}\` supplied to \`${e}\`. The \`value\` prop must be:
  - a positive number
  - less than the value passed to \`max\` (or ${Dg} if no \`max\` prop is set)
  - \`null\` or \`undefined\` if the progress is indeterminate.

Defaulting to \`null\`.`}var f8=l8,OO=u8;const Nc=I.forwardRef(({className:t,value:e,...r},n)=>l.jsx(f8,{ref:n,className:Le("relative h-4 w-full overflow-hidden rounded-full bg-secondary",t),...r,children:l.jsx(OO,{className:"h-full w-full flex-1 bg-primary transition-all",style:{transform:`translateX(-${100-(e||0)}%)`}})}));Nc.displayName=f8.displayName;function PO(){const{data:t,isLoading:e}=as({queryKey:["/api/revenue-metrics"],queryFn:async()=>(await hr("GET","/api/revenue-metrics")).json()}),{data:r,isLoading:n}=as({queryKey:["/api/subscription-analytics"],queryFn:async()=>(await hr("GET","/api/subscription-analytics")).json()});if(e||n)return l.jsx("div",{className:"p-6",children:l.jsxs("div",{className:"animate-pulse space-y-4",children:[l.jsx("div",{className:"h-8 bg-gray-200 rounded w-1/3"}),l.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[1,2,3,4,5,6].map(o=>l.jsx("div",{className:"h-32 bg-gray-200 rounded"},o))})]})});const i=o=>`$${(o/100).toFixed(2)}`,s=o=>`${o.toFixed(1)}%`;return l.jsxs("div",{className:"p-6 space-y-6",children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsx("h1",{className:"text-3xl font-bold",children:"Revenue Dashboard"}),l.jsxs(we,{variant:"outline",className:"text-green-600 border-green-200",children:[l.jsx(Zx,{className:"h-4 w-4 mr-1"}),t?s(t.growthRate):"0%"," Growth"]})]}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[l.jsxs(oe,{children:[l.jsxs(ve,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[l.jsx(ye,{className:"text-sm font-medium",children:"Monthly Revenue"}),l.jsx(ci,{className:"h-4 w-4 text-muted-foreground"})]}),l.jsxs(le,{children:[l.jsx("div",{className:"text-2xl font-bold",children:t?i(t.monthlyRecurringRevenue):"$0.00"}),l.jsx("p",{className:"text-xs text-muted-foreground",children:"MRR from all subscriptions"})]})]}),l.jsxs(oe,{children:[l.jsxs(ve,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[l.jsx(ye,{className:"text-sm font-medium",children:"Total Subscribers"}),l.jsx(Ol,{className:"h-4 w-4 text-muted-foreground"})]}),l.jsxs(le,{children:[l.jsx("div",{className:"text-2xl font-bold",children:t?t.subscribers.total.toLocaleString():"0"}),l.jsxs("p",{className:"text-xs text-muted-foreground",children:[t?t.subscribers.premium+t.subscribers.pro+t.subscribers.lifetime:0," paying users"]})]})]}),l.jsxs(oe,{children:[l.jsxs(ve,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[l.jsx(ye,{className:"text-sm font-medium",children:"Conversion Rate"}),l.jsx(Kx,{className:"h-4 w-4 text-muted-foreground"})]}),l.jsxs(le,{children:[l.jsx("div",{className:"text-2xl font-bold",children:t?s(t.conversionRate):"0%"}),l.jsx("p",{className:"text-xs text-muted-foreground",children:"Free to paid conversion"})]})]}),l.jsxs(oe,{children:[l.jsxs(ve,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[l.jsx(ye,{className:"text-sm font-medium",children:"Avg Revenue/User"}),l.jsx(On,{className:"h-4 w-4 text-muted-foreground"})]}),l.jsxs(le,{children:[l.jsx("div",{className:"text-2xl font-bold",children:t?i(t.averageRevenuePerUser):"$0.00"}),l.jsx("p",{className:"text-xs text-muted-foreground",children:"ARPU this month"})]})]})]}),l.jsxs(Wl,{defaultValue:"overview",className:"space-y-4",children:[l.jsxs(Xl,{children:[l.jsx(tn,{value:"overview",children:"Overview"}),l.jsx(tn,{value:"plans",children:"Plan Performance"}),l.jsx(tn,{value:"goals",children:"Revenue Goals"})]}),l.jsx(pn,{value:"overview",className:"space-y-4",children:l.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-4",children:[l.jsxs(oe,{children:[l.jsxs(ve,{children:[l.jsx(ye,{children:"Subscription Breakdown"}),l.jsx(xt,{children:"Users by plan type"})]}),l.jsx(le,{className:"space-y-4",children:t&&l.jsxs(l.Fragment,{children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsx("span",{className:"text-sm",children:"Free Users"}),l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("span",{className:"text-sm font-medium",children:t.subscribers.free}),l.jsx("div",{className:"w-20 bg-gray-200 rounded-full h-2",children:l.jsx("div",{className:"bg-gray-400 h-2 rounded-full",style:{width:`${t.subscribers.free/t.subscribers.total*100}%`}})})]})]}),l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsx("span",{className:"text-sm",children:"Premium ($4.99/mo)"}),l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("span",{className:"text-sm font-medium",children:t.subscribers.premium}),l.jsx("div",{className:"w-20 bg-gray-200 rounded-full h-2",children:l.jsx("div",{className:"bg-blue-500 h-2 rounded-full",style:{width:`${t.subscribers.premium/t.subscribers.total*100}%`}})})]})]}),l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsx("span",{className:"text-sm",children:"Pro ($9.99/mo)"}),l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("span",{className:"text-sm font-medium",children:t.subscribers.pro}),l.jsx("div",{className:"w-20 bg-gray-200 rounded-full h-2",children:l.jsx("div",{className:"bg-purple-500 h-2 rounded-full",style:{width:`${t.subscribers.pro/t.subscribers.total*100}%`}})})]})]}),l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsx("span",{className:"text-sm",children:"Lifetime ($99.99)"}),l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("span",{className:"text-sm font-medium",children:t.subscribers.lifetime}),l.jsx("div",{className:"w-20 bg-gray-200 rounded-full h-2",children:l.jsx("div",{className:"bg-yellow-500 h-2 rounded-full",style:{width:`${t.subscribers.lifetime/t.subscribers.total*100}%`}})})]})]})]})})]}),l.jsxs(oe,{children:[l.jsxs(ve,{children:[l.jsx(ye,{children:"Key Performance Indicators"}),l.jsx(xt,{children:"Critical business metrics"})]}),l.jsxs(le,{className:"space-y-4",children:[l.jsxs("div",{className:"flex justify-between items-center",children:[l.jsx("span",{className:"text-sm",children:"Churn Rate"}),l.jsx(we,{variant:t&&t.churnRate<5?"default":"destructive",children:t?s(t.churnRate):"0%"})]}),l.jsxs("div",{className:"flex justify-between items-center",children:[l.jsx("span",{className:"text-sm",children:"Trial Conversions"}),l.jsxs(we,{variant:"outline",children:[t?t.trialConversions:0," this month"]})]}),l.jsxs("div",{className:"flex justify-between items-center",children:[l.jsx("span",{className:"text-sm",children:"Customer Lifetime Value"}),l.jsx(we,{variant:"secondary",children:t?i(t.lifetimeValue):"$0.00"})]}),l.jsxs("div",{className:"flex justify-between items-center",children:[l.jsx("span",{className:"text-sm",children:"Total Revenue"}),l.jsx(we,{variant:"default",children:t?i(t.totalRevenue):"$0.00"})]})]})]})]})}),l.jsx(pn,{value:"plans",className:"space-y-4",children:l.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:r==null?void 0:r.map(o=>l.jsxs(oe,{children:[l.jsxs(ve,{children:[l.jsxs(ye,{className:"flex items-center justify-between",children:[o.name,l.jsxs(we,{variant:"outline",children:[i(o.price),"/",o.interval]})]}),l.jsxs(xt,{children:[o.subscriberCount," subscribers generating ",i(o.revenue),"/month"]})]}),l.jsx(le,{children:l.jsxs("div",{className:"space-y-2",children:[l.jsxs("div",{className:"flex justify-between text-sm",children:[l.jsx("span",{children:"Performance"}),l.jsxs("span",{children:[o.subscriberCount," users"]})]}),l.jsx(Nc,{value:o.revenue/r.reduce((u,f)=>u+f.revenue,0)*100,className:"h-2"}),l.jsxs("div",{className:"text-xs text-muted-foreground",children:[(o.revenue/r.reduce((u,f)=>u+f.revenue,0)*100).toFixed(1),"% of total revenue"]})]})})]},o.id))})}),l.jsx(pn,{value:"goals",className:"space-y-4",children:l.jsxs(oe,{children:[l.jsxs(ve,{children:[l.jsx(ye,{children:"Revenue Goals Progress"}),l.jsx(xt,{children:"Track progress toward monthly and yearly targets"})]}),l.jsxs(le,{className:"space-y-6",children:[l.jsxs("div",{children:[l.jsxs("div",{className:"flex justify-between mb-2",children:[l.jsx("span",{className:"text-sm",children:"Monthly Goal: $5,000"}),l.jsx("span",{className:"text-sm font-medium",children:t?i(t.monthlyRecurringRevenue):"$0.00"})]}),l.jsx(Nc,{value:t?Math.min(t.monthlyRecurringRevenue/5e3*100,100):0,className:"h-3"}),l.jsxs("p",{className:"text-xs text-muted-foreground mt-1",children:[t?(t.monthlyRecurringRevenue/5e3*100).toFixed(1):"0","% complete"]})]}),l.jsxs("div",{children:[l.jsxs("div",{className:"flex justify-between mb-2",children:[l.jsx("span",{className:"text-sm",children:"Subscriber Goal: 1,000"}),l.jsx("span",{className:"text-sm font-medium",children:t?t.subscribers.total:0})]}),l.jsx(Nc,{value:t?Math.min(t.subscribers.total/1e3*100,100):0,className:"h-3"}),l.jsxs("p",{className:"text-xs text-muted-foreground mt-1",children:[t?(t.subscribers.total/1e3*100).toFixed(1):"0","% complete"]})]}),l.jsxs("div",{children:[l.jsxs("div",{className:"flex justify-between mb-2",children:[l.jsx("span",{className:"text-sm",children:"Conversion Goal: 15%"}),l.jsx("span",{className:"text-sm font-medium",children:t?s(t.conversionRate):"0%"})]}),l.jsx(Nc,{value:t?Math.min(t.conversionRate/15*100,100):0,className:"h-3"}),l.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Target: 15% free-to-paid conversion"})]})]})]})})]})]})}function DO(){return Og({title:"Revenue Dashboard - ChefGrocer Analytics",description:"Track subscription revenue, user growth, and business metrics for ChefGrocer AI cooking assistant.",keywords:["revenue dashboard","subscription analytics","business metrics","growth tracking"],type:"website"}),l.jsx("div",{className:"min-h-screen bg-background",children:l.jsx(PO,{})})}function jO(){const t=[{title:"Active Trials",value:"47",change:"+23%",trend:"up",icon:l.jsx(Ol,{className:"h-4 w-4"})},{title:"Conversion Rate",value:"24%",change:"+8%",trend:"up",icon:l.jsx(Kx,{className:"h-4 w-4"})},{title:"Weekly Revenue",value:"$1,247",change:"+34%",trend:"up",icon:l.jsx(ci,{className:"h-4 w-4"})},{title:"Avg Session",value:"12m",change:"+5m",trend:"up",icon:l.jsx(Ns,{className:"h-4 w-4"})}],e=[{title:"Limited Lifetime Passes",description:"Only 53 remaining out of 100",action:"View Offers",urgency:"high"},{title:"iOS Launch in Progress",description:"Get grandfathered pricing now",action:"Lock in Rate",urgency:"medium"},{title:"Voice AI Features",description:"Free during beta period",action:"Try Now",urgency:"low"}];return l.jsxs("div",{className:"space-y-6",children:[l.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:t.map((r,n)=>l.jsx(oe,{className:"border-l-4 border-l-green-500",children:l.jsx(le,{className:"p-4",children:l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{children:[l.jsx("p",{className:"text-sm text-muted-foreground",children:r.title}),l.jsx("p",{className:"text-2xl font-bold",children:r.value}),l.jsxs("div",{className:"flex items-center space-x-1 text-sm",children:[l.jsx(Zx,{className:"h-3 w-3 text-green-500"}),l.jsx("span",{className:"text-green-500",children:r.change})]})]}),l.jsx("div",{className:"text-muted-foreground",children:r.icon})]})})},n))}),l.jsxs(oe,{children:[l.jsx(ve,{children:l.jsxs(ye,{className:"flex items-center space-x-2",children:[l.jsx(On,{className:"h-5 w-5 text-yellow-500"}),l.jsx("span",{children:"Revenue Opportunities"})]})}),l.jsx(le,{children:l.jsx("div",{className:"space-y-4",children:e.map((r,n)=>l.jsxs("div",{className:"flex items-center justify-between p-4 border rounded-lg",children:[l.jsxs("div",{className:"flex-1",children:[l.jsxs("div",{className:"flex items-center space-x-2 mb-1",children:[l.jsx("h4",{className:"font-semibold",children:r.title}),l.jsx(we,{variant:r.urgency==="high"?"destructive":r.urgency==="medium"?"default":"secondary",className:"text-xs",children:r.urgency==="high"?"URGENT":r.urgency==="medium"?"SOON":"LIMITED"})]}),l.jsx("p",{className:"text-sm text-muted-foreground",children:r.description})]}),l.jsx(se,{variant:r.urgency==="high"?"default":"outline",size:"sm",children:r.action})]},n))})})]})]})}function MO({onSubscribeClick:t}){const[e,r]=I.useState("");return I.useEffect(()=>{const n=()=>{const s=new Date("2025-08-31T23:59:59"),o=new Date,u=s.getTime()-o.getTime();if(u>0){const f=Math.floor(u/864e5),h=Math.floor(u%(1e3*60*60*24)/(1e3*60*60)),m=Math.floor(u%(1e3*60*60)/(1e3*60));r(`${f}d ${h}h ${m}m`)}else r("Expired")};n();const i=setInterval(n,6e4);return()=>clearInterval(i)},[]),l.jsx(oe,{className:"bg-gradient-to-r from-orange-500 to-red-600 text-white border-0 shadow-lg",children:l.jsx(le,{className:"p-6",children:l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{className:"flex-1",children:[l.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[l.jsx(n0,{className:"h-5 w-5"}),l.jsx(we,{variant:"secondary",className:"bg-white text-orange-600 font-bold",children:"LIMITED TIME"}),l.jsxs(we,{variant:"outline",className:"border-white text-white",children:[l.jsx(i4,{className:"h-3 w-3 mr-1"}),e]})]}),l.jsx("h3",{className:"text-lg font-bold mb-1",children:" Pre-Launch Special: Save up to 50% while we prepare for iOS!"}),l.jsx("p",{className:"text-sm opacity-90 mb-3",children:"Get lifetime access to ChefGrocer's AI cooking assistant before our App Store launch"}),l.jsxs("div",{className:"flex items-center space-x-4 text-sm",children:[l.jsxs("div",{className:"flex items-center",children:[l.jsx(Yx,{className:"h-4 w-4 mr-1"}),l.jsxs("span",{children:["Use code: ",l.jsx("strong",{children:"LAUNCH50"})]})]}),l.jsxs("div",{className:"flex items-center",children:[l.jsx(On,{className:"h-4 w-4 mr-1"}),l.jsx("span",{children:"Limited to first 100 users"})]})]})]}),l.jsx("div",{className:"ml-6",children:l.jsx(se,{onClick:t,variant:"secondary",size:"lg",className:"bg-white text-orange-600 hover:bg-gray-100 font-bold px-8",children:"Claim Offer"})})]})})})}function kO(){const[t,e]=I.useState("week"),n={week:{trials:47,conversions:12,revenue:1247,avgSession:"12m",conversionRate:25.5},month:{trials:203,conversions:58,revenue:4891,avgSession:"15m",conversionRate:28.6}}[t],i=[{title:"iOS Launch Preparation",description:"Apple Developer enrollment pending - maximize web revenue",action:"Boost Web Conversions",impact:"$2,000-5,000",urgency:"high",timeline:"1-2 weeks"},{title:"Limited Lifetime Passes",description:"53 spots remaining out of 100 with LAUNCH50 code",action:"Drive Urgency",impact:"$2,500+",urgency:"high",timeline:"This week"},{title:"Voice AI Beta Features",description:"Free Google Gemini integration during beta",action:"Promote Premium Features",impact:"$1,500+",urgency:"medium",timeline:"2-3 weeks"},{title:"Pre-Launch Special",description:"25% off monthly plans with APPSTORE25",action:"Convert Trial Users",impact:"$1,000+",urgency:"medium",timeline:"Ongoing"}],s=[{code:"LAUNCH50",usage:12,limit:100,discount:"50% off Lifetime",expires:"Aug 31"},{code:"APPSTORE25",usage:28,limit:500,discount:"25% off Monthly/Yearly",expires:"Aug 31"},{code:"FIRSTUSER",usage:5,limit:200,discount:"21-day trial",expires:"Sep 4"},{code:"ANNUAL25",usage:8,limit:500,discount:"25% off Yearly",expires:"Oct 4"}];return l.jsxs("div",{className:"min-h-screen bg-gray-50",children:[l.jsx("header",{className:"bg-white shadow-sm border-b",children:l.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:l.jsxs("div",{className:"flex justify-between items-center h-16",children:[l.jsxs("div",{className:"flex items-center space-x-3",children:[l.jsx("div",{className:"w-8 h-8 bg-green-500 rounded-lg flex items-center justify-center",children:l.jsx(R5,{className:"text-white text-sm"})}),l.jsx("h1",{className:"text-xl font-bold",children:"Revenue Optimization Dashboard"})]}),l.jsxs("div",{className:"flex items-center space-x-2",children:[l.jsxs(we,{variant:"secondary",className:"bg-green-100 text-green-700",children:[l.jsx(i4,{className:"h-3 w-3 mr-1"}),"iOS Launch Pending"]}),l.jsx(se,{onClick:()=>window.location.href="/",variant:"outline",size:"sm",children:"Back to App"})]})]})})}),l.jsxs("main",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[l.jsx("div",{className:"mb-8",children:l.jsx(MO,{onSubscribeClick:()=>window.location.href="/subscribe"})}),l.jsxs(Wl,{value:t,onValueChange:e,className:"space-y-6",children:[l.jsxs(Xl,{className:"grid w-full grid-cols-2",children:[l.jsx(tn,{value:"week",children:"This Week"}),l.jsx(tn,{value:"month",children:"This Month"})]}),l.jsxs(pn,{value:t,className:"space-y-6",children:[l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-5 gap-4",children:[l.jsx(oe,{className:"border-l-4 border-l-blue-500",children:l.jsx(le,{className:"p-4",children:l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{children:[l.jsx("p",{className:"text-sm text-muted-foreground",children:"Active Trials"}),l.jsx("p",{className:"text-2xl font-bold",children:n.trials}),l.jsxs("p",{className:"text-xs text-green-600",children:["+23% vs last ",t]})]}),l.jsx(Ol,{className:"h-8 w-8 text-blue-500"})]})})}),l.jsx(oe,{className:"border-l-4 border-l-green-500",children:l.jsx(le,{className:"p-4",children:l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{children:[l.jsx("p",{className:"text-sm text-muted-foreground",children:"Conversions"}),l.jsx("p",{className:"text-2xl font-bold",children:n.conversions}),l.jsxs("p",{className:"text-xs text-green-600",children:["+15% vs last ",t]})]}),l.jsx(Kx,{className:"h-8 w-8 text-green-500"})]})})}),l.jsx(oe,{className:"border-l-4 border-l-yellow-500",children:l.jsx(le,{className:"p-4",children:l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{children:[l.jsx("p",{className:"text-sm text-muted-foreground",children:"Revenue"}),l.jsxs("p",{className:"text-2xl font-bold",children:["$",n.revenue]}),l.jsxs("p",{className:"text-xs text-green-600",children:["+34% vs last ",t]})]}),l.jsx(ci,{className:"h-8 w-8 text-yellow-500"})]})})}),l.jsx(oe,{className:"border-l-4 border-l-purple-500",children:l.jsx(le,{className:"p-4",children:l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{children:[l.jsx("p",{className:"text-sm text-muted-foreground",children:"Conversion Rate"}),l.jsxs("p",{className:"text-2xl font-bold",children:[n.conversionRate,"%"]}),l.jsxs("p",{className:"text-xs text-green-600",children:["+5.2% vs last ",t]})]}),l.jsx(Zx,{className:"h-8 w-8 text-purple-500"})]})})}),l.jsx(oe,{className:"border-l-4 border-l-orange-500",children:l.jsx(le,{className:"p-4",children:l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{children:[l.jsx("p",{className:"text-sm text-muted-foreground",children:"Avg Session"}),l.jsx("p",{className:"text-2xl font-bold",children:n.avgSession}),l.jsxs("p",{className:"text-xs text-green-600",children:["+2m vs last ",t]})]}),l.jsx(Ns,{className:"h-8 w-8 text-orange-500"})]})})})]}),l.jsxs(oe,{children:[l.jsx(ve,{children:l.jsxs(ye,{className:"flex items-center space-x-2",children:[l.jsx(n0,{className:"h-5 w-5 text-yellow-500"}),l.jsx("span",{children:"Revenue Opportunities (While Waiting for iOS Approval)"})]})}),l.jsx(le,{children:l.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-4",children:i.map((o,u)=>l.jsx(oe,{className:"border-l-4 border-l-red-500",children:l.jsxs(le,{className:"p-4",children:[l.jsxs("div",{className:"flex justify-between items-start mb-2",children:[l.jsx("h4",{className:"font-semibold",children:o.title}),l.jsx(we,{variant:o.urgency==="high"?"destructive":"default",className:"text-xs",children:o.urgency==="high"?"URGENT":"PRIORITY"})]}),l.jsx("p",{className:"text-sm text-muted-foreground mb-3",children:o.description}),l.jsxs("div",{className:"flex justify-between items-center",children:[l.jsxs("div",{className:"text-sm",children:[l.jsx("strong",{className:"text-green-600",children:o.impact}),l.jsxs("span",{className:"text-gray-500 ml-2",children:["in ",o.timeline]})]}),l.jsx(se,{size:"sm",variant:"outline",children:o.action})]})]})},u))})})]}),l.jsxs(oe,{children:[l.jsx(ve,{children:l.jsxs(ye,{className:"flex items-center space-x-2",children:[l.jsx(Yx,{className:"h-5 w-5 text-green-500"}),l.jsx("span",{children:"Active Promotional Campaigns"})]})}),l.jsx(le,{children:l.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:s.map((o,u)=>l.jsx(oe,{className:"bg-gradient-to-r from-green-50 to-blue-50",children:l.jsxs(le,{className:"p-4",children:[l.jsxs("div",{className:"flex items-center justify-between mb-2",children:[l.jsx(we,{variant:"outline",className:"font-mono text-xs",children:o.code}),l.jsx(we,{variant:"secondary",className:"text-xs",children:o.expires})]}),l.jsx("p",{className:"text-sm font-medium mb-2",children:o.discount}),l.jsxs("div",{className:"flex justify-between items-center text-xs text-muted-foreground",children:[l.jsxs("span",{children:[o.usage,"/",o.limit," used"]}),l.jsxs("span",{children:[Math.round(o.usage/o.limit*100),"%"]})]}),l.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2 mt-2",children:l.jsx("div",{className:"bg-green-500 h-2 rounded-full",style:{width:`${o.usage/o.limit*100}%`}})})]})},u))})})]}),l.jsx(jO,{})]})]})]})]})}const LO=Rg("pk_test_51RqmpGLQYkvsYTnRMsaazcW1JZDnUR7YPuUicCqgNqLEwufTMTQuJ19QXnRCfoczHM8dDY5VjDvaMyqBOML2mjrj00oeMgUaH1"),BO=[{id:"free",name:"Free",price:0,interval:"month",features:["Basic recipe search","Simple meal planning","Limited voice commands","Basic nutrition info"],current:!0},{id:"premium",name:"Premium",price:4.99,interval:"month",features:["Unlimited AI recipe generation","Advanced meal planning","Full voice command suite","Detailed nutrition analysis","Price comparison & savings","Custom grocery lists"],popular:!0},{id:"pro",name:"Pro",price:9.99,interval:"month",features:["Everything in Premium","Restaurant partnership access","Bulk meal planning","Advanced analytics","Priority customer support","Early feature access"]},{id:"lifetime",name:"Lifetime Pass",price:99.99,interval:"one-time",features:["All Pro features forever","No monthly fees","Lifetime updates","VIP support","Exclusive content access"],bestValue:!0}];function FO({planId:t,clientSecret:e}){const r=Ig(),n=_g(),{toast:i}=nn(),[s,o]=I.useState(!1),u=async f=>{if(f.preventDefault(),!r||!n)return;o(!0);const{error:h}=await r.confirmPayment({elements:n,confirmParams:{return_url:`${window.location.origin}/payment-success`}});i(h?{title:"Payment Failed",description:h.message,variant:"destructive"}:{title:"Payment Processing",description:"Your payment is being processed..."}),o(!1)};return l.jsxs("form",{onSubmit:u,className:"space-y-6",children:[l.jsx(Tg,{}),l.jsx(se,{type:"submit",disabled:!r||s,className:"w-full",children:s?"Processing...":`Subscribe to ${t}`})]})}function UO({plan:t}){const{toast:e}=nn(),[r,n]=I.useState(""),[i,s]=I.useState(!1),o=Qi({mutationFn:async()=>t.id==="free"?{success:!0}:(await hr("POST","/api/create-subscription",{planId:t.id,priceId:`price_${t.id}`})).json(),onSuccess:u=>{u.clientSecret?(n(u.clientSecret),s(!0)):e({title:"Success!",description:`You're now on the ${t.name} plan`})},onError:()=>{e({title:"Error",description:"Failed to create subscription",variant:"destructive"})}});return i&&r?l.jsxs(oe,{className:"relative",children:[l.jsxs(ve,{children:[l.jsxs(ye,{className:"flex items-center gap-2",children:[l.jsx($a,{className:"h-5 w-5"}),"Complete Payment - ",t.name]}),l.jsxs(xt,{children:["$",t.price,t.interval==="month"?"/month":" one-time"]})]}),l.jsx(le,{children:l.jsx(v0,{stripe:LO,options:{clientSecret:r},children:l.jsx(FO,{planId:t.name,clientSecret:r})})})]}):l.jsxs(oe,{className:`relative ${t.popular?"border-2 border-blue-500":""} ${t.bestValue?"border-2 border-green-500":""}`,children:[t.popular&&l.jsx(we,{className:"absolute top-0 left-1/2 transform -translate-x-1/2 -translate-y-1/2 bg-blue-500",children:"Most Popular"}),t.bestValue&&l.jsx(we,{className:"absolute top-0 left-1/2 transform -translate-x-1/2 -translate-y-1/2 bg-green-500",children:"Best Value"}),l.jsxs(ve,{className:"text-center",children:[l.jsx(ye,{className:"text-2xl",children:t.name}),l.jsxs(xt,{children:[l.jsxs("span",{className:"text-3xl font-bold",children:["$",t.price]}),t.interval!=="one-time"&&l.jsxs("span",{className:"text-gray-500",children:["/",t.interval]})]})]}),l.jsxs(le,{className:"space-y-4",children:[l.jsx("ul",{className:"space-y-2",children:t.features.map((u,f)=>l.jsxs("li",{className:"flex items-center gap-2",children:[l.jsx(Au,{className:"h-4 w-4 text-green-500"}),l.jsx("span",{className:"text-sm",children:u})]},f))}),l.jsx(se,{className:"w-full",variant:t.current?"secondary":"default",disabled:t.current||o.isPending,onClick:()=>o.mutate(),children:t.current?"Current Plan":o.isPending?"Loading...":"Choose Plan"})]})]})}function VO(){return as({queryKey:["/api/auth/user"],retry:!1}),as({queryKey:["/api/revenue/stats"],retry:!1}),l.jsxs("div",{className:"container mx-auto py-8 space-y-8",children:[l.jsxs("div",{className:"text-center",children:[l.jsx("h1",{className:"text-3xl font-bold mb-4",children:"ChefGrocer Revenue Collection"}),l.jsx("p",{className:"text-xl text-gray-600 mb-6",children:"Set up payments and start collecting revenue from your cooking app"})]}),l.jsxs(Wl,{defaultValue:"subscriptions",className:"space-y-6",children:[l.jsxs(Xl,{className:"grid w-full grid-cols-4",children:[l.jsxs(tn,{value:"subscriptions",children:[l.jsx(ns,{className:"h-4 w-4 mr-2"}),"Subscriptions"]}),l.jsxs(tn,{value:"partnerships",children:[l.jsx(au,{className:"h-4 w-4 mr-2"}),"Restaurant Fees"]}),l.jsxs(tn,{value:"affiliates",children:[l.jsx(In,{className:"h-4 w-4 mr-2"}),"Affiliate Income"]}),l.jsxs(tn,{value:"payouts",children:[l.jsx(G2,{className:"h-4 w-4 mr-2"}),"Your Payouts"]})]}),l.jsxs(pn,{value:"subscriptions",className:"space-y-6",children:[l.jsx(oe,{children:l.jsxs(ve,{children:[l.jsxs(ye,{className:"flex items-center gap-2",children:[l.jsx(ns,{className:"h-5 w-5"}),"Premium Subscription Plans"]}),l.jsx(xt,{children:"Users pay monthly/yearly subscriptions for premium features"})]})}),l.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:BO.map(t=>l.jsx(UO,{plan:t},t.id))}),l.jsxs(oe,{children:[l.jsx(ve,{children:l.jsx(ye,{children:"Monthly Revenue Projections"})}),l.jsx(le,{children:l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[l.jsxs("div",{className:"text-center p-4 bg-blue-50 rounded-lg",children:[l.jsx("div",{className:"text-2xl font-bold text-blue-600",children:"100 users"}),l.jsx("div",{className:"text-sm text-gray-600",children:"Premium ($4.99/mo)"}),l.jsx("div",{className:"text-lg font-semibold",children:"$499/month"})]}),l.jsxs("div",{className:"text-center p-4 bg-purple-50 rounded-lg",children:[l.jsx("div",{className:"text-2xl font-bold text-purple-600",children:"50 users"}),l.jsx("div",{className:"text-sm text-gray-600",children:"Pro ($9.99/mo)"}),l.jsx("div",{className:"text-lg font-semibold",children:"$499/month"})]}),l.jsxs("div",{className:"text-center p-4 bg-green-50 rounded-lg",children:[l.jsx("div",{className:"text-2xl font-bold text-green-600",children:"20 users"}),l.jsx("div",{className:"text-sm text-gray-600",children:"Lifetime ($99.99)"}),l.jsx("div",{className:"text-lg font-semibold",children:"$2,000/month"})]}),l.jsxs("div",{className:"text-center p-4 bg-yellow-50 rounded-lg",children:[l.jsx("div",{className:"text-2xl font-bold text-yellow-600",children:"Total"}),l.jsx("div",{className:"text-sm text-gray-600",children:"Monthly Revenue"}),l.jsx("div",{className:"text-lg font-semibold",children:"$2,998/month"})]})]})})]})]}),l.jsx(pn,{value:"partnerships",className:"space-y-6",children:l.jsxs(oe,{children:[l.jsxs(ve,{children:[l.jsxs(ye,{className:"flex items-center gap-2",children:[l.jsx(au,{className:"h-5 w-5"}),"Restaurant Partnership Revenue"]}),l.jsx(xt,{children:"Restaurants pay monthly fees to be featured in your app"})]}),l.jsxs(le,{children:[l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[l.jsxs("div",{className:"p-6 border rounded-lg",children:[l.jsx("h3",{className:"text-xl font-semibold mb-2",children:"Basic Listing"}),l.jsx("div",{className:"text-3xl font-bold text-blue-600 mb-2",children:"$299/month"}),l.jsx("p",{className:"text-gray-600 mb-4",children:"Restaurant profile + menu integration"}),l.jsxs("ul",{className:"space-y-1 text-sm",children:[l.jsx("li",{children:" Basic restaurant profile"}),l.jsx("li",{children:" Menu item listings"}),l.jsx("li",{children:" Customer reviews"}),l.jsx("li",{children:" Basic analytics"})]})]}),l.jsxs("div",{className:"p-6 border rounded-lg border-orange-300 bg-orange-50",children:[l.jsx("h3",{className:"text-xl font-semibold mb-2",children:"Featured Partner"}),l.jsx("div",{className:"text-3xl font-bold text-orange-600 mb-2",children:"$599/month"}),l.jsx("p",{className:"text-gray-600 mb-4",children:"Priority placement + promotions"}),l.jsxs("ul",{className:"space-y-1 text-sm",children:[l.jsx("li",{children:" Everything in Basic"}),l.jsx("li",{children:" Featured placement"}),l.jsx("li",{children:" Promotional campaigns"}),l.jsx("li",{children:" Advanced analytics"}),l.jsx("li",{children:" Direct ordering integration"})]})]}),l.jsxs("div",{className:"p-6 border rounded-lg border-purple-300 bg-purple-50",children:[l.jsx("h3",{className:"text-xl font-semibold mb-2",children:"Premium Partner"}),l.jsx("div",{className:"text-3xl font-bold text-purple-600 mb-2",children:"$999/month"}),l.jsx("p",{className:"text-gray-600 mb-4",children:"Exclusive features + marketing"}),l.jsxs("ul",{className:"space-y-1 text-sm",children:[l.jsx("li",{children:" Everything in Featured"}),l.jsx("li",{children:" Exclusive recipe partnerships"}),l.jsx("li",{children:" Custom marketing campaigns"}),l.jsx("li",{children:" Priority customer support"}),l.jsx("li",{children:" Revenue sharing program"})]})]})]}),l.jsxs("div",{className:"mt-6 p-4 bg-green-50 rounded-lg",children:[l.jsx("h4",{className:"font-semibold text-green-800 mb-2",children:"Revenue Potential:"}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 text-center",children:[l.jsxs("div",{children:[l.jsx("div",{className:"text-lg font-bold text-green-600",children:"10 Basic"}),l.jsx("div",{className:"text-sm",children:"$2,990/month"})]}),l.jsxs("div",{children:[l.jsx("div",{className:"text-lg font-bold text-orange-600",children:"5 Featured"}),l.jsx("div",{className:"text-sm",children:"$2,995/month"})]}),l.jsxs("div",{children:[l.jsx("div",{className:"text-lg font-bold text-purple-600",children:"3 Premium"}),l.jsx("div",{className:"text-sm",children:"$2,997/month"})]}),l.jsxs("div",{children:[l.jsx("div",{className:"text-lg font-bold text-gray-800",children:"Total"}),l.jsx("div",{className:"text-sm",children:"$8,982/month"})]})]})]})]})]})}),l.jsx(pn,{value:"affiliates",className:"space-y-6",children:l.jsxs(oe,{children:[l.jsxs(ve,{children:[l.jsxs(ye,{className:"flex items-center gap-2",children:[l.jsx(In,{className:"h-5 w-5"}),"Affiliate Commission Revenue"]}),l.jsx(xt,{children:"Earn commissions from grocery delivery and kitchen equipment sales"})]}),l.jsxs(le,{children:[l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[l.jsxs("div",{className:"p-6 border rounded-lg",children:[l.jsx("h3",{className:"text-xl font-semibold mb-4",children:"Grocery Delivery Partners"}),l.jsxs("div",{className:"space-y-3",children:[l.jsxs("div",{className:"flex justify-between items-center",children:[l.jsx("span",{children:"Instacart"}),l.jsx(we,{variant:"secondary",children:"8-15% commission"})]}),l.jsxs("div",{className:"flex justify-between items-center",children:[l.jsx("span",{children:"DoorDash"}),l.jsx(we,{variant:"secondary",children:"5-12% commission"})]}),l.jsxs("div",{className:"flex justify-between items-center",children:[l.jsx("span",{children:"Uber Eats"}),l.jsx(we,{variant:"secondary",children:"6-10% commission"})]}),l.jsxs("div",{className:"flex justify-between items-center",children:[l.jsx("span",{children:"Amazon Fresh"}),l.jsx(we,{variant:"secondary",children:"4-8% commission"})]})]})]}),l.jsxs("div",{className:"p-6 border rounded-lg",children:[l.jsx("h3",{className:"text-xl font-semibold mb-4",children:"Kitchen Equipment Partners"}),l.jsxs("div",{className:"space-y-3",children:[l.jsxs("div",{className:"flex justify-between items-center",children:[l.jsx("span",{children:"Williams Sonoma"}),l.jsx(we,{variant:"secondary",children:"5-10% commission"})]}),l.jsxs("div",{className:"flex justify-between items-center",children:[l.jsx("span",{children:"Sur La Table"}),l.jsx(we,{variant:"secondary",children:"6-12% commission"})]}),l.jsxs("div",{className:"flex justify-between items-center",children:[l.jsx("span",{children:"Amazon Kitchen"}),l.jsx(we,{variant:"secondary",children:"3-8% commission"})]}),l.jsxs("div",{className:"flex justify-between items-center",children:[l.jsx("span",{children:"Target Kitchen"}),l.jsx(we,{variant:"secondary",children:"2-6% commission"})]})]})]})]}),l.jsxs("div",{className:"mt-6 p-4 bg-blue-50 rounded-lg",children:[l.jsx("h4",{className:"font-semibold text-blue-800 mb-2",children:"Monthly Commission Projections:"}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 text-center",children:[l.jsxs("div",{children:[l.jsx("div",{className:"text-lg font-bold text-blue-600",children:"$50,000"}),l.jsx("div",{className:"text-sm",children:"Grocery sales (10% avg)"}),l.jsx("div",{className:"text-lg font-semibold",children:"$5,000/month"})]}),l.jsxs("div",{children:[l.jsx("div",{className:"text-lg font-bold text-purple-600",children:"$20,000"}),l.jsx("div",{className:"text-sm",children:"Equipment sales (7% avg)"}),l.jsx("div",{className:"text-lg font-semibold",children:"$1,400/month"})]}),l.jsxs("div",{children:[l.jsx("div",{className:"text-lg font-bold text-green-600",children:"Total"}),l.jsx("div",{className:"text-sm",children:"Monthly Commissions"}),l.jsx("div",{className:"text-lg font-semibold",children:"$6,400/month"})]})]})]})]})]})}),l.jsx(pn,{value:"payouts",className:"space-y-6",children:l.jsxs(oe,{children:[l.jsxs(ve,{children:[l.jsxs(ye,{className:"flex items-center gap-2",children:[l.jsx(G2,{className:"h-5 w-5"}),"Where Your Money Goes"]}),l.jsx(xt,{children:"All payments are processed through Stripe and deposited directly to your bank account"})]}),l.jsxs(le,{className:"space-y-6",children:[l.jsxs("div",{className:"p-6 border rounded-lg bg-green-50",children:[l.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[l.jsx(Au,{className:"h-5 w-5 text-green-600"}),l.jsx("h3",{className:"text-xl font-semibold",children:"Automatic Bank Deposits"})]}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[l.jsxs("div",{children:[l.jsx("h4",{className:"font-semibold mb-2",children:"Subscription Payments"}),l.jsxs("ul",{className:"space-y-1 text-sm text-gray-600",children:[l.jsx("li",{children:" Collected monthly/yearly automatically"}),l.jsx("li",{children:" Deposited to your bank within 2-7 business days"}),l.jsx("li",{children:" Stripe fee: 2.9% + $0.30 per transaction"}),l.jsx("li",{children:" Failed payments automatically retried"})]})]}),l.jsxs("div",{children:[l.jsx("h4",{className:"font-semibold mb-2",children:"Restaurant Partnership Fees"}),l.jsxs("ul",{className:"space-y-1 text-sm text-gray-600",children:[l.jsx("li",{children:" Collected monthly on the 1st"}),l.jsx("li",{children:" Deposited within 2-7 business days"}),l.jsx("li",{children:" Stripe fee: 2.9% + $0.30 per transaction"}),l.jsx("li",{children:" Automatic invoice generation"})]})]})]})]}),l.jsxs("div",{className:"p-6 border rounded-lg bg-blue-50",children:[l.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[l.jsx(ci,{className:"h-5 w-5 text-blue-600"}),l.jsx("h3",{className:"text-xl font-semibold",children:"Affiliate Commission Payouts"})]}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[l.jsxs("div",{children:[l.jsx("h4",{className:"font-semibold mb-2",children:"Payment Schedule"}),l.jsxs("ul",{className:"space-y-1 text-sm text-gray-600",children:[l.jsx("li",{children:" Instacart: Monthly, net 30 days"}),l.jsx("li",{children:" DoorDash: Bi-weekly payments"}),l.jsx("li",{children:" Amazon: Monthly, net 60 days"}),l.jsx("li",{children:" Other partners: Various schedules"})]})]}),l.jsxs("div",{children:[l.jsx("h4",{className:"font-semibold mb-2",children:"Payment Methods"}),l.jsxs("ul",{className:"space-y-1 text-sm text-gray-600",children:[l.jsx("li",{children:" Direct bank deposit (ACH)"}),l.jsx("li",{children:" PayPal (some partners)"}),l.jsx("li",{children:" Check (backup option)"}),l.jsx("li",{children:" International wire transfers"})]})]})]})]}),l.jsxs("div",{className:"p-6 border rounded-lg bg-yellow-50",children:[l.jsx("h3",{className:"text-xl font-semibold mb-4",children:"Total Monthly Revenue Potential"}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[l.jsxs("div",{className:"text-center p-4 bg-white rounded-lg",children:[l.jsx("div",{className:"text-2xl font-bold text-blue-600",children:"$2,998"}),l.jsx("div",{className:"text-sm text-gray-600",children:"Subscriptions"})]}),l.jsxs("div",{className:"text-center p-4 bg-white rounded-lg",children:[l.jsx("div",{className:"text-2xl font-bold text-orange-600",children:"$8,982"}),l.jsx("div",{className:"text-sm text-gray-600",children:"Restaurant Fees"})]}),l.jsxs("div",{className:"text-center p-4 bg-white rounded-lg",children:[l.jsx("div",{className:"text-2xl font-bold text-green-600",children:"$6,400"}),l.jsx("div",{className:"text-sm text-gray-600",children:"Affiliate Income"})]}),l.jsxs("div",{className:"text-center p-4 bg-gray-800 text-white rounded-lg",children:[l.jsx("div",{className:"text-2xl font-bold",children:"$18,380"}),l.jsx("div",{className:"text-sm",children:"Total Monthly"})]})]}),l.jsxs("div",{className:"mt-4 text-center",children:[l.jsx("div",{className:"text-3xl font-bold text-green-600",children:"$220,560"}),l.jsx("div",{className:"text-gray-600",children:"Projected Annual Revenue"})]})]}),l.jsxs(oe,{children:[l.jsxs(ve,{children:[l.jsx(ye,{children:"Set Up Bank Account for Deposits"}),l.jsx(xt,{children:"Connect your bank account to receive automatic deposits from Stripe"})]}),l.jsxs(le,{className:"space-y-4",children:[l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[l.jsxs("div",{children:[l.jsx(si,{htmlFor:"routing",children:"Routing Number"}),l.jsx(Zt,{id:"routing",placeholder:"9-digit routing number"})]}),l.jsxs("div",{children:[l.jsx(si,{htmlFor:"account",children:"Account Number"}),l.jsx(Zt,{id:"account",placeholder:"Your account number"})]})]}),l.jsxs("div",{children:[l.jsx(si,{htmlFor:"bank-name",children:"Bank Name"}),l.jsx(Zt,{id:"bank-name",placeholder:"e.g., Chase Bank"})]}),l.jsx(se,{className:"w-full",children:"Connect Bank Account"}),l.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-500",children:[l.jsx(Sa,{className:"h-4 w-4"}),l.jsx("span",{children:"Bank information is securely encrypted and stored by Stripe"})]})]})]})]})]})})]})]})}function HO(t,e){return I.useReducer((r,n)=>e[r][n]??r,t)}var jg="ScrollArea",[h8,lL]=$n(jg),[zO,pi]=h8(jg),p8=I.forwardRef((t,e)=>{const{__scopeScrollArea:r,type:n="hover",dir:i,scrollHideDelay:s=600,...o}=t,[u,f]=I.useState(null),[h,m]=I.useState(null),[v,w]=I.useState(null),[C,N]=I.useState(null),[b,R]=I.useState(null),[_,S]=I.useState(0),[T,P]=I.useState(0),[B,k]=I.useState(!1),[M,F]=I.useState(!1),U=nt(e,ee=>f(ee)),X=d0(i);return l.jsx(zO,{scope:r,type:n,dir:X,scrollHideDelay:s,scrollArea:u,viewport:h,onViewportChange:m,content:v,onContentChange:w,scrollbarX:C,onScrollbarXChange:N,scrollbarXEnabled:B,onScrollbarXEnabledChange:k,scrollbarY:b,onScrollbarYChange:R,scrollbarYEnabled:M,onScrollbarYEnabledChange:F,onCornerWidthChange:S,onCornerHeightChange:P,children:l.jsx(Ve.div,{dir:X,...o,ref:U,style:{position:"relative","--radix-scroll-area-corner-width":_+"px","--radix-scroll-area-corner-height":T+"px",...t.style}})})});p8.displayName=jg;var x8="ScrollAreaViewport",g8=I.forwardRef((t,e)=>{const{__scopeScrollArea:r,children:n,nonce:i,...s}=t,o=pi(x8,r),u=I.useRef(null),f=nt(e,u,o.onViewportChange);return l.jsxs(l.Fragment,{children:[l.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-scroll-area-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-scroll-area-viewport]::-webkit-scrollbar{display:none}"},nonce:i}),l.jsx(Ve.div,{"data-radix-scroll-area-viewport":"",...s,ref:f,style:{overflowX:o.scrollbarXEnabled?"scroll":"hidden",overflowY:o.scrollbarYEnabled?"scroll":"hidden",...t.style},children:l.jsx("div",{ref:o.onContentChange,style:{minWidth:"100%",display:"table"},children:n})})]})});g8.displayName=x8;var us="ScrollAreaScrollbar",Mg=I.forwardRef((t,e)=>{const{forceMount:r,...n}=t,i=pi(us,t.__scopeScrollArea),{onScrollbarXEnabledChange:s,onScrollbarYEnabledChange:o}=i,u=t.orientation==="horizontal";return I.useEffect(()=>(u?s(!0):o(!0),()=>{u?s(!1):o(!1)}),[u,s,o]),i.type==="hover"?l.jsx(GO,{...n,ref:e,forceMount:r}):i.type==="scroll"?l.jsx(WO,{...n,ref:e,forceMount:r}):i.type==="auto"?l.jsx(m8,{...n,ref:e,forceMount:r}):i.type==="always"?l.jsx(kg,{...n,ref:e}):null});Mg.displayName=us;var GO=I.forwardRef((t,e)=>{const{forceMount:r,...n}=t,i=pi(us,t.__scopeScrollArea),[s,o]=I.useState(!1);return I.useEffect(()=>{const u=i.scrollArea;let f=0;if(u){const h=()=>{window.clearTimeout(f),o(!0)},m=()=>{f=window.setTimeout(()=>o(!1),i.scrollHideDelay)};return u.addEventListener("pointerenter",h),u.addEventListener("pointerleave",m),()=>{window.clearTimeout(f),u.removeEventListener("pointerenter",h),u.removeEventListener("pointerleave",m)}}},[i.scrollArea,i.scrollHideDelay]),l.jsx(hi,{present:r||s,children:l.jsx(m8,{"data-state":s?"visible":"hidden",...n,ref:e})})}),WO=I.forwardRef((t,e)=>{const{forceMount:r,...n}=t,i=pi(us,t.__scopeScrollArea),s=t.orientation==="horizontal",o=w0(()=>f("SCROLL_END"),100),[u,f]=HO("hidden",{hidden:{SCROLL:"scrolling"},scrolling:{SCROLL_END:"idle",POINTER_ENTER:"interacting"},interacting:{SCROLL:"interacting",POINTER_LEAVE:"idle"},idle:{HIDE:"hidden",SCROLL:"scrolling",POINTER_ENTER:"interacting"}});return I.useEffect(()=>{if(u==="idle"){const h=window.setTimeout(()=>f("HIDE"),i.scrollHideDelay);return()=>window.clearTimeout(h)}},[u,i.scrollHideDelay,f]),I.useEffect(()=>{const h=i.viewport,m=s?"scrollLeft":"scrollTop";if(h){let v=h[m];const w=()=>{const C=h[m];v!==C&&(f("SCROLL"),o()),v=C};return h.addEventListener("scroll",w),()=>h.removeEventListener("scroll",w)}},[i.viewport,s,f,o]),l.jsx(hi,{present:r||u!=="hidden",children:l.jsx(kg,{"data-state":u==="hidden"?"hidden":"visible",...n,ref:e,onPointerEnter:Pe(t.onPointerEnter,()=>f("POINTER_ENTER")),onPointerLeave:Pe(t.onPointerLeave,()=>f("POINTER_LEAVE"))})})}),m8=I.forwardRef((t,e)=>{const r=pi(us,t.__scopeScrollArea),{forceMount:n,...i}=t,[s,o]=I.useState(!1),u=t.orientation==="horizontal",f=w0(()=>{if(r.viewport){const h=r.viewport.offsetWidth<r.viewport.scrollWidth,m=r.viewport.offsetHeight<r.viewport.scrollHeight;o(u?h:m)}},10);return Ml(r.viewport,f),Ml(r.content,f),l.jsx(hi,{present:n||s,children:l.jsx(kg,{"data-state":s?"visible":"hidden",...i,ref:e})})}),kg=I.forwardRef((t,e)=>{const{orientation:r="vertical",...n}=t,i=pi(us,t.__scopeScrollArea),s=I.useRef(null),o=I.useRef(0),[u,f]=I.useState({content:0,viewport:0,scrollbar:{size:0,paddingStart:0,paddingEnd:0}}),h=E8(u.viewport,u.content),m={...n,sizes:u,onSizesChange:f,hasThumb:h>0&&h<1,onThumbChange:w=>s.current=w,onThumbPointerUp:()=>o.current=0,onThumbPointerDown:w=>o.current=w};function v(w,C){return qO(w,o.current,u,C)}return r==="horizontal"?l.jsx(XO,{...m,ref:e,onThumbPositionChange:()=>{if(i.viewport&&s.current){const w=i.viewport.scrollLeft,C=Rv(w,u,i.dir);s.current.style.transform=`translate3d(${C}px, 0, 0)`}},onWheelScroll:w=>{i.viewport&&(i.viewport.scrollLeft=w)},onDragScroll:w=>{i.viewport&&(i.viewport.scrollLeft=v(w,i.dir))}}):r==="vertical"?l.jsx(YO,{...m,ref:e,onThumbPositionChange:()=>{if(i.viewport&&s.current){const w=i.viewport.scrollTop,C=Rv(w,u);s.current.style.transform=`translate3d(0, ${C}px, 0)`}},onWheelScroll:w=>{i.viewport&&(i.viewport.scrollTop=w)},onDragScroll:w=>{i.viewport&&(i.viewport.scrollTop=v(w))}}):null}),XO=I.forwardRef((t,e)=>{const{sizes:r,onSizesChange:n,...i}=t,s=pi(us,t.__scopeScrollArea),[o,u]=I.useState(),f=I.useRef(null),h=nt(e,f,s.onScrollbarXChange);return I.useEffect(()=>{f.current&&u(getComputedStyle(f.current))},[f]),l.jsx(y8,{"data-orientation":"horizontal",...i,ref:h,sizes:r,style:{bottom:0,left:s.dir==="rtl"?"var(--radix-scroll-area-corner-width)":0,right:s.dir==="ltr"?"var(--radix-scroll-area-corner-width)":0,"--radix-scroll-area-thumb-width":y0(r)+"px",...t.style},onThumbPointerDown:m=>t.onThumbPointerDown(m.x),onDragScroll:m=>t.onDragScroll(m.x),onWheelScroll:(m,v)=>{if(s.viewport){const w=s.viewport.scrollLeft+m.deltaX;t.onWheelScroll(w),b8(w,v)&&m.preventDefault()}},onResize:()=>{f.current&&s.viewport&&o&&n({content:s.viewport.scrollWidth,viewport:s.viewport.offsetWidth,scrollbar:{size:f.current.clientWidth,paddingStart:Tf(o.paddingLeft),paddingEnd:Tf(o.paddingRight)}})}})}),YO=I.forwardRef((t,e)=>{const{sizes:r,onSizesChange:n,...i}=t,s=pi(us,t.__scopeScrollArea),[o,u]=I.useState(),f=I.useRef(null),h=nt(e,f,s.onScrollbarYChange);return I.useEffect(()=>{f.current&&u(getComputedStyle(f.current))},[f]),l.jsx(y8,{"data-orientation":"vertical",...i,ref:h,sizes:r,style:{top:0,right:s.dir==="ltr"?0:void 0,left:s.dir==="rtl"?0:void 0,bottom:"var(--radix-scroll-area-corner-height)","--radix-scroll-area-thumb-height":y0(r)+"px",...t.style},onThumbPointerDown:m=>t.onThumbPointerDown(m.y),onDragScroll:m=>t.onDragScroll(m.y),onWheelScroll:(m,v)=>{if(s.viewport){const w=s.viewport.scrollTop+m.deltaY;t.onWheelScroll(w),b8(w,v)&&m.preventDefault()}},onResize:()=>{f.current&&s.viewport&&o&&n({content:s.viewport.scrollHeight,viewport:s.viewport.offsetHeight,scrollbar:{size:f.current.clientHeight,paddingStart:Tf(o.paddingTop),paddingEnd:Tf(o.paddingBottom)}})}})}),[$O,v8]=h8(us),y8=I.forwardRef((t,e)=>{const{__scopeScrollArea:r,sizes:n,hasThumb:i,onThumbChange:s,onThumbPointerUp:o,onThumbPointerDown:u,onThumbPositionChange:f,onDragScroll:h,onWheelScroll:m,onResize:v,...w}=t,C=pi(us,r),[N,b]=I.useState(null),R=nt(e,U=>b(U)),_=I.useRef(null),S=I.useRef(""),T=C.viewport,P=n.content-n.viewport,B=lr(m),k=lr(f),M=w0(v,10);function F(U){if(_.current){const X=U.clientX-_.current.left,ee=U.clientY-_.current.top;h({x:X,y:ee})}}return I.useEffect(()=>{const U=X=>{const ee=X.target;(N==null?void 0:N.contains(ee))&&B(X,P)};return document.addEventListener("wheel",U,{passive:!1}),()=>document.removeEventListener("wheel",U,{passive:!1})},[T,N,P,B]),I.useEffect(k,[n,k]),Ml(N,M),Ml(C.content,M),l.jsx($O,{scope:r,scrollbar:N,hasThumb:i,onThumbChange:lr(s),onThumbPointerUp:lr(o),onThumbPositionChange:k,onThumbPointerDown:lr(u),children:l.jsx(Ve.div,{...w,ref:R,style:{position:"absolute",...w.style},onPointerDown:Pe(t.onPointerDown,U=>{U.button===0&&(U.target.setPointerCapture(U.pointerId),_.current=N.getBoundingClientRect(),S.current=document.body.style.webkitUserSelect,document.body.style.webkitUserSelect="none",C.viewport&&(C.viewport.style.scrollBehavior="auto"),F(U))}),onPointerMove:Pe(t.onPointerMove,F),onPointerUp:Pe(t.onPointerUp,U=>{const X=U.target;X.hasPointerCapture(U.pointerId)&&X.releasePointerCapture(U.pointerId),document.body.style.webkitUserSelect=S.current,C.viewport&&(C.viewport.style.scrollBehavior=""),_.current=null})})})}),If="ScrollAreaThumb",w8=I.forwardRef((t,e)=>{const{forceMount:r,...n}=t,i=v8(If,t.__scopeScrollArea);return l.jsx(hi,{present:r||i.hasThumb,children:l.jsx(KO,{ref:e,...n})})}),KO=I.forwardRef((t,e)=>{const{__scopeScrollArea:r,style:n,...i}=t,s=pi(If,r),o=v8(If,r),{onThumbPositionChange:u}=o,f=nt(e,v=>o.onThumbChange(v)),h=I.useRef(void 0),m=w0(()=>{h.current&&(h.current(),h.current=void 0)},100);return I.useEffect(()=>{const v=s.viewport;if(v){const w=()=>{if(m(),!h.current){const C=QO(v,u);h.current=C,u()}};return u(),v.addEventListener("scroll",w),()=>v.removeEventListener("scroll",w)}},[s.viewport,m,u]),l.jsx(Ve.div,{"data-state":o.hasThumb?"visible":"hidden",...i,ref:f,style:{width:"var(--radix-scroll-area-thumb-width)",height:"var(--radix-scroll-area-thumb-height)",...n},onPointerDownCapture:Pe(t.onPointerDownCapture,v=>{const C=v.target.getBoundingClientRect(),N=v.clientX-C.left,b=v.clientY-C.top;o.onThumbPointerDown({x:N,y:b})}),onPointerUp:Pe(t.onPointerUp,o.onThumbPointerUp)})});w8.displayName=If;var Lg="ScrollAreaCorner",C8=I.forwardRef((t,e)=>{const r=pi(Lg,t.__scopeScrollArea),n=!!(r.scrollbarX&&r.scrollbarY);return r.type!=="scroll"&&n?l.jsx(ZO,{...t,ref:e}):null});C8.displayName=Lg;var ZO=I.forwardRef((t,e)=>{const{__scopeScrollArea:r,...n}=t,i=pi(Lg,r),[s,o]=I.useState(0),[u,f]=I.useState(0),h=!!(s&&u);return Ml(i.scrollbarX,()=>{var v;const m=((v=i.scrollbarX)==null?void 0:v.offsetHeight)||0;i.onCornerHeightChange(m),f(m)}),Ml(i.scrollbarY,()=>{var v;const m=((v=i.scrollbarY)==null?void 0:v.offsetWidth)||0;i.onCornerWidthChange(m),o(m)}),h?l.jsx(Ve.div,{...n,ref:e,style:{width:s,height:u,position:"absolute",right:i.dir==="ltr"?0:void 0,left:i.dir==="rtl"?0:void 0,bottom:0,...t.style}}):null});function Tf(t){return t?parseInt(t,10):0}function E8(t,e){const r=t/e;return isNaN(r)?0:r}function y0(t){const e=E8(t.viewport,t.content),r=t.scrollbar.paddingStart+t.scrollbar.paddingEnd,n=(t.scrollbar.size-r)*e;return Math.max(n,18)}function qO(t,e,r,n="ltr"){const i=y0(r),s=i/2,o=e||s,u=i-o,f=r.scrollbar.paddingStart+o,h=r.scrollbar.size-r.scrollbar.paddingEnd-u,m=r.content-r.viewport,v=n==="ltr"?[0,m]:[m*-1,0];return A8([f,h],v)(t)}function Rv(t,e,r="ltr"){const n=y0(e),i=e.scrollbar.paddingStart+e.scrollbar.paddingEnd,s=e.scrollbar.size-i,o=e.content-e.viewport,u=s-n,f=r==="ltr"?[0,o]:[o*-1,0],h=xp(t,f);return A8([0,o],[0,u])(h)}function A8(t,e){return r=>{if(t[0]===t[1]||e[0]===e[1])return e[0];const n=(e[1]-e[0])/(t[1]-t[0]);return e[0]+n*(r-t[0])}}function b8(t,e){return t>0&&t<e}var QO=(t,e=()=>{})=>{let r={left:t.scrollLeft,top:t.scrollTop},n=0;return function i(){const s={left:t.scrollLeft,top:t.scrollTop},o=r.left!==s.left,u=r.top!==s.top;(o||u)&&e(),r=s,n=window.requestAnimationFrame(i)}(),()=>window.cancelAnimationFrame(n)};function w0(t,e){const r=lr(t),n=I.useRef(0);return I.useEffect(()=>()=>window.clearTimeout(n.current),[]),I.useCallback(()=>{window.clearTimeout(n.current),n.current=window.setTimeout(r,e)},[r,e])}function Ml(t,e){const r=lr(e);Gr(()=>{let n=0;if(t){const i=new ResizeObserver(()=>{cancelAnimationFrame(n),n=window.requestAnimationFrame(r)});return i.observe(t),()=>{window.cancelAnimationFrame(n),i.unobserve(t)}}},[t,r])}var S8=p8,JO=g8,eP=C8;const N8=I.forwardRef(({className:t,children:e,...r},n)=>l.jsxs(S8,{ref:n,className:Le("relative overflow-hidden",t),...r,children:[l.jsx(JO,{className:"h-full w-full rounded-[inherit]",children:e}),l.jsx(_8,{}),l.jsx(eP,{})]}));N8.displayName=S8.displayName;const _8=I.forwardRef(({className:t,orientation:e="vertical",...r},n)=>l.jsx(Mg,{ref:n,orientation:e,className:Le("flex touch-none select-none transition-colors",e==="vertical"&&"h-full w-2.5 border-l border-l-transparent p-[1px]",e==="horizontal"&&"h-2.5 flex-col border-t border-t-transparent p-[1px]",t),...r,children:l.jsx(w8,{className:"relative flex-1 rounded-full bg-border"})}));_8.displayName=Mg.displayName;var tP="Separator",Ov="horizontal",rP=["horizontal","vertical"],I8=I.forwardRef((t,e)=>{const{decorative:r,orientation:n=Ov,...i}=t,s=nP(n)?n:Ov,u=r?{role:"none"}:{"aria-orientation":s==="vertical"?s:void 0,role:"separator"};return l.jsx(Ve.div,{"data-orientation":s,...u,...i,ref:e})});I8.displayName=tP;function nP(t){return rP.includes(t)}var T8=I8;const qi=I.forwardRef(({className:t,orientation:e="horizontal",decorative:r=!0,...n},i)=>l.jsx(T8,{ref:i,decorative:r,orientation:e,className:Le("shrink-0 bg-border",e==="horizontal"?"h-[1px] w-full":"h-full w-[1px]",t),...n}));qi.displayName=T8.displayName;function iP(){const t="August 8, 2025";return l.jsx("div",{className:"min-h-screen bg-gradient-to-br from-orange-50 to-red-50 dark:from-gray-900 dark:to-gray-800",children:l.jsxs("div",{className:"container mx-auto px-4 py-8",children:[l.jsxs("div",{className:"text-center mb-8",children:[l.jsxs("div",{className:"flex items-center justify-center gap-3 mb-4",children:[l.jsx(is,{className:"h-12 w-12 text-orange-600"}),l.jsx("h1",{className:"text-4xl font-bold text-gray-900 dark:text-white",children:"Privacy Policy"})]}),l.jsx("p",{className:"text-lg text-gray-600 dark:text-gray-300 mb-4",children:"Your privacy is our priority. Learn how we protect and handle your data."}),l.jsxs(we,{variant:"secondary",className:"text-sm",children:["Last Updated: ",t]})]}),l.jsxs("div",{className:"grid gap-6 max-w-4xl mx-auto",children:[l.jsxs(oe,{children:[l.jsxs(ve,{children:[l.jsxs(ye,{className:"flex items-center gap-2",children:[l.jsx(e4,{className:"h-5 w-5 text-blue-600"}),"Privacy at a Glance"]}),l.jsx(xt,{children:"Key points about how ChefGrocer handles your data"})]}),l.jsx(le,{children:l.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[l.jsxs("div",{className:"space-y-3",children:[l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx($2,{className:"h-4 w-4 text-green-600"}),l.jsx("span",{className:"text-sm",children:"We never sell your data"})]}),l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx(is,{className:"h-4 w-4 text-green-600"}),l.jsx("span",{className:"text-sm",children:"Voice recordings processed securely"})]}),l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx(ip,{className:"h-4 w-4 text-green-600"}),l.jsx("span",{className:"text-sm",children:"Encrypted data storage"})]})]}),l.jsxs("div",{className:"space-y-3",children:[l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx(Ol,{className:"h-4 w-4 text-green-600"}),l.jsx("span",{className:"text-sm",children:"You control your data"})]}),l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx(L5,{className:"h-4 w-4 text-green-600"}),l.jsx("span",{className:"text-sm",children:"GDPR & CCPA compliant"})]}),l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx(Rl,{className:"h-4 w-4 text-green-600"}),l.jsx("span",{className:"text-sm",children:"Transparent practices"})]})]})]})})]}),l.jsxs(oe,{children:[l.jsxs(ve,{children:[l.jsx(ye,{children:"Complete Privacy Policy"}),l.jsx(xt,{children:"Detailed information about data collection, usage, and your rights"})]}),l.jsx(le,{children:l.jsx(N8,{className:"h-[600px] pr-4",children:l.jsxs("div",{className:"space-y-6 text-sm",children:[l.jsxs("section",{children:[l.jsx("h3",{className:"text-lg font-semibold mb-3 text-orange-600",children:"Information We Collect"}),l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{children:[l.jsx("h4",{className:"font-medium mb-2",children:"Personal Information"}),l.jsxs("ul",{className:"list-disc list-inside space-y-1 text-gray-600 dark:text-gray-300 ml-4",children:[l.jsx("li",{children:"Account details: name, email, profile image"}),l.jsx("li",{children:"Payment information (processed securely via Stripe)"}),l.jsx("li",{children:"Dietary preferences and cooking settings"})]})]}),l.jsxs("div",{children:[l.jsx("h4",{className:"font-medium mb-2",children:"Usage Data"}),l.jsxs("ul",{className:"list-disc list-inside space-y-1 text-gray-600 dark:text-gray-300 ml-4",children:[l.jsx("li",{children:"Voice commands for AI processing"}),l.jsx("li",{children:"Recipe interactions and meal plans"}),l.jsx("li",{children:"App usage patterns and preferences"}),l.jsx("li",{children:"Device and technical information"})]})]})]})]}),l.jsx(qi,{}),l.jsxs("section",{children:[l.jsx("h3",{className:"text-lg font-semibold mb-3 text-orange-600",children:"How We Use Your Information"}),l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{children:[l.jsx("h4",{className:"font-medium mb-2",children:"Core Functionality"}),l.jsxs("ul",{className:"list-disc list-inside space-y-1 text-gray-600 dark:text-gray-300 ml-4",children:[l.jsx("li",{children:"AI-powered recipe recommendations and meal planning"}),l.jsx("li",{children:"Voice command processing via Google Gemini AI"}),l.jsx("li",{children:"Smart grocery lists and price comparisons"}),l.jsx("li",{children:"Personalized nutrition tracking"})]})]}),l.jsxs("div",{children:[l.jsx("h4",{className:"font-medium mb-2",children:"Service Improvement"}),l.jsxs("ul",{className:"list-disc list-inside space-y-1 text-gray-600 dark:text-gray-300 ml-4",children:[l.jsx("li",{children:"App performance optimization"}),l.jsx("li",{children:"Feature development and personalization"}),l.jsx("li",{children:"Security monitoring and fraud prevention"})]})]})]})]}),l.jsx(qi,{}),l.jsxs("section",{children:[l.jsx("h3",{className:"text-lg font-semibold mb-3 text-orange-600",children:"Information Sharing"}),l.jsx("div",{className:"bg-green-50 dark:bg-green-900/20 p-4 rounded-lg mb-4",children:l.jsx("p",{className:"text-green-800 dark:text-green-200 font-medium",children:"We never sell your personal information to third parties."})}),l.jsxs("div",{children:[l.jsx("h4",{className:"font-medium mb-2",children:"Trusted Partners Only"}),l.jsxs("ul",{className:"list-disc list-inside space-y-1 text-gray-600 dark:text-gray-300 ml-4",children:[l.jsxs("li",{children:[l.jsx("strong",{children:"Google Gemini AI:"})," Voice processing and recipe generation"]}),l.jsxs("li",{children:[l.jsx("strong",{children:"Stripe:"})," Secure payment processing"]}),l.jsxs("li",{children:[l.jsx("strong",{children:"Database providers:"})," Encrypted data storage"]}),l.jsxs("li",{children:[l.jsx("strong",{children:"Analytics:"})," Anonymized usage data only"]})]})]})]}),l.jsx(qi,{}),l.jsxs("section",{children:[l.jsx("h3",{className:"text-lg font-semibold mb-3 text-orange-600",children:"Your Privacy Rights"}),l.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[l.jsxs("div",{children:[l.jsx("h4",{className:"font-medium mb-2",children:"Account Control"}),l.jsxs("ul",{className:"list-disc list-inside space-y-1 text-gray-600 dark:text-gray-300 ml-4",children:[l.jsx("li",{children:"Access your data"}),l.jsx("li",{children:"Correct information"}),l.jsx("li",{children:"Delete your account"}),l.jsx("li",{children:"Export your data"})]})]}),l.jsxs("div",{children:[l.jsx("h4",{className:"font-medium mb-2",children:"Communication"}),l.jsxs("ul",{className:"list-disc list-inside space-y-1 text-gray-600 dark:text-gray-300 ml-4",children:[l.jsx("li",{children:"Opt out of emails"}),l.jsx("li",{children:"Control notifications"}),l.jsx("li",{children:"Disable voice features"}),l.jsx("li",{children:"Manage preferences"})]})]})]})]}),l.jsx(qi,{}),l.jsxs("section",{children:[l.jsx("h3",{className:"text-lg font-semibold mb-3 text-orange-600",children:"Data Security"}),l.jsx("div",{className:"bg-blue-50 dark:bg-blue-900/20 p-4 rounded-lg",children:l.jsxs("div",{className:"space-y-2",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx($2,{className:"h-4 w-4 text-blue-600"}),l.jsx("span",{className:"font-medium",children:"Industry-standard encryption"})]}),l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(is,{className:"h-4 w-4 text-blue-600"}),l.jsx("span",{className:"font-medium",children:"Multi-factor authentication"})]}),l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(ip,{className:"h-4 w-4 text-blue-600"}),l.jsx("span",{className:"font-medium",children:"Secure data storage with backups"})]})]})})]}),l.jsx(qi,{}),l.jsxs("section",{children:[l.jsx("h3",{className:"text-lg font-semibold mb-3 text-orange-600",children:"Contact Us"}),l.jsxs("div",{className:"bg-gray-50 dark:bg-gray-800 p-4 rounded-lg",children:[l.jsx("p",{className:"mb-3",children:"Have questions about your privacy? We're here to help."}),l.jsxs("div",{className:"space-y-2",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(t4,{className:"h-4 w-4 text-gray-500"}),l.jsx("span",{children:"privacy@chefgrocer.app"})]}),l.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-300",children:"We respond to all privacy inquiries within 30 days."})]})]})]})]})})})]}),l.jsx(oe,{children:l.jsx(le,{className:"pt-6",children:l.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-between items-center",children:[l.jsxs("div",{className:"text-sm text-gray-600 dark:text-gray-300",children:["This policy was last updated on ",t]}),l.jsxs("div",{className:"flex gap-3",children:[l.jsx(se,{variant:"outline",onClick:()=>window.location.href="/terms",children:"Terms of Use"}),l.jsx(se,{variant:"outline",onClick:()=>window.history.back(),children:"Go Back"}),l.jsx(se,{onClick:()=>window.print(),children:"Print Policy"})]})]})})})]})]})})}var R8="AlertDialog",[sP,cL]=$n(R8,[aE]),Rs=aE(),O8=t=>{const{__scopeAlertDialog:e,...r}=t,n=Rs(e);return l.jsx(EE,{...n,...r,modal:!0})};O8.displayName=R8;var aP="AlertDialogTrigger",P8=I.forwardRef((t,e)=>{const{__scopeAlertDialog:r,...n}=t,i=Rs(r);return l.jsx(AE,{...i,...n,ref:e})});P8.displayName=aP;var oP="AlertDialogPortal",D8=t=>{const{__scopeAlertDialog:e,...r}=t,n=Rs(e);return l.jsx(bE,{...n,...r})};D8.displayName=oP;var lP="AlertDialogOverlay",j8=I.forwardRef((t,e)=>{const{__scopeAlertDialog:r,...n}=t,i=Rs(r);return l.jsx(gg,{...i,...n,ref:e})});j8.displayName=lP;var al="AlertDialogContent",[cP,uP]=sP(al),dP=bC("AlertDialogContent"),M8=I.forwardRef((t,e)=>{const{__scopeAlertDialog:r,children:n,...i}=t,s=Rs(r),o=I.useRef(null),u=nt(e,o),f=I.useRef(null);return l.jsx(dR,{contentName:al,titleName:k8,docsSlug:"alert-dialog",children:l.jsx(cP,{scope:r,cancelRef:f,children:l.jsxs(mg,{role:"alertdialog",...s,...i,ref:u,onOpenAutoFocus:Pe(i.onOpenAutoFocus,h=>{var m;h.preventDefault(),(m=f.current)==null||m.focus({preventScroll:!0})}),onPointerDownOutside:h=>h.preventDefault(),onInteractOutside:h=>h.preventDefault(),children:[l.jsx(dP,{children:n}),l.jsx(hP,{contentRef:o})]})})})});M8.displayName=al;var k8="AlertDialogTitle",L8=I.forwardRef((t,e)=>{const{__scopeAlertDialog:r,...n}=t,i=Rs(r);return l.jsx(vg,{...i,...n,ref:e})});L8.displayName=k8;var B8="AlertDialogDescription",F8=I.forwardRef((t,e)=>{const{__scopeAlertDialog:r,...n}=t,i=Rs(r);return l.jsx(yg,{...i,...n,ref:e})});F8.displayName=B8;var fP="AlertDialogAction",U8=I.forwardRef((t,e)=>{const{__scopeAlertDialog:r,...n}=t,i=Rs(r);return l.jsx(wg,{...i,...n,ref:e})});U8.displayName=fP;var V8="AlertDialogCancel",H8=I.forwardRef((t,e)=>{const{__scopeAlertDialog:r,...n}=t,{cancelRef:i}=uP(V8,r),s=Rs(r),o=nt(e,i);return l.jsx(wg,{...s,...n,ref:o})});H8.displayName=V8;var hP=({contentRef:t})=>{const e=`\`${al}\` requires a description for the component to be accessible for screen reader users.

You can add a description to the \`${al}\` by passing a \`${B8}\` component as a child, which also benefits sighted users by adding visible context to the dialog.

Alternatively, you can use your own component as a description by assigning it an \`id\` and passing the same value to the \`aria-describedby\` prop in \`${al}\`. If the description is confusing or duplicative for sighted users, you can use the \`@radix-ui/react-visually-hidden\` primitive as a wrapper around your description component.

For more information, see https://radix-ui.com/primitives/docs/components/alert-dialog`;return I.useEffect(()=>{var n;document.getElementById((n=t.current)==null?void 0:n.getAttribute("aria-describedby"))||console.warn(e)},[e,t]),null},pP=O8,xP=P8,gP=D8,z8=j8,G8=M8,W8=U8,X8=H8,Y8=L8,$8=F8;const mP=pP,vP=xP,yP=gP,K8=I.forwardRef(({className:t,...e},r)=>l.jsx(z8,{className:Le("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",t),...e,ref:r}));K8.displayName=z8.displayName;const Z8=I.forwardRef(({className:t,...e},r)=>l.jsxs(yP,{children:[l.jsx(K8,{}),l.jsx(G8,{ref:r,className:Le("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",t),...e})]}));Z8.displayName=G8.displayName;const q8=({className:t,...e})=>l.jsx("div",{className:Le("flex flex-col space-y-2 text-center sm:text-left",t),...e});q8.displayName="AlertDialogHeader";const Q8=({className:t,...e})=>l.jsx("div",{className:Le("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",t),...e});Q8.displayName="AlertDialogFooter";const J8=I.forwardRef(({className:t,...e},r)=>l.jsx(Y8,{ref:r,className:Le("text-lg font-semibold",t),...e}));J8.displayName=Y8.displayName;const eb=I.forwardRef(({className:t,...e},r)=>l.jsx($8,{ref:r,className:Le("text-sm text-muted-foreground",t),...e}));eb.displayName=$8.displayName;const tb=I.forwardRef(({className:t,...e},r)=>l.jsx(W8,{ref:r,className:Le(cg(),t),...e}));tb.displayName=W8.displayName;const rb=I.forwardRef(({className:t,...e},r)=>l.jsx(X8,{ref:r,className:Le(cg({variant:"outline"}),"mt-2 sm:mt-0",t),...e}));rb.displayName=X8.displayName;function wP(){const{user:t,isAuthenticated:e}=LE(),{toast:r}=nn(),[n,i]=I.useState({voiceProcessing:!0,dataAnalytics:!1,personalizedRecommendations:!0,emailNotifications:!0,dataRetention:"standard"}),[s,o]=I.useState(!1),[u,f]=I.useState("");I.useEffect(()=>{e&&h()},[e]);const h=async()=>{try{const C=await fetch("/api/user/privacy-settings");if(C.ok){const N=await C.json();i(N)}}catch(C){console.error("Failed to load privacy settings:",C)}},m=async C=>{try{if((await fetch("/api/user/privacy-settings",{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(C)})).ok)i(C),r({title:"Settings Updated",description:"Your privacy preferences have been saved."});else throw new Error("Failed to update settings")}catch{r({title:"Update Failed",description:"Unable to save privacy settings. Please try again.",variant:"destructive"})}},v=async()=>{o(!0);try{if((await fetch("/api/user/data-export",{method:"POST"})).ok)r({title:"Data Export Requested",description:"We'll email you a download link within 48 hours."});else throw new Error("Export request failed")}catch{r({title:"Request Failed",description:"Unable to process data export request.",variant:"destructive"})}o(!1)},w=async()=>{try{if((await fetch("/api/user/delete-account",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({reason:u})})).ok)r({title:"Deletion Requested",description:"Your account will be deleted within 30 days. Check your email for confirmation."});else throw new Error("Deletion request failed")}catch{r({title:"Request Failed",description:"Unable to process account deletion.",variant:"destructive"})}};return e?l.jsx("div",{className:"min-h-screen bg-gradient-to-br from-orange-50 to-red-50 dark:from-gray-900 dark:to-gray-800",children:l.jsxs("div",{className:"container mx-auto px-4 py-8",children:[l.jsxs("div",{className:"text-center mb-8",children:[l.jsxs("div",{className:"flex items-center justify-center gap-3 mb-4",children:[l.jsx(is,{className:"h-12 w-12 text-orange-600"}),l.jsx("h1",{className:"text-4xl font-bold text-gray-900 dark:text-white",children:"Privacy Dashboard"})]}),l.jsx("p",{className:"text-lg text-gray-600 dark:text-gray-300",children:"Control how ChefGrocer uses your data and manage your privacy preferences."})]}),l.jsxs("div",{className:"grid gap-6 max-w-4xl mx-auto",children:[l.jsxs(oe,{children:[l.jsxs(ve,{children:[l.jsxs(ye,{className:"flex items-center gap-2",children:[l.jsx($x,{className:"h-5 w-5"}),"Privacy Controls"]}),l.jsx(xt,{children:"Customize how your data is processed and used by ChefGrocer."})]}),l.jsxs(le,{className:"space-y-6",children:[l.jsxs("div",{className:"space-y-2",children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{className:"space-y-1",children:[l.jsxs(si,{className:"flex items-center gap-2",children:[l.jsx(Pi,{className:"h-4 w-4"}),"Voice Command Processing"]}),l.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-300",children:"Allow voice commands to be processed by Google Gemini AI for recipe search and meal planning."})]}),l.jsx(la,{checked:n.voiceProcessing,onCheckedChange:C=>{const N={...n,voiceProcessing:C};m(N)}})]}),!n.voiceProcessing&&l.jsxs("div",{className:"bg-yellow-50 dark:bg-yellow-900/20 p-3 rounded text-sm flex items-center gap-2",children:[l.jsx(Sa,{className:"h-4 w-4 text-yellow-600"}),l.jsx("span",{children:"Voice commands will be disabled with this setting."})]})]}),l.jsx(qi,{}),l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{className:"space-y-1",children:[l.jsxs(si,{className:"flex items-center gap-2",children:[l.jsx(ip,{className:"h-4 w-4"}),"Usage Analytics"]}),l.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-300",children:"Help improve ChefGrocer by sharing anonymous usage data."})]}),l.jsx(la,{checked:n.dataAnalytics,onCheckedChange:C=>{const N={...n,dataAnalytics:C};m(N)}})]}),l.jsx(qi,{}),l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{className:"space-y-1",children:[l.jsxs(si,{className:"flex items-center gap-2",children:[l.jsx(e4,{className:"h-4 w-4"}),"Personalized Recommendations"]}),l.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-300",children:"Get customized recipe and meal plan suggestions based on your preferences."})]}),l.jsx(la,{checked:n.personalizedRecommendations,onCheckedChange:C=>{const N={...n,personalizedRecommendations:C};m(N)}})]}),l.jsx(qi,{}),l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{className:"space-y-1",children:[l.jsxs(si,{className:"flex items-center gap-2",children:[l.jsx(t4,{className:"h-4 w-4"}),"Email Notifications"]}),l.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-300",children:"Receive meal planning tips, promotions, and service updates via email."})]}),l.jsx(la,{checked:n.emailNotifications,onCheckedChange:C=>{const N={...n,emailNotifications:C};m(N)}})]})]})]}),l.jsxs(oe,{children:[l.jsxs(ve,{children:[l.jsxs(ye,{className:"flex items-center gap-2",children:[l.jsx(Rl,{className:"h-5 w-5"}),"Your Data Rights"]}),l.jsx(xt,{children:"Access, export, or delete your personal data in accordance with GDPR and CCPA."})]}),l.jsxs(le,{className:"space-y-6",children:[l.jsxs("div",{className:"space-y-3",children:[l.jsx("h4",{className:"font-medium",children:"Export Your Data"}),l.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-300",children:"Download a complete copy of your recipes, meal plans, preferences, and account data."}),l.jsxs(se,{onClick:v,disabled:s,className:"flex items-center gap-2",children:[l.jsx(gf,{className:"h-4 w-4"}),s?"Processing...":"Request Data Export"]}),l.jsxs("div",{className:"bg-blue-50 dark:bg-blue-900/20 p-3 rounded text-sm flex items-center gap-2",children:[l.jsx(Ns,{className:"h-4 w-4 text-blue-600"}),l.jsx("span",{children:"Export requests are processed within 48 hours and sent via email."})]})]}),l.jsx(qi,{}),l.jsxs("div",{className:"space-y-3",children:[l.jsx("h4",{className:"font-medium text-red-600",children:"Delete Your Account"}),l.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-300",children:"Permanently delete your account and all associated data. This action cannot be undone."}),l.jsxs(mP,{children:[l.jsx(vP,{asChild:!0,children:l.jsxs(se,{variant:"destructive",className:"flex items-center gap-2",children:[l.jsx(s4,{className:"h-4 w-4"}),"Request Account Deletion"]})}),l.jsxs(Z8,{children:[l.jsxs(q8,{children:[l.jsx(J8,{children:"Delete Your Account?"}),l.jsx(eb,{children:"This will permanently delete your ChefGrocer account, including all recipes, meal plans, and personal data. This action cannot be undone."})]}),l.jsxs("div",{className:"space-y-3",children:[l.jsx(si,{children:"Why are you deleting your account? (optional)"}),l.jsx(g0,{placeholder:"Help us improve by sharing your reason...",value:u,onChange:C=>f(C.target.value),className:"h-20"})]}),l.jsxs(Q8,{children:[l.jsx(rb,{children:"Cancel"}),l.jsx(tb,{onClick:w,className:"bg-red-600 hover:bg-red-700",children:"Delete Account"})]})]})]}),l.jsxs("div",{className:"bg-red-50 dark:bg-red-900/20 p-3 rounded text-sm flex items-center gap-2",children:[l.jsx(Sa,{className:"h-4 w-4 text-red-600"}),l.jsx("span",{children:"Account deletion requests are processed within 30 days. You'll receive email confirmation."})]})]})]})]}),l.jsxs(oe,{children:[l.jsxs(ve,{children:[l.jsxs(ye,{className:"flex items-center gap-2",children:[l.jsx(ou,{className:"h-5 w-5 text-green-600"}),"Privacy Compliance"]}),l.jsx(xt,{children:"ChefGrocer is compliant with major privacy regulations."})]}),l.jsx(le,{children:l.jsxs("div",{className:"grid md:grid-cols-3 gap-4",children:[l.jsxs("div",{className:"text-center",children:[l.jsx(we,{variant:"secondary",className:"mb-2",children:"GDPR"}),l.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-300",children:"European Union General Data Protection Regulation compliant"})]}),l.jsxs("div",{className:"text-center",children:[l.jsx(we,{variant:"secondary",className:"mb-2",children:"CCPA"}),l.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-300",children:"California Consumer Privacy Act compliant"})]}),l.jsxs("div",{className:"text-center",children:[l.jsx(we,{variant:"secondary",className:"mb-2",children:"COPPA"}),l.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-300",children:"Children's Online Privacy Protection Act compliant"})]})]})})]})]})]})}):l.jsx("div",{className:"min-h-screen bg-gradient-to-br from-orange-50 to-red-50 dark:from-gray-900 dark:to-gray-800 flex items-center justify-center",children:l.jsxs(oe,{className:"max-w-md",children:[l.jsxs(ve,{className:"text-center",children:[l.jsx(is,{className:"h-12 w-12 text-orange-600 mx-auto mb-4"}),l.jsx(ye,{children:"Privacy Dashboard"}),l.jsx(xt,{children:"Please log in to access your privacy settings and data controls."})]}),l.jsx(le,{children:l.jsx(se,{onClick:()=>window.location.href="/api/login",className:"w-full",children:"Log In"})})]})})}function CP(){return l.jsx("div",{className:"min-h-screen bg-gradient-to-br from-orange-50 to-red-50 py-8",children:l.jsxs("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8",children:[l.jsxs("div",{className:"flex items-center justify-between mb-8",children:[l.jsx(iu,{href:"/",children:l.jsxs(se,{variant:"outline",className:"flex items-center gap-2",children:[l.jsx(Xx,{className:"w-4 h-4"}),"Back to App"]})}),l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(Rl,{className:"w-6 h-6 text-orange-600"}),l.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Terms of Use"})]})]}),l.jsx(oe,{className:"mb-6",children:l.jsx(le,{className:"pt-6",children:l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{children:[l.jsx("p",{className:"text-sm text-gray-600",children:"Last Updated: August 10, 2025"}),l.jsx("p",{className:"text-sm text-gray-600",children:"Effective Date: August 10, 2025"})]}),l.jsx(is,{className:"w-8 h-8 text-green-600"})]})})}),l.jsxs(oe,{className:"mb-8",children:[l.jsx(ve,{children:l.jsxs(ye,{className:"flex items-center gap-2",children:[l.jsx(Rl,{className:"w-5 h-5"}),"Quick Navigation"]})}),l.jsx(le,{children:l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[l.jsxs("a",{href:"#ai-voice",className:"flex items-center gap-2 p-3 bg-blue-50 rounded-lg hover:bg-blue-100 transition-colors",children:[l.jsx(Pi,{className:"w-5 h-5 text-blue-600"}),l.jsx("span",{className:"text-sm font-medium",children:"AI Voice Commands"})]}),l.jsxs("a",{href:"#subscriptions",className:"flex items-center gap-2 p-3 bg-green-50 rounded-lg hover:bg-green-100 transition-colors",children:[l.jsx($a,{className:"w-5 h-5 text-green-600"}),l.jsx("span",{className:"text-sm font-medium",children:"Subscriptions"})]}),l.jsxs("a",{href:"#liability",className:"flex items-center gap-2 p-3 bg-orange-50 rounded-lg hover:bg-orange-100 transition-colors",children:[l.jsx(K2,{className:"w-5 h-5 text-orange-600"}),l.jsx("span",{className:"text-sm font-medium",children:"Liability"})]})]})})]}),l.jsx(oe,{children:l.jsx(le,{className:"pt-6 prose prose-gray max-w-none",children:l.jsxs("div",{className:"space-y-8",children:[l.jsxs("section",{children:[l.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-4",children:"1. Acceptance of Terms"}),l.jsx("p",{className:"text-gray-700 mb-4",children:'By accessing or using ChefGrocer ("Service"), operated by Myles Barber ("Company," "we," "us," or "our"), you agree to be bound by these Terms of Use ("Terms"). If you do not agree to these Terms, please do not use our Service.'}),l.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg",children:[l.jsx("h4",{className:"font-semibold mb-2",children:"Business Contact:"}),l.jsxs("ul",{className:"text-sm text-gray-600 space-y-1",children:[l.jsx("li",{children:"Owner: Myles Barber"}),l.jsx("li",{children:"Email: dxmylesx22@gmail.com"}),l.jsx("li",{children:"Address: 1619 Mound Street, Davenport, IA 52803"})]})]})]}),l.jsxs("section",{children:[l.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-4",children:"2. Service Description"}),l.jsx("p",{className:"text-gray-700 mb-4",children:"ChefGrocer is an AI-powered cooking and grocery management platform that provides:"}),l.jsxs("ul",{className:"list-disc pl-6 text-gray-700 space-y-2",children:[l.jsx("li",{children:"Voice-activated cooking instructions and recipe guidance"}),l.jsx("li",{children:"Meal planning and nutrition analysis using AI technology"}),l.jsx("li",{children:"Grocery list management with price comparison"}),l.jsx("li",{children:"Store locator and shopping optimization"}),l.jsx("li",{children:"Barcode scanning for product identification"}),l.jsx("li",{children:"Premium subscription features and content"})]})]}),l.jsxs("section",{id:"ai-voice",children:[l.jsxs("h2",{className:"text-2xl font-bold text-gray-900 mb-4 flex items-center gap-2",children:[l.jsx(Pi,{className:"w-6 h-6 text-blue-600"}),"3. AI Voice Commands and Content"]}),l.jsx("h3",{className:"text-xl font-semibold text-gray-800 mb-3",children:"3.1 Voice Recognition"}),l.jsxs("ul",{className:"list-disc pl-6 text-gray-700 space-y-2 mb-4",children:[l.jsx("li",{children:"Our Service uses speech recognition technology to process voice commands"}),l.jsx("li",{children:"Voice data is processed to provide cooking instructions and recipe guidance"}),l.jsx("li",{children:"We use Google Gemini AI to interpret and respond to voice requests"})]}),l.jsx("h3",{className:"text-xl font-semibold text-gray-800 mb-3",children:"3.2 AI-Generated Content"}),l.jsxs("div",{className:"bg-yellow-50 border-l-4 border-yellow-400 p-4 mb-4",children:[l.jsx("p",{className:"text-yellow-800 font-medium",children:"Important Disclaimer:"}),l.jsxs("ul",{className:"list-disc pl-6 text-yellow-700 space-y-1 mt-2",children:[l.jsx("li",{children:"Cooking instructions, recipes, and nutrition advice are generated using artificial intelligence"}),l.jsx("li",{children:"AI-generated content is for informational purposes only"}),l.jsx("li",{children:"Always verify cooking temperatures, food safety guidelines, and nutritional information"}),l.jsx("li",{children:"We are not responsible for outcomes from following AI-generated cooking instructions"})]})]}),l.jsx("h3",{className:"text-xl font-semibold text-gray-800 mb-3",children:"3.3 Recipe and Nutrition Data"}),l.jsxs("ul",{className:"list-disc pl-6 text-gray-700 space-y-2",children:[l.jsx("li",{children:"Recipe data is sourced from Spoonacular API and USDA FoodData Central"}),l.jsx("li",{children:"Nutrition information is provided for educational purposes"}),l.jsx("li",{children:"Consult healthcare professionals for specific dietary needs or restrictions"})]})]}),l.jsxs("section",{id:"subscriptions",children:[l.jsxs("h2",{className:"text-2xl font-bold text-gray-900 mb-4 flex items-center gap-2",children:[l.jsx($a,{className:"w-6 h-6 text-green-600"}),"4. User Accounts and Subscriptions"]}),l.jsx("h3",{className:"text-xl font-semibold text-gray-800 mb-3",children:"4.1 Account Registration"}),l.jsxs("ul",{className:"list-disc pl-6 text-gray-700 space-y-2 mb-4",children:[l.jsx("li",{children:"You must provide accurate information when creating an account"}),l.jsx("li",{children:"You are responsible for maintaining account security"}),l.jsx("li",{children:"You must be 18+ years old or have parental consent"})]}),l.jsx("h3",{className:"text-xl font-semibold text-gray-800 mb-3",children:"4.2 Subscription Plans"}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-4",children:[l.jsxs("div",{className:"border rounded-lg p-4",children:[l.jsx("h4",{className:"font-semibold text-blue-600 mb-2",children:"Free Plan"}),l.jsx("p",{className:"text-sm text-gray-600",children:"Basic features with limited AI interactions"})]}),l.jsxs("div",{className:"border rounded-lg p-4",children:[l.jsx("h4",{className:"font-semibold text-green-600 mb-2",children:"Premium Plan - $4.99/month"}),l.jsx("p",{className:"text-sm text-gray-600",children:"Enhanced features and unlimited AI assistance"})]}),l.jsxs("div",{className:"border rounded-lg p-4",children:[l.jsx("h4",{className:"font-semibold text-purple-600 mb-2",children:"Pro Plan - $9.99/month"}),l.jsx("p",{className:"text-sm text-gray-600",children:"Advanced features and priority support"})]}),l.jsxs("div",{className:"border rounded-lg p-4",children:[l.jsx("h4",{className:"font-semibold text-orange-600 mb-2",children:"Lifetime Pass - $99.99"}),l.jsx("p",{className:"text-sm text-gray-600",children:"One-time payment for permanent access"})]})]}),l.jsx("h3",{className:"text-xl font-semibold text-gray-800 mb-3",children:"4.3 Payment Terms"}),l.jsxs("ul",{className:"list-disc pl-6 text-gray-700 space-y-2",children:[l.jsx("li",{children:"Subscriptions automatically renew unless cancelled"}),l.jsx("li",{children:"Payment processing is handled securely through Stripe"}),l.jsx("li",{children:"Refunds are processed according to our refund policy"}),l.jsx("li",{children:"Promotional codes have specific terms and expiration dates"})]})]}),l.jsxs("section",{id:"liability",children:[l.jsxs("h2",{className:"text-2xl font-bold text-gray-900 mb-4 flex items-center gap-2",children:[l.jsx(K2,{className:"w-6 h-6 text-orange-600"}),"10. Liability and Disclaimers"]}),l.jsxs("div",{className:"bg-red-50 border-l-4 border-red-400 p-4 mb-4",children:[l.jsx("h3",{className:"text-xl font-semibold text-red-800 mb-3",children:"10.1 Food Safety and Health Disclaimers"}),l.jsxs("ul",{className:"list-disc pl-6 text-red-700 space-y-2",children:[l.jsx("li",{children:"Always follow safe cooking practices and food handling guidelines"}),l.jsx("li",{children:"Verify cooking temperatures using reliable thermometers"}),l.jsx("li",{children:"Be aware of food allergies and dietary restrictions"}),l.jsx("li",{children:"Our AI suggestions are not substitutes for professional culinary training"}),l.jsx("li",{children:"Nutrition information is for educational purposes only"}),l.jsx("li",{children:"Consult healthcare professionals for specific dietary needs"})]})]}),l.jsx("h3",{className:"text-xl font-semibold text-gray-800 mb-3",children:"10.2 Limitation of Liability"}),l.jsxs("div",{className:"bg-gray-100 p-4 rounded-lg",children:[l.jsx("p",{className:"font-medium text-gray-800 mb-2",children:"TO THE MAXIMUM EXTENT PERMITTED BY LAW:"}),l.jsxs("ul",{className:"list-disc pl-6 text-gray-700 space-y-2",children:[l.jsx("li",{children:"We are not liable for damages arising from use of our Service"}),l.jsx("li",{children:"Our liability is limited to the amount paid for subscription services"}),l.jsx("li",{children:"We disclaim warranties regarding AI accuracy or service performance"})]})]})]}),l.jsxs("section",{children:[l.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-4",children:"14. Contact Information"}),l.jsx("p",{className:"text-gray-700 mb-4",children:"For questions about these Terms of Use:"}),l.jsx("div",{className:"bg-blue-50 p-4 rounded-lg",children:l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[l.jsxs("div",{children:[l.jsx("h4",{className:"font-semibold text-blue-800 mb-2",children:"Business Contact"}),l.jsxs("div",{className:"text-sm text-blue-700 space-y-1",children:[l.jsx("p",{children:"ChefGrocer"}),l.jsx("p",{children:"Myles Barber"}),l.jsx("p",{children:"1619 Mound Street"}),l.jsx("p",{children:"Davenport, IA 52803"}),l.jsx("p",{children:"Email: dxmylesx22@gmail.com"})]})]}),l.jsxs("div",{children:[l.jsx("h4",{className:"font-semibold text-blue-800 mb-2",children:"Support"}),l.jsxs("div",{className:"text-sm text-blue-700 space-y-1",children:[l.jsx("p",{children:"Technical support: Contact us through the app"}),l.jsx("p",{children:"Privacy concerns: Reference our Privacy Policy"}),l.jsx("p",{children:"Billing issues: Access account settings"})]})]})]})})]}),l.jsx("section",{className:"border-t pt-6",children:l.jsxs("div",{className:"bg-green-50 p-6 rounded-lg text-center",children:[l.jsx("p",{className:"text-lg font-medium text-green-800 mb-2",children:"By using ChefGrocer, you acknowledge that you have read, understood, and agree to be bound by these Terms of Use."}),l.jsx("p",{className:"text-sm text-green-600",children:"Last updated: August 10, 2025"})]})})]})})}),l.jsx("div",{className:"mt-8 text-center",children:l.jsx(iu,{href:"/",children:l.jsx(se,{className:"bg-orange-600 hover:bg-orange-700 text-white px-8 py-3",children:"Return to ChefGrocer"})})})]})})}function EP(){const[t,e]=I.useState(!1),{toast:r}=nn(),n=async()=>{e(!0);try{await hr("POST","/api/auth/login",{}),r({title:"Login Successful",description:"Welcome to ChefGrocer!"}),window.location.href="/"}catch(i){console.error("Login failed:",i),r({title:"Login Failed",description:"Please try again.",variant:"destructive"})}finally{e(!1)}};return l.jsx("div",{className:"min-h-screen bg-gradient-to-br from-orange-50 to-amber-50 dark:from-gray-900 dark:to-gray-800 flex items-center justify-center p-4",children:l.jsxs(oe,{className:"w-full max-w-md",children:[l.jsxs(ve,{className:"text-center",children:[l.jsx("div",{className:"mx-auto mb-4 flex h-12 w-12 items-center justify-center rounded-full bg-orange-600",children:l.jsx(au,{className:"h-6 w-6 text-white"})}),l.jsx(ye,{className:"text-2xl",children:"Welcome to ChefGrocer"}),l.jsx(xt,{children:"Your AI-powered cooking assistant"})]}),l.jsx(le,{children:l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{className:"rounded-lg bg-blue-50 p-4 text-sm text-blue-800",children:[l.jsx("strong",{children:"Development Mode:"})," This is a simplified login for testing. In production, you'll use your Replit account to sign in securely."]}),l.jsx(se,{onClick:n,disabled:t,className:"w-full bg-orange-600 hover:bg-orange-700 text-white",size:"lg",children:t?"Signing In...":"Sign In as Test User"}),l.jsxs("div",{className:"text-center text-sm text-gray-600",children:[l.jsx("p",{children:"Test account includes:"}),l.jsxs("ul",{className:"mt-2 space-y-1",children:[l.jsx("li",{children:" Premium subscription"}),l.jsx("li",{children:" Voice commands"}),l.jsx("li",{children:" AI meal planning"}),l.jsx("li",{children:" Smart shopping features"})]})]})]})})]})})}var _e;(function(t){t[t.QR_CODE=0]="QR_CODE",t[t.AZTEC=1]="AZTEC",t[t.CODABAR=2]="CODABAR",t[t.CODE_39=3]="CODE_39",t[t.CODE_93=4]="CODE_93",t[t.CODE_128=5]="CODE_128",t[t.DATA_MATRIX=6]="DATA_MATRIX",t[t.MAXICODE=7]="MAXICODE",t[t.ITF=8]="ITF",t[t.EAN_13=9]="EAN_13",t[t.EAN_8=10]="EAN_8",t[t.PDF_417=11]="PDF_417",t[t.RSS_14=12]="RSS_14",t[t.RSS_EXPANDED=13]="RSS_EXPANDED",t[t.UPC_A=14]="UPC_A",t[t.UPC_E=15]="UPC_E",t[t.UPC_EAN_EXTENSION=16]="UPC_EAN_EXTENSION"})(_e||(_e={}));var Pv=new Map([[_e.QR_CODE,"QR_CODE"],[_e.AZTEC,"AZTEC"],[_e.CODABAR,"CODABAR"],[_e.CODE_39,"CODE_39"],[_e.CODE_93,"CODE_93"],[_e.CODE_128,"CODE_128"],[_e.DATA_MATRIX,"DATA_MATRIX"],[_e.MAXICODE,"MAXICODE"],[_e.ITF,"ITF"],[_e.EAN_13,"EAN_13"],[_e.EAN_8,"EAN_8"],[_e.PDF_417,"PDF_417"],[_e.RSS_14,"RSS_14"],[_e.RSS_EXPANDED,"RSS_EXPANDED"],[_e.UPC_A,"UPC_A"],[_e.UPC_E,"UPC_E"],[_e.UPC_EAN_EXTENSION,"UPC_EAN_EXTENSION"]]),Dv;(function(t){t[t.UNKNOWN=0]="UNKNOWN",t[t.URL=1]="URL"})(Dv||(Dv={}));function AP(t){return Object.values(_e).includes(t)}var Rf;(function(t){t[t.SCAN_TYPE_CAMERA=0]="SCAN_TYPE_CAMERA",t[t.SCAN_TYPE_FILE=1]="SCAN_TYPE_FILE"})(Rf||(Rf={}));var bP=function(){function t(){}return t.GITHUB_PROJECT_URL="https://github.com/mebjas/html5-qrcode",t.SCAN_DEFAULT_FPS=2,t.DEFAULT_DISABLE_FLIP=!1,t.DEFAULT_REMEMBER_LAST_CAMERA_USED=!0,t.DEFAULT_SUPPORTED_SCAN_TYPE=[Rf.SCAN_TYPE_CAMERA,Rf.SCAN_TYPE_FILE],t}(),nb=function(){function t(e,r){this.format=e,this.formatName=r}return t.prototype.toString=function(){return this.formatName},t.create=function(e){if(!Pv.has(e))throw"".concat(e," not in html5QrcodeSupportedFormatsTextMap");return new t(e,Pv.get(e))},t}(),jv=function(){function t(){}return t.createFromText=function(e){var r={text:e};return{decodedText:e,result:r}},t.createFromQrcodeResult=function(e){return{decodedText:e.text,result:e}},t}(),Sp;(function(t){t[t.UNKWOWN_ERROR=0]="UNKWOWN_ERROR",t[t.IMPLEMENTATION_ERROR=1]="IMPLEMENTATION_ERROR",t[t.NO_CODE_FOUND_ERROR=2]="NO_CODE_FOUND_ERROR"})(Sp||(Sp={}));var SP=function(){function t(){}return t.createFrom=function(e){return{errorMessage:e,type:Sp.UNKWOWN_ERROR}},t}(),NP=function(){function t(e){this.verbose=e}return t.prototype.log=function(e){this.verbose&&console.log(e)},t.prototype.warn=function(e){this.verbose&&console.warn(e)},t.prototype.logError=function(e,r){(this.verbose||r===!0)&&console.error(e)},t.prototype.logErrors=function(e){if(e.length===0)throw"Logger#logError called without arguments";this.verbose&&console.error(e)},t}();function ps(t){return typeof t>"u"||t===null}var Yo=function(){function t(){}return t.codeParseError=function(e){return"QR code parse error, error = ".concat(e)},t.errorGettingUserMedia=function(e){return"Error getting userMedia, error = ".concat(e)},t.onlyDeviceSupportedError=function(){return"The device doesn't support navigator.mediaDevices , only supported cameraIdOrConfig in this case is deviceId parameter (string)."},t.cameraStreamingNotSupported=function(){return"Camera streaming not supported by the browser."},t.unableToQuerySupportedDevices=function(){return"Unable to query supported devices, unknown error."},t.insecureContextCameraQueryError=function(){return"Camera access is only supported in secure context like https or localhost."},t.scannerPaused=function(){return"Scanner paused"},t}(),ib=function(){function t(){}return t.isMediaStreamConstraintsValid=function(e,r){if(typeof e!="object"){var n=typeof e;return r.logError("videoConstraints should be of type object, the "+"object passed is of type ".concat(n,"."),!0),!1}for(var i=["autoGainControl","channelCount","echoCancellation","latency","noiseSuppression","sampleRate","sampleSize","volume"],s=new Set(i),o=Object.keys(e),u=0,f=o;u<f.length;u++){var h=f[u];if(s.has(h))return r.logError("".concat(h," is not supported videoConstaints."),!0),!1}return!0},t}(),Np={exports:{}};(function(t,e){(function(r,n){n(e)})(ic,function(r){function n(D){return D==null}var i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(D,a){D.__proto__=a}||function(D,a){for(var c in a)a.hasOwnProperty(c)&&(D[c]=a[c])};function s(D,a){i(D,a);function c(){this.constructor=D}D.prototype=a===null?Object.create(a):(c.prototype=a.prototype,new c)}function o(D,a){var c=Object.setPrototypeOf;c?c(D,a):D.__proto__=a}function u(D,a){a===void 0&&(a=D.constructor);var c=Error.captureStackTrace;c&&c(D,a)}var f=function(D){s(a,D);function a(c){var d=this.constructor,p=D.call(this,c)||this;return Object.defineProperty(p,"name",{value:d.name,enumerable:!1}),o(p,d.prototype),u(p),p}return a}(Error);class h extends f{constructor(a=void 0){super(a),this.message=a}getKind(){return this.constructor.kind}}h.kind="Exception";class m extends h{}m.kind="ArgumentException";class v extends h{}v.kind="IllegalArgumentException";class w{constructor(a){if(this.binarizer=a,a===null)throw new v("Binarizer must be non-null.")}getWidth(){return this.binarizer.getWidth()}getHeight(){return this.binarizer.getHeight()}getBlackRow(a,c){return this.binarizer.getBlackRow(a,c)}getBlackMatrix(){return(this.matrix===null||this.matrix===void 0)&&(this.matrix=this.binarizer.getBlackMatrix()),this.matrix}isCropSupported(){return this.binarizer.getLuminanceSource().isCropSupported()}crop(a,c,d,p){const x=this.binarizer.getLuminanceSource().crop(a,c,d,p);return new w(this.binarizer.createBinarizer(x))}isRotateSupported(){return this.binarizer.getLuminanceSource().isRotateSupported()}rotateCounterClockwise(){const a=this.binarizer.getLuminanceSource().rotateCounterClockwise();return new w(this.binarizer.createBinarizer(a))}rotateCounterClockwise45(){const a=this.binarizer.getLuminanceSource().rotateCounterClockwise45();return new w(this.binarizer.createBinarizer(a))}toString(){try{return this.getBlackMatrix().toString()}catch{return""}}}class C extends h{static getChecksumInstance(){return new C}}C.kind="ChecksumException";class N{constructor(a){this.source=a}getLuminanceSource(){return this.source}getWidth(){return this.source.getWidth()}getHeight(){return this.source.getHeight()}}class b{static arraycopy(a,c,d,p,x){for(;x--;)d[p++]=a[c++]}static currentTimeMillis(){return Date.now()}}class R extends h{}R.kind="IndexOutOfBoundsException";class _ extends R{constructor(a=void 0,c=void 0){super(c),this.index=a,this.message=c}}_.kind="ArrayIndexOutOfBoundsException";class S{static fill(a,c){for(let d=0,p=a.length;d<p;d++)a[d]=c}static fillWithin(a,c,d,p){S.rangeCheck(a.length,c,d);for(let x=c;x<d;x++)a[x]=p}static rangeCheck(a,c,d){if(c>d)throw new v("fromIndex("+c+") > toIndex("+d+")");if(c<0)throw new _(c);if(d>a)throw new _(d)}static asList(...a){return a}static create(a,c,d){return Array.from({length:a}).map(x=>Array.from({length:c}).fill(d))}static createInt32Array(a,c,d){return Array.from({length:a}).map(x=>Int32Array.from({length:c}).fill(d))}static equals(a,c){if(!a||!c||!a.length||!c.length||a.length!==c.length)return!1;for(let d=0,p=a.length;d<p;d++)if(a[d]!==c[d])return!1;return!0}static hashCode(a){if(a===null)return 0;let c=1;for(const d of a)c=31*c+d;return c}static fillUint8Array(a,c){for(let d=0;d!==a.length;d++)a[d]=c}static copyOf(a,c){return a.slice(0,c)}static copyOfUint8Array(a,c){if(a.length<=c){const d=new Uint8Array(c);return d.set(a),d}return a.slice(0,c)}static copyOfRange(a,c,d){const p=d-c,x=new Int32Array(p);return b.arraycopy(a,c,x,0,p),x}static binarySearch(a,c,d){d===void 0&&(d=S.numberComparator);let p=0,x=a.length-1;for(;p<=x;){const g=x+p>>1,y=d(c,a[g]);if(y>0)p=g+1;else if(y<0)x=g-1;else return g}return-p-1}static numberComparator(a,c){return a-c}}class T{static numberOfTrailingZeros(a){let c;if(a===0)return 32;let d=31;return c=a<<16,c!==0&&(d-=16,a=c),c=a<<8,c!==0&&(d-=8,a=c),c=a<<4,c!==0&&(d-=4,a=c),c=a<<2,c!==0&&(d-=2,a=c),d-(a<<1>>>31)}static numberOfLeadingZeros(a){if(a===0)return 32;let c=1;return a>>>16||(c+=16,a<<=16),a>>>24||(c+=8,a<<=8),a>>>28||(c+=4,a<<=4),a>>>30||(c+=2,a<<=2),c-=a>>>31,c}static toHexString(a){return a.toString(16)}static toBinaryString(a){return String(parseInt(String(a),2))}static bitCount(a){return a=a-(a>>>1&1431655765),a=(a&858993459)+(a>>>2&858993459),a=a+(a>>>4)&252645135,a=a+(a>>>8),a=a+(a>>>16),a&63}static truncDivision(a,c){return Math.trunc(a/c)}static parseInt(a,c=void 0){return parseInt(a,c)}}T.MIN_VALUE_32_BITS=-2147483648,T.MAX_VALUE=Number.MAX_SAFE_INTEGER;class P{constructor(a,c){a===void 0?(this.size=0,this.bits=new Int32Array(1)):(this.size=a,c==null?this.bits=P.makeArray(a):this.bits=c)}getSize(){return this.size}getSizeInBytes(){return Math.floor((this.size+7)/8)}ensureCapacity(a){if(a>this.bits.length*32){const c=P.makeArray(a);b.arraycopy(this.bits,0,c,0,this.bits.length),this.bits=c}}get(a){return(this.bits[Math.floor(a/32)]&1<<(a&31))!==0}set(a){this.bits[Math.floor(a/32)]|=1<<(a&31)}flip(a){this.bits[Math.floor(a/32)]^=1<<(a&31)}getNextSet(a){const c=this.size;if(a>=c)return c;const d=this.bits;let p=Math.floor(a/32),x=d[p];x&=~((1<<(a&31))-1);const g=d.length;for(;x===0;){if(++p===g)return c;x=d[p]}const y=p*32+T.numberOfTrailingZeros(x);return y>c?c:y}getNextUnset(a){const c=this.size;if(a>=c)return c;const d=this.bits;let p=Math.floor(a/32),x=~d[p];x&=~((1<<(a&31))-1);const g=d.length;for(;x===0;){if(++p===g)return c;x=~d[p]}const y=p*32+T.numberOfTrailingZeros(x);return y>c?c:y}setBulk(a,c){this.bits[Math.floor(a/32)]=c}setRange(a,c){if(c<a||a<0||c>this.size)throw new v;if(c===a)return;c--;const d=Math.floor(a/32),p=Math.floor(c/32),x=this.bits;for(let g=d;g<=p;g++){const y=g>d?0:a&31,A=(2<<(g<p?31:c&31))-(1<<y);x[g]|=A}}clear(){const a=this.bits.length,c=this.bits;for(let d=0;d<a;d++)c[d]=0}isRange(a,c,d){if(c<a||a<0||c>this.size)throw new v;if(c===a)return!0;c--;const p=Math.floor(a/32),x=Math.floor(c/32),g=this.bits;for(let y=p;y<=x;y++){const E=y>p?0:a&31,O=(2<<(y<x?31:c&31))-(1<<E)&4294967295;if((g[y]&O)!==(d?O:0))return!1}return!0}appendBit(a){this.ensureCapacity(this.size+1),a&&(this.bits[Math.floor(this.size/32)]|=1<<(this.size&31)),this.size++}appendBits(a,c){if(c<0||c>32)throw new v("Num bits must be between 0 and 32");this.ensureCapacity(this.size+c);for(let d=c;d>0;d--)this.appendBit((a>>d-1&1)===1)}appendBitArray(a){const c=a.size;this.ensureCapacity(this.size+c);for(let d=0;d<c;d++)this.appendBit(a.get(d))}xor(a){if(this.size!==a.size)throw new v("Sizes don't match");const c=this.bits;for(let d=0,p=c.length;d<p;d++)c[d]^=a.bits[d]}toBytes(a,c,d,p){for(let x=0;x<p;x++){let g=0;for(let y=0;y<8;y++)this.get(a)&&(g|=1<<7-y),a++;c[d+x]=g}}getBitArray(){return this.bits}reverse(){const a=new Int32Array(this.bits.length),c=Math.floor((this.size-1)/32),d=c+1,p=this.bits;for(let x=0;x<d;x++){let g=p[x];g=g>>1&1431655765|(g&1431655765)<<1,g=g>>2&858993459|(g&858993459)<<2,g=g>>4&252645135|(g&252645135)<<4,g=g>>8&16711935|(g&16711935)<<8,g=g>>16&65535|(g&65535)<<16,a[c-x]=g}if(this.size!==d*32){const x=d*32-this.size;let g=a[0]>>>x;for(let y=1;y<d;y++){const E=a[y];g|=E<<32-x,a[y-1]=g,g=E>>>x}a[d-1]=g}this.bits=a}static makeArray(a){return new Int32Array(Math.floor((a+31)/32))}equals(a){if(!(a instanceof P))return!1;const c=a;return this.size===c.size&&S.equals(this.bits,c.bits)}hashCode(){return 31*this.size+S.hashCode(this.bits)}toString(){let a="";for(let c=0,d=this.size;c<d;c++)c&7||(a+=" "),a+=this.get(c)?"X":".";return a}clone(){return new P(this.size,this.bits.slice())}}var B;(function(D){D[D.OTHER=0]="OTHER",D[D.PURE_BARCODE=1]="PURE_BARCODE",D[D.POSSIBLE_FORMATS=2]="POSSIBLE_FORMATS",D[D.TRY_HARDER=3]="TRY_HARDER",D[D.CHARACTER_SET=4]="CHARACTER_SET",D[D.ALLOWED_LENGTHS=5]="ALLOWED_LENGTHS",D[D.ASSUME_CODE_39_CHECK_DIGIT=6]="ASSUME_CODE_39_CHECK_DIGIT",D[D.ASSUME_GS1=7]="ASSUME_GS1",D[D.RETURN_CODABAR_START_END=8]="RETURN_CODABAR_START_END",D[D.NEED_RESULT_POINT_CALLBACK=9]="NEED_RESULT_POINT_CALLBACK",D[D.ALLOWED_EAN_EXTENSIONS=10]="ALLOWED_EAN_EXTENSIONS"})(B||(B={}));var k=B;class M extends h{static getFormatInstance(){return new M}}M.kind="FormatException";var F;(function(D){D[D.Cp437=0]="Cp437",D[D.ISO8859_1=1]="ISO8859_1",D[D.ISO8859_2=2]="ISO8859_2",D[D.ISO8859_3=3]="ISO8859_3",D[D.ISO8859_4=4]="ISO8859_4",D[D.ISO8859_5=5]="ISO8859_5",D[D.ISO8859_6=6]="ISO8859_6",D[D.ISO8859_7=7]="ISO8859_7",D[D.ISO8859_8=8]="ISO8859_8",D[D.ISO8859_9=9]="ISO8859_9",D[D.ISO8859_10=10]="ISO8859_10",D[D.ISO8859_11=11]="ISO8859_11",D[D.ISO8859_13=12]="ISO8859_13",D[D.ISO8859_14=13]="ISO8859_14",D[D.ISO8859_15=14]="ISO8859_15",D[D.ISO8859_16=15]="ISO8859_16",D[D.SJIS=16]="SJIS",D[D.Cp1250=17]="Cp1250",D[D.Cp1251=18]="Cp1251",D[D.Cp1252=19]="Cp1252",D[D.Cp1256=20]="Cp1256",D[D.UnicodeBigUnmarked=21]="UnicodeBigUnmarked",D[D.UTF8=22]="UTF8",D[D.ASCII=23]="ASCII",D[D.Big5=24]="Big5",D[D.GB18030=25]="GB18030",D[D.EUC_KR=26]="EUC_KR"})(F||(F={}));class U{constructor(a,c,d,...p){this.valueIdentifier=a,this.name=d,typeof c=="number"?this.values=Int32Array.from([c]):this.values=c,this.otherEncodingNames=p,U.VALUE_IDENTIFIER_TO_ECI.set(a,this),U.NAME_TO_ECI.set(d,this);const x=this.values;for(let g=0,y=x.length;g!==y;g++){const E=x[g];U.VALUES_TO_ECI.set(E,this)}for(const g of p)U.NAME_TO_ECI.set(g,this)}getValueIdentifier(){return this.valueIdentifier}getName(){return this.name}getValue(){return this.values[0]}static getCharacterSetECIByValue(a){if(a<0||a>=900)throw new M("incorect value");const c=U.VALUES_TO_ECI.get(a);if(c===void 0)throw new M("incorect value");return c}static getCharacterSetECIByName(a){const c=U.NAME_TO_ECI.get(a);if(c===void 0)throw new M("incorect value");return c}equals(a){if(!(a instanceof U))return!1;const c=a;return this.getName()===c.getName()}}U.VALUE_IDENTIFIER_TO_ECI=new Map,U.VALUES_TO_ECI=new Map,U.NAME_TO_ECI=new Map,U.Cp437=new U(F.Cp437,Int32Array.from([0,2]),"Cp437"),U.ISO8859_1=new U(F.ISO8859_1,Int32Array.from([1,3]),"ISO-8859-1","ISO88591","ISO8859_1"),U.ISO8859_2=new U(F.ISO8859_2,4,"ISO-8859-2","ISO88592","ISO8859_2"),U.ISO8859_3=new U(F.ISO8859_3,5,"ISO-8859-3","ISO88593","ISO8859_3"),U.ISO8859_4=new U(F.ISO8859_4,6,"ISO-8859-4","ISO88594","ISO8859_4"),U.ISO8859_5=new U(F.ISO8859_5,7,"ISO-8859-5","ISO88595","ISO8859_5"),U.ISO8859_6=new U(F.ISO8859_6,8,"ISO-8859-6","ISO88596","ISO8859_6"),U.ISO8859_7=new U(F.ISO8859_7,9,"ISO-8859-7","ISO88597","ISO8859_7"),U.ISO8859_8=new U(F.ISO8859_8,10,"ISO-8859-8","ISO88598","ISO8859_8"),U.ISO8859_9=new U(F.ISO8859_9,11,"ISO-8859-9","ISO88599","ISO8859_9"),U.ISO8859_10=new U(F.ISO8859_10,12,"ISO-8859-10","ISO885910","ISO8859_10"),U.ISO8859_11=new U(F.ISO8859_11,13,"ISO-8859-11","ISO885911","ISO8859_11"),U.ISO8859_13=new U(F.ISO8859_13,15,"ISO-8859-13","ISO885913","ISO8859_13"),U.ISO8859_14=new U(F.ISO8859_14,16,"ISO-8859-14","ISO885914","ISO8859_14"),U.ISO8859_15=new U(F.ISO8859_15,17,"ISO-8859-15","ISO885915","ISO8859_15"),U.ISO8859_16=new U(F.ISO8859_16,18,"ISO-8859-16","ISO885916","ISO8859_16"),U.SJIS=new U(F.SJIS,20,"SJIS","Shift_JIS"),U.Cp1250=new U(F.Cp1250,21,"Cp1250","windows-1250"),U.Cp1251=new U(F.Cp1251,22,"Cp1251","windows-1251"),U.Cp1252=new U(F.Cp1252,23,"Cp1252","windows-1252"),U.Cp1256=new U(F.Cp1256,24,"Cp1256","windows-1256"),U.UnicodeBigUnmarked=new U(F.UnicodeBigUnmarked,25,"UnicodeBigUnmarked","UTF-16BE","UnicodeBig"),U.UTF8=new U(F.UTF8,26,"UTF8","UTF-8"),U.ASCII=new U(F.ASCII,Int32Array.from([27,170]),"ASCII","US-ASCII"),U.Big5=new U(F.Big5,28,"Big5"),U.GB18030=new U(F.GB18030,29,"GB18030","GB2312","EUC_CN","GBK"),U.EUC_KR=new U(F.EUC_KR,30,"EUC_KR","EUC-KR");class X extends h{}X.kind="UnsupportedOperationException";class ee{static decode(a,c){const d=this.encodingName(c);return this.customDecoder?this.customDecoder(a,d):typeof TextDecoder>"u"||this.shouldDecodeOnFallback(d)?this.decodeFallback(a,d):new TextDecoder(d).decode(a)}static shouldDecodeOnFallback(a){return!ee.isBrowser()&&a==="ISO-8859-1"}static encode(a,c){const d=this.encodingName(c);return this.customEncoder?this.customEncoder(a,d):typeof TextEncoder>"u"?this.encodeFallback(a):new TextEncoder().encode(a)}static isBrowser(){return typeof window<"u"&&{}.toString.call(window)==="[object Window]"}static encodingName(a){return typeof a=="string"?a:a.getName()}static encodingCharacterSet(a){return a instanceof U?a:U.getCharacterSetECIByName(a)}static decodeFallback(a,c){const d=this.encodingCharacterSet(c);if(ee.isDecodeFallbackSupported(d)){let p="";for(let x=0,g=a.length;x<g;x++){let y=a[x].toString(16);y.length<2&&(y="0"+y),p+="%"+y}return decodeURIComponent(p)}if(d.equals(U.UnicodeBigUnmarked))return String.fromCharCode.apply(null,new Uint16Array(a.buffer));throw new X(`Encoding ${this.encodingName(c)} not supported by fallback.`)}static isDecodeFallbackSupported(a){return a.equals(U.UTF8)||a.equals(U.ISO8859_1)||a.equals(U.ASCII)}static encodeFallback(a){const d=btoa(unescape(encodeURIComponent(a))).split(""),p=[];for(let x=0;x<d.length;x++)p.push(d[x].charCodeAt(0));return new Uint8Array(p)}}class Z{static castAsNonUtf8Char(a,c=null){const d=c?c.getName():this.ISO88591;return ee.decode(new Uint8Array([a]),d)}static guessEncoding(a,c){if(c!=null&&c.get(k.CHARACTER_SET)!==void 0)return c.get(k.CHARACTER_SET).toString();const d=a.length;let p=!0,x=!0,g=!0,y=0,E=0,A=0,O=0,j=0,L=0,z=0,W=0,$=0,q=0,re=0;const pe=a.length>3&&a[0]===239&&a[1]===187&&a[2]===191;for(let ge=0;ge<d&&(p||x||g);ge++){const fe=a[ge]&255;g&&(y>0?fe&128?y--:g=!1:fe&128&&(fe&64?(y++,fe&32?(y++,fe&16?(y++,fe&8?g=!1:O++):A++):E++):g=!1)),p&&(fe>127&&fe<160?p=!1:fe>159&&(fe<192||fe===215||fe===247)&&re++),x&&(j>0?fe<64||fe===127||fe>252?x=!1:j--:fe===128||fe===160||fe>239?x=!1:fe>160&&fe<224?(L++,W=0,z++,z>$&&($=z)):fe>127?(j++,z=0,W++,W>q&&(q=W)):(z=0,W=0))}return g&&y>0&&(g=!1),x&&j>0&&(x=!1),g&&(pe||E+A+O>0)?Z.UTF8:x&&(Z.ASSUME_SHIFT_JIS||$>=3||q>=3)?Z.SHIFT_JIS:p&&x?$===2&&L===2||re*10>=d?Z.SHIFT_JIS:Z.ISO88591:p?Z.ISO88591:x?Z.SHIFT_JIS:g?Z.UTF8:Z.PLATFORM_DEFAULT_ENCODING}static format(a,...c){let d=-1;function p(g,y,E,A,O,j){if(g==="%%")return"%";if(c[++d]===void 0)return;g=A?parseInt(A.substr(1)):void 0;let L=O?parseInt(O.substr(1)):void 0,z;switch(j){case"s":z=c[d];break;case"c":z=c[d][0];break;case"f":z=parseFloat(c[d]).toFixed(g);break;case"p":z=parseFloat(c[d]).toPrecision(g);break;case"e":z=parseFloat(c[d]).toExponential(g);break;case"x":z=parseInt(c[d]).toString(L||16);break;case"d":z=parseFloat(parseInt(c[d],L||10).toPrecision(g)).toFixed(0);break}z=typeof z=="object"?JSON.stringify(z):(+z).toString(L);let W=parseInt(E),$=E&&E[0]+""=="0"?"0":" ";for(;z.length<W;)z=y!==void 0?z+$:$+z;return z}let x=/%(-)?(0?[0-9]+)?([.][0-9]+)?([#][0-9]+)?([scfpexd%])/g;return a.replace(x,p)}static getBytes(a,c){return ee.encode(a,c)}static getCharCode(a,c=0){return a.charCodeAt(c)}static getCharAt(a){return String.fromCharCode(a)}}Z.SHIFT_JIS=U.SJIS.getName(),Z.GB2312="GB2312",Z.ISO88591=U.ISO8859_1.getName(),Z.EUC_JP="EUC_JP",Z.UTF8=U.UTF8.getName(),Z.PLATFORM_DEFAULT_ENCODING=Z.UTF8,Z.ASSUME_SHIFT_JIS=!1;class ae{constructor(a=""){this.value=a}enableDecoding(a){return this.encoding=a,this}append(a){return typeof a=="string"?this.value+=a.toString():this.encoding?this.value+=Z.castAsNonUtf8Char(a,this.encoding):this.value+=String.fromCharCode(a),this}appendChars(a,c,d){for(let p=c;c<c+d;p++)this.append(a[p]);return this}length(){return this.value.length}charAt(a){return this.value.charAt(a)}deleteCharAt(a){this.value=this.value.substr(0,a)+this.value.substring(a+1)}setCharAt(a,c){this.value=this.value.substr(0,a)+c+this.value.substr(a+1)}substring(a,c){return this.value.substring(a,c)}setLengthToZero(){this.value=""}toString(){return this.value}insert(a,c){this.value=this.value.substr(0,a)+c+this.value.substr(a+c.length)}}class K{constructor(a,c,d,p){if(this.width=a,this.height=c,this.rowSize=d,this.bits=p,c==null&&(c=a),this.height=c,a<1||c<1)throw new v("Both dimensions must be greater than 0");d==null&&(d=Math.floor((a+31)/32)),this.rowSize=d,p==null&&(this.bits=new Int32Array(this.rowSize*this.height))}static parseFromBooleanArray(a){const c=a.length,d=a[0].length,p=new K(d,c);for(let x=0;x<c;x++){const g=a[x];for(let y=0;y<d;y++)g[y]&&p.set(y,x)}return p}static parseFromString(a,c,d){if(a===null)throw new v("stringRepresentation cannot be null");const p=new Array(a.length);let x=0,g=0,y=-1,E=0,A=0;for(;A<a.length;)if(a.charAt(A)===`
`||a.charAt(A)==="\r"){if(x>g){if(y===-1)y=x-g;else if(x-g!==y)throw new v("row lengths do not match");g=x,E++}A++}else if(a.substring(A,A+c.length)===c)A+=c.length,p[x]=!0,x++;else if(a.substring(A,A+d.length)===d)A+=d.length,p[x]=!1,x++;else throw new v("illegal character encountered: "+a.substring(A));if(x>g){if(y===-1)y=x-g;else if(x-g!==y)throw new v("row lengths do not match");E++}const O=new K(y,E);for(let j=0;j<x;j++)p[j]&&O.set(Math.floor(j%y),Math.floor(j/y));return O}get(a,c){const d=c*this.rowSize+Math.floor(a/32);return(this.bits[d]>>>(a&31)&1)!==0}set(a,c){const d=c*this.rowSize+Math.floor(a/32);this.bits[d]|=1<<(a&31)&4294967295}unset(a,c){const d=c*this.rowSize+Math.floor(a/32);this.bits[d]&=~(1<<(a&31)&4294967295)}flip(a,c){const d=c*this.rowSize+Math.floor(a/32);this.bits[d]^=1<<(a&31)&4294967295}xor(a){if(this.width!==a.getWidth()||this.height!==a.getHeight()||this.rowSize!==a.getRowSize())throw new v("input matrix dimensions do not match");const c=new P(Math.floor(this.width/32)+1),d=this.rowSize,p=this.bits;for(let x=0,g=this.height;x<g;x++){const y=x*d,E=a.getRow(x,c).getBitArray();for(let A=0;A<d;A++)p[y+A]^=E[A]}}clear(){const a=this.bits,c=a.length;for(let d=0;d<c;d++)a[d]=0}setRegion(a,c,d,p){if(c<0||a<0)throw new v("Left and top must be nonnegative");if(p<1||d<1)throw new v("Height and width must be at least 1");const x=a+d,g=c+p;if(g>this.height||x>this.width)throw new v("The region must fit inside the matrix");const y=this.rowSize,E=this.bits;for(let A=c;A<g;A++){const O=A*y;for(let j=a;j<x;j++)E[O+Math.floor(j/32)]|=1<<(j&31)&4294967295}}getRow(a,c){c==null||c.getSize()<this.width?c=new P(this.width):c.clear();const d=this.rowSize,p=this.bits,x=a*d;for(let g=0;g<d;g++)c.setBulk(g*32,p[x+g]);return c}setRow(a,c){b.arraycopy(c.getBitArray(),0,this.bits,a*this.rowSize,this.rowSize)}rotate180(){const a=this.getWidth(),c=this.getHeight();let d=new P(a),p=new P(a);for(let x=0,g=Math.floor((c+1)/2);x<g;x++)d=this.getRow(x,d),p=this.getRow(c-1-x,p),d.reverse(),p.reverse(),this.setRow(x,p),this.setRow(c-1-x,d)}getEnclosingRectangle(){const a=this.width,c=this.height,d=this.rowSize,p=this.bits;let x=a,g=c,y=-1,E=-1;for(let A=0;A<c;A++)for(let O=0;O<d;O++){const j=p[A*d+O];if(j!==0){if(A<g&&(g=A),A>E&&(E=A),O*32<x){let L=0;for(;!(j<<31-L&4294967295);)L++;O*32+L<x&&(x=O*32+L)}if(O*32+31>y){let L=31;for(;!(j>>>L);)L--;O*32+L>y&&(y=O*32+L)}}}return y<x||E<g?null:Int32Array.from([x,g,y-x+1,E-g+1])}getTopLeftOnBit(){const a=this.rowSize,c=this.bits;let d=0;for(;d<c.length&&c[d]===0;)d++;if(d===c.length)return null;const p=d/a;let x=d%a*32;const g=c[d];let y=0;for(;!(g<<31-y&4294967295);)y++;return x+=y,Int32Array.from([x,p])}getBottomRightOnBit(){const a=this.rowSize,c=this.bits;let d=c.length-1;for(;d>=0&&c[d]===0;)d--;if(d<0)return null;const p=Math.floor(d/a);let x=Math.floor(d%a)*32;const g=c[d];let y=31;for(;!(g>>>y);)y--;return x+=y,Int32Array.from([x,p])}getWidth(){return this.width}getHeight(){return this.height}getRowSize(){return this.rowSize}equals(a){if(!(a instanceof K))return!1;const c=a;return this.width===c.width&&this.height===c.height&&this.rowSize===c.rowSize&&S.equals(this.bits,c.bits)}hashCode(){let a=this.width;return a=31*a+this.width,a=31*a+this.height,a=31*a+this.rowSize,a=31*a+S.hashCode(this.bits),a}toString(a="X ",c="  ",d=`
`){return this.buildToString(a,c,d)}buildToString(a,c,d){let p=new ae;for(let x=0,g=this.height;x<g;x++){for(let y=0,E=this.width;y<E;y++)p.append(this.get(y,x)?a:c);p.append(d)}return p.toString()}clone(){return new K(this.width,this.height,this.rowSize,this.bits.slice())}}class G extends h{static getNotFoundInstance(){return new G}}G.kind="NotFoundException";class ue extends N{constructor(a){super(a),this.luminances=ue.EMPTY,this.buckets=new Int32Array(ue.LUMINANCE_BUCKETS)}getBlackRow(a,c){const d=this.getLuminanceSource(),p=d.getWidth();c==null||c.getSize()<p?c=new P(p):c.clear(),this.initArrays(p);const x=d.getRow(a,this.luminances),g=this.buckets;for(let E=0;E<p;E++)g[(x[E]&255)>>ue.LUMINANCE_SHIFT]++;const y=ue.estimateBlackPoint(g);if(p<3)for(let E=0;E<p;E++)(x[E]&255)<y&&c.set(E);else{let E=x[0]&255,A=x[1]&255;for(let O=1;O<p-1;O++){const j=x[O+1]&255;(A*4-E-j)/2<y&&c.set(O),E=A,A=j}}return c}getBlackMatrix(){const a=this.getLuminanceSource(),c=a.getWidth(),d=a.getHeight(),p=new K(c,d);this.initArrays(c);const x=this.buckets;for(let E=1;E<5;E++){const A=Math.floor(d*E/5),O=a.getRow(A,this.luminances),j=Math.floor(c*4/5);for(let L=Math.floor(c/5);L<j;L++){const z=O[L]&255;x[z>>ue.LUMINANCE_SHIFT]++}}const g=ue.estimateBlackPoint(x),y=a.getMatrix();for(let E=0;E<d;E++){const A=E*c;for(let O=0;O<c;O++)(y[A+O]&255)<g&&p.set(O,E)}return p}createBinarizer(a){return new ue(a)}initArrays(a){this.luminances.length<a&&(this.luminances=new Uint8ClampedArray(a));const c=this.buckets;for(let d=0;d<ue.LUMINANCE_BUCKETS;d++)c[d]=0}static estimateBlackPoint(a){const c=a.length;let d=0,p=0,x=0;for(let O=0;O<c;O++)a[O]>x&&(p=O,x=a[O]),a[O]>d&&(d=a[O]);let g=0,y=0;for(let O=0;O<c;O++){const j=O-p,L=a[O]*j*j;L>y&&(g=O,y=L)}if(p>g){const O=p;p=g,g=O}if(g-p<=c/16)throw new G;let E=g-1,A=-1;for(let O=g-1;O>p;O--){const j=O-p,L=j*j*(g-O)*(d-a[O]);L>A&&(E=O,A=L)}return E<<ue.LUMINANCE_SHIFT}}ue.LUMINANCE_BITS=5,ue.LUMINANCE_SHIFT=8-ue.LUMINANCE_BITS,ue.LUMINANCE_BUCKETS=1<<ue.LUMINANCE_BITS,ue.EMPTY=Uint8ClampedArray.from([0]);class de extends ue{constructor(a){super(a),this.matrix=null}getBlackMatrix(){if(this.matrix!==null)return this.matrix;const a=this.getLuminanceSource(),c=a.getWidth(),d=a.getHeight();if(c>=de.MINIMUM_DIMENSION&&d>=de.MINIMUM_DIMENSION){const p=a.getMatrix();let x=c>>de.BLOCK_SIZE_POWER;c&de.BLOCK_SIZE_MASK&&x++;let g=d>>de.BLOCK_SIZE_POWER;d&de.BLOCK_SIZE_MASK&&g++;const y=de.calculateBlackPoints(p,x,g,c,d),E=new K(c,d);de.calculateThresholdForBlock(p,x,g,c,d,y,E),this.matrix=E}else this.matrix=super.getBlackMatrix();return this.matrix}createBinarizer(a){return new de(a)}static calculateThresholdForBlock(a,c,d,p,x,g,y){const E=x-de.BLOCK_SIZE,A=p-de.BLOCK_SIZE;for(let O=0;O<d;O++){let j=O<<de.BLOCK_SIZE_POWER;j>E&&(j=E);const L=de.cap(O,2,d-3);for(let z=0;z<c;z++){let W=z<<de.BLOCK_SIZE_POWER;W>A&&(W=A);const $=de.cap(z,2,c-3);let q=0;for(let pe=-2;pe<=2;pe++){const ge=g[L+pe];q+=ge[$-2]+ge[$-1]+ge[$]+ge[$+1]+ge[$+2]}const re=q/25;de.thresholdBlock(a,W,j,re,p,y)}}}static cap(a,c,d){return a<c?c:a>d?d:a}static thresholdBlock(a,c,d,p,x,g){for(let y=0,E=d*x+c;y<de.BLOCK_SIZE;y++,E+=x)for(let A=0;A<de.BLOCK_SIZE;A++)(a[E+A]&255)<=p&&g.set(c+A,d+y)}static calculateBlackPoints(a,c,d,p,x){const g=x-de.BLOCK_SIZE,y=p-de.BLOCK_SIZE,E=new Array(d);for(let A=0;A<d;A++){E[A]=new Int32Array(c);let O=A<<de.BLOCK_SIZE_POWER;O>g&&(O=g);for(let j=0;j<c;j++){let L=j<<de.BLOCK_SIZE_POWER;L>y&&(L=y);let z=0,W=255,$=0;for(let re=0,pe=O*p+L;re<de.BLOCK_SIZE;re++,pe+=p){for(let ge=0;ge<de.BLOCK_SIZE;ge++){const fe=a[pe+ge]&255;z+=fe,fe<W&&(W=fe),fe>$&&($=fe)}if($-W>de.MIN_DYNAMIC_RANGE)for(re++,pe+=p;re<de.BLOCK_SIZE;re++,pe+=p)for(let ge=0;ge<de.BLOCK_SIZE;ge++)z+=a[pe+ge]&255}let q=z>>de.BLOCK_SIZE_POWER*2;if($-W<=de.MIN_DYNAMIC_RANGE&&(q=W/2,A>0&&j>0)){const re=(E[A-1][j]+2*E[A][j-1]+E[A-1][j-1])/4;W<re&&(q=re)}E[A][j]=q}}return E}}de.BLOCK_SIZE_POWER=3,de.BLOCK_SIZE=1<<de.BLOCK_SIZE_POWER,de.BLOCK_SIZE_MASK=de.BLOCK_SIZE-1,de.MINIMUM_DIMENSION=de.BLOCK_SIZE*5,de.MIN_DYNAMIC_RANGE=24;class ne{constructor(a,c){this.width=a,this.height=c}getWidth(){return this.width}getHeight(){return this.height}isCropSupported(){return!1}crop(a,c,d,p){throw new X("This luminance source does not support cropping.")}isRotateSupported(){return!1}rotateCounterClockwise(){throw new X("This luminance source does not support rotation by 90 degrees.")}rotateCounterClockwise45(){throw new X("This luminance source does not support rotation by 45 degrees.")}toString(){const a=new Uint8ClampedArray(this.width);let c=new ae;for(let d=0;d<this.height;d++){const p=this.getRow(d,a);for(let x=0;x<this.width;x++){const g=p[x]&255;let y;g<64?y="#":g<128?y="+":g<192?y=".":y=" ",c.append(y)}c.append(`
`)}return c.toString()}}class xe extends ne{constructor(a){super(a.getWidth(),a.getHeight()),this.delegate=a}getRow(a,c){const d=this.delegate.getRow(a,c),p=this.getWidth();for(let x=0;x<p;x++)d[x]=255-(d[x]&255);return d}getMatrix(){const a=this.delegate.getMatrix(),c=this.getWidth()*this.getHeight(),d=new Uint8ClampedArray(c);for(let p=0;p<c;p++)d[p]=255-(a[p]&255);return d}isCropSupported(){return this.delegate.isCropSupported()}crop(a,c,d,p){return new xe(this.delegate.crop(a,c,d,p))}isRotateSupported(){return this.delegate.isRotateSupported()}invert(){return this.delegate}rotateCounterClockwise(){return new xe(this.delegate.rotateCounterClockwise())}rotateCounterClockwise45(){return new xe(this.delegate.rotateCounterClockwise45())}}class Ae extends ne{constructor(a){super(a.width,a.height),this.canvas=a,this.tempCanvasElement=null,this.buffer=Ae.makeBufferFromCanvasImageData(a)}static makeBufferFromCanvasImageData(a){const c=a.getContext("2d").getImageData(0,0,a.width,a.height);return Ae.toGrayscaleBuffer(c.data,a.width,a.height)}static toGrayscaleBuffer(a,c,d){const p=new Uint8ClampedArray(c*d);for(let x=0,g=0,y=a.length;x<y;x+=4,g++){let E;if(a[x+3]===0)E=255;else{const O=a[x],j=a[x+1],L=a[x+2];E=306*O+601*j+117*L+512>>10}p[g]=E}return p}getRow(a,c){if(a<0||a>=this.getHeight())throw new v("Requested row is outside the image: "+a);const d=this.getWidth(),p=a*d;return c===null?c=this.buffer.slice(p,p+d):(c.length<d&&(c=new Uint8ClampedArray(d)),c.set(this.buffer.slice(p,p+d))),c}getMatrix(){return this.buffer}isCropSupported(){return!0}crop(a,c,d,p){return super.crop(a,c,d,p),this}isRotateSupported(){return!0}rotateCounterClockwise(){return this.rotate(-90),this}rotateCounterClockwise45(){return this.rotate(-45),this}getTempCanvasElement(){if(this.tempCanvasElement===null){const a=this.canvas.ownerDocument.createElement("canvas");a.width=this.canvas.width,a.height=this.canvas.height,this.tempCanvasElement=a}return this.tempCanvasElement}rotate(a){const c=this.getTempCanvasElement(),d=c.getContext("2d"),p=a*Ae.DEGREE_TO_RADIANS,x=this.canvas.width,g=this.canvas.height,y=Math.ceil(Math.abs(Math.cos(p))*x+Math.abs(Math.sin(p))*g),E=Math.ceil(Math.abs(Math.sin(p))*x+Math.abs(Math.cos(p))*g);return c.width=y,c.height=E,d.translate(y/2,E/2),d.rotate(p),d.drawImage(this.canvas,x/-2,g/-2),this.buffer=Ae.makeBufferFromCanvasImageData(c),this}invert(){return new xe(this)}}Ae.DEGREE_TO_RADIANS=Math.PI/180;class Te{constructor(a,c,d){this.deviceId=a,this.label=c,this.kind="videoinput",this.groupId=d||void 0}toJSON(){return{kind:this.kind,groupId:this.groupId,deviceId:this.deviceId,label:this.label}}}var ze=(globalThis||ic||self||window||void 0)&&(globalThis||ic||self||window||void 0).__awaiter||function(D,a,c,d){function p(x){return x instanceof c?x:new c(function(g){g(x)})}return new(c||(c=Promise))(function(x,g){function y(O){try{A(d.next(O))}catch(j){g(j)}}function E(O){try{A(d.throw(O))}catch(j){g(j)}}function A(O){O.done?x(O.value):p(O.value).then(y,E)}A((d=d.apply(D,a||[])).next())})};class Pt{constructor(a,c=500,d){this.reader=a,this.timeBetweenScansMillis=c,this._hints=d,this._stopContinuousDecode=!1,this._stopAsyncDecode=!1,this._timeBetweenDecodingAttempts=0}get hasNavigator(){return typeof navigator<"u"}get isMediaDevicesSuported(){return this.hasNavigator&&!!navigator.mediaDevices}get canEnumerateDevices(){return!!(this.isMediaDevicesSuported&&navigator.mediaDevices.enumerateDevices)}get timeBetweenDecodingAttempts(){return this._timeBetweenDecodingAttempts}set timeBetweenDecodingAttempts(a){this._timeBetweenDecodingAttempts=a<0?0:a}set hints(a){this._hints=a||null}get hints(){return this._hints}listVideoInputDevices(){return ze(this,void 0,void 0,function*(){if(!this.hasNavigator)throw new Error("Can't enumerate devices, navigator is not present.");if(!this.canEnumerateDevices)throw new Error("Can't enumerate devices, method not supported.");const a=yield navigator.mediaDevices.enumerateDevices(),c=[];for(const d of a){const p=d.kind==="video"?"videoinput":d.kind;if(p!=="videoinput")continue;const x=d.deviceId||d.id,g=d.label||`Video device ${c.length+1}`,y=d.groupId,E={deviceId:x,label:g,kind:p,groupId:y};c.push(E)}return c})}getVideoInputDevices(){return ze(this,void 0,void 0,function*(){return(yield this.listVideoInputDevices()).map(c=>new Te(c.deviceId,c.label))})}findDeviceById(a){return ze(this,void 0,void 0,function*(){const c=yield this.listVideoInputDevices();return c?c.find(d=>d.deviceId===a):null})}decodeFromInputVideoDevice(a,c){return ze(this,void 0,void 0,function*(){return yield this.decodeOnceFromVideoDevice(a,c)})}decodeOnceFromVideoDevice(a,c){return ze(this,void 0,void 0,function*(){this.reset();let d;a?d={deviceId:{exact:a}}:d={facingMode:"environment"};const p={video:d};return yield this.decodeOnceFromConstraints(p,c)})}decodeOnceFromConstraints(a,c){return ze(this,void 0,void 0,function*(){const d=yield navigator.mediaDevices.getUserMedia(a);return yield this.decodeOnceFromStream(d,c)})}decodeOnceFromStream(a,c){return ze(this,void 0,void 0,function*(){this.reset();const d=yield this.attachStreamToVideo(a,c);return yield this.decodeOnce(d)})}decodeFromInputVideoDeviceContinuously(a,c,d){return ze(this,void 0,void 0,function*(){return yield this.decodeFromVideoDevice(a,c,d)})}decodeFromVideoDevice(a,c,d){return ze(this,void 0,void 0,function*(){let p;a?p={deviceId:{exact:a}}:p={facingMode:"environment"};const x={video:p};return yield this.decodeFromConstraints(x,c,d)})}decodeFromConstraints(a,c,d){return ze(this,void 0,void 0,function*(){const p=yield navigator.mediaDevices.getUserMedia(a);return yield this.decodeFromStream(p,c,d)})}decodeFromStream(a,c,d){return ze(this,void 0,void 0,function*(){this.reset();const p=yield this.attachStreamToVideo(a,c);return yield this.decodeContinuously(p,d)})}stopAsyncDecode(){this._stopAsyncDecode=!0}stopContinuousDecode(){this._stopContinuousDecode=!0}attachStreamToVideo(a,c){return ze(this,void 0,void 0,function*(){const d=this.prepareVideoElement(c);return this.addVideoSource(d,a),this.videoElement=d,this.stream=a,yield this.playVideoOnLoadAsync(d),d})}playVideoOnLoadAsync(a){return new Promise((c,d)=>this.playVideoOnLoad(a,()=>c()))}playVideoOnLoad(a,c){this.videoEndedListener=()=>this.stopStreams(),this.videoCanPlayListener=()=>this.tryPlayVideo(a),a.addEventListener("ended",this.videoEndedListener),a.addEventListener("canplay",this.videoCanPlayListener),a.addEventListener("playing",c),this.tryPlayVideo(a)}isVideoPlaying(a){return a.currentTime>0&&!a.paused&&!a.ended&&a.readyState>2}tryPlayVideo(a){return ze(this,void 0,void 0,function*(){if(this.isVideoPlaying(a)){console.warn("Trying to play video that is already playing.");return}try{yield a.play()}catch{console.warn("It was not possible to play the video.")}})}getMediaElement(a,c){const d=document.getElementById(a);if(!d)throw new m(`element with id '${a}' not found`);if(d.nodeName.toLowerCase()!==c.toLowerCase())throw new m(`element with id '${a}' must be an ${c} element`);return d}decodeFromImage(a,c){if(!a&&!c)throw new m("either imageElement with a src set or an url must be provided");return c&&!a?this.decodeFromImageUrl(c):this.decodeFromImageElement(a)}decodeFromVideo(a,c){if(!a&&!c)throw new m("Either an element with a src set or an URL must be provided");return c&&!a?this.decodeFromVideoUrl(c):this.decodeFromVideoElement(a)}decodeFromVideoContinuously(a,c,d){if(a===void 0&&c===void 0)throw new m("Either an element with a src set or an URL must be provided");return c&&!a?this.decodeFromVideoUrlContinuously(c,d):this.decodeFromVideoElementContinuously(a,d)}decodeFromImageElement(a){if(!a)throw new m("An image element must be provided.");this.reset();const c=this.prepareImageElement(a);this.imageElement=c;let d;return this.isImageLoaded(c)?d=this.decodeOnce(c,!1,!0):d=this._decodeOnLoadImage(c),d}decodeFromVideoElement(a){const c=this._decodeFromVideoElementSetup(a);return this._decodeOnLoadVideo(c)}decodeFromVideoElementContinuously(a,c){const d=this._decodeFromVideoElementSetup(a);return this._decodeOnLoadVideoContinuously(d,c)}_decodeFromVideoElementSetup(a){if(!a)throw new m("A video element must be provided.");this.reset();const c=this.prepareVideoElement(a);return this.videoElement=c,c}decodeFromImageUrl(a){if(!a)throw new m("An URL must be provided.");this.reset();const c=this.prepareImageElement();this.imageElement=c;const d=this._decodeOnLoadImage(c);return c.src=a,d}decodeFromVideoUrl(a){if(!a)throw new m("An URL must be provided.");this.reset();const c=this.prepareVideoElement(),d=this.decodeFromVideoElement(c);return c.src=a,d}decodeFromVideoUrlContinuously(a,c){if(!a)throw new m("An URL must be provided.");this.reset();const d=this.prepareVideoElement(),p=this.decodeFromVideoElementContinuously(d,c);return d.src=a,p}_decodeOnLoadImage(a){return new Promise((c,d)=>{this.imageLoadedListener=()=>this.decodeOnce(a,!1,!0).then(c,d),a.addEventListener("load",this.imageLoadedListener)})}_decodeOnLoadVideo(a){return ze(this,void 0,void 0,function*(){return yield this.playVideoOnLoadAsync(a),yield this.decodeOnce(a)})}_decodeOnLoadVideoContinuously(a,c){return ze(this,void 0,void 0,function*(){yield this.playVideoOnLoadAsync(a),this.decodeContinuously(a,c)})}isImageLoaded(a){return!(!a.complete||a.naturalWidth===0)}prepareImageElement(a){let c;return typeof a>"u"&&(c=document.createElement("img"),c.width=200,c.height=200),typeof a=="string"&&(c=this.getMediaElement(a,"img")),a instanceof HTMLImageElement&&(c=a),c}prepareVideoElement(a){let c;return!a&&typeof document<"u"&&(c=document.createElement("video"),c.width=200,c.height=200),typeof a=="string"&&(c=this.getMediaElement(a,"video")),a instanceof HTMLVideoElement&&(c=a),c.setAttribute("autoplay","true"),c.setAttribute("muted","true"),c.setAttribute("playsinline","true"),c}decodeOnce(a,c=!0,d=!0){this._stopAsyncDecode=!1;const p=(x,g)=>{if(this._stopAsyncDecode){g(new G("Video stream has ended before any code could be detected.")),this._stopAsyncDecode=void 0;return}try{const y=this.decode(a);x(y)}catch(y){const E=c&&y instanceof G,O=(y instanceof C||y instanceof M)&&d;if(E||O)return setTimeout(p,this._timeBetweenDecodingAttempts,x,g);g(y)}};return new Promise((x,g)=>p(x,g))}decodeContinuously(a,c){this._stopContinuousDecode=!1;const d=()=>{if(this._stopContinuousDecode){this._stopContinuousDecode=void 0;return}try{const p=this.decode(a);c(p,null),setTimeout(d,this.timeBetweenScansMillis)}catch(p){c(null,p);const x=p instanceof C||p instanceof M,g=p instanceof G;(x||g)&&setTimeout(d,this._timeBetweenDecodingAttempts)}};d()}decode(a){const c=this.createBinaryBitmap(a);return this.decodeBitmap(c)}_isHTMLVideoElement(a){return a.videoWidth!==0}drawFrameOnCanvas(a,c,d){c||(c={sx:0,sy:0,sWidth:a.videoWidth,sHeight:a.videoHeight,dx:0,dy:0,dWidth:a.videoWidth,dHeight:a.videoHeight}),d||(d=this.captureCanvasContext),d.drawImage(a,c.sx,c.sy,c.sWidth,c.sHeight,c.dx,c.dy,c.dWidth,c.dHeight)}drawImageOnCanvas(a,c,d=this.captureCanvasContext){c||(c={sx:0,sy:0,sWidth:a.naturalWidth,sHeight:a.naturalHeight,dx:0,dy:0,dWidth:a.naturalWidth,dHeight:a.naturalHeight}),d||(d=this.captureCanvasContext),d.drawImage(a,c.sx,c.sy,c.sWidth,c.sHeight,c.dx,c.dy,c.dWidth,c.dHeight)}createBinaryBitmap(a){this.getCaptureCanvasContext(a),this._isHTMLVideoElement(a)?this.drawFrameOnCanvas(a):this.drawImageOnCanvas(a);const c=this.getCaptureCanvas(a),d=new Ae(c),p=new de(d);return new w(p)}getCaptureCanvasContext(a){if(!this.captureCanvasContext){const d=this.getCaptureCanvas(a).getContext("2d");this.captureCanvasContext=d}return this.captureCanvasContext}getCaptureCanvas(a){if(!this.captureCanvas){const c=this.createCaptureCanvas(a);this.captureCanvas=c}return this.captureCanvas}decodeBitmap(a){return this.reader.decode(a,this._hints)}createCaptureCanvas(a){if(typeof document>"u")return this._destroyCaptureCanvas(),null;const c=document.createElement("canvas");let d,p;return typeof a<"u"&&(a instanceof HTMLVideoElement?(d=a.videoWidth,p=a.videoHeight):a instanceof HTMLImageElement&&(d=a.naturalWidth||a.width,p=a.naturalHeight||a.height)),c.style.width=d+"px",c.style.height=p+"px",c.width=d,c.height=p,c}stopStreams(){this.stream&&(this.stream.getVideoTracks().forEach(a=>a.stop()),this.stream=void 0),this._stopAsyncDecode===!1&&this.stopAsyncDecode(),this._stopContinuousDecode===!1&&this.stopContinuousDecode()}reset(){this.stopStreams(),this._destroyVideoElement(),this._destroyImageElement(),this._destroyCaptureCanvas()}_destroyVideoElement(){this.videoElement&&(typeof this.videoEndedListener<"u"&&this.videoElement.removeEventListener("ended",this.videoEndedListener),typeof this.videoPlayingEventListener<"u"&&this.videoElement.removeEventListener("playing",this.videoPlayingEventListener),typeof this.videoCanPlayListener<"u"&&this.videoElement.removeEventListener("loadedmetadata",this.videoCanPlayListener),this.cleanVideoSource(this.videoElement),this.videoElement=void 0)}_destroyImageElement(){this.imageElement&&(this.imageLoadedListener!==void 0&&this.imageElement.removeEventListener("load",this.imageLoadedListener),this.imageElement.src=void 0,this.imageElement.removeAttribute("src"),this.imageElement=void 0)}_destroyCaptureCanvas(){this.captureCanvasContext=void 0,this.captureCanvas=void 0}addVideoSource(a,c){try{a.srcObject=c}catch{a.src=URL.createObjectURL(c)}}cleanVideoSource(a){try{a.srcObject=null}catch{a.src=""}this.videoElement.removeAttribute("src")}}class it{constructor(a,c,d=c==null?0:8*c.length,p,x,g=b.currentTimeMillis()){this.text=a,this.rawBytes=c,this.numBits=d,this.resultPoints=p,this.format=x,this.timestamp=g,this.text=a,this.rawBytes=c,d==null?this.numBits=c==null?0:8*c.length:this.numBits=d,this.resultPoints=p,this.format=x,this.resultMetadata=null,g==null?this.timestamp=b.currentTimeMillis():this.timestamp=g}getText(){return this.text}getRawBytes(){return this.rawBytes}getNumBits(){return this.numBits}getResultPoints(){return this.resultPoints}getBarcodeFormat(){return this.format}getResultMetadata(){return this.resultMetadata}putMetadata(a,c){this.resultMetadata===null&&(this.resultMetadata=new Map),this.resultMetadata.set(a,c)}putAllMetadata(a){a!==null&&(this.resultMetadata===null?this.resultMetadata=a:this.resultMetadata=new Map(a))}addResultPoints(a){const c=this.resultPoints;if(c===null)this.resultPoints=a;else if(a!==null&&a.length>0){const d=new Array(c.length+a.length);b.arraycopy(c,0,d,0,c.length),b.arraycopy(a,0,d,c.length,a.length),this.resultPoints=d}}getTimestamp(){return this.timestamp}toString(){return this.text}}var vn;(function(D){D[D.AZTEC=0]="AZTEC",D[D.CODABAR=1]="CODABAR",D[D.CODE_39=2]="CODE_39",D[D.CODE_93=3]="CODE_93",D[D.CODE_128=4]="CODE_128",D[D.DATA_MATRIX=5]="DATA_MATRIX",D[D.EAN_8=6]="EAN_8",D[D.EAN_13=7]="EAN_13",D[D.ITF=8]="ITF",D[D.MAXICODE=9]="MAXICODE",D[D.PDF_417=10]="PDF_417",D[D.QR_CODE=11]="QR_CODE",D[D.RSS_14=12]="RSS_14",D[D.RSS_EXPANDED=13]="RSS_EXPANDED",D[D.UPC_A=14]="UPC_A",D[D.UPC_E=15]="UPC_E",D[D.UPC_EAN_EXTENSION=16]="UPC_EAN_EXTENSION"})(vn||(vn={}));var Se=vn,je;(function(D){D[D.OTHER=0]="OTHER",D[D.ORIENTATION=1]="ORIENTATION",D[D.BYTE_SEGMENTS=2]="BYTE_SEGMENTS",D[D.ERROR_CORRECTION_LEVEL=3]="ERROR_CORRECTION_LEVEL",D[D.ISSUE_NUMBER=4]="ISSUE_NUMBER",D[D.SUGGESTED_PRICE=5]="SUGGESTED_PRICE",D[D.POSSIBLE_COUNTRY=6]="POSSIBLE_COUNTRY",D[D.UPC_EAN_EXTENSION=7]="UPC_EAN_EXTENSION",D[D.PDF417_EXTRA_METADATA=8]="PDF417_EXTRA_METADATA",D[D.STRUCTURED_APPEND_SEQUENCE=9]="STRUCTURED_APPEND_SEQUENCE",D[D.STRUCTURED_APPEND_PARITY=10]="STRUCTURED_APPEND_PARITY"})(je||(je={}));var We=je;class Jt{constructor(a,c,d,p,x=-1,g=-1){this.rawBytes=a,this.text=c,this.byteSegments=d,this.ecLevel=p,this.structuredAppendSequenceNumber=x,this.structuredAppendParity=g,this.numBits=a==null?0:8*a.length}getRawBytes(){return this.rawBytes}getNumBits(){return this.numBits}setNumBits(a){this.numBits=a}getText(){return this.text}getByteSegments(){return this.byteSegments}getECLevel(){return this.ecLevel}getErrorsCorrected(){return this.errorsCorrected}setErrorsCorrected(a){this.errorsCorrected=a}getErasures(){return this.erasures}setErasures(a){this.erasures=a}getOther(){return this.other}setOther(a){this.other=a}hasStructuredAppend(){return this.structuredAppendParity>=0&&this.structuredAppendSequenceNumber>=0}getStructuredAppendParity(){return this.structuredAppendParity}getStructuredAppendSequenceNumber(){return this.structuredAppendSequenceNumber}}class ht{exp(a){return this.expTable[a]}log(a){if(a===0)throw new v;return this.logTable[a]}static addOrSubtract(a,c){return a^c}}class Xe{constructor(a,c){if(c.length===0)throw new v;this.field=a;const d=c.length;if(d>1&&c[0]===0){let p=1;for(;p<d&&c[p]===0;)p++;p===d?this.coefficients=Int32Array.from([0]):(this.coefficients=new Int32Array(d-p),b.arraycopy(c,p,this.coefficients,0,this.coefficients.length))}else this.coefficients=c}getCoefficients(){return this.coefficients}getDegree(){return this.coefficients.length-1}isZero(){return this.coefficients[0]===0}getCoefficient(a){return this.coefficients[this.coefficients.length-1-a]}evaluateAt(a){if(a===0)return this.getCoefficient(0);const c=this.coefficients;let d;if(a===1){d=0;for(let g=0,y=c.length;g!==y;g++){const E=c[g];d=ht.addOrSubtract(d,E)}return d}d=c[0];const p=c.length,x=this.field;for(let g=1;g<p;g++)d=ht.addOrSubtract(x.multiply(a,d),c[g]);return d}addOrSubtract(a){if(!this.field.equals(a.field))throw new v("GenericGFPolys do not have same GenericGF field");if(this.isZero())return a;if(a.isZero())return this;let c=this.coefficients,d=a.coefficients;if(c.length>d.length){const g=c;c=d,d=g}let p=new Int32Array(d.length);const x=d.length-c.length;b.arraycopy(d,0,p,0,x);for(let g=x;g<d.length;g++)p[g]=ht.addOrSubtract(c[g-x],d[g]);return new Xe(this.field,p)}multiply(a){if(!this.field.equals(a.field))throw new v("GenericGFPolys do not have same GenericGF field");if(this.isZero()||a.isZero())return this.field.getZero();const c=this.coefficients,d=c.length,p=a.coefficients,x=p.length,g=new Int32Array(d+x-1),y=this.field;for(let E=0;E<d;E++){const A=c[E];for(let O=0;O<x;O++)g[E+O]=ht.addOrSubtract(g[E+O],y.multiply(A,p[O]))}return new Xe(y,g)}multiplyScalar(a){if(a===0)return this.field.getZero();if(a===1)return this;const c=this.coefficients.length,d=this.field,p=new Int32Array(c),x=this.coefficients;for(let g=0;g<c;g++)p[g]=d.multiply(x[g],a);return new Xe(d,p)}multiplyByMonomial(a,c){if(a<0)throw new v;if(c===0)return this.field.getZero();const d=this.coefficients,p=d.length,x=new Int32Array(p+a),g=this.field;for(let y=0;y<p;y++)x[y]=g.multiply(d[y],c);return new Xe(g,x)}divide(a){if(!this.field.equals(a.field))throw new v("GenericGFPolys do not have same GenericGF field");if(a.isZero())throw new v("Divide by 0");const c=this.field;let d=c.getZero(),p=this;const x=a.getCoefficient(a.getDegree()),g=c.inverse(x);for(;p.getDegree()>=a.getDegree()&&!p.isZero();){const y=p.getDegree()-a.getDegree(),E=c.multiply(p.getCoefficient(p.getDegree()),g),A=a.multiplyByMonomial(y,E),O=c.buildMonomial(y,E);d=d.addOrSubtract(O),p=p.addOrSubtract(A)}return[d,p]}toString(){let a="";for(let c=this.getDegree();c>=0;c--){let d=this.getCoefficient(c);if(d!==0){if(d<0?(a+=" - ",d=-d):a.length>0&&(a+=" + "),c===0||d!==1){const p=this.field.log(d);p===0?a+="1":p===1?a+="a":(a+="a^",a+=p)}c!==0&&(c===1?a+="x":(a+="x^",a+=c))}}return a}}class ct extends h{}ct.kind="ArithmeticException";class Ge extends ht{constructor(a,c,d){super(),this.primitive=a,this.size=c,this.generatorBase=d;const p=new Int32Array(c);let x=1;for(let y=0;y<c;y++)p[y]=x,x*=2,x>=c&&(x^=a,x&=c-1);this.expTable=p;const g=new Int32Array(c);for(let y=0;y<c-1;y++)g[p[y]]=y;this.logTable=g,this.zero=new Xe(this,Int32Array.from([0])),this.one=new Xe(this,Int32Array.from([1]))}getZero(){return this.zero}getOne(){return this.one}buildMonomial(a,c){if(a<0)throw new v;if(c===0)return this.zero;const d=new Int32Array(a+1);return d[0]=c,new Xe(this,d)}inverse(a){if(a===0)throw new ct;return this.expTable[this.size-this.logTable[a]-1]}multiply(a,c){return a===0||c===0?0:this.expTable[(this.logTable[a]+this.logTable[c])%(this.size-1)]}getSize(){return this.size}getGeneratorBase(){return this.generatorBase}toString(){return"GF(0x"+T.toHexString(this.primitive)+","+this.size+")"}equals(a){return a===this}}Ge.AZTEC_DATA_12=new Ge(4201,4096,1),Ge.AZTEC_DATA_10=new Ge(1033,1024,1),Ge.AZTEC_DATA_6=new Ge(67,64,1),Ge.AZTEC_PARAM=new Ge(19,16,1),Ge.QR_CODE_FIELD_256=new Ge(285,256,0),Ge.DATA_MATRIX_FIELD_256=new Ge(301,256,1),Ge.AZTEC_DATA_8=Ge.DATA_MATRIX_FIELD_256,Ge.MAXICODE_FIELD_64=Ge.AZTEC_DATA_6;class jr extends h{}jr.kind="ReedSolomonException";class Wr extends h{}Wr.kind="IllegalStateException";class xi{constructor(a){this.field=a}decode(a,c){const d=this.field,p=new Xe(d,a),x=new Int32Array(c);let g=!0;for(let z=0;z<c;z++){const W=p.evaluateAt(d.exp(z+d.getGeneratorBase()));x[x.length-1-z]=W,W!==0&&(g=!1)}if(g)return;const y=new Xe(d,x),E=this.runEuclideanAlgorithm(d.buildMonomial(c,1),y,c),A=E[0],O=E[1],j=this.findErrorLocations(A),L=this.findErrorMagnitudes(O,j);for(let z=0;z<j.length;z++){const W=a.length-1-d.log(j[z]);if(W<0)throw new jr("Bad error location");a[W]=Ge.addOrSubtract(a[W],L[z])}}runEuclideanAlgorithm(a,c,d){if(a.getDegree()<c.getDegree()){const z=a;a=c,c=z}const p=this.field;let x=a,g=c,y=p.getZero(),E=p.getOne();for(;g.getDegree()>=(d/2|0);){let z=x,W=y;if(x=g,y=E,x.isZero())throw new jr("r_{i-1} was zero");g=z;let $=p.getZero();const q=x.getCoefficient(x.getDegree()),re=p.inverse(q);for(;g.getDegree()>=x.getDegree()&&!g.isZero();){const pe=g.getDegree()-x.getDegree(),ge=p.multiply(g.getCoefficient(g.getDegree()),re);$=$.addOrSubtract(p.buildMonomial(pe,ge)),g=g.addOrSubtract(x.multiplyByMonomial(pe,ge))}if(E=$.multiply(y).addOrSubtract(W),g.getDegree()>=x.getDegree())throw new Wr("Division algorithm failed to reduce polynomial?")}const A=E.getCoefficient(0);if(A===0)throw new jr("sigmaTilde(0) was zero");const O=p.inverse(A),j=E.multiplyScalar(O),L=g.multiplyScalar(O);return[j,L]}findErrorLocations(a){const c=a.getDegree();if(c===1)return Int32Array.from([a.getCoefficient(1)]);const d=new Int32Array(c);let p=0;const x=this.field;for(let g=1;g<x.getSize()&&p<c;g++)a.evaluateAt(g)===0&&(d[p]=x.inverse(g),p++);if(p!==c)throw new jr("Error locator degree does not match number of roots");return d}findErrorMagnitudes(a,c){const d=c.length,p=new Int32Array(d),x=this.field;for(let g=0;g<d;g++){const y=x.inverse(c[g]);let E=1;for(let A=0;A<d;A++)if(g!==A){const O=x.multiply(c[A],y),j=O&1?O&-2:O|1;E=x.multiply(E,j)}p[g]=x.multiply(a.evaluateAt(y),x.inverse(E)),x.getGeneratorBase()!==0&&(p[g]=x.multiply(p[g],y))}return p}}var Xt;(function(D){D[D.UPPER=0]="UPPER",D[D.LOWER=1]="LOWER",D[D.MIXED=2]="MIXED",D[D.DIGIT=3]="DIGIT",D[D.PUNCT=4]="PUNCT",D[D.BINARY=5]="BINARY"})(Xt||(Xt={}));class Nt{decode(a){this.ddata=a;let c=a.getBits(),d=this.extractBits(c),p=this.correctBits(d),x=Nt.convertBoolArrayToByteArray(p),g=Nt.getEncodedData(p),y=new Jt(x,g,null,null);return y.setNumBits(p.length),y}static highLevelDecode(a){return this.getEncodedData(a)}static getEncodedData(a){let c=a.length,d=Xt.UPPER,p=Xt.UPPER,x="",g=0;for(;g<c;)if(p===Xt.BINARY){if(c-g<5)break;let y=Nt.readCode(a,g,5);if(g+=5,y===0){if(c-g<11)break;y=Nt.readCode(a,g,11)+31,g+=11}for(let E=0;E<y;E++){if(c-g<8){g=c;break}const A=Nt.readCode(a,g,8);x+=Z.castAsNonUtf8Char(A),g+=8}p=d}else{let y=p===Xt.DIGIT?4:5;if(c-g<y)break;let E=Nt.readCode(a,g,y);g+=y;let A=Nt.getCharacter(p,E);A.startsWith("CTRL_")?(d=p,p=Nt.getTable(A.charAt(5)),A.charAt(6)==="L"&&(d=p)):(x+=A,p=d)}return x}static getTable(a){switch(a){case"L":return Xt.LOWER;case"P":return Xt.PUNCT;case"M":return Xt.MIXED;case"D":return Xt.DIGIT;case"B":return Xt.BINARY;case"U":default:return Xt.UPPER}}static getCharacter(a,c){switch(a){case Xt.UPPER:return Nt.UPPER_TABLE[c];case Xt.LOWER:return Nt.LOWER_TABLE[c];case Xt.MIXED:return Nt.MIXED_TABLE[c];case Xt.PUNCT:return Nt.PUNCT_TABLE[c];case Xt.DIGIT:return Nt.DIGIT_TABLE[c];default:throw new Wr("Bad table")}}correctBits(a){let c,d;this.ddata.getNbLayers()<=2?(d=6,c=Ge.AZTEC_DATA_6):this.ddata.getNbLayers()<=8?(d=8,c=Ge.AZTEC_DATA_8):this.ddata.getNbLayers()<=22?(d=10,c=Ge.AZTEC_DATA_10):(d=12,c=Ge.AZTEC_DATA_12);let p=this.ddata.getNbDatablocks(),x=a.length/d;if(x<p)throw new M;let g=a.length%d,y=new Int32Array(x);for(let L=0;L<x;L++,g+=d)y[L]=Nt.readCode(a,g,d);try{new xi(c).decode(y,x-p)}catch(L){throw new M(L)}let E=(1<<d)-1,A=0;for(let L=0;L<p;L++){let z=y[L];if(z===0||z===E)throw new M;(z===1||z===E-1)&&A++}let O=new Array(p*d-A),j=0;for(let L=0;L<p;L++){let z=y[L];if(z===1||z===E-1)O.fill(z>1,j,j+d-1),j+=d-1;else for(let W=d-1;W>=0;--W)O[j++]=(z&1<<W)!==0}return O}extractBits(a){let c=this.ddata.isCompact(),d=this.ddata.getNbLayers(),p=(c?11:14)+d*4,x=new Int32Array(p),g=new Array(this.totalBitsInLayer(d,c));if(c)for(let y=0;y<x.length;y++)x[y]=y;else{let y=p+1+2*T.truncDivision(T.truncDivision(p,2)-1,15),E=p/2,A=T.truncDivision(y,2);for(let O=0;O<E;O++){let j=O+T.truncDivision(O,15);x[E-O-1]=A-j-1,x[E+O]=A+j+1}}for(let y=0,E=0;y<d;y++){let A=(d-y)*4+(c?9:12),O=y*2,j=p-1-O;for(let L=0;L<A;L++){let z=L*2;for(let W=0;W<2;W++)g[E+z+W]=a.get(x[O+W],x[O+L]),g[E+2*A+z+W]=a.get(x[O+L],x[j-W]),g[E+4*A+z+W]=a.get(x[j-W],x[j-L]),g[E+6*A+z+W]=a.get(x[j-L],x[O+W])}E+=A*8}return g}static readCode(a,c,d){let p=0;for(let x=c;x<c+d;x++)p<<=1,a[x]&&(p|=1);return p}static readByte(a,c){let d=a.length-c;return d>=8?Nt.readCode(a,c,8):Nt.readCode(a,c,d)<<8-d}static convertBoolArrayToByteArray(a){let c=new Uint8Array((a.length+7)/8);for(let d=0;d<c.length;d++)c[d]=Nt.readByte(a,8*d);return c}totalBitsInLayer(a,c){return((c?88:112)+16*a)*a}}Nt.UPPER_TABLE=["CTRL_PS"," ","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","CTRL_LL","CTRL_ML","CTRL_DL","CTRL_BS"],Nt.LOWER_TABLE=["CTRL_PS"," ","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","CTRL_US","CTRL_ML","CTRL_DL","CTRL_BS"],Nt.MIXED_TABLE=["CTRL_PS"," ","\\1","\\2","\\3","\\4","\\5","\\6","\\7","\b","	",`
`,"\\13","\f","\r","\\33","\\34","\\35","\\36","\\37","@","\\","^","_","`","|","~","\\177","CTRL_LL","CTRL_UL","CTRL_PL","CTRL_BS"],Nt.PUNCT_TABLE=["","\r",`\r
`,". ",", ",": ","!",'"',"#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","[","]","{","}","CTRL_UL"],Nt.DIGIT_TABLE=["CTRL_PS"," ","0","1","2","3","4","5","6","7","8","9",",",".","CTRL_UL","CTRL_US"];class Je{constructor(){}static round(a){return a===NaN?0:a<=Number.MIN_SAFE_INTEGER?Number.MIN_SAFE_INTEGER:a>=Number.MAX_SAFE_INTEGER?Number.MAX_SAFE_INTEGER:a+(a<0?-.5:.5)|0}static distance(a,c,d,p){const x=a-d,g=c-p;return Math.sqrt(x*x+g*g)}static sum(a){let c=0;for(let d=0,p=a.length;d!==p;d++){const x=a[d];c+=x}return c}}class _u{static floatToIntBits(a){return a}}_u.MAX_VALUE=Number.MAX_SAFE_INTEGER;class Oe{constructor(a,c){this.x=a,this.y=c}getX(){return this.x}getY(){return this.y}equals(a){if(a instanceof Oe){const c=a;return this.x===c.x&&this.y===c.y}return!1}hashCode(){return 31*_u.floatToIntBits(this.x)+_u.floatToIntBits(this.y)}toString(){return"("+this.x+","+this.y+")"}static orderBestPatterns(a){const c=this.distance(a[0],a[1]),d=this.distance(a[1],a[2]),p=this.distance(a[0],a[2]);let x,g,y;if(d>=c&&d>=p?(g=a[0],x=a[1],y=a[2]):p>=d&&p>=c?(g=a[1],x=a[0],y=a[2]):(g=a[2],x=a[0],y=a[1]),this.crossProductZ(x,g,y)<0){const E=x;x=y,y=E}a[0]=x,a[1]=g,a[2]=y}static distance(a,c){return Je.distance(a.x,a.y,c.x,c.y)}static crossProductZ(a,c,d){const p=c.x,x=c.y;return(d.x-p)*(a.y-x)-(d.y-x)*(a.x-p)}}class Iu{constructor(a,c){this.bits=a,this.points=c}getBits(){return this.bits}getPoints(){return this.points}}class Yg extends Iu{constructor(a,c,d,p,x){super(a,c),this.compact=d,this.nbDatablocks=p,this.nbLayers=x}getNbLayers(){return this.nbLayers}getNbDatablocks(){return this.nbDatablocks}isCompact(){return this.compact}}class ds{constructor(a,c,d,p){this.image=a,this.height=a.getHeight(),this.width=a.getWidth(),c==null&&(c=ds.INIT_SIZE),d==null&&(d=a.getWidth()/2|0),p==null&&(p=a.getHeight()/2|0);const x=c/2|0;if(this.leftInit=d-x,this.rightInit=d+x,this.upInit=p-x,this.downInit=p+x,this.upInit<0||this.leftInit<0||this.downInit>=this.height||this.rightInit>=this.width)throw new G}detect(){let a=this.leftInit,c=this.rightInit,d=this.upInit,p=this.downInit,x=!1,g=!0,y=!1,E=!1,A=!1,O=!1,j=!1;const L=this.width,z=this.height;for(;g;){g=!1;let W=!0;for(;(W||!E)&&c<L;)W=this.containsBlackPoint(d,p,c,!1),W?(c++,g=!0,E=!0):E||c++;if(c>=L){x=!0;break}let $=!0;for(;($||!A)&&p<z;)$=this.containsBlackPoint(a,c,p,!0),$?(p++,g=!0,A=!0):A||p++;if(p>=z){x=!0;break}let q=!0;for(;(q||!O)&&a>=0;)q=this.containsBlackPoint(d,p,a,!1),q?(a--,g=!0,O=!0):O||a--;if(a<0){x=!0;break}let re=!0;for(;(re||!j)&&d>=0;)re=this.containsBlackPoint(a,c,d,!0),re?(d--,g=!0,j=!0):j||d--;if(d<0){x=!0;break}g&&(y=!0)}if(!x&&y){const W=c-a;let $=null;for(let ge=1;$===null&&ge<W;ge++)$=this.getBlackPointOnSegment(a,p-ge,a+ge,p);if($==null)throw new G;let q=null;for(let ge=1;q===null&&ge<W;ge++)q=this.getBlackPointOnSegment(a,d+ge,a+ge,d);if(q==null)throw new G;let re=null;for(let ge=1;re===null&&ge<W;ge++)re=this.getBlackPointOnSegment(c,d+ge,c-ge,d);if(re==null)throw new G;let pe=null;for(let ge=1;pe===null&&ge<W;ge++)pe=this.getBlackPointOnSegment(c,p-ge,c-ge,p);if(pe==null)throw new G;return this.centerEdges(pe,$,re,q)}else throw new G}getBlackPointOnSegment(a,c,d,p){const x=Je.round(Je.distance(a,c,d,p)),g=(d-a)/x,y=(p-c)/x,E=this.image;for(let A=0;A<x;A++){const O=Je.round(a+A*g),j=Je.round(c+A*y);if(E.get(O,j))return new Oe(O,j)}return null}centerEdges(a,c,d,p){const x=a.getX(),g=a.getY(),y=c.getX(),E=c.getY(),A=d.getX(),O=d.getY(),j=p.getX(),L=p.getY(),z=ds.CORR;return x<this.width/2?[new Oe(j-z,L+z),new Oe(y+z,E+z),new Oe(A-z,O-z),new Oe(x+z,g-z)]:[new Oe(j+z,L+z),new Oe(y+z,E-z),new Oe(A-z,O+z),new Oe(x-z,g-z)]}containsBlackPoint(a,c,d,p){const x=this.image;if(p){for(let g=a;g<=c;g++)if(x.get(g,d))return!0}else for(let g=a;g<=c;g++)if(x.get(d,g))return!0;return!1}}ds.INIT_SIZE=10,ds.CORR=1;class b0{static checkAndNudgePoints(a,c){const d=a.getWidth(),p=a.getHeight();let x=!0;for(let g=0;g<c.length&&x;g+=2){const y=Math.floor(c[g]),E=Math.floor(c[g+1]);if(y<-1||y>d||E<-1||E>p)throw new G;x=!1,y===-1?(c[g]=0,x=!0):y===d&&(c[g]=d-1,x=!0),E===-1?(c[g+1]=0,x=!0):E===p&&(c[g+1]=p-1,x=!0)}x=!0;for(let g=c.length-2;g>=0&&x;g-=2){const y=Math.floor(c[g]),E=Math.floor(c[g+1]);if(y<-1||y>d||E<-1||E>p)throw new G;x=!1,y===-1?(c[g]=0,x=!0):y===d&&(c[g]=d-1,x=!0),E===-1?(c[g+1]=0,x=!0):E===p&&(c[g+1]=p-1,x=!0)}}}class gi{constructor(a,c,d,p,x,g,y,E,A){this.a11=a,this.a21=c,this.a31=d,this.a12=p,this.a22=x,this.a32=g,this.a13=y,this.a23=E,this.a33=A}static quadrilateralToQuadrilateral(a,c,d,p,x,g,y,E,A,O,j,L,z,W,$,q){const re=gi.quadrilateralToSquare(a,c,d,p,x,g,y,E);return gi.squareToQuadrilateral(A,O,j,L,z,W,$,q).times(re)}transformPoints(a){const c=a.length,d=this.a11,p=this.a12,x=this.a13,g=this.a21,y=this.a22,E=this.a23,A=this.a31,O=this.a32,j=this.a33;for(let L=0;L<c;L+=2){const z=a[L],W=a[L+1],$=x*z+E*W+j;a[L]=(d*z+g*W+A)/$,a[L+1]=(p*z+y*W+O)/$}}transformPointsWithValues(a,c){const d=this.a11,p=this.a12,x=this.a13,g=this.a21,y=this.a22,E=this.a23,A=this.a31,O=this.a32,j=this.a33,L=a.length;for(let z=0;z<L;z++){const W=a[z],$=c[z],q=x*W+E*$+j;a[z]=(d*W+g*$+A)/q,c[z]=(p*W+y*$+O)/q}}static squareToQuadrilateral(a,c,d,p,x,g,y,E){const A=a-d+x-y,O=c-p+g-E;if(A===0&&O===0)return new gi(d-a,x-d,a,p-c,g-p,c,0,0,1);{const j=d-x,L=y-x,z=p-g,W=E-g,$=j*W-L*z,q=(A*W-L*O)/$,re=(j*O-A*z)/$;return new gi(d-a+q*d,y-a+re*y,a,p-c+q*p,E-c+re*E,c,q,re,1)}}static quadrilateralToSquare(a,c,d,p,x,g,y,E){return gi.squareToQuadrilateral(a,c,d,p,x,g,y,E).buildAdjoint()}buildAdjoint(){return new gi(this.a22*this.a33-this.a23*this.a32,this.a23*this.a31-this.a21*this.a33,this.a21*this.a32-this.a22*this.a31,this.a13*this.a32-this.a12*this.a33,this.a11*this.a33-this.a13*this.a31,this.a12*this.a31-this.a11*this.a32,this.a12*this.a23-this.a13*this.a22,this.a13*this.a21-this.a11*this.a23,this.a11*this.a22-this.a12*this.a21)}times(a){return new gi(this.a11*a.a11+this.a21*a.a12+this.a31*a.a13,this.a11*a.a21+this.a21*a.a22+this.a31*a.a23,this.a11*a.a31+this.a21*a.a32+this.a31*a.a33,this.a12*a.a11+this.a22*a.a12+this.a32*a.a13,this.a12*a.a21+this.a22*a.a22+this.a32*a.a23,this.a12*a.a31+this.a22*a.a32+this.a32*a.a33,this.a13*a.a11+this.a23*a.a12+this.a33*a.a13,this.a13*a.a21+this.a23*a.a22+this.a33*a.a23,this.a13*a.a31+this.a23*a.a32+this.a33*a.a33)}}class $g extends b0{sampleGrid(a,c,d,p,x,g,y,E,A,O,j,L,z,W,$,q,re,pe,ge){const fe=gi.quadrilateralToQuadrilateral(p,x,g,y,E,A,O,j,L,z,W,$,q,re,pe,ge);return this.sampleGridWithTransform(a,c,d,fe)}sampleGridWithTransform(a,c,d,p){if(c<=0||d<=0)throw new G;const x=new K(c,d),g=new Float32Array(2*c);for(let y=0;y<d;y++){const E=g.length,A=y+.5;for(let O=0;O<E;O+=2)g[O]=O/2+.5,g[O+1]=A;p.transformPoints(g),b0.checkAndNudgePoints(a,g);try{for(let O=0;O<E;O+=2)a.get(Math.floor(g[O]),Math.floor(g[O+1]))&&x.set(O/2,y)}catch{throw new G}}return x}}class Os{static setGridSampler(a){Os.gridSampler=a}static getInstance(){return Os.gridSampler}}Os.gridSampler=new $g;class an{constructor(a,c){this.x=a,this.y=c}toResultPoint(){return new Oe(this.getX(),this.getY())}getX(){return this.x}getY(){return this.y}}class Kg{constructor(a){this.EXPECTED_CORNER_BITS=new Int32Array([3808,476,2107,1799]),this.image=a}detect(){return this.detectMirror(!1)}detectMirror(a){let c=this.getMatrixCenter(),d=this.getBullsEyeCorners(c);if(a){let g=d[0];d[0]=d[2],d[2]=g}this.extractParameters(d);let p=this.sampleGrid(this.image,d[this.shift%4],d[(this.shift+1)%4],d[(this.shift+2)%4],d[(this.shift+3)%4]),x=this.getMatrixCornerPoints(d);return new Yg(p,x,this.compact,this.nbDataBlocks,this.nbLayers)}extractParameters(a){if(!this.isValidPoint(a[0])||!this.isValidPoint(a[1])||!this.isValidPoint(a[2])||!this.isValidPoint(a[3]))throw new G;let c=2*this.nbCenterLayers,d=new Int32Array([this.sampleLine(a[0],a[1],c),this.sampleLine(a[1],a[2],c),this.sampleLine(a[2],a[3],c),this.sampleLine(a[3],a[0],c)]);this.shift=this.getRotation(d,c);let p=0;for(let g=0;g<4;g++){let y=d[(this.shift+g)%4];this.compact?(p<<=7,p+=y>>1&127):(p<<=10,p+=(y>>2&992)+(y>>1&31))}let x=this.getCorrectedParameterData(p,this.compact);this.compact?(this.nbLayers=(x>>6)+1,this.nbDataBlocks=(x&63)+1):(this.nbLayers=(x>>11)+1,this.nbDataBlocks=(x&2047)+1)}getRotation(a,c){let d=0;a.forEach((p,x,g)=>{let y=(p>>c-2<<1)+(p&1);d=(d<<3)+y}),d=((d&1)<<11)+(d>>1);for(let p=0;p<4;p++)if(T.bitCount(d^this.EXPECTED_CORNER_BITS[p])<=2)return p;throw new G}getCorrectedParameterData(a,c){let d,p;c?(d=7,p=2):(d=10,p=4);let x=d-p,g=new Int32Array(d);for(let E=d-1;E>=0;--E)g[E]=a&15,a>>=4;try{new xi(Ge.AZTEC_PARAM).decode(g,x)}catch{throw new G}let y=0;for(let E=0;E<p;E++)y=(y<<4)+g[E];return y}getBullsEyeCorners(a){let c=a,d=a,p=a,x=a,g=!0;for(this.nbCenterLayers=1;this.nbCenterLayers<9;this.nbCenterLayers++){let j=this.getFirstDifferent(c,g,1,-1),L=this.getFirstDifferent(d,g,1,1),z=this.getFirstDifferent(p,g,-1,1),W=this.getFirstDifferent(x,g,-1,-1);if(this.nbCenterLayers>2){let $=this.distancePoint(W,j)*this.nbCenterLayers/(this.distancePoint(x,c)*(this.nbCenterLayers+2));if($<.75||$>1.25||!this.isWhiteOrBlackRectangle(j,L,z,W))break}c=j,d=L,p=z,x=W,g=!g}if(this.nbCenterLayers!==5&&this.nbCenterLayers!==7)throw new G;this.compact=this.nbCenterLayers===5;let y=new Oe(c.getX()+.5,c.getY()-.5),E=new Oe(d.getX()+.5,d.getY()+.5),A=new Oe(p.getX()-.5,p.getY()+.5),O=new Oe(x.getX()-.5,x.getY()-.5);return this.expandSquare([y,E,A,O],2*this.nbCenterLayers-3,2*this.nbCenterLayers)}getMatrixCenter(){let a,c,d,p;try{let y=new ds(this.image).detect();a=y[0],c=y[1],d=y[2],p=y[3]}catch{let E=this.image.getWidth()/2,A=this.image.getHeight()/2;a=this.getFirstDifferent(new an(E+7,A-7),!1,1,-1).toResultPoint(),c=this.getFirstDifferent(new an(E+7,A+7),!1,1,1).toResultPoint(),d=this.getFirstDifferent(new an(E-7,A+7),!1,-1,1).toResultPoint(),p=this.getFirstDifferent(new an(E-7,A-7),!1,-1,-1).toResultPoint()}let x=Je.round((a.getX()+p.getX()+c.getX()+d.getX())/4),g=Je.round((a.getY()+p.getY()+c.getY()+d.getY())/4);try{let y=new ds(this.image,15,x,g).detect();a=y[0],c=y[1],d=y[2],p=y[3]}catch{a=this.getFirstDifferent(new an(x+7,g-7),!1,1,-1).toResultPoint(),c=this.getFirstDifferent(new an(x+7,g+7),!1,1,1).toResultPoint(),d=this.getFirstDifferent(new an(x-7,g+7),!1,-1,1).toResultPoint(),p=this.getFirstDifferent(new an(x-7,g-7),!1,-1,-1).toResultPoint()}return x=Je.round((a.getX()+p.getX()+c.getX()+d.getX())/4),g=Je.round((a.getY()+p.getY()+c.getY()+d.getY())/4),new an(x,g)}getMatrixCornerPoints(a){return this.expandSquare(a,2*this.nbCenterLayers,this.getDimension())}sampleGrid(a,c,d,p,x){let g=Os.getInstance(),y=this.getDimension(),E=y/2-this.nbCenterLayers,A=y/2+this.nbCenterLayers;return g.sampleGrid(a,y,y,E,E,A,E,A,A,E,A,c.getX(),c.getY(),d.getX(),d.getY(),p.getX(),p.getY(),x.getX(),x.getY())}sampleLine(a,c,d){let p=0,x=this.distanceResultPoint(a,c),g=x/d,y=a.getX(),E=a.getY(),A=g*(c.getX()-a.getX())/x,O=g*(c.getY()-a.getY())/x;for(let j=0;j<d;j++)this.image.get(Je.round(y+j*A),Je.round(E+j*O))&&(p|=1<<d-j-1);return p}isWhiteOrBlackRectangle(a,c,d,p){let x=3;a=new an(a.getX()-x,a.getY()+x),c=new an(c.getX()-x,c.getY()-x),d=new an(d.getX()+x,d.getY()-x),p=new an(p.getX()+x,p.getY()+x);let g=this.getColor(p,a);if(g===0)return!1;let y=this.getColor(a,c);return y!==g||(y=this.getColor(c,d),y!==g)?!1:(y=this.getColor(d,p),y===g)}getColor(a,c){let d=this.distancePoint(a,c),p=(c.getX()-a.getX())/d,x=(c.getY()-a.getY())/d,g=0,y=a.getX(),E=a.getY(),A=this.image.get(a.getX(),a.getY()),O=Math.ceil(d);for(let L=0;L<O;L++)y+=p,E+=x,this.image.get(Je.round(y),Je.round(E))!==A&&g++;let j=g/d;return j>.1&&j<.9?0:j<=.1===A?1:-1}getFirstDifferent(a,c,d,p){let x=a.getX()+d,g=a.getY()+p;for(;this.isValid(x,g)&&this.image.get(x,g)===c;)x+=d,g+=p;for(x-=d,g-=p;this.isValid(x,g)&&this.image.get(x,g)===c;)x+=d;for(x-=d;this.isValid(x,g)&&this.image.get(x,g)===c;)g+=p;return g-=p,new an(x,g)}expandSquare(a,c,d){let p=d/(2*c),x=a[0].getX()-a[2].getX(),g=a[0].getY()-a[2].getY(),y=(a[0].getX()+a[2].getX())/2,E=(a[0].getY()+a[2].getY())/2,A=new Oe(y+p*x,E+p*g),O=new Oe(y-p*x,E-p*g);x=a[1].getX()-a[3].getX(),g=a[1].getY()-a[3].getY(),y=(a[1].getX()+a[3].getX())/2,E=(a[1].getY()+a[3].getY())/2;let j=new Oe(y+p*x,E+p*g),L=new Oe(y-p*x,E-p*g);return[A,j,O,L]}isValid(a,c){return a>=0&&a<this.image.getWidth()&&c>0&&c<this.image.getHeight()}isValidPoint(a){let c=Je.round(a.getX()),d=Je.round(a.getY());return this.isValid(c,d)}distancePoint(a,c){return Je.distance(a.getX(),a.getY(),c.getX(),c.getY())}distanceResultPoint(a,c){return Je.distance(a.getX(),a.getY(),c.getX(),c.getY())}getDimension(){return this.compact?4*this.nbLayers+11:this.nbLayers<=4?4*this.nbLayers+15:4*this.nbLayers+2*(T.truncDivision(this.nbLayers-4,8)+1)+15}}class Tu{decode(a,c=null){let d=null,p=new Kg(a.getBlackMatrix()),x=null,g=null;try{let O=p.detectMirror(!1);x=O.getPoints(),this.reportFoundResultPoints(c,x),g=new Nt().decode(O)}catch(O){d=O}if(g==null)try{let O=p.detectMirror(!0);x=O.getPoints(),this.reportFoundResultPoints(c,x),g=new Nt().decode(O)}catch(O){throw d??O}let y=new it(g.getText(),g.getRawBytes(),g.getNumBits(),x,Se.AZTEC,b.currentTimeMillis()),E=g.getByteSegments();E!=null&&y.putMetadata(We.BYTE_SEGMENTS,E);let A=g.getECLevel();return A!=null&&y.putMetadata(We.ERROR_CORRECTION_LEVEL,A),y}reportFoundResultPoints(a,c){if(a!=null){let d=a.get(k.NEED_RESULT_POINT_CALLBACK);d!=null&&c.forEach((p,x,g)=>{d.foundPossibleResultPoint(p)})}}reset(){}}class Eb extends Pt{constructor(a=500){super(new Tu,a)}}class dr{decode(a,c){try{return this.doDecode(a,c)}catch{if(c&&c.get(k.TRY_HARDER)===!0&&a.isRotateSupported()){const x=a.rotateCounterClockwise(),g=this.doDecode(x,c),y=g.getResultMetadata();let E=270;y!==null&&y.get(We.ORIENTATION)===!0&&(E=E+y.get(We.ORIENTATION)%360),g.putMetadata(We.ORIENTATION,E);const A=g.getResultPoints();if(A!==null){const O=x.getHeight();for(let j=0;j<A.length;j++)A[j]=new Oe(O-A[j].getY()-1,A[j].getX())}return g}else throw new G}}reset(){}doDecode(a,c){const d=a.getWidth(),p=a.getHeight();let x=new P(d);const g=c&&c.get(k.TRY_HARDER)===!0,y=Math.max(1,p>>(g?8:5));let E;g?E=p:E=15;const A=Math.trunc(p/2);for(let O=0;O<E;O++){const j=Math.trunc((O+1)/2),L=(O&1)===0,z=A+y*(L?j:-j);if(z<0||z>=p)break;try{x=a.getBlackRow(z,x)}catch{continue}for(let W=0;W<2;W++){if(W===1&&(x.reverse(),c&&c.get(k.NEED_RESULT_POINT_CALLBACK)===!0)){const $=new Map;c.forEach((q,re)=>$.set(re,q)),$.delete(k.NEED_RESULT_POINT_CALLBACK),c=$}try{const $=this.decodeRow(z,x,c);if(W===1){$.putMetadata(We.ORIENTATION,180);const q=$.getResultPoints();q!==null&&(q[0]=new Oe(d-q[0].getX()-1,q[0].getY()),q[1]=new Oe(d-q[1].getX()-1,q[1].getY()))}return $}catch{}}}throw new G}static recordPattern(a,c,d){const p=d.length;for(let A=0;A<p;A++)d[A]=0;const x=a.getSize();if(c>=x)throw new G;let g=!a.get(c),y=0,E=c;for(;E<x;){if(a.get(E)!==g)d[y]++;else{if(++y===p)break;d[y]=1,g=!g}E++}if(!(y===p||y===p-1&&E===x))throw new G}static recordPatternInReverse(a,c,d){let p=d.length,x=a.get(c);for(;c>0&&p>=0;)a.get(--c)!==x&&(p--,x=!x);if(p>=0)throw new G;dr.recordPattern(a,c+1,d)}static patternMatchVariance(a,c,d){const p=a.length;let x=0,g=0;for(let A=0;A<p;A++)x+=a[A],g+=c[A];if(x<g)return Number.POSITIVE_INFINITY;const y=x/g;d*=y;let E=0;for(let A=0;A<p;A++){const O=a[A],j=c[A]*y,L=O>j?O-j:j-O;if(L>d)return Number.POSITIVE_INFINITY;E+=L}return E/x}}class Ce extends dr{static findStartPattern(a){const c=a.getSize(),d=a.getNextSet(0);let p=0,x=Int32Array.from([0,0,0,0,0,0]),g=d,y=!1;const E=6;for(let A=d;A<c;A++)if(a.get(A)!==y)x[p]++;else{if(p===E-1){let O=Ce.MAX_AVG_VARIANCE,j=-1;for(let L=Ce.CODE_START_A;L<=Ce.CODE_START_C;L++){const z=dr.patternMatchVariance(x,Ce.CODE_PATTERNS[L],Ce.MAX_INDIVIDUAL_VARIANCE);z<O&&(O=z,j=L)}if(j>=0&&a.isRange(Math.max(0,g-(A-g)/2),g,!1))return Int32Array.from([g,A,j]);g+=x[0]+x[1],x=x.slice(2,x.length-1),x[p-1]=0,x[p]=0,p--}else p++;x[p]=1,y=!y}throw new G}static decodeCode(a,c,d){dr.recordPattern(a,d,c);let p=Ce.MAX_AVG_VARIANCE,x=-1;for(let g=0;g<Ce.CODE_PATTERNS.length;g++){const y=Ce.CODE_PATTERNS[g],E=this.patternMatchVariance(c,y,Ce.MAX_INDIVIDUAL_VARIANCE);E<p&&(p=E,x=g)}if(x>=0)return x;throw new G}decodeRow(a,c,d){const p=d&&d.get(k.ASSUME_GS1)===!0,x=Ce.findStartPattern(c),g=x[2];let y=0;const E=new Uint8Array(20);E[y++]=g;let A;switch(g){case Ce.CODE_START_A:A=Ce.CODE_CODE_A;break;case Ce.CODE_START_B:A=Ce.CODE_CODE_B;break;case Ce.CODE_START_C:A=Ce.CODE_CODE_C;break;default:throw new M}let O=!1,j=!1,L="",z=x[0],W=x[1];const $=Int32Array.from([0,0,0,0,0,0]);let q=0,re=0,pe=g,ge=0,fe=!0,rt=!1,Ye=!1;for(;!O;){const Io=j;switch(j=!1,q=re,re=Ce.decodeCode(c,$,W),E[y++]=re,re!==Ce.CODE_STOP&&(fe=!0),re!==Ce.CODE_STOP&&(ge++,pe+=ge*re),z=W,W+=$.reduce((qb,Qb)=>qb+Qb,0),re){case Ce.CODE_START_A:case Ce.CODE_START_B:case Ce.CODE_START_C:throw new M}switch(A){case Ce.CODE_CODE_A:if(re<64)Ye===rt?L+=String.fromCharCode(32+re):L+=String.fromCharCode(32+re+128),Ye=!1;else if(re<96)Ye===rt?L+=String.fromCharCode(re-64):L+=String.fromCharCode(re+64),Ye=!1;else switch(re!==Ce.CODE_STOP&&(fe=!1),re){case Ce.CODE_FNC_1:p&&(L.length===0?L+="]C1":L+="");break;case Ce.CODE_FNC_2:case Ce.CODE_FNC_3:break;case Ce.CODE_FNC_4_A:!rt&&Ye?(rt=!0,Ye=!1):rt&&Ye?(rt=!1,Ye=!1):Ye=!0;break;case Ce.CODE_SHIFT:j=!0,A=Ce.CODE_CODE_B;break;case Ce.CODE_CODE_B:A=Ce.CODE_CODE_B;break;case Ce.CODE_CODE_C:A=Ce.CODE_CODE_C;break;case Ce.CODE_STOP:O=!0;break}break;case Ce.CODE_CODE_B:if(re<96)Ye===rt?L+=String.fromCharCode(32+re):L+=String.fromCharCode(32+re+128),Ye=!1;else switch(re!==Ce.CODE_STOP&&(fe=!1),re){case Ce.CODE_FNC_1:p&&(L.length===0?L+="]C1":L+="");break;case Ce.CODE_FNC_2:case Ce.CODE_FNC_3:break;case Ce.CODE_FNC_4_B:!rt&&Ye?(rt=!0,Ye=!1):rt&&Ye?(rt=!1,Ye=!1):Ye=!0;break;case Ce.CODE_SHIFT:j=!0,A=Ce.CODE_CODE_A;break;case Ce.CODE_CODE_A:A=Ce.CODE_CODE_A;break;case Ce.CODE_CODE_C:A=Ce.CODE_CODE_C;break;case Ce.CODE_STOP:O=!0;break}break;case Ce.CODE_CODE_C:if(re<100)re<10&&(L+="0"),L+=re;else switch(re!==Ce.CODE_STOP&&(fe=!1),re){case Ce.CODE_FNC_1:p&&(L.length===0?L+="]C1":L+="");break;case Ce.CODE_CODE_A:A=Ce.CODE_CODE_A;break;case Ce.CODE_CODE_B:A=Ce.CODE_CODE_B;break;case Ce.CODE_STOP:O=!0;break}break}Io&&(A=A===Ce.CODE_CODE_A?Ce.CODE_CODE_B:Ce.CODE_CODE_A)}const En=W-z;if(W=c.getNextUnset(W),!c.isRange(W,Math.min(c.getSize(),W+(W-z)/2),!1))throw new G;if(pe-=ge*q,pe%103!==q)throw new C;const vi=L.length;if(vi===0)throw new G;vi>0&&fe&&(A===Ce.CODE_CODE_C?L=L.substring(0,vi-2):L=L.substring(0,vi-1));const An=(x[1]+x[0])/2,Ot=z+En/2,Lr=E.length,kn=new Uint8Array(Lr);for(let Io=0;Io<Lr;Io++)kn[Io]=E[Io];const _o=[new Oe(An,a),new Oe(Ot,a)];return new it(L,kn,0,_o,Se.CODE_128,new Date().getTime())}}Ce.CODE_PATTERNS=[Int32Array.from([2,1,2,2,2,2]),Int32Array.from([2,2,2,1,2,2]),Int32Array.from([2,2,2,2,2,1]),Int32Array.from([1,2,1,2,2,3]),Int32Array.from([1,2,1,3,2,2]),Int32Array.from([1,3,1,2,2,2]),Int32Array.from([1,2,2,2,1,3]),Int32Array.from([1,2,2,3,1,2]),Int32Array.from([1,3,2,2,1,2]),Int32Array.from([2,2,1,2,1,3]),Int32Array.from([2,2,1,3,1,2]),Int32Array.from([2,3,1,2,1,2]),Int32Array.from([1,1,2,2,3,2]),Int32Array.from([1,2,2,1,3,2]),Int32Array.from([1,2,2,2,3,1]),Int32Array.from([1,1,3,2,2,2]),Int32Array.from([1,2,3,1,2,2]),Int32Array.from([1,2,3,2,2,1]),Int32Array.from([2,2,3,2,1,1]),Int32Array.from([2,2,1,1,3,2]),Int32Array.from([2,2,1,2,3,1]),Int32Array.from([2,1,3,2,1,2]),Int32Array.from([2,2,3,1,1,2]),Int32Array.from([3,1,2,1,3,1]),Int32Array.from([3,1,1,2,2,2]),Int32Array.from([3,2,1,1,2,2]),Int32Array.from([3,2,1,2,2,1]),Int32Array.from([3,1,2,2,1,2]),Int32Array.from([3,2,2,1,1,2]),Int32Array.from([3,2,2,2,1,1]),Int32Array.from([2,1,2,1,2,3]),Int32Array.from([2,1,2,3,2,1]),Int32Array.from([2,3,2,1,2,1]),Int32Array.from([1,1,1,3,2,3]),Int32Array.from([1,3,1,1,2,3]),Int32Array.from([1,3,1,3,2,1]),Int32Array.from([1,1,2,3,1,3]),Int32Array.from([1,3,2,1,1,3]),Int32Array.from([1,3,2,3,1,1]),Int32Array.from([2,1,1,3,1,3]),Int32Array.from([2,3,1,1,1,3]),Int32Array.from([2,3,1,3,1,1]),Int32Array.from([1,1,2,1,3,3]),Int32Array.from([1,1,2,3,3,1]),Int32Array.from([1,3,2,1,3,1]),Int32Array.from([1,1,3,1,2,3]),Int32Array.from([1,1,3,3,2,1]),Int32Array.from([1,3,3,1,2,1]),Int32Array.from([3,1,3,1,2,1]),Int32Array.from([2,1,1,3,3,1]),Int32Array.from([2,3,1,1,3,1]),Int32Array.from([2,1,3,1,1,3]),Int32Array.from([2,1,3,3,1,1]),Int32Array.from([2,1,3,1,3,1]),Int32Array.from([3,1,1,1,2,3]),Int32Array.from([3,1,1,3,2,1]),Int32Array.from([3,3,1,1,2,1]),Int32Array.from([3,1,2,1,1,3]),Int32Array.from([3,1,2,3,1,1]),Int32Array.from([3,3,2,1,1,1]),Int32Array.from([3,1,4,1,1,1]),Int32Array.from([2,2,1,4,1,1]),Int32Array.from([4,3,1,1,1,1]),Int32Array.from([1,1,1,2,2,4]),Int32Array.from([1,1,1,4,2,2]),Int32Array.from([1,2,1,1,2,4]),Int32Array.from([1,2,1,4,2,1]),Int32Array.from([1,4,1,1,2,2]),Int32Array.from([1,4,1,2,2,1]),Int32Array.from([1,1,2,2,1,4]),Int32Array.from([1,1,2,4,1,2]),Int32Array.from([1,2,2,1,1,4]),Int32Array.from([1,2,2,4,1,1]),Int32Array.from([1,4,2,1,1,2]),Int32Array.from([1,4,2,2,1,1]),Int32Array.from([2,4,1,2,1,1]),Int32Array.from([2,2,1,1,1,4]),Int32Array.from([4,1,3,1,1,1]),Int32Array.from([2,4,1,1,1,2]),Int32Array.from([1,3,4,1,1,1]),Int32Array.from([1,1,1,2,4,2]),Int32Array.from([1,2,1,1,4,2]),Int32Array.from([1,2,1,2,4,1]),Int32Array.from([1,1,4,2,1,2]),Int32Array.from([1,2,4,1,1,2]),Int32Array.from([1,2,4,2,1,1]),Int32Array.from([4,1,1,2,1,2]),Int32Array.from([4,2,1,1,1,2]),Int32Array.from([4,2,1,2,1,1]),Int32Array.from([2,1,2,1,4,1]),Int32Array.from([2,1,4,1,2,1]),Int32Array.from([4,1,2,1,2,1]),Int32Array.from([1,1,1,1,4,3]),Int32Array.from([1,1,1,3,4,1]),Int32Array.from([1,3,1,1,4,1]),Int32Array.from([1,1,4,1,1,3]),Int32Array.from([1,1,4,3,1,1]),Int32Array.from([4,1,1,1,1,3]),Int32Array.from([4,1,1,3,1,1]),Int32Array.from([1,1,3,1,4,1]),Int32Array.from([1,1,4,1,3,1]),Int32Array.from([3,1,1,1,4,1]),Int32Array.from([4,1,1,1,3,1]),Int32Array.from([2,1,1,4,1,2]),Int32Array.from([2,1,1,2,1,4]),Int32Array.from([2,1,1,2,3,2]),Int32Array.from([2,3,3,1,1,1,2])],Ce.MAX_AVG_VARIANCE=.25,Ce.MAX_INDIVIDUAL_VARIANCE=.7,Ce.CODE_SHIFT=98,Ce.CODE_CODE_C=99,Ce.CODE_CODE_B=100,Ce.CODE_CODE_A=101,Ce.CODE_FNC_1=102,Ce.CODE_FNC_2=97,Ce.CODE_FNC_3=96,Ce.CODE_FNC_4_A=101,Ce.CODE_FNC_4_B=100,Ce.CODE_START_A=103,Ce.CODE_START_B=104,Ce.CODE_START_C=105,Ce.CODE_STOP=106;class pr extends dr{constructor(a=!1,c=!1){super(),this.usingCheckDigit=a,this.extendedMode=c,this.decodeRowResult="",this.counters=new Int32Array(9)}decodeRow(a,c,d){let p=this.counters;p.fill(0),this.decodeRowResult="";let x=pr.findAsteriskPattern(c,p),g=c.getNextSet(x[1]),y=c.getSize(),E,A;do{pr.recordPattern(c,g,p);let $=pr.toNarrowWidePattern(p);if($<0)throw new G;E=pr.patternToChar($),this.decodeRowResult+=E,A=g;for(let q of p)g+=q;g=c.getNextSet(g)}while(E!=="*");this.decodeRowResult=this.decodeRowResult.substring(0,this.decodeRowResult.length-1);let O=0;for(let $ of p)O+=$;let j=g-A-O;if(g!==y&&j*2<O)throw new G;if(this.usingCheckDigit){let $=this.decodeRowResult.length-1,q=0;for(let re=0;re<$;re++)q+=pr.ALPHABET_STRING.indexOf(this.decodeRowResult.charAt(re));if(this.decodeRowResult.charAt($)!==pr.ALPHABET_STRING.charAt(q%43))throw new C;this.decodeRowResult=this.decodeRowResult.substring(0,$)}if(this.decodeRowResult.length===0)throw new G;let L;this.extendedMode?L=pr.decodeExtended(this.decodeRowResult):L=this.decodeRowResult;let z=(x[1]+x[0])/2,W=A+O/2;return new it(L,null,0,[new Oe(z,a),new Oe(W,a)],Se.CODE_39,new Date().getTime())}static findAsteriskPattern(a,c){let d=a.getSize(),p=a.getNextSet(0),x=0,g=p,y=!1,E=c.length;for(let A=p;A<d;A++)if(a.get(A)!==y)c[x]++;else{if(x===E-1){if(this.toNarrowWidePattern(c)===pr.ASTERISK_ENCODING&&a.isRange(Math.max(0,g-Math.floor((A-g)/2)),g,!1))return[g,A];g+=c[0]+c[1],c.copyWithin(0,2,2+x-1),c[x-1]=0,c[x]=0,x--}else x++;c[x]=1,y=!y}throw new G}static toNarrowWidePattern(a){let c=a.length,d=0,p;do{let x=2147483647;for(let E of a)E<x&&E>d&&(x=E);d=x,p=0;let g=0,y=0;for(let E=0;E<c;E++){let A=a[E];A>d&&(y|=1<<c-1-E,p++,g+=A)}if(p===3){for(let E=0;E<c&&p>0;E++){let A=a[E];if(A>d&&(p--,A*2>=g))return-1}return y}}while(p>3);return-1}static patternToChar(a){for(let c=0;c<pr.CHARACTER_ENCODINGS.length;c++)if(pr.CHARACTER_ENCODINGS[c]===a)return pr.ALPHABET_STRING.charAt(c);if(a===pr.ASTERISK_ENCODING)return"*";throw new G}static decodeExtended(a){let c=a.length,d="";for(let p=0;p<c;p++){let x=a.charAt(p);if(x==="+"||x==="$"||x==="%"||x==="/"){let g=a.charAt(p+1),y="\0";switch(x){case"+":if(g>="A"&&g<="Z")y=String.fromCharCode(g.charCodeAt(0)+32);else throw new M;break;case"$":if(g>="A"&&g<="Z")y=String.fromCharCode(g.charCodeAt(0)-64);else throw new M;break;case"%":if(g>="A"&&g<="E")y=String.fromCharCode(g.charCodeAt(0)-38);else if(g>="F"&&g<="J")y=String.fromCharCode(g.charCodeAt(0)-11);else if(g>="K"&&g<="O")y=String.fromCharCode(g.charCodeAt(0)+16);else if(g>="P"&&g<="T")y=String.fromCharCode(g.charCodeAt(0)+43);else if(g==="U")y="\0";else if(g==="V")y="@";else if(g==="W")y="`";else if(g==="X"||g==="Y"||g==="Z")y="";else throw new M;break;case"/":if(g>="A"&&g<="O")y=String.fromCharCode(g.charCodeAt(0)-32);else if(g==="Z")y=":";else throw new M;break}d+=y,p++}else d+=x}return d}}pr.ALPHABET_STRING="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ-. $/+%",pr.CHARACTER_ENCODINGS=[52,289,97,352,49,304,112,37,292,100,265,73,328,25,280,88,13,268,76,28,259,67,322,19,274,82,7,262,70,22,385,193,448,145,400,208,133,388,196,168,162,138,42],pr.ASTERISK_ENCODING=148;class Tt extends dr{constructor(){super(...arguments),this.narrowLineWidth=-1}decodeRow(a,c,d){let p=this.decodeStart(c),x=this.decodeEnd(c),g=new ae;Tt.decodeMiddle(c,p[1],x[0],g);let y=g.toString(),E=null;d!=null&&(E=d.get(k.ALLOWED_LENGTHS)),E==null&&(E=Tt.DEFAULT_ALLOWED_LENGTHS);let A=y.length,O=!1,j=0;for(let W of E){if(A===W){O=!0;break}W>j&&(j=W)}if(!O&&A>j&&(O=!0),!O)throw new M;const L=[new Oe(p[1],a),new Oe(x[0],a)];return new it(y,null,0,L,Se.ITF,new Date().getTime())}static decodeMiddle(a,c,d,p){let x=new Int32Array(10),g=new Int32Array(5),y=new Int32Array(5);for(x.fill(0),g.fill(0),y.fill(0);c<d;){dr.recordPattern(a,c,x);for(let A=0;A<5;A++){let O=2*A;g[A]=x[O],y[A]=x[O+1]}let E=Tt.decodeDigit(g);p.append(E.toString()),E=this.decodeDigit(y),p.append(E.toString()),x.forEach(function(A){c+=A})}}decodeStart(a){let c=Tt.skipWhiteSpace(a),d=Tt.findGuardPattern(a,c,Tt.START_PATTERN);return this.narrowLineWidth=(d[1]-d[0])/4,this.validateQuietZone(a,d[0]),d}validateQuietZone(a,c){let d=this.narrowLineWidth*10;d=d<c?d:c;for(let p=c-1;d>0&&p>=0&&!a.get(p);p--)d--;if(d!==0)throw new G}static skipWhiteSpace(a){const c=a.getSize(),d=a.getNextSet(0);if(d===c)throw new G;return d}decodeEnd(a){a.reverse();try{let c=Tt.skipWhiteSpace(a),d;try{d=Tt.findGuardPattern(a,c,Tt.END_PATTERN_REVERSED[0])}catch(x){x instanceof G&&(d=Tt.findGuardPattern(a,c,Tt.END_PATTERN_REVERSED[1]))}this.validateQuietZone(a,d[0]);let p=d[0];return d[0]=a.getSize()-d[1],d[1]=a.getSize()-p,d}finally{a.reverse()}}static findGuardPattern(a,c,d){let p=d.length,x=new Int32Array(p),g=a.getSize(),y=!1,E=0,A=c;x.fill(0);for(let O=c;O<g;O++)if(a.get(O)!==y)x[E]++;else{if(E===p-1){if(dr.patternMatchVariance(x,d,Tt.MAX_INDIVIDUAL_VARIANCE)<Tt.MAX_AVG_VARIANCE)return[A,O];A+=x[0]+x[1],b.arraycopy(x,2,x,0,E-1),x[E-1]=0,x[E]=0,E--}else E++;x[E]=1,y=!y}throw new G}static decodeDigit(a){let c=Tt.MAX_AVG_VARIANCE,d=-1,p=Tt.PATTERNS.length;for(let x=0;x<p;x++){let g=Tt.PATTERNS[x],y=dr.patternMatchVariance(a,g,Tt.MAX_INDIVIDUAL_VARIANCE);y<c?(c=y,d=x):y===c&&(d=-1)}if(d>=0)return d%10;throw new G}}Tt.PATTERNS=[Int32Array.from([1,1,2,2,1]),Int32Array.from([2,1,1,1,2]),Int32Array.from([1,2,1,1,2]),Int32Array.from([2,2,1,1,1]),Int32Array.from([1,1,2,1,2]),Int32Array.from([2,1,2,1,1]),Int32Array.from([1,2,2,1,1]),Int32Array.from([1,1,1,2,2]),Int32Array.from([2,1,1,2,1]),Int32Array.from([1,2,1,2,1]),Int32Array.from([1,1,3,3,1]),Int32Array.from([3,1,1,1,3]),Int32Array.from([1,3,1,1,3]),Int32Array.from([3,3,1,1,1]),Int32Array.from([1,1,3,1,3]),Int32Array.from([3,1,3,1,1]),Int32Array.from([1,3,3,1,1]),Int32Array.from([1,1,1,3,3]),Int32Array.from([3,1,1,3,1]),Int32Array.from([1,3,1,3,1])],Tt.MAX_AVG_VARIANCE=.38,Tt.MAX_INDIVIDUAL_VARIANCE=.5,Tt.DEFAULT_ALLOWED_LENGTHS=[6,8,10,12,14],Tt.START_PATTERN=Int32Array.from([1,1,1,1]),Tt.END_PATTERN_REVERSED=[Int32Array.from([1,1,2]),Int32Array.from([1,1,3])];class er extends dr{constructor(){super(...arguments),this.decodeRowStringBuffer=""}static findStartGuardPattern(a){let c=!1,d,p=0,x=Int32Array.from([0,0,0]);for(;!c;){x=Int32Array.from([0,0,0]),d=er.findGuardPattern(a,p,!1,this.START_END_PATTERN,x);let g=d[0];p=d[1];let y=g-(p-g);y>=0&&(c=a.isRange(y,g,!1))}return d}static checkChecksum(a){return er.checkStandardUPCEANChecksum(a)}static checkStandardUPCEANChecksum(a){let c=a.length;if(c===0)return!1;let d=parseInt(a.charAt(c-1),10);return er.getStandardUPCEANChecksum(a.substring(0,c-1))===d}static getStandardUPCEANChecksum(a){let c=a.length,d=0;for(let p=c-1;p>=0;p-=2){let x=a.charAt(p).charCodeAt(0)-48;if(x<0||x>9)throw new M;d+=x}d*=3;for(let p=c-2;p>=0;p-=2){let x=a.charAt(p).charCodeAt(0)-48;if(x<0||x>9)throw new M;d+=x}return(1e3-d)%10}static decodeEnd(a,c){return er.findGuardPattern(a,c,!1,er.START_END_PATTERN,new Int32Array(er.START_END_PATTERN.length).fill(0))}static findGuardPatternWithoutCounters(a,c,d,p){return this.findGuardPattern(a,c,d,p,new Int32Array(p.length))}static findGuardPattern(a,c,d,p,x){let g=a.getSize();c=d?a.getNextUnset(c):a.getNextSet(c);let y=0,E=c,A=p.length,O=d;for(let j=c;j<g;j++)if(a.get(j)!==O)x[y]++;else{if(y===A-1){if(dr.patternMatchVariance(x,p,er.MAX_INDIVIDUAL_VARIANCE)<er.MAX_AVG_VARIANCE)return Int32Array.from([E,j]);E+=x[0]+x[1];let L=x.slice(2,x.length-1);for(let z=0;z<y-1;z++)x[z]=L[z];x[y-1]=0,x[y]=0,y--}else y++;x[y]=1,O=!O}throw new G}static decodeDigit(a,c,d,p){this.recordPattern(a,d,c);let x=this.MAX_AVG_VARIANCE,g=-1,y=p.length;for(let E=0;E<y;E++){let A=p[E],O=dr.patternMatchVariance(c,A,er.MAX_INDIVIDUAL_VARIANCE);O<x&&(x=O,g=E)}if(g>=0)return g;throw new G}}er.MAX_AVG_VARIANCE=.48,er.MAX_INDIVIDUAL_VARIANCE=.7,er.START_END_PATTERN=Int32Array.from([1,1,1]),er.MIDDLE_PATTERN=Int32Array.from([1,1,1,1,1]),er.END_PATTERN=Int32Array.from([1,1,1,1,1,1]),er.L_PATTERNS=[Int32Array.from([3,2,1,1]),Int32Array.from([2,2,2,1]),Int32Array.from([2,1,2,2]),Int32Array.from([1,4,1,1]),Int32Array.from([1,1,3,2]),Int32Array.from([1,2,3,1]),Int32Array.from([1,1,1,4]),Int32Array.from([1,3,1,2]),Int32Array.from([1,2,1,3]),Int32Array.from([3,1,1,2])];class Kl{constructor(){this.CHECK_DIGIT_ENCODINGS=[24,20,18,17,12,6,3,10,9,5],this.decodeMiddleCounters=Int32Array.from([0,0,0,0]),this.decodeRowStringBuffer=""}decodeRow(a,c,d){let p=this.decodeRowStringBuffer,x=this.decodeMiddle(c,d,p),g=p.toString(),y=Kl.parseExtensionString(g),E=[new Oe((d[0]+d[1])/2,a),new Oe(x,a)],A=new it(g,null,0,E,Se.UPC_EAN_EXTENSION,new Date().getTime());return y!=null&&A.putAllMetadata(y),A}decodeMiddle(a,c,d){let p=this.decodeMiddleCounters;p[0]=0,p[1]=0,p[2]=0,p[3]=0;let x=a.getSize(),g=c[1],y=0;for(let A=0;A<5&&g<x;A++){let O=er.decodeDigit(a,p,g,er.L_AND_G_PATTERNS);d+=String.fromCharCode(48+O%10);for(let j of p)g+=j;O>=10&&(y|=1<<4-A),A!==4&&(g=a.getNextSet(g),g=a.getNextUnset(g))}if(d.length!==5)throw new G;let E=this.determineCheckDigit(y);if(Kl.extensionChecksum(d.toString())!==E)throw new G;return g}static extensionChecksum(a){let c=a.length,d=0;for(let p=c-2;p>=0;p-=2)d+=a.charAt(p).charCodeAt(0)-48;d*=3;for(let p=c-1;p>=0;p-=2)d+=a.charAt(p).charCodeAt(0)-48;return d*=3,d%10}determineCheckDigit(a){for(let c=0;c<10;c++)if(a===this.CHECK_DIGIT_ENCODINGS[c])return c;throw new G}static parseExtensionString(a){if(a.length!==5)return null;let c=Kl.parseExtension5String(a);return c==null?null:new Map([[We.SUGGESTED_PRICE,c]])}static parseExtension5String(a){let c;switch(a.charAt(0)){case"0":c="";break;case"5":c="$";break;case"9":switch(a){case"90000":return null;case"99991":return"0.00";case"99990":return"Used"}c="";break;default:c="";break}let d=parseInt(a.substring(1)),p=(d/100).toString(),x=d%100,g=x<10?"0"+x:x.toString();return c+p+"."+g}}class S0{constructor(){this.decodeMiddleCounters=Int32Array.from([0,0,0,0]),this.decodeRowStringBuffer=""}decodeRow(a,c,d){let p=this.decodeRowStringBuffer,x=this.decodeMiddle(c,d,p),g=p.toString(),y=S0.parseExtensionString(g),E=[new Oe((d[0]+d[1])/2,a),new Oe(x,a)],A=new it(g,null,0,E,Se.UPC_EAN_EXTENSION,new Date().getTime());return y!=null&&A.putAllMetadata(y),A}decodeMiddle(a,c,d){let p=this.decodeMiddleCounters;p[0]=0,p[1]=0,p[2]=0,p[3]=0;let x=a.getSize(),g=c[1],y=0;for(let E=0;E<2&&g<x;E++){let A=er.decodeDigit(a,p,g,er.L_AND_G_PATTERNS);d+=String.fromCharCode(48+A%10);for(let O of p)g+=O;A>=10&&(y|=1<<1-E),E!==1&&(g=a.getNextSet(g),g=a.getNextUnset(g))}if(d.length!==2)throw new G;if(parseInt(d.toString())%4!==y)throw new G;return g}static parseExtensionString(a){return a.length!==2?null:new Map([[We.ISSUE_NUMBER,parseInt(a)]])}}class Zg{static decodeRow(a,c,d){let p=er.findGuardPattern(c,d,!1,this.EXTENSION_START_PATTERN,new Int32Array(this.EXTENSION_START_PATTERN.length).fill(0));try{return new Kl().decodeRow(a,c,p)}catch{return new S0().decodeRow(a,c,p)}}}Zg.EXTENSION_START_PATTERN=Int32Array.from([1,1,2]);class gt extends er{constructor(){super(),this.decodeRowStringBuffer="",gt.L_AND_G_PATTERNS=gt.L_PATTERNS.map(a=>Int32Array.from(a));for(let a=10;a<20;a++){let c=gt.L_PATTERNS[a-10],d=new Int32Array(c.length);for(let p=0;p<c.length;p++)d[p]=c[c.length-p-1];gt.L_AND_G_PATTERNS[a]=d}}decodeRow(a,c,d){let p=gt.findStartGuardPattern(c),x=d==null?null:d.get(k.NEED_RESULT_POINT_CALLBACK);if(x!=null){const fe=new Oe((p[0]+p[1])/2,a);x.foundPossibleResultPoint(fe)}let g=this.decodeMiddle(c,p,this.decodeRowStringBuffer),y=g.rowOffset,E=g.resultString;if(x!=null){const fe=new Oe(y,a);x.foundPossibleResultPoint(fe)}let A=this.decodeEnd(c,y);if(x!=null){const fe=new Oe((A[0]+A[1])/2,a);x.foundPossibleResultPoint(fe)}let O=A[1],j=O+(O-A[0]);if(j>=c.getSize()||!c.isRange(O,j,!1))throw new G;let L=E.toString();if(L.length<8)throw new M;if(!gt.checkChecksum(L))throw new C;let z=(p[1]+p[0])/2,W=(A[1]+A[0])/2,$=this.getBarcodeFormat(),q=[new Oe(z,a),new Oe(W,a)],re=new it(L,null,0,q,$,new Date().getTime()),pe=0;try{let fe=Zg.decodeRow(a,c,A[1]);re.putMetadata(We.UPC_EAN_EXTENSION,fe.getText()),re.putAllMetadata(fe.getResultMetadata()),re.addResultPoints(fe.getResultPoints()),pe=fe.getText().length}catch{}let ge=d==null?null:d.get(k.ALLOWED_EAN_EXTENSIONS);if(ge!=null){let fe=!1;for(let rt in ge)if(pe.toString()===rt){fe=!0;break}if(!fe)throw new G}return re}decodeEnd(a,c){return gt.findGuardPattern(a,c,!1,gt.START_END_PATTERN,new Int32Array(gt.START_END_PATTERN.length).fill(0))}static checkChecksum(a){return gt.checkStandardUPCEANChecksum(a)}static checkStandardUPCEANChecksum(a){let c=a.length;if(c===0)return!1;let d=parseInt(a.charAt(c-1),10);return gt.getStandardUPCEANChecksum(a.substring(0,c-1))===d}static getStandardUPCEANChecksum(a){let c=a.length,d=0;for(let p=c-1;p>=0;p-=2){let x=a.charAt(p).charCodeAt(0)-48;if(x<0||x>9)throw new M;d+=x}d*=3;for(let p=c-2;p>=0;p-=2){let x=a.charAt(p).charCodeAt(0)-48;if(x<0||x>9)throw new M;d+=x}return(1e3-d)%10}}class ja extends gt{constructor(){super(),this.decodeMiddleCounters=Int32Array.from([0,0,0,0])}decodeMiddle(a,c,d){let p=this.decodeMiddleCounters;p[0]=0,p[1]=0,p[2]=0,p[3]=0;let x=a.getSize(),g=c[1],y=0;for(let A=0;A<6&&g<x;A++){let O=gt.decodeDigit(a,p,g,gt.L_AND_G_PATTERNS);d+=String.fromCharCode(48+O%10);for(let j of p)g+=j;O>=10&&(y|=1<<5-A)}d=ja.determineFirstDigit(d,y),g=gt.findGuardPattern(a,g,!0,gt.MIDDLE_PATTERN,new Int32Array(gt.MIDDLE_PATTERN.length).fill(0))[1];for(let A=0;A<6&&g<x;A++){let O=gt.decodeDigit(a,p,g,gt.L_PATTERNS);d+=String.fromCharCode(48+O);for(let j of p)g+=j}return{rowOffset:g,resultString:d}}getBarcodeFormat(){return Se.EAN_13}static determineFirstDigit(a,c){for(let d=0;d<10;d++)if(c===this.FIRST_DIGIT_ENCODINGS[d])return a=String.fromCharCode(48+d)+a,a;throw new G}}ja.FIRST_DIGIT_ENCODINGS=[0,11,13,14,19,25,28,21,22,26];class qg extends gt{constructor(){super(),this.decodeMiddleCounters=Int32Array.from([0,0,0,0])}decodeMiddle(a,c,d){const p=this.decodeMiddleCounters;p[0]=0,p[1]=0,p[2]=0,p[3]=0;let x=a.getSize(),g=c[1];for(let E=0;E<4&&g<x;E++){let A=gt.decodeDigit(a,p,g,gt.L_PATTERNS);d+=String.fromCharCode(48+A);for(let O of p)g+=O}g=gt.findGuardPattern(a,g,!0,gt.MIDDLE_PATTERN,new Int32Array(gt.MIDDLE_PATTERN.length).fill(0))[1];for(let E=0;E<4&&g<x;E++){let A=gt.decodeDigit(a,p,g,gt.L_PATTERNS);d+=String.fromCharCode(48+A);for(let O of p)g+=O}return{rowOffset:g,resultString:d}}getBarcodeFormat(){return Se.EAN_8}}class Qg extends gt{constructor(){super(...arguments),this.ean13Reader=new ja}getBarcodeFormat(){return Se.UPC_A}decode(a,c){return this.maybeReturnResult(this.ean13Reader.decode(a))}decodeRow(a,c,d){return this.maybeReturnResult(this.ean13Reader.decodeRow(a,c,d))}decodeMiddle(a,c,d){return this.ean13Reader.decodeMiddle(a,c,d)}maybeReturnResult(a){let c=a.getText();if(c.charAt(0)==="0"){let d=new it(c.substring(1),null,null,a.getResultPoints(),Se.UPC_A);return a.getResultMetadata()!=null&&d.putAllMetadata(a.getResultMetadata()),d}else throw new G}reset(){this.ean13Reader.reset()}}class mi extends gt{constructor(){super(),this.decodeMiddleCounters=new Int32Array(4)}decodeMiddle(a,c,d){const p=this.decodeMiddleCounters.map(A=>A);p[0]=0,p[1]=0,p[2]=0,p[3]=0;const x=a.getSize();let g=c[1],y=0;for(let A=0;A<6&&g<x;A++){const O=mi.decodeDigit(a,p,g,mi.L_AND_G_PATTERNS);d+=String.fromCharCode(48+O%10);for(let j of p)g+=j;O>=10&&(y|=1<<5-A)}let E=mi.determineNumSysAndCheckDigit(d,y);return{rowOffset:g,resultString:E}}decodeEnd(a,c){return mi.findGuardPatternWithoutCounters(a,c,!0,mi.MIDDLE_END_PATTERN)}checkChecksum(a){return gt.checkChecksum(mi.convertUPCEtoUPCA(a))}static determineNumSysAndCheckDigit(a,c){for(let d=0;d<=1;d++)for(let p=0;p<10;p++)if(c===this.NUMSYS_AND_CHECK_DIGIT_PATTERNS[d][p]){let x=String.fromCharCode(48+d),g=String.fromCharCode(48+p);return x+a+g}throw G.getNotFoundInstance()}getBarcodeFormat(){return Se.UPC_E}static convertUPCEtoUPCA(a){const c=a.slice(1,7).split("").map(x=>x.charCodeAt(0)),d=new ae;d.append(a.charAt(0));let p=c[5];switch(p){case 0:case 1:case 2:d.appendChars(c,0,2),d.append(p),d.append("0000"),d.appendChars(c,2,3);break;case 3:d.appendChars(c,0,3),d.append("00000"),d.appendChars(c,3,2);break;case 4:d.appendChars(c,0,4),d.append("00000"),d.append(c[4]);break;default:d.appendChars(c,0,5),d.append("0000"),d.append(p);break}return a.length>=8&&d.append(a.charAt(7)),d.toString()}}mi.MIDDLE_END_PATTERN=Int32Array.from([1,1,1,1,1,1]),mi.NUMSYS_AND_CHECK_DIGIT_PATTERNS=[Int32Array.from([56,52,50,49,44,38,35,42,41,37]),Int32Array.from([7,11,13,14,19,25,28,21,22,26])];class N0 extends dr{constructor(a){super();let c=a==null?null:a.get(k.POSSIBLE_FORMATS),d=[];n(c)?(d.push(new ja),d.push(new Qg),d.push(new qg),d.push(new mi)):(c.indexOf(Se.EAN_13)>-1&&d.push(new ja),c.indexOf(Se.UPC_A)>-1&&d.push(new Qg),c.indexOf(Se.EAN_8)>-1&&d.push(new qg),c.indexOf(Se.UPC_E)>-1&&d.push(new mi)),this.readers=d}decodeRow(a,c,d){for(let p of this.readers)try{const x=p.decodeRow(a,c,d),g=x.getBarcodeFormat()===Se.EAN_13&&x.getText().charAt(0)==="0",y=d==null?null:d.get(k.POSSIBLE_FORMATS),E=y==null||y.includes(Se.UPC_A);if(g&&E){const A=x.getRawBytes(),O=new it(x.getText().substring(1),A,A?A.length:null,x.getResultPoints(),Se.UPC_A);return O.putAllMetadata(x.getResultMetadata()),O}return x}catch{}throw new G}reset(){for(let a of this.readers)a.reset()}}class Xr extends dr{constructor(){super(),this.decodeFinderCounters=new Int32Array(4),this.dataCharacterCounters=new Int32Array(8),this.oddRoundingErrors=new Array(4),this.evenRoundingErrors=new Array(4),this.oddCounts=new Array(this.dataCharacterCounters.length/2),this.evenCounts=new Array(this.dataCharacterCounters.length/2)}getDecodeFinderCounters(){return this.decodeFinderCounters}getDataCharacterCounters(){return this.dataCharacterCounters}getOddRoundingErrors(){return this.oddRoundingErrors}getEvenRoundingErrors(){return this.evenRoundingErrors}getOddCounts(){return this.oddCounts}getEvenCounts(){return this.evenCounts}parseFinderValue(a,c){for(let d=0;d<c.length;d++)if(dr.patternMatchVariance(a,c[d],Xr.MAX_INDIVIDUAL_VARIANCE)<Xr.MAX_AVG_VARIANCE)return d;throw new G}static count(a){return Je.sum(new Int32Array(a))}static increment(a,c){let d=0,p=c[0];for(let x=1;x<a.length;x++)c[x]>p&&(p=c[x],d=x);a[d]++}static decrement(a,c){let d=0,p=c[0];for(let x=1;x<a.length;x++)c[x]<p&&(p=c[x],d=x);a[d]--}static isFinderPattern(a){let c=a[0]+a[1],d=c+a[2]+a[3],p=c/d;if(p>=Xr.MIN_FINDER_PATTERN_RATIO&&p<=Xr.MAX_FINDER_PATTERN_RATIO){let x=Number.MAX_SAFE_INTEGER,g=Number.MIN_SAFE_INTEGER;for(let y of a)y>g&&(g=y),y<x&&(x=y);return g<10*x}return!1}}Xr.MAX_AVG_VARIANCE=.2,Xr.MAX_INDIVIDUAL_VARIANCE=.45,Xr.MIN_FINDER_PATTERN_RATIO=9.5/12,Xr.MAX_FINDER_PATTERN_RATIO=12.5/14;class wo{constructor(a,c){this.value=a,this.checksumPortion=c}getValue(){return this.value}getChecksumPortion(){return this.checksumPortion}toString(){return this.value+"("+this.checksumPortion+")"}equals(a){if(!(a instanceof wo))return!1;const c=a;return this.value===c.value&&this.checksumPortion===c.checksumPortion}hashCode(){return this.value^this.checksumPortion}}class Ru{constructor(a,c,d,p,x){this.value=a,this.startEnd=c,this.value=a,this.startEnd=c,this.resultPoints=new Array,this.resultPoints.push(new Oe(d,x)),this.resultPoints.push(new Oe(p,x))}getValue(){return this.value}getStartEnd(){return this.startEnd}getResultPoints(){return this.resultPoints}equals(a){if(!(a instanceof Ru))return!1;const c=a;return this.value===c.value}hashCode(){return this.value}}class Li{constructor(){}static getRSSvalue(a,c,d){let p=0;for(let E of a)p+=E;let x=0,g=0,y=a.length;for(let E=0;E<y-1;E++){let A;for(A=1,g|=1<<E;A<a[E];A++,g&=~(1<<E)){let O=Li.combins(p-A-1,y-E-2);if(d&&g===0&&p-A-(y-E-1)>=y-E-1&&(O-=Li.combins(p-A-(y-E),y-E-2)),y-E-1>1){let j=0;for(let L=p-A-(y-E-2);L>c;L--)j+=Li.combins(p-A-L-1,y-E-3);O-=j*(y-1-E)}else p-A>c&&O--;x+=O}p-=A}return x}static combins(a,c){let d,p;a-c>c?(p=c,d=a-c):(p=a-c,d=c);let x=1,g=1;for(let y=a;y>d;y--)x*=y,g<=p&&(x/=g,g++);for(;g<=p;)x/=g,g++;return x}}class Ab{static buildBitArray(a){let c=a.length*2-1;a[a.length-1].getRightChar()==null&&(c-=1);let d=12*c,p=new P(d),x=0,y=a[0].getRightChar().getValue();for(let E=11;E>=0;--E)y&1<<E&&p.set(x),x++;for(let E=1;E<a.length;++E){let A=a[E],O=A.getLeftChar().getValue();for(let j=11;j>=0;--j)O&1<<j&&p.set(x),x++;if(A.getRightChar()!=null){let j=A.getRightChar().getValue();for(let L=11;L>=0;--L)j&1<<L&&p.set(x),x++}}return p}}class Ma{constructor(a,c){c?this.decodedInformation=null:(this.finished=a,this.decodedInformation=c)}getDecodedInformation(){return this.decodedInformation}isFinished(){return this.finished}}class _0{constructor(a){this.newPosition=a}getNewPosition(){return this.newPosition}}class yn extends _0{constructor(a,c){super(a),this.value=c}getValue(){return this.value}isFNC1(){return this.value===yn.FNC1}}yn.FNC1="$";class ka extends _0{constructor(a,c,d){super(a),d?(this.remaining=!0,this.remainingValue=this.remainingValue):(this.remaining=!1,this.remainingValue=0),this.newString=c}getNewString(){return this.newString}isRemaining(){return this.remaining}getRemainingValue(){return this.remainingValue}}class Kn extends _0{constructor(a,c,d){if(super(a),c<0||c>10||d<0||d>10)throw new M;this.firstDigit=c,this.secondDigit=d}getFirstDigit(){return this.firstDigit}getSecondDigit(){return this.secondDigit}getValue(){return this.firstDigit*10+this.secondDigit}isFirstDigitFNC1(){return this.firstDigit===Kn.FNC1}isSecondDigitFNC1(){return this.secondDigit===Kn.FNC1}isAnyFNC1(){return this.firstDigit===Kn.FNC1||this.secondDigit===Kn.FNC1}}Kn.FNC1=10;class Ne{constructor(){}static parseFieldsInGeneralPurpose(a){if(!a)return null;if(a.length<2)throw new G;let c=a.substring(0,2);for(let x of Ne.TWO_DIGIT_DATA_LENGTH)if(x[0]===c)return x[1]===Ne.VARIABLE_LENGTH?Ne.processVariableAI(2,x[2],a):Ne.processFixedAI(2,x[1],a);if(a.length<3)throw new G;let d=a.substring(0,3);for(let x of Ne.THREE_DIGIT_DATA_LENGTH)if(x[0]===d)return x[1]===Ne.VARIABLE_LENGTH?Ne.processVariableAI(3,x[2],a):Ne.processFixedAI(3,x[1],a);for(let x of Ne.THREE_DIGIT_PLUS_DIGIT_DATA_LENGTH)if(x[0]===d)return x[1]===Ne.VARIABLE_LENGTH?Ne.processVariableAI(4,x[2],a):Ne.processFixedAI(4,x[1],a);if(a.length<4)throw new G;let p=a.substring(0,4);for(let x of Ne.FOUR_DIGIT_DATA_LENGTH)if(x[0]===p)return x[1]===Ne.VARIABLE_LENGTH?Ne.processVariableAI(4,x[2],a):Ne.processFixedAI(4,x[1],a);throw new G}static processFixedAI(a,c,d){if(d.length<a)throw new G;let p=d.substring(0,a);if(d.length<a+c)throw new G;let x=d.substring(a,a+c),g=d.substring(a+c),y="("+p+")"+x,E=Ne.parseFieldsInGeneralPurpose(g);return E==null?y:y+E}static processVariableAI(a,c,d){let p=d.substring(0,a),x;d.length<a+c?x=d.length:x=a+c;let g=d.substring(a,x),y=d.substring(x),E="("+p+")"+g,A=Ne.parseFieldsInGeneralPurpose(y);return A==null?E:E+A}}Ne.VARIABLE_LENGTH=[],Ne.TWO_DIGIT_DATA_LENGTH=[["00",18],["01",14],["02",14],["10",Ne.VARIABLE_LENGTH,20],["11",6],["12",6],["13",6],["15",6],["17",6],["20",2],["21",Ne.VARIABLE_LENGTH,20],["22",Ne.VARIABLE_LENGTH,29],["30",Ne.VARIABLE_LENGTH,8],["37",Ne.VARIABLE_LENGTH,8],["90",Ne.VARIABLE_LENGTH,30],["91",Ne.VARIABLE_LENGTH,30],["92",Ne.VARIABLE_LENGTH,30],["93",Ne.VARIABLE_LENGTH,30],["94",Ne.VARIABLE_LENGTH,30],["95",Ne.VARIABLE_LENGTH,30],["96",Ne.VARIABLE_LENGTH,30],["97",Ne.VARIABLE_LENGTH,3],["98",Ne.VARIABLE_LENGTH,30],["99",Ne.VARIABLE_LENGTH,30]],Ne.THREE_DIGIT_DATA_LENGTH=[["240",Ne.VARIABLE_LENGTH,30],["241",Ne.VARIABLE_LENGTH,30],["242",Ne.VARIABLE_LENGTH,6],["250",Ne.VARIABLE_LENGTH,30],["251",Ne.VARIABLE_LENGTH,30],["253",Ne.VARIABLE_LENGTH,17],["254",Ne.VARIABLE_LENGTH,20],["400",Ne.VARIABLE_LENGTH,30],["401",Ne.VARIABLE_LENGTH,30],["402",17],["403",Ne.VARIABLE_LENGTH,30],["410",13],["411",13],["412",13],["413",13],["414",13],["420",Ne.VARIABLE_LENGTH,20],["421",Ne.VARIABLE_LENGTH,15],["422",3],["423",Ne.VARIABLE_LENGTH,15],["424",3],["425",3],["426",3]],Ne.THREE_DIGIT_PLUS_DIGIT_DATA_LENGTH=[["310",6],["311",6],["312",6],["313",6],["314",6],["315",6],["316",6],["320",6],["321",6],["322",6],["323",6],["324",6],["325",6],["326",6],["327",6],["328",6],["329",6],["330",6],["331",6],["332",6],["333",6],["334",6],["335",6],["336",6],["340",6],["341",6],["342",6],["343",6],["344",6],["345",6],["346",6],["347",6],["348",6],["349",6],["350",6],["351",6],["352",6],["353",6],["354",6],["355",6],["356",6],["357",6],["360",6],["361",6],["362",6],["363",6],["364",6],["365",6],["366",6],["367",6],["368",6],["369",6],["390",Ne.VARIABLE_LENGTH,15],["391",Ne.VARIABLE_LENGTH,18],["392",Ne.VARIABLE_LENGTH,15],["393",Ne.VARIABLE_LENGTH,18],["703",Ne.VARIABLE_LENGTH,30]],Ne.FOUR_DIGIT_DATA_LENGTH=[["7001",13],["7002",Ne.VARIABLE_LENGTH,30],["7003",10],["8001",14],["8002",Ne.VARIABLE_LENGTH,20],["8003",Ne.VARIABLE_LENGTH,30],["8004",Ne.VARIABLE_LENGTH,30],["8005",6],["8006",18],["8007",Ne.VARIABLE_LENGTH,30],["8008",Ne.VARIABLE_LENGTH,12],["8018",18],["8020",Ne.VARIABLE_LENGTH,25],["8100",6],["8101",10],["8102",2],["8110",Ne.VARIABLE_LENGTH,70],["8200",Ne.VARIABLE_LENGTH,70]];class Co{constructor(a){this.buffer=new ae,this.information=a}decodeAllCodes(a,c){let d=c,p=null;do{let x=this.decodeGeneralPurposeField(d,p),g=Ne.parseFieldsInGeneralPurpose(x.getNewString());if(g!=null&&a.append(g),x.isRemaining()?p=""+x.getRemainingValue():p=null,d===x.getNewPosition())break;d=x.getNewPosition()}while(!0);return a.toString()}isStillNumeric(a){if(a+7>this.information.getSize())return a+4<=this.information.getSize();for(let c=a;c<a+3;++c)if(this.information.get(c))return!0;return this.information.get(a+3)}decodeNumeric(a){if(a+7>this.information.getSize()){let x=this.extractNumericValueFromBitArray(a,4);return x===0?new Kn(this.information.getSize(),Kn.FNC1,Kn.FNC1):new Kn(this.information.getSize(),x-1,Kn.FNC1)}let c=this.extractNumericValueFromBitArray(a,7),d=(c-8)/11,p=(c-8)%11;return new Kn(a+7,d,p)}extractNumericValueFromBitArray(a,c){return Co.extractNumericValueFromBitArray(this.information,a,c)}static extractNumericValueFromBitArray(a,c,d){let p=0;for(let x=0;x<d;++x)a.get(c+x)&&(p|=1<<d-x-1);return p}decodeGeneralPurposeField(a,c){this.buffer.setLengthToZero(),c!=null&&this.buffer.append(c),this.current.setPosition(a);let d=this.parseBlocks();return d!=null&&d.isRemaining()?new ka(this.current.getPosition(),this.buffer.toString(),d.getRemainingValue()):new ka(this.current.getPosition(),this.buffer.toString())}parseBlocks(){let a,c;do{let d=this.current.getPosition();if(this.current.isAlpha()?(c=this.parseAlphaBlock(),a=c.isFinished()):this.current.isIsoIec646()?(c=this.parseIsoIec646Block(),a=c.isFinished()):(c=this.parseNumericBlock(),a=c.isFinished()),!(d!==this.current.getPosition())&&!a)break}while(!a);return c.getDecodedInformation()}parseNumericBlock(){for(;this.isStillNumeric(this.current.getPosition());){let a=this.decodeNumeric(this.current.getPosition());if(this.current.setPosition(a.getNewPosition()),a.isFirstDigitFNC1()){let c;return a.isSecondDigitFNC1()?c=new ka(this.current.getPosition(),this.buffer.toString()):c=new ka(this.current.getPosition(),this.buffer.toString(),a.getSecondDigit()),new Ma(!0,c)}if(this.buffer.append(a.getFirstDigit()),a.isSecondDigitFNC1()){let c=new ka(this.current.getPosition(),this.buffer.toString());return new Ma(!0,c)}this.buffer.append(a.getSecondDigit())}return this.isNumericToAlphaNumericLatch(this.current.getPosition())&&(this.current.setAlpha(),this.current.incrementPosition(4)),new Ma(!1)}parseIsoIec646Block(){for(;this.isStillIsoIec646(this.current.getPosition());){let a=this.decodeIsoIec646(this.current.getPosition());if(this.current.setPosition(a.getNewPosition()),a.isFNC1()){let c=new ka(this.current.getPosition(),this.buffer.toString());return new Ma(!0,c)}this.buffer.append(a.getValue())}return this.isAlphaOr646ToNumericLatch(this.current.getPosition())?(this.current.incrementPosition(3),this.current.setNumeric()):this.isAlphaTo646ToAlphaLatch(this.current.getPosition())&&(this.current.getPosition()+5<this.information.getSize()?this.current.incrementPosition(5):this.current.setPosition(this.information.getSize()),this.current.setAlpha()),new Ma(!1)}parseAlphaBlock(){for(;this.isStillAlpha(this.current.getPosition());){let a=this.decodeAlphanumeric(this.current.getPosition());if(this.current.setPosition(a.getNewPosition()),a.isFNC1()){let c=new ka(this.current.getPosition(),this.buffer.toString());return new Ma(!0,c)}this.buffer.append(a.getValue())}return this.isAlphaOr646ToNumericLatch(this.current.getPosition())?(this.current.incrementPosition(3),this.current.setNumeric()):this.isAlphaTo646ToAlphaLatch(this.current.getPosition())&&(this.current.getPosition()+5<this.information.getSize()?this.current.incrementPosition(5):this.current.setPosition(this.information.getSize()),this.current.setIsoIec646()),new Ma(!1)}isStillIsoIec646(a){if(a+5>this.information.getSize())return!1;let c=this.extractNumericValueFromBitArray(a,5);if(c>=5&&c<16)return!0;if(a+7>this.information.getSize())return!1;let d=this.extractNumericValueFromBitArray(a,7);if(d>=64&&d<116)return!0;if(a+8>this.information.getSize())return!1;let p=this.extractNumericValueFromBitArray(a,8);return p>=232&&p<253}decodeIsoIec646(a){let c=this.extractNumericValueFromBitArray(a,5);if(c===15)return new yn(a+5,yn.FNC1);if(c>=5&&c<15)return new yn(a+5,"0"+(c-5));let d=this.extractNumericValueFromBitArray(a,7);if(d>=64&&d<90)return new yn(a+7,""+(d+1));if(d>=90&&d<116)return new yn(a+7,""+(d+7));let p=this.extractNumericValueFromBitArray(a,8),x;switch(p){case 232:x="!";break;case 233:x='"';break;case 234:x="%";break;case 235:x="&";break;case 236:x="'";break;case 237:x="(";break;case 238:x=")";break;case 239:x="*";break;case 240:x="+";break;case 241:x=",";break;case 242:x="-";break;case 243:x=".";break;case 244:x="/";break;case 245:x=":";break;case 246:x=";";break;case 247:x="<";break;case 248:x="=";break;case 249:x=">";break;case 250:x="?";break;case 251:x="_";break;case 252:x=" ";break;default:throw new M}return new yn(a+8,x)}isStillAlpha(a){if(a+5>this.information.getSize())return!1;let c=this.extractNumericValueFromBitArray(a,5);if(c>=5&&c<16)return!0;if(a+6>this.information.getSize())return!1;let d=this.extractNumericValueFromBitArray(a,6);return d>=16&&d<63}decodeAlphanumeric(a){let c=this.extractNumericValueFromBitArray(a,5);if(c===15)return new yn(a+5,yn.FNC1);if(c>=5&&c<15)return new yn(a+5,"0"+(c-5));let d=this.extractNumericValueFromBitArray(a,6);if(d>=32&&d<58)return new yn(a+6,""+(d+33));let p;switch(d){case 58:p="*";break;case 59:p=",";break;case 60:p="-";break;case 61:p=".";break;case 62:p="/";break;default:throw new Wr("Decoding invalid alphanumeric value: "+d)}return new yn(a+6,p)}isAlphaTo646ToAlphaLatch(a){if(a+1>this.information.getSize())return!1;for(let c=0;c<5&&c+a<this.information.getSize();++c)if(c===2){if(!this.information.get(a+2))return!1}else if(this.information.get(a+c))return!1;return!0}isAlphaOr646ToNumericLatch(a){if(a+3>this.information.getSize())return!1;for(let c=a;c<a+3;++c)if(this.information.get(c))return!1;return!0}isNumericToAlphaNumericLatch(a){if(a+1>this.information.getSize())return!1;for(let c=0;c<4&&c+a<this.information.getSize();++c)if(this.information.get(a+c))return!1;return!0}}class I0{constructor(a){this.information=a,this.generalDecoder=new Co(a)}getInformation(){return this.information}getGeneralDecoder(){return this.generalDecoder}}class wn extends I0{constructor(a){super(a)}encodeCompressedGtin(a,c){a.append("(01)");let d=a.length();a.append("9"),this.encodeCompressedGtinWithoutAI(a,c,d)}encodeCompressedGtinWithoutAI(a,c,d){for(let p=0;p<4;++p){let x=this.getGeneralDecoder().extractNumericValueFromBitArray(c+10*p,10);x/100===0&&a.append("0"),x/10===0&&a.append("0"),a.append(x)}wn.appendCheckDigit(a,d)}static appendCheckDigit(a,c){let d=0;for(let p=0;p<13;p++){let x=a.charAt(p+c).charCodeAt(0)-48;d+=p&1?x:3*x}d=10-d%10,d===10&&(d=0),a.append(d)}}wn.GTIN_SIZE=40;class Eo extends wn{constructor(a){super(a)}parseInformation(){let a=new ae;a.append("(01)");let c=a.length(),d=this.getGeneralDecoder().extractNumericValueFromBitArray(Eo.HEADER_SIZE,4);return a.append(d),this.encodeCompressedGtinWithoutAI(a,Eo.HEADER_SIZE+4,c),this.getGeneralDecoder().decodeAllCodes(a,Eo.HEADER_SIZE+44)}}Eo.HEADER_SIZE=4;class Ou extends I0{constructor(a){super(a)}parseInformation(){let a=new ae;return this.getGeneralDecoder().decodeAllCodes(a,Ou.HEADER_SIZE)}}Ou.HEADER_SIZE=5;class Pu extends wn{constructor(a){super(a)}encodeCompressedWeight(a,c,d){let p=this.getGeneralDecoder().extractNumericValueFromBitArray(c,d);this.addWeightCode(a,p);let x=this.checkWeight(p),g=1e5;for(let y=0;y<5;++y)x/g===0&&a.append("0"),g/=10;a.append(x)}}class Bi extends Pu{constructor(a){super(a)}parseInformation(){if(this.getInformation().getSize()!=Bi.HEADER_SIZE+Pu.GTIN_SIZE+Bi.WEIGHT_SIZE)throw new G;let a=new ae;return this.encodeCompressedGtin(a,Bi.HEADER_SIZE),this.encodeCompressedWeight(a,Bi.HEADER_SIZE+Pu.GTIN_SIZE,Bi.WEIGHT_SIZE),a.toString()}}Bi.HEADER_SIZE=5,Bi.WEIGHT_SIZE=15;class bb extends Bi{constructor(a){super(a)}addWeightCode(a,c){a.append("(3103)")}checkWeight(a){return a}}class Sb extends Bi{constructor(a){super(a)}addWeightCode(a,c){c<1e4?a.append("(3202)"):a.append("(3203)")}checkWeight(a){return a<1e4?a:a-1e4}}class Fi extends wn{constructor(a){super(a)}parseInformation(){if(this.getInformation().getSize()<Fi.HEADER_SIZE+wn.GTIN_SIZE)throw new G;let a=new ae;this.encodeCompressedGtin(a,Fi.HEADER_SIZE);let c=this.getGeneralDecoder().extractNumericValueFromBitArray(Fi.HEADER_SIZE+wn.GTIN_SIZE,Fi.LAST_DIGIT_SIZE);a.append("(392"),a.append(c),a.append(")");let d=this.getGeneralDecoder().decodeGeneralPurposeField(Fi.HEADER_SIZE+wn.GTIN_SIZE+Fi.LAST_DIGIT_SIZE,null);return a.append(d.getNewString()),a.toString()}}Fi.HEADER_SIZE=8,Fi.LAST_DIGIT_SIZE=2;class on extends wn{constructor(a){super(a)}parseInformation(){if(this.getInformation().getSize()<on.HEADER_SIZE+wn.GTIN_SIZE)throw new G;let a=new ae;this.encodeCompressedGtin(a,on.HEADER_SIZE);let c=this.getGeneralDecoder().extractNumericValueFromBitArray(on.HEADER_SIZE+wn.GTIN_SIZE,on.LAST_DIGIT_SIZE);a.append("(393"),a.append(c),a.append(")");let d=this.getGeneralDecoder().extractNumericValueFromBitArray(on.HEADER_SIZE+wn.GTIN_SIZE+on.LAST_DIGIT_SIZE,on.FIRST_THREE_DIGITS_SIZE);d/100==0&&a.append("0"),d/10==0&&a.append("0"),a.append(d);let p=this.getGeneralDecoder().decodeGeneralPurposeField(on.HEADER_SIZE+wn.GTIN_SIZE+on.LAST_DIGIT_SIZE+on.FIRST_THREE_DIGITS_SIZE,null);return a.append(p.getNewString()),a.toString()}}on.HEADER_SIZE=8,on.LAST_DIGIT_SIZE=2,on.FIRST_THREE_DIGITS_SIZE=10;class zt extends Pu{constructor(a,c,d){super(a),this.dateCode=d,this.firstAIdigits=c}parseInformation(){if(this.getInformation().getSize()!=zt.HEADER_SIZE+zt.GTIN_SIZE+zt.WEIGHT_SIZE+zt.DATE_SIZE)throw new G;let a=new ae;return this.encodeCompressedGtin(a,zt.HEADER_SIZE),this.encodeCompressedWeight(a,zt.HEADER_SIZE+zt.GTIN_SIZE,zt.WEIGHT_SIZE),this.encodeCompressedDate(a,zt.HEADER_SIZE+zt.GTIN_SIZE+zt.WEIGHT_SIZE),a.toString()}encodeCompressedDate(a,c){let d=this.getGeneralDecoder().extractNumericValueFromBitArray(c,zt.DATE_SIZE);if(d==38400)return;a.append("("),a.append(this.dateCode),a.append(")");let p=d%32;d/=32;let x=d%12+1;d/=12;let g=d;g/10==0&&a.append("0"),a.append(g),x/10==0&&a.append("0"),a.append(x),p/10==0&&a.append("0"),a.append(p)}addWeightCode(a,c){a.append("("),a.append(this.firstAIdigits),a.append(c/1e5),a.append(")")}checkWeight(a){return a%1e5}}zt.HEADER_SIZE=8,zt.WEIGHT_SIZE=20,zt.DATE_SIZE=16;function Jg(D){try{if(D.get(1))return new Eo(D);if(!D.get(2))return new Ou(D);switch(Co.extractNumericValueFromBitArray(D,1,4)){case 4:return new bb(D);case 5:return new Sb(D)}switch(Co.extractNumericValueFromBitArray(D,1,5)){case 12:return new Fi(D);case 13:return new on(D)}switch(Co.extractNumericValueFromBitArray(D,1,7)){case 56:return new zt(D,"310","11");case 57:return new zt(D,"320","11");case 58:return new zt(D,"310","13");case 59:return new zt(D,"320","13");case 60:return new zt(D,"310","15");case 61:return new zt(D,"320","15");case 62:return new zt(D,"310","17");case 63:return new zt(D,"320","17")}}catch(a){throw console.log(a),new Wr("unknown decoder: "+D)}}class Ps{constructor(a,c,d,p){this.leftchar=a,this.rightchar=c,this.finderpattern=d,this.maybeLast=p}mayBeLast(){return this.maybeLast}getLeftChar(){return this.leftchar}getRightChar(){return this.rightchar}getFinderPattern(){return this.finderpattern}mustBeLast(){return this.rightchar==null}toString(){return"[ "+this.leftchar+", "+this.rightchar+" : "+(this.finderpattern==null?"null":this.finderpattern.getValue())+" ]"}static equals(a,c){return a instanceof Ps?Ps.equalsOrNull(a.leftchar,c.leftchar)&&Ps.equalsOrNull(a.rightchar,c.rightchar)&&Ps.equalsOrNull(a.finderpattern,c.finderpattern):!1}static equalsOrNull(a,c){return a===null?c===null:Ps.equals(a,c)}hashCode(){return this.leftchar.getValue()^this.rightchar.getValue()^this.finderpattern.getValue()}}class T0{constructor(a,c,d){this.pairs=a,this.rowNumber=c,this.wasReversed=d}getPairs(){return this.pairs}getRowNumber(){return this.rowNumber}isReversed(){return this.wasReversed}isEquivalent(a){return this.checkEqualitity(this,a)}toString(){return"{ "+this.pairs+" }"}equals(a,c){return a instanceof T0?this.checkEqualitity(a,c)&&a.wasReversed===c.wasReversed:!1}checkEqualitity(a,c){if(!a||!c)return;let d;return a.forEach((p,x)=>{c.forEach(g=>{p.getLeftChar().getValue()===g.getLeftChar().getValue()&&p.getRightChar().getValue()===g.getRightChar().getValue()&&p.getFinderPatter().getValue()===g.getFinderPatter().getValue()&&(d=!0)})}),d}}class ce extends Xr{constructor(a){super(...arguments),this.pairs=new Array(ce.MAX_PAIRS),this.rows=new Array,this.startEnd=[2],this.verbose=a===!0}decodeRow(a,c,d){this.pairs.length=0,this.startFromEven=!1;try{return ce.constructResult(this.decodeRow2pairs(a,c))}catch(p){this.verbose&&console.log(p)}return this.pairs.length=0,this.startFromEven=!0,ce.constructResult(this.decodeRow2pairs(a,c))}reset(){this.pairs.length=0,this.rows.length=0}decodeRow2pairs(a,c){let d=!1;for(;!d;)try{this.pairs.push(this.retrieveNextPair(c,this.pairs,a))}catch(x){if(x instanceof G){if(!this.pairs.length)throw new G;d=!0}}if(this.checkChecksum())return this.pairs;let p;if(this.rows.length?p=!0:p=!1,this.storeRow(a,!1),p){let x=this.checkRowsBoolean(!1);if(x!=null||(x=this.checkRowsBoolean(!0),x!=null))return x}throw new G}checkRowsBoolean(a){if(this.rows.length>25)return this.rows.length=0,null;this.pairs.length=0,a&&(this.rows=this.rows.reverse());let c=null;try{c=this.checkRows(new Array,0)}catch(d){this.verbose&&console.log(d)}return a&&(this.rows=this.rows.reverse()),c}checkRows(a,c){for(let d=c;d<this.rows.length;d++){let p=this.rows[d];this.pairs.length=0;for(let g of a)this.pairs.push(g.getPairs());if(this.pairs.push(p.getPairs()),!ce.isValidSequence(this.pairs))continue;if(this.checkChecksum())return this.pairs;let x=new Array(a);x.push(p);try{return this.checkRows(x,d+1)}catch(g){this.verbose&&console.log(g)}}throw new G}static isValidSequence(a){for(let c of ce.FINDER_PATTERN_SEQUENCES){if(a.length>c.length)continue;let d=!0;for(let p=0;p<a.length;p++)if(a[p].getFinderPattern().getValue()!=c[p]){d=!1;break}if(d)return!0}return!1}storeRow(a,c){let d=0,p=!1,x=!1;for(;d<this.rows.length;){let g=this.rows[d];if(g.getRowNumber()>a){x=g.isEquivalent(this.pairs);break}p=g.isEquivalent(this.pairs),d++}x||p||ce.isPartialRow(this.pairs,this.rows)||(this.rows.push(d,new T0(this.pairs,a,c)),this.removePartialRows(this.pairs,this.rows))}removePartialRows(a,c){for(let d of c)if(d.getPairs().length!==a.length){for(let p of d.getPairs())for(let x of a)if(Ps.equals(p,x))break}}static isPartialRow(a,c){for(let d of c){let p=!0;for(let x of a){let g=!1;for(let y of d.getPairs())if(x.equals(y)){g=!0;break}if(!g){p=!1;break}}if(p)return!0}return!1}getRows(){return this.rows}static constructResult(a){let c=Ab.buildBitArray(a),p=Jg(c).parseInformation(),x=a[0].getFinderPattern().getResultPoints(),g=a[a.length-1].getFinderPattern().getResultPoints(),y=[x[0],x[1],g[0],g[1]];return new it(p,null,null,y,Se.RSS_EXPANDED,null)}checkChecksum(){let a=this.pairs.get(0),c=a.getLeftChar(),d=a.getRightChar();if(d==null)return!1;let p=d.getChecksumPortion(),x=2;for(let y=1;y<this.pairs.size();++y){let E=this.pairs.get(y);p+=E.getLeftChar().getChecksumPortion(),x++;let A=E.getRightChar();A!=null&&(p+=A.getChecksumPortion(),x++)}return p%=211,211*(x-4)+p==c.getValue()}static getNextSecondBar(a,c){let d;return a.get(c)?(d=a.getNextUnset(c),d=a.getNextSet(d)):(d=a.getNextSet(c),d=a.getNextUnset(d)),d}retrieveNextPair(a,c,d){let p=c.length%2==0;this.startFromEven&&(p=!p);let x,g=!0,y=-1;do this.findNextPair(a,c,y),x=this.parseFoundFinderPattern(a,d,p),x==null?y=ce.getNextSecondBar(a,this.startEnd[0]):g=!1;while(g);let E=this.decodeDataCharacter(a,x,p,!0);if(!this.isEmptyPair(c)&&c[c.length-1].mustBeLast())throw new G;let A;try{A=this.decodeDataCharacter(a,x,p,!1)}catch(O){A=null,this.verbose&&console.log(O)}return new Ps(E,A,x,!0)}isEmptyPair(a){return a.length===0}findNextPair(a,c,d){let p=this.getDecodeFinderCounters();p[0]=0,p[1]=0,p[2]=0,p[3]=0;let x=a.getSize(),g;d>=0?g=d:this.isEmptyPair(c)?g=0:g=c[c.length-1].getFinderPattern().getStartEnd()[1];let y=c.length%2!=0;this.startFromEven&&(y=!y);let E=!1;for(;g<x&&(E=!a.get(g),!!E);)g++;let A=0,O=g;for(let j=g;j<x;j++)if(a.get(j)!=E)p[A]++;else{if(A==3){if(y&&ce.reverseCounters(p),ce.isFinderPattern(p)){this.startEnd[0]=O,this.startEnd[1]=j;return}y&&ce.reverseCounters(p),O+=p[0]+p[1],p[0]=p[2],p[1]=p[3],p[2]=0,p[3]=0,A--}else A++;p[A]=1,E=!E}throw new G}static reverseCounters(a){let c=a.length;for(let d=0;d<c/2;++d){let p=a[d];a[d]=a[c-d-1],a[c-d-1]=p}}parseFoundFinderPattern(a,c,d){let p,x,g;if(d){let A=this.startEnd[0]-1;for(;A>=0&&!a.get(A);)A--;A++,p=this.startEnd[0]-A,x=A,g=this.startEnd[1]}else x=this.startEnd[0],g=a.getNextUnset(this.startEnd[1]+1),p=g-this.startEnd[1];let y=this.getDecodeFinderCounters();b.arraycopy(y,0,y,1,y.length-1),y[0]=p;let E;try{E=this.parseFinderValue(y,ce.FINDER_PATTERNS)}catch{return null}return new Ru(E,[x,g],x,g,c)}decodeDataCharacter(a,c,d,p){let x=this.getDataCharacterCounters();for(let Ot=0;Ot<x.length;Ot++)x[Ot]=0;if(p)ce.recordPatternInReverse(a,c.getStartEnd()[0],x);else{ce.recordPattern(a,c.getStartEnd()[1],x);for(let Ot=0,Lr=x.length-1;Ot<Lr;Ot++,Lr--){let kn=x[Ot];x[Ot]=x[Lr],x[Lr]=kn}}let g=17,y=Je.sum(new Int32Array(x))/g,E=(c.getStartEnd()[1]-c.getStartEnd()[0])/15;if(Math.abs(y-E)/E>.3)throw new G;let A=this.getOddCounts(),O=this.getEvenCounts(),j=this.getOddRoundingErrors(),L=this.getEvenRoundingErrors();for(let Ot=0;Ot<x.length;Ot++){let Lr=1*x[Ot]/y,kn=Lr+.5;if(kn<1){if(Lr<.3)throw new G;kn=1}else if(kn>8){if(Lr>8.7)throw new G;kn=8}let _o=Ot/2;Ot&1?(O[_o]=kn,L[_o]=Lr-kn):(A[_o]=kn,j[_o]=Lr-kn)}this.adjustOddEvenCounts(g);let z=4*c.getValue()+(d?0:2)+(p?0:1)-1,W=0,$=0;for(let Ot=A.length-1;Ot>=0;Ot--){if(ce.isNotA1left(c,d,p)){let Lr=ce.WEIGHTS[z][2*Ot];$+=A[Ot]*Lr}W+=A[Ot]}let q=0;for(let Ot=O.length-1;Ot>=0;Ot--)if(ce.isNotA1left(c,d,p)){let Lr=ce.WEIGHTS[z][2*Ot+1];q+=O[Ot]*Lr}let re=$+q;if(W&1||W>13||W<4)throw new G;let pe=(13-W)/2,ge=ce.SYMBOL_WIDEST[pe],fe=9-ge,rt=Li.getRSSvalue(A,ge,!0),Ye=Li.getRSSvalue(O,fe,!1),En=ce.EVEN_TOTAL_SUBSET[pe],vi=ce.GSUM[pe],An=rt*En+Ye+vi;return new wo(An,re)}static isNotA1left(a,c,d){return!(a.getValue()==0&&c&&d)}adjustOddEvenCounts(a){let c=Je.sum(new Int32Array(this.getOddCounts())),d=Je.sum(new Int32Array(this.getEvenCounts())),p=!1,x=!1;c>13?x=!0:c<4&&(p=!0);let g=!1,y=!1;d>13?y=!0:d<4&&(g=!0);let E=c+d-a,A=(c&1)==1,O=(d&1)==0;if(E==1)if(A){if(O)throw new G;x=!0}else{if(!O)throw new G;y=!0}else if(E==-1)if(A){if(O)throw new G;p=!0}else{if(!O)throw new G;g=!0}else if(E==0){if(A){if(!O)throw new G;c<d?(p=!0,y=!0):(x=!0,g=!0)}else if(O)throw new G}else throw new G;if(p){if(x)throw new G;ce.increment(this.getOddCounts(),this.getOddRoundingErrors())}if(x&&ce.decrement(this.getOddCounts(),this.getOddRoundingErrors()),g){if(y)throw new G;ce.increment(this.getEvenCounts(),this.getOddRoundingErrors())}y&&ce.decrement(this.getEvenCounts(),this.getEvenRoundingErrors())}}ce.SYMBOL_WIDEST=[7,5,4,3,1],ce.EVEN_TOTAL_SUBSET=[4,20,52,104,204],ce.GSUM=[0,348,1388,2948,3988],ce.FINDER_PATTERNS=[Int32Array.from([1,8,4,1]),Int32Array.from([3,6,4,1]),Int32Array.from([3,4,6,1]),Int32Array.from([3,2,8,1]),Int32Array.from([2,6,5,1]),Int32Array.from([2,2,9,1])],ce.WEIGHTS=[[1,3,9,27,81,32,96,77],[20,60,180,118,143,7,21,63],[189,145,13,39,117,140,209,205],[193,157,49,147,19,57,171,91],[62,186,136,197,169,85,44,132],[185,133,188,142,4,12,36,108],[113,128,173,97,80,29,87,50],[150,28,84,41,123,158,52,156],[46,138,203,187,139,206,196,166],[76,17,51,153,37,111,122,155],[43,129,176,106,107,110,119,146],[16,48,144,10,30,90,59,177],[109,116,137,200,178,112,125,164],[70,210,208,202,184,130,179,115],[134,191,151,31,93,68,204,190],[148,22,66,198,172,94,71,2],[6,18,54,162,64,192,154,40],[120,149,25,75,14,42,126,167],[79,26,78,23,69,207,199,175],[103,98,83,38,114,131,182,124],[161,61,183,127,170,88,53,159],[55,165,73,8,24,72,5,15],[45,135,194,160,58,174,100,89]],ce.FINDER_PAT_A=0,ce.FINDER_PAT_B=1,ce.FINDER_PAT_C=2,ce.FINDER_PAT_D=3,ce.FINDER_PAT_E=4,ce.FINDER_PAT_F=5,ce.FINDER_PATTERN_SEQUENCES=[[ce.FINDER_PAT_A,ce.FINDER_PAT_A],[ce.FINDER_PAT_A,ce.FINDER_PAT_B,ce.FINDER_PAT_B],[ce.FINDER_PAT_A,ce.FINDER_PAT_C,ce.FINDER_PAT_B,ce.FINDER_PAT_D],[ce.FINDER_PAT_A,ce.FINDER_PAT_E,ce.FINDER_PAT_B,ce.FINDER_PAT_D,ce.FINDER_PAT_C],[ce.FINDER_PAT_A,ce.FINDER_PAT_E,ce.FINDER_PAT_B,ce.FINDER_PAT_D,ce.FINDER_PAT_D,ce.FINDER_PAT_F],[ce.FINDER_PAT_A,ce.FINDER_PAT_E,ce.FINDER_PAT_B,ce.FINDER_PAT_D,ce.FINDER_PAT_E,ce.FINDER_PAT_F,ce.FINDER_PAT_F],[ce.FINDER_PAT_A,ce.FINDER_PAT_A,ce.FINDER_PAT_B,ce.FINDER_PAT_B,ce.FINDER_PAT_C,ce.FINDER_PAT_C,ce.FINDER_PAT_D,ce.FINDER_PAT_D],[ce.FINDER_PAT_A,ce.FINDER_PAT_A,ce.FINDER_PAT_B,ce.FINDER_PAT_B,ce.FINDER_PAT_C,ce.FINDER_PAT_C,ce.FINDER_PAT_D,ce.FINDER_PAT_E,ce.FINDER_PAT_E],[ce.FINDER_PAT_A,ce.FINDER_PAT_A,ce.FINDER_PAT_B,ce.FINDER_PAT_B,ce.FINDER_PAT_C,ce.FINDER_PAT_C,ce.FINDER_PAT_D,ce.FINDER_PAT_E,ce.FINDER_PAT_F,ce.FINDER_PAT_F],[ce.FINDER_PAT_A,ce.FINDER_PAT_A,ce.FINDER_PAT_B,ce.FINDER_PAT_B,ce.FINDER_PAT_C,ce.FINDER_PAT_D,ce.FINDER_PAT_D,ce.FINDER_PAT_E,ce.FINDER_PAT_E,ce.FINDER_PAT_F,ce.FINDER_PAT_F]],ce.MAX_PAIRS=11;class Nb extends wo{constructor(a,c,d){super(a,c),this.count=0,this.finderPattern=d}getFinderPattern(){return this.finderPattern}getCount(){return this.count}incrementCount(){this.count++}}class tr extends Xr{constructor(){super(...arguments),this.possibleLeftPairs=[],this.possibleRightPairs=[]}decodeRow(a,c,d){const p=this.decodePair(c,!1,a,d);tr.addOrTally(this.possibleLeftPairs,p),c.reverse();let x=this.decodePair(c,!0,a,d);tr.addOrTally(this.possibleRightPairs,x),c.reverse();for(let g of this.possibleLeftPairs)if(g.getCount()>1){for(let y of this.possibleRightPairs)if(y.getCount()>1&&tr.checkChecksum(g,y))return tr.constructResult(g,y)}throw new G}static addOrTally(a,c){if(c==null)return;let d=!1;for(let p of a)if(p.getValue()===c.getValue()){p.incrementCount(),d=!0;break}d||a.push(c)}reset(){this.possibleLeftPairs.length=0,this.possibleRightPairs.length=0}static constructResult(a,c){let d=4537077*a.getValue()+c.getValue(),p=new String(d).toString(),x=new ae;for(let A=13-p.length;A>0;A--)x.append("0");x.append(p);let g=0;for(let A=0;A<13;A++){let O=x.charAt(A).charCodeAt(0)-48;g+=A&1?O:3*O}g=10-g%10,g===10&&(g=0),x.append(g.toString());let y=a.getFinderPattern().getResultPoints(),E=c.getFinderPattern().getResultPoints();return new it(x.toString(),null,0,[y[0],y[1],E[0],E[1]],Se.RSS_14,new Date().getTime())}static checkChecksum(a,c){let d=(a.getChecksumPortion()+16*c.getChecksumPortion())%79,p=9*a.getFinderPattern().getValue()+c.getFinderPattern().getValue();return p>72&&p--,p>8&&p--,d===p}decodePair(a,c,d,p){try{let x=this.findFinderPattern(a,c),g=this.parseFoundFinderPattern(a,d,c,x),y=p==null?null:p.get(k.NEED_RESULT_POINT_CALLBACK);if(y!=null){let O=(x[0]+x[1])/2;c&&(O=a.getSize()-1-O),y.foundPossibleResultPoint(new Oe(O,d))}let E=this.decodeDataCharacter(a,g,!0),A=this.decodeDataCharacter(a,g,!1);return new Nb(1597*E.getValue()+A.getValue(),E.getChecksumPortion()+4*A.getChecksumPortion(),g)}catch{return null}}decodeDataCharacter(a,c,d){let p=this.getDataCharacterCounters();for(let q=0;q<p.length;q++)p[q]=0;if(d)dr.recordPatternInReverse(a,c.getStartEnd()[0],p);else{dr.recordPattern(a,c.getStartEnd()[1]+1,p);for(let q=0,re=p.length-1;q<re;q++,re--){let pe=p[q];p[q]=p[re],p[re]=pe}}let x=d?16:15,g=Je.sum(new Int32Array(p))/x,y=this.getOddCounts(),E=this.getEvenCounts(),A=this.getOddRoundingErrors(),O=this.getEvenRoundingErrors();for(let q=0;q<p.length;q++){let re=p[q]/g,pe=Math.floor(re+.5);pe<1?pe=1:pe>8&&(pe=8);let ge=Math.floor(q/2);q&1?(E[ge]=pe,O[ge]=re-pe):(y[ge]=pe,A[ge]=re-pe)}this.adjustOddEvenCounts(d,x);let j=0,L=0;for(let q=y.length-1;q>=0;q--)L*=9,L+=y[q],j+=y[q];let z=0,W=0;for(let q=E.length-1;q>=0;q--)z*=9,z+=E[q],W+=E[q];let $=L+3*z;if(d){if(j&1||j>12||j<4)throw new G;let q=(12-j)/2,re=tr.OUTSIDE_ODD_WIDEST[q],pe=9-re,ge=Li.getRSSvalue(y,re,!1),fe=Li.getRSSvalue(E,pe,!0),rt=tr.OUTSIDE_EVEN_TOTAL_SUBSET[q],Ye=tr.OUTSIDE_GSUM[q];return new wo(ge*rt+fe+Ye,$)}else{if(W&1||W>10||W<4)throw new G;let q=(10-W)/2,re=tr.INSIDE_ODD_WIDEST[q],pe=9-re,ge=Li.getRSSvalue(y,re,!0),fe=Li.getRSSvalue(E,pe,!1),rt=tr.INSIDE_ODD_TOTAL_SUBSET[q],Ye=tr.INSIDE_GSUM[q];return new wo(fe*rt+ge+Ye,$)}}findFinderPattern(a,c){let d=this.getDecodeFinderCounters();d[0]=0,d[1]=0,d[2]=0,d[3]=0;let p=a.getSize(),x=!1,g=0;for(;g<p&&(x=!a.get(g),c!==x);)g++;let y=0,E=g;for(let A=g;A<p;A++)if(a.get(A)!==x)d[y]++;else{if(y===3){if(Xr.isFinderPattern(d))return[E,A];E+=d[0]+d[1],d[0]=d[2],d[1]=d[3],d[2]=0,d[3]=0,y--}else y++;d[y]=1,x=!x}throw new G}parseFoundFinderPattern(a,c,d,p){let x=a.get(p[0]),g=p[0]-1;for(;g>=0&&x!==a.get(g);)g--;g++;const y=p[0]-g,E=this.getDecodeFinderCounters(),A=new Int32Array(E.length);b.arraycopy(E,0,A,1,E.length-1),A[0]=y;const O=this.parseFinderValue(A,tr.FINDER_PATTERNS);let j=g,L=p[1];return d&&(j=a.getSize()-1-j,L=a.getSize()-1-L),new Ru(O,[g,p[1]],j,L,c)}adjustOddEvenCounts(a,c){let d=Je.sum(new Int32Array(this.getOddCounts())),p=Je.sum(new Int32Array(this.getEvenCounts())),x=!1,g=!1,y=!1,E=!1;a?(d>12?g=!0:d<4&&(x=!0),p>12?E=!0:p<4&&(y=!0)):(d>11?g=!0:d<5&&(x=!0),p>10?E=!0:p<4&&(y=!0));let A=d+p-c,O=(d&1)===(a?1:0),j=(p&1)===1;if(A===1)if(O){if(j)throw new G;g=!0}else{if(!j)throw new G;E=!0}else if(A===-1)if(O){if(j)throw new G;x=!0}else{if(!j)throw new G;y=!0}else if(A===0){if(O){if(!j)throw new G;d<p?(x=!0,E=!0):(g=!0,y=!0)}else if(j)throw new G}else throw new G;if(x){if(g)throw new G;Xr.increment(this.getOddCounts(),this.getOddRoundingErrors())}if(g&&Xr.decrement(this.getOddCounts(),this.getOddRoundingErrors()),y){if(E)throw new G;Xr.increment(this.getEvenCounts(),this.getOddRoundingErrors())}E&&Xr.decrement(this.getEvenCounts(),this.getEvenRoundingErrors())}}tr.OUTSIDE_EVEN_TOTAL_SUBSET=[1,10,34,70,126],tr.INSIDE_ODD_TOTAL_SUBSET=[4,20,48,81],tr.OUTSIDE_GSUM=[0,161,961,2015,2715],tr.INSIDE_GSUM=[0,336,1036,1516],tr.OUTSIDE_ODD_WIDEST=[8,6,4,3,1],tr.INSIDE_ODD_WIDEST=[2,4,6,8],tr.FINDER_PATTERNS=[Int32Array.from([3,8,2,1]),Int32Array.from([3,5,5,1]),Int32Array.from([3,3,7,1]),Int32Array.from([3,1,9,1]),Int32Array.from([2,7,4,1]),Int32Array.from([2,5,6,1]),Int32Array.from([2,3,8,1]),Int32Array.from([1,5,7,1]),Int32Array.from([1,3,9,1])];class Ao extends dr{constructor(a,c){super(),this.readers=[],this.verbose=c===!0;const d=a?a.get(k.POSSIBLE_FORMATS):null,p=a&&a.get(k.ASSUME_CODE_39_CHECK_DIGIT)!==void 0;d?((d.includes(Se.EAN_13)||d.includes(Se.UPC_A)||d.includes(Se.EAN_8)||d.includes(Se.UPC_E))&&this.readers.push(new N0(a)),d.includes(Se.CODE_39)&&this.readers.push(new pr(p)),d.includes(Se.CODE_128)&&this.readers.push(new Ce),d.includes(Se.ITF)&&this.readers.push(new Tt),d.includes(Se.RSS_14)&&this.readers.push(new tr),d.includes(Se.RSS_EXPANDED)&&this.readers.push(new ce(this.verbose))):(this.readers.push(new N0(a)),this.readers.push(new pr),this.readers.push(new N0(a)),this.readers.push(new Ce),this.readers.push(new Tt),this.readers.push(new tr),this.readers.push(new ce(this.verbose)))}decodeRow(a,c,d){for(let p=0;p<this.readers.length;p++)try{return this.readers[p].decodeRow(a,c,d)}catch{}throw new G}reset(){this.readers.forEach(a=>a.reset())}}class _b extends Pt{constructor(a=500,c){super(new Ao(c),a,c)}}class wt{constructor(a,c,d){this.ecCodewords=a,this.ecBlocks=[c],d&&this.ecBlocks.push(d)}getECCodewords(){return this.ecCodewords}getECBlocks(){return this.ecBlocks}}class mt{constructor(a,c){this.count=a,this.dataCodewords=c}getCount(){return this.count}getDataCodewords(){return this.dataCodewords}}class st{constructor(a,c,d,p,x,g){this.versionNumber=a,this.symbolSizeRows=c,this.symbolSizeColumns=d,this.dataRegionSizeRows=p,this.dataRegionSizeColumns=x,this.ecBlocks=g;let y=0;const E=g.getECCodewords(),A=g.getECBlocks();for(let O of A)y+=O.getCount()*(O.getDataCodewords()+E);this.totalCodewords=y}getVersionNumber(){return this.versionNumber}getSymbolSizeRows(){return this.symbolSizeRows}getSymbolSizeColumns(){return this.symbolSizeColumns}getDataRegionSizeRows(){return this.dataRegionSizeRows}getDataRegionSizeColumns(){return this.dataRegionSizeColumns}getTotalCodewords(){return this.totalCodewords}getECBlocks(){return this.ecBlocks}static getVersionForDimensions(a,c){if(a&1||c&1)throw new M;for(let d of st.VERSIONS)if(d.symbolSizeRows===a&&d.symbolSizeColumns===c)return d;throw new M}toString(){return""+this.versionNumber}static buildVersions(){return[new st(1,10,10,8,8,new wt(5,new mt(1,3))),new st(2,12,12,10,10,new wt(7,new mt(1,5))),new st(3,14,14,12,12,new wt(10,new mt(1,8))),new st(4,16,16,14,14,new wt(12,new mt(1,12))),new st(5,18,18,16,16,new wt(14,new mt(1,18))),new st(6,20,20,18,18,new wt(18,new mt(1,22))),new st(7,22,22,20,20,new wt(20,new mt(1,30))),new st(8,24,24,22,22,new wt(24,new mt(1,36))),new st(9,26,26,24,24,new wt(28,new mt(1,44))),new st(10,32,32,14,14,new wt(36,new mt(1,62))),new st(11,36,36,16,16,new wt(42,new mt(1,86))),new st(12,40,40,18,18,new wt(48,new mt(1,114))),new st(13,44,44,20,20,new wt(56,new mt(1,144))),new st(14,48,48,22,22,new wt(68,new mt(1,174))),new st(15,52,52,24,24,new wt(42,new mt(2,102))),new st(16,64,64,14,14,new wt(56,new mt(2,140))),new st(17,72,72,16,16,new wt(36,new mt(4,92))),new st(18,80,80,18,18,new wt(48,new mt(4,114))),new st(19,88,88,20,20,new wt(56,new mt(4,144))),new st(20,96,96,22,22,new wt(68,new mt(4,174))),new st(21,104,104,24,24,new wt(56,new mt(6,136))),new st(22,120,120,18,18,new wt(68,new mt(6,175))),new st(23,132,132,20,20,new wt(62,new mt(8,163))),new st(24,144,144,22,22,new wt(62,new mt(8,156),new mt(2,155))),new st(25,8,18,6,16,new wt(7,new mt(1,5))),new st(26,8,32,6,14,new wt(11,new mt(1,10))),new st(27,12,26,10,24,new wt(14,new mt(1,16))),new st(28,12,36,10,16,new wt(18,new mt(1,22))),new st(29,16,36,14,16,new wt(24,new mt(1,32))),new st(30,16,48,14,22,new wt(28,new mt(1,49)))]}}st.VERSIONS=st.buildVersions();class R0{constructor(a){const c=a.getHeight();if(c<8||c>144||c&1)throw new M;this.version=R0.readVersion(a),this.mappingBitMatrix=this.extractDataRegion(a),this.readMappingMatrix=new K(this.mappingBitMatrix.getWidth(),this.mappingBitMatrix.getHeight())}getVersion(){return this.version}static readVersion(a){const c=a.getHeight(),d=a.getWidth();return st.getVersionForDimensions(c,d)}readCodewords(){const a=new Int8Array(this.version.getTotalCodewords());let c=0,d=4,p=0;const x=this.mappingBitMatrix.getHeight(),g=this.mappingBitMatrix.getWidth();let y=!1,E=!1,A=!1,O=!1;do if(d===x&&p===0&&!y)a[c++]=this.readCorner1(x,g)&255,d-=2,p+=2,y=!0;else if(d===x-2&&p===0&&g&3&&!E)a[c++]=this.readCorner2(x,g)&255,d-=2,p+=2,E=!0;else if(d===x+4&&p===2&&!(g&7)&&!A)a[c++]=this.readCorner3(x,g)&255,d-=2,p+=2,A=!0;else if(d===x-2&&p===0&&(g&7)===4&&!O)a[c++]=this.readCorner4(x,g)&255,d-=2,p+=2,O=!0;else{do d<x&&p>=0&&!this.readMappingMatrix.get(p,d)&&(a[c++]=this.readUtah(d,p,x,g)&255),d-=2,p+=2;while(d>=0&&p<g);d+=1,p+=3;do d>=0&&p<g&&!this.readMappingMatrix.get(p,d)&&(a[c++]=this.readUtah(d,p,x,g)&255),d+=2,p-=2;while(d<x&&p>=0);d+=3,p+=1}while(d<x||p<g);if(c!==this.version.getTotalCodewords())throw new M;return a}readModule(a,c,d,p){return a<0&&(a+=d,c+=4-(d+4&7)),c<0&&(c+=p,a+=4-(p+4&7)),this.readMappingMatrix.set(c,a),this.mappingBitMatrix.get(c,a)}readUtah(a,c,d,p){let x=0;return this.readModule(a-2,c-2,d,p)&&(x|=1),x<<=1,this.readModule(a-2,c-1,d,p)&&(x|=1),x<<=1,this.readModule(a-1,c-2,d,p)&&(x|=1),x<<=1,this.readModule(a-1,c-1,d,p)&&(x|=1),x<<=1,this.readModule(a-1,c,d,p)&&(x|=1),x<<=1,this.readModule(a,c-2,d,p)&&(x|=1),x<<=1,this.readModule(a,c-1,d,p)&&(x|=1),x<<=1,this.readModule(a,c,d,p)&&(x|=1),x}readCorner1(a,c){let d=0;return this.readModule(a-1,0,a,c)&&(d|=1),d<<=1,this.readModule(a-1,1,a,c)&&(d|=1),d<<=1,this.readModule(a-1,2,a,c)&&(d|=1),d<<=1,this.readModule(0,c-2,a,c)&&(d|=1),d<<=1,this.readModule(0,c-1,a,c)&&(d|=1),d<<=1,this.readModule(1,c-1,a,c)&&(d|=1),d<<=1,this.readModule(2,c-1,a,c)&&(d|=1),d<<=1,this.readModule(3,c-1,a,c)&&(d|=1),d}readCorner2(a,c){let d=0;return this.readModule(a-3,0,a,c)&&(d|=1),d<<=1,this.readModule(a-2,0,a,c)&&(d|=1),d<<=1,this.readModule(a-1,0,a,c)&&(d|=1),d<<=1,this.readModule(0,c-4,a,c)&&(d|=1),d<<=1,this.readModule(0,c-3,a,c)&&(d|=1),d<<=1,this.readModule(0,c-2,a,c)&&(d|=1),d<<=1,this.readModule(0,c-1,a,c)&&(d|=1),d<<=1,this.readModule(1,c-1,a,c)&&(d|=1),d}readCorner3(a,c){let d=0;return this.readModule(a-1,0,a,c)&&(d|=1),d<<=1,this.readModule(a-1,c-1,a,c)&&(d|=1),d<<=1,this.readModule(0,c-3,a,c)&&(d|=1),d<<=1,this.readModule(0,c-2,a,c)&&(d|=1),d<<=1,this.readModule(0,c-1,a,c)&&(d|=1),d<<=1,this.readModule(1,c-3,a,c)&&(d|=1),d<<=1,this.readModule(1,c-2,a,c)&&(d|=1),d<<=1,this.readModule(1,c-1,a,c)&&(d|=1),d}readCorner4(a,c){let d=0;return this.readModule(a-3,0,a,c)&&(d|=1),d<<=1,this.readModule(a-2,0,a,c)&&(d|=1),d<<=1,this.readModule(a-1,0,a,c)&&(d|=1),d<<=1,this.readModule(0,c-2,a,c)&&(d|=1),d<<=1,this.readModule(0,c-1,a,c)&&(d|=1),d<<=1,this.readModule(1,c-1,a,c)&&(d|=1),d<<=1,this.readModule(2,c-1,a,c)&&(d|=1),d<<=1,this.readModule(3,c-1,a,c)&&(d|=1),d}extractDataRegion(a){const c=this.version.getSymbolSizeRows(),d=this.version.getSymbolSizeColumns();if(a.getHeight()!==c)throw new v("Dimension of bitMatrix must match the version size");const p=this.version.getDataRegionSizeRows(),x=this.version.getDataRegionSizeColumns(),g=c/p|0,y=d/x|0,E=g*p,A=y*x,O=new K(A,E);for(let j=0;j<g;++j){const L=j*p;for(let z=0;z<y;++z){const W=z*x;for(let $=0;$<p;++$){const q=j*(p+2)+1+$,re=L+$;for(let pe=0;pe<x;++pe){const ge=z*(x+2)+1+pe;if(a.get(ge,q)){const fe=W+pe;O.set(fe,re)}}}}}return O}}class O0{constructor(a,c){this.numDataCodewords=a,this.codewords=c}static getDataBlocks(a,c){const d=c.getECBlocks();let p=0;const x=d.getECBlocks();for(let $ of x)p+=$.getCount();const g=new Array(p);let y=0;for(let $ of x)for(let q=0;q<$.getCount();q++){const re=$.getDataCodewords(),pe=d.getECCodewords()+re;g[y++]=new O0(re,new Uint8Array(pe))}const A=g[0].codewords.length-d.getECCodewords(),O=A-1;let j=0;for(let $=0;$<O;$++)for(let q=0;q<y;q++)g[q].codewords[$]=a[j++];const L=c.getVersionNumber()===24,z=L?8:y;for(let $=0;$<z;$++)g[$].codewords[A-1]=a[j++];const W=g[0].codewords.length;for(let $=A;$<W;$++)for(let q=0;q<y;q++){const re=L?(q+8)%y:q,pe=L&&re>7?$-1:$;g[re].codewords[pe]=a[j++]}if(j!==a.length)throw new v;return g}getNumDataCodewords(){return this.numDataCodewords}getCodewords(){return this.codewords}}class P0{constructor(a){this.bytes=a,this.byteOffset=0,this.bitOffset=0}getBitOffset(){return this.bitOffset}getByteOffset(){return this.byteOffset}readBits(a){if(a<1||a>32||a>this.available())throw new v(""+a);let c=0,d=this.bitOffset,p=this.byteOffset;const x=this.bytes;if(d>0){const g=8-d,y=a<g?a:g,E=g-y,A=255>>8-y<<E;c=(x[p]&A)>>E,a-=y,d+=y,d===8&&(d=0,p++)}if(a>0){for(;a>=8;)c=c<<8|x[p]&255,p++,a-=8;if(a>0){const g=8-a,y=255>>g<<g;c=c<<a|(x[p]&y)>>g,d+=a}}return this.bitOffset=d,this.byteOffset=p,c}available(){return 8*(this.bytes.length-this.byteOffset)-this.bitOffset}}var xr;(function(D){D[D.PAD_ENCODE=0]="PAD_ENCODE",D[D.ASCII_ENCODE=1]="ASCII_ENCODE",D[D.C40_ENCODE=2]="C40_ENCODE",D[D.TEXT_ENCODE=3]="TEXT_ENCODE",D[D.ANSIX12_ENCODE=4]="ANSIX12_ENCODE",D[D.EDIFACT_ENCODE=5]="EDIFACT_ENCODE",D[D.BASE256_ENCODE=6]="BASE256_ENCODE"})(xr||(xr={}));class Ds{static decode(a){const c=new P0(a),d=new ae,p=new ae,x=new Array;let g=xr.ASCII_ENCODE;do if(g===xr.ASCII_ENCODE)g=this.decodeAsciiSegment(c,d,p);else{switch(g){case xr.C40_ENCODE:this.decodeC40Segment(c,d);break;case xr.TEXT_ENCODE:this.decodeTextSegment(c,d);break;case xr.ANSIX12_ENCODE:this.decodeAnsiX12Segment(c,d);break;case xr.EDIFACT_ENCODE:this.decodeEdifactSegment(c,d);break;case xr.BASE256_ENCODE:this.decodeBase256Segment(c,d,x);break;default:throw new M}g=xr.ASCII_ENCODE}while(g!==xr.PAD_ENCODE&&c.available()>0);return p.length()>0&&d.append(p.toString()),new Jt(a,d.toString(),x.length===0?null:x,null)}static decodeAsciiSegment(a,c,d){let p=!1;do{let x=a.readBits(8);if(x===0)throw new M;if(x<=128)return p&&(x+=128),c.append(String.fromCharCode(x-1)),xr.ASCII_ENCODE;if(x===129)return xr.PAD_ENCODE;if(x<=229){const g=x-130;g<10&&c.append("0"),c.append(""+g)}else switch(x){case 230:return xr.C40_ENCODE;case 231:return xr.BASE256_ENCODE;case 232:c.append("");break;case 233:case 234:break;case 235:p=!0;break;case 236:c.append("[)>05"),d.insert(0,"");break;case 237:c.append("[)>06"),d.insert(0,"");break;case 238:return xr.ANSIX12_ENCODE;case 239:return xr.TEXT_ENCODE;case 240:return xr.EDIFACT_ENCODE;case 241:break;default:if(x!==254||a.available()!==0)throw new M;break}}while(a.available()>0);return xr.ASCII_ENCODE}static decodeC40Segment(a,c){let d=!1;const p=[];let x=0;do{if(a.available()===8)return;const g=a.readBits(8);if(g===254)return;this.parseTwoBytes(g,a.readBits(8),p);for(let y=0;y<3;y++){const E=p[y];switch(x){case 0:if(E<3)x=E+1;else if(E<this.C40_BASIC_SET_CHARS.length){const A=this.C40_BASIC_SET_CHARS[E];d?(c.append(String.fromCharCode(A.charCodeAt(0)+128)),d=!1):c.append(A)}else throw new M;break;case 1:d?(c.append(String.fromCharCode(E+128)),d=!1):c.append(String.fromCharCode(E)),x=0;break;case 2:if(E<this.C40_SHIFT2_SET_CHARS.length){const A=this.C40_SHIFT2_SET_CHARS[E];d?(c.append(String.fromCharCode(A.charCodeAt(0)+128)),d=!1):c.append(A)}else switch(E){case 27:c.append("");break;case 30:d=!0;break;default:throw new M}x=0;break;case 3:d?(c.append(String.fromCharCode(E+224)),d=!1):c.append(String.fromCharCode(E+96)),x=0;break;default:throw new M}}}while(a.available()>0)}static decodeTextSegment(a,c){let d=!1,p=[],x=0;do{if(a.available()===8)return;const g=a.readBits(8);if(g===254)return;this.parseTwoBytes(g,a.readBits(8),p);for(let y=0;y<3;y++){const E=p[y];switch(x){case 0:if(E<3)x=E+1;else if(E<this.TEXT_BASIC_SET_CHARS.length){const A=this.TEXT_BASIC_SET_CHARS[E];d?(c.append(String.fromCharCode(A.charCodeAt(0)+128)),d=!1):c.append(A)}else throw new M;break;case 1:d?(c.append(String.fromCharCode(E+128)),d=!1):c.append(String.fromCharCode(E)),x=0;break;case 2:if(E<this.TEXT_SHIFT2_SET_CHARS.length){const A=this.TEXT_SHIFT2_SET_CHARS[E];d?(c.append(String.fromCharCode(A.charCodeAt(0)+128)),d=!1):c.append(A)}else switch(E){case 27:c.append("");break;case 30:d=!0;break;default:throw new M}x=0;break;case 3:if(E<this.TEXT_SHIFT3_SET_CHARS.length){const A=this.TEXT_SHIFT3_SET_CHARS[E];d?(c.append(String.fromCharCode(A.charCodeAt(0)+128)),d=!1):c.append(A),x=0}else throw new M;break;default:throw new M}}}while(a.available()>0)}static decodeAnsiX12Segment(a,c){const d=[];do{if(a.available()===8)return;const p=a.readBits(8);if(p===254)return;this.parseTwoBytes(p,a.readBits(8),d);for(let x=0;x<3;x++){const g=d[x];switch(g){case 0:c.append("\r");break;case 1:c.append("*");break;case 2:c.append(">");break;case 3:c.append(" ");break;default:if(g<14)c.append(String.fromCharCode(g+44));else if(g<40)c.append(String.fromCharCode(g+51));else throw new M;break}}}while(a.available()>0)}static parseTwoBytes(a,c,d){let p=(a<<8)+c-1,x=Math.floor(p/1600);d[0]=x,p-=x*1600,x=Math.floor(p/40),d[1]=x,d[2]=p-x*40}static decodeEdifactSegment(a,c){do{if(a.available()<=16)return;for(let d=0;d<4;d++){let p=a.readBits(6);if(p===31){const x=8-a.getBitOffset();x!==8&&a.readBits(x);return}p&32||(p|=64),c.append(String.fromCharCode(p))}}while(a.available()>0)}static decodeBase256Segment(a,c,d){let p=1+a.getByteOffset();const x=this.unrandomize255State(a.readBits(8),p++);let g;if(x===0?g=a.available()/8|0:x<250?g=x:g=250*(x-249)+this.unrandomize255State(a.readBits(8),p++),g<0)throw new M;const y=new Uint8Array(g);for(let E=0;E<g;E++){if(a.available()<8)throw new M;y[E]=this.unrandomize255State(a.readBits(8),p++)}d.push(y);try{c.append(ee.decode(y,Z.ISO88591))}catch(E){throw new Wr("Platform does not support required encoding: "+E.message)}}static unrandomize255State(a,c){const d=149*c%255+1,p=a-d;return p>=0?p:p+256}}Ds.C40_BASIC_SET_CHARS=["*","*","*"," ","0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"],Ds.C40_SHIFT2_SET_CHARS=["!",'"',"#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","@","[","\\","]","^","_"],Ds.TEXT_BASIC_SET_CHARS=["*","*","*"," ","0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z"],Ds.TEXT_SHIFT2_SET_CHARS=Ds.C40_SHIFT2_SET_CHARS,Ds.TEXT_SHIFT3_SET_CHARS=["`","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","{","|","}","~",""];class Ib{constructor(){this.rsDecoder=new xi(Ge.DATA_MATRIX_FIELD_256)}decode(a){const c=new R0(a),d=c.getVersion(),p=c.readCodewords(),x=O0.getDataBlocks(p,d);let g=0;for(let A of x)g+=A.getNumDataCodewords();const y=new Uint8Array(g),E=x.length;for(let A=0;A<E;A++){const O=x[A],j=O.getCodewords(),L=O.getNumDataCodewords();this.correctErrors(j,L);for(let z=0;z<L;z++)y[z*E+A]=j[z]}return Ds.decode(y)}correctErrors(a,c){const d=new Int32Array(a);try{this.rsDecoder.decode(d,a.length-c)}catch{throw new C}for(let p=0;p<c;p++)a[p]=d[p]}}class ar{constructor(a){this.image=a,this.rectangleDetector=new ds(this.image)}detect(){const a=this.rectangleDetector.detect();let c=this.detectSolid1(a);if(c=this.detectSolid2(c),c[3]=this.correctTopRight(c),!c[3])throw new G;c=this.shiftToModuleCenter(c);const d=c[0],p=c[1],x=c[2],g=c[3];let y=this.transitionsBetween(d,g)+1,E=this.transitionsBetween(x,g)+1;(y&1)===1&&(y+=1),(E&1)===1&&(E+=1),4*y<7*E&&4*E<7*y&&(y=E=Math.max(y,E));let A=ar.sampleGrid(this.image,d,p,x,g,y,E);return new Iu(A,[d,p,x,g])}static shiftPoint(a,c,d){let p=(c.getX()-a.getX())/(d+1),x=(c.getY()-a.getY())/(d+1);return new Oe(a.getX()+p,a.getY()+x)}static moveAway(a,c,d){let p=a.getX(),x=a.getY();return p<c?p-=1:p+=1,x<d?x-=1:x+=1,new Oe(p,x)}detectSolid1(a){let c=a[0],d=a[1],p=a[3],x=a[2],g=this.transitionsBetween(c,d),y=this.transitionsBetween(d,p),E=this.transitionsBetween(p,x),A=this.transitionsBetween(x,c),O=g,j=[x,c,d,p];return O>y&&(O=y,j[0]=c,j[1]=d,j[2]=p,j[3]=x),O>E&&(O=E,j[0]=d,j[1]=p,j[2]=x,j[3]=c),O>A&&(j[0]=p,j[1]=x,j[2]=c,j[3]=d),j}detectSolid2(a){let c=a[0],d=a[1],p=a[2],x=a[3],g=this.transitionsBetween(c,x),y=ar.shiftPoint(d,p,(g+1)*4),E=ar.shiftPoint(p,d,(g+1)*4),A=this.transitionsBetween(y,c),O=this.transitionsBetween(E,x);return A<O?(a[0]=c,a[1]=d,a[2]=p,a[3]=x):(a[0]=d,a[1]=p,a[2]=x,a[3]=c),a}correctTopRight(a){let c=a[0],d=a[1],p=a[2],x=a[3],g=this.transitionsBetween(c,x),y=this.transitionsBetween(d,x),E=ar.shiftPoint(c,d,(y+1)*4),A=ar.shiftPoint(p,d,(g+1)*4);g=this.transitionsBetween(E,x),y=this.transitionsBetween(A,x);let O=new Oe(x.getX()+(p.getX()-d.getX())/(g+1),x.getY()+(p.getY()-d.getY())/(g+1)),j=new Oe(x.getX()+(c.getX()-d.getX())/(y+1),x.getY()+(c.getY()-d.getY())/(y+1));if(!this.isValid(O))return this.isValid(j)?j:null;if(!this.isValid(j))return O;let L=this.transitionsBetween(E,O)+this.transitionsBetween(A,O),z=this.transitionsBetween(E,j)+this.transitionsBetween(A,j);return L>z?O:j}shiftToModuleCenter(a){let c=a[0],d=a[1],p=a[2],x=a[3],g=this.transitionsBetween(c,x)+1,y=this.transitionsBetween(p,x)+1,E=ar.shiftPoint(c,d,y*4),A=ar.shiftPoint(p,d,g*4);g=this.transitionsBetween(E,x)+1,y=this.transitionsBetween(A,x)+1,(g&1)===1&&(g+=1),(y&1)===1&&(y+=1);let O=(c.getX()+d.getX()+p.getX()+x.getX())/4,j=(c.getY()+d.getY()+p.getY()+x.getY())/4;c=ar.moveAway(c,O,j),d=ar.moveAway(d,O,j),p=ar.moveAway(p,O,j),x=ar.moveAway(x,O,j);let L,z;return E=ar.shiftPoint(c,d,y*4),E=ar.shiftPoint(E,x,g*4),L=ar.shiftPoint(d,c,y*4),L=ar.shiftPoint(L,p,g*4),A=ar.shiftPoint(p,x,y*4),A=ar.shiftPoint(A,d,g*4),z=ar.shiftPoint(x,p,y*4),z=ar.shiftPoint(z,c,g*4),[E,L,A,z]}isValid(a){return a.getX()>=0&&a.getX()<this.image.getWidth()&&a.getY()>0&&a.getY()<this.image.getHeight()}static sampleGrid(a,c,d,p,x,g,y){return Os.getInstance().sampleGrid(a,g,y,.5,.5,g-.5,.5,g-.5,y-.5,.5,y-.5,c.getX(),c.getY(),x.getX(),x.getY(),p.getX(),p.getY(),d.getX(),d.getY())}transitionsBetween(a,c){let d=Math.trunc(a.getX()),p=Math.trunc(a.getY()),x=Math.trunc(c.getX()),g=Math.trunc(c.getY()),y=Math.abs(g-p)>Math.abs(x-d);if(y){let $=d;d=p,p=$,$=x,x=g,g=$}let E=Math.abs(x-d),A=Math.abs(g-p),O=-E/2,j=p<g?1:-1,L=d<x?1:-1,z=0,W=this.image.get(y?p:d,y?d:p);for(let $=d,q=p;$!==x;$+=L){let re=this.image.get(y?q:$,y?$:q);if(re!==W&&(z++,W=re),O+=A,O>0){if(q===g)break;q+=j,O-=E}}return z}}class js{constructor(){this.decoder=new Ib}decode(a,c=null){let d,p;if(c!=null&&c.has(k.PURE_BARCODE)){const A=js.extractPureBits(a.getBlackMatrix());d=this.decoder.decode(A),p=js.NO_POINTS}else{const A=new ar(a.getBlackMatrix()).detect();d=this.decoder.decode(A.getBits()),p=A.getPoints()}const x=d.getRawBytes(),g=new it(d.getText(),x,8*x.length,p,Se.DATA_MATRIX,b.currentTimeMillis()),y=d.getByteSegments();y!=null&&g.putMetadata(We.BYTE_SEGMENTS,y);const E=d.getECLevel();return E!=null&&g.putMetadata(We.ERROR_CORRECTION_LEVEL,E),g}reset(){}static extractPureBits(a){const c=a.getTopLeftOnBit(),d=a.getBottomRightOnBit();if(c==null||d==null)throw new G;const p=this.moduleSize(c,a);let x=c[1];const g=d[1];let y=c[0];const A=(d[0]-y+1)/p,O=(g-x+1)/p;if(A<=0||O<=0)throw new G;const j=p/2;x+=j,y+=j;const L=new K(A,O);for(let z=0;z<O;z++){const W=x+z*p;for(let $=0;$<A;$++)a.get(y+$*p,W)&&L.set($,z)}return L}static moduleSize(a,c){const d=c.getWidth();let p=a[0];const x=a[1];for(;p<d&&c.get(p,x);)p++;if(p===d)throw new G;const g=p-a[0];if(g===0)throw new G;return g}}js.NO_POINTS=[];class Tb extends Pt{constructor(a=500){super(new js,a)}}var bo;(function(D){D[D.L=0]="L",D[D.M=1]="M",D[D.Q=2]="Q",D[D.H=3]="H"})(bo||(bo={}));class Dt{constructor(a,c,d){this.value=a,this.stringValue=c,this.bits=d,Dt.FOR_BITS.set(d,this),Dt.FOR_VALUE.set(a,this)}getValue(){return this.value}getBits(){return this.bits}static fromString(a){switch(a){case"L":return Dt.L;case"M":return Dt.M;case"Q":return Dt.Q;case"H":return Dt.H;default:throw new m(a+"not available")}}toString(){return this.stringValue}equals(a){if(!(a instanceof Dt))return!1;const c=a;return this.value===c.value}static forBits(a){if(a<0||a>=Dt.FOR_BITS.size)throw new v;return Dt.FOR_BITS.get(a)}}Dt.FOR_BITS=new Map,Dt.FOR_VALUE=new Map,Dt.L=new Dt(bo.L,"L",1),Dt.M=new Dt(bo.M,"M",0),Dt.Q=new Dt(bo.Q,"Q",3),Dt.H=new Dt(bo.H,"H",2);class Yr{constructor(a){this.errorCorrectionLevel=Dt.forBits(a>>3&3),this.dataMask=a&7}static numBitsDiffering(a,c){return T.bitCount(a^c)}static decodeFormatInformation(a,c){const d=Yr.doDecodeFormatInformation(a,c);return d!==null?d:Yr.doDecodeFormatInformation(a^Yr.FORMAT_INFO_MASK_QR,c^Yr.FORMAT_INFO_MASK_QR)}static doDecodeFormatInformation(a,c){let d=Number.MAX_SAFE_INTEGER,p=0;for(const x of Yr.FORMAT_INFO_DECODE_LOOKUP){const g=x[0];if(g===a||g===c)return new Yr(x[1]);let y=Yr.numBitsDiffering(a,g);y<d&&(p=x[1],d=y),a!==c&&(y=Yr.numBitsDiffering(c,g),y<d&&(p=x[1],d=y))}return d<=3?new Yr(p):null}getErrorCorrectionLevel(){return this.errorCorrectionLevel}getDataMask(){return this.dataMask}hashCode(){return this.errorCorrectionLevel.getBits()<<3|this.dataMask}equals(a){if(!(a instanceof Yr))return!1;const c=a;return this.errorCorrectionLevel===c.errorCorrectionLevel&&this.dataMask===c.dataMask}}Yr.FORMAT_INFO_MASK_QR=21522,Yr.FORMAT_INFO_DECODE_LOOKUP=[Int32Array.from([21522,0]),Int32Array.from([20773,1]),Int32Array.from([24188,2]),Int32Array.from([23371,3]),Int32Array.from([17913,4]),Int32Array.from([16590,5]),Int32Array.from([20375,6]),Int32Array.from([19104,7]),Int32Array.from([30660,8]),Int32Array.from([29427,9]),Int32Array.from([32170,10]),Int32Array.from([30877,11]),Int32Array.from([26159,12]),Int32Array.from([25368,13]),Int32Array.from([27713,14]),Int32Array.from([26998,15]),Int32Array.from([5769,16]),Int32Array.from([5054,17]),Int32Array.from([7399,18]),Int32Array.from([6608,19]),Int32Array.from([1890,20]),Int32Array.from([597,21]),Int32Array.from([3340,22]),Int32Array.from([2107,23]),Int32Array.from([13663,24]),Int32Array.from([12392,25]),Int32Array.from([16177,26]),Int32Array.from([14854,27]),Int32Array.from([9396,28]),Int32Array.from([8579,29]),Int32Array.from([11994,30]),Int32Array.from([11245,31])];class Q{constructor(a,...c){this.ecCodewordsPerBlock=a,this.ecBlocks=c}getECCodewordsPerBlock(){return this.ecCodewordsPerBlock}getNumBlocks(){let a=0;const c=this.ecBlocks;for(const d of c)a+=d.getCount();return a}getTotalECCodewords(){return this.ecCodewordsPerBlock*this.getNumBlocks()}getECBlocks(){return this.ecBlocks}}class V{constructor(a,c){this.count=a,this.dataCodewords=c}getCount(){return this.count}getDataCodewords(){return this.dataCodewords}}class De{constructor(a,c,...d){this.versionNumber=a,this.alignmentPatternCenters=c,this.ecBlocks=d;let p=0;const x=d[0].getECCodewordsPerBlock(),g=d[0].getECBlocks();for(const y of g)p+=y.getCount()*(y.getDataCodewords()+x);this.totalCodewords=p}getVersionNumber(){return this.versionNumber}getAlignmentPatternCenters(){return this.alignmentPatternCenters}getTotalCodewords(){return this.totalCodewords}getDimensionForVersion(){return 17+4*this.versionNumber}getECBlocksForLevel(a){return this.ecBlocks[a.getValue()]}static getProvisionalVersionForDimension(a){if(a%4!==1)throw new M;try{return this.getVersionForNumber((a-17)/4)}catch{throw new M}}static getVersionForNumber(a){if(a<1||a>40)throw new v;return De.VERSIONS[a-1]}static decodeVersionInformation(a){let c=Number.MAX_SAFE_INTEGER,d=0;for(let p=0;p<De.VERSION_DECODE_INFO.length;p++){const x=De.VERSION_DECODE_INFO[p];if(x===a)return De.getVersionForNumber(p+7);const g=Yr.numBitsDiffering(a,x);g<c&&(d=p+7,c=g)}return c<=3?De.getVersionForNumber(d):null}buildFunctionPattern(){const a=this.getDimensionForVersion(),c=new K(a);c.setRegion(0,0,9,9),c.setRegion(a-8,0,8,9),c.setRegion(0,a-8,9,8);const d=this.alignmentPatternCenters.length;for(let p=0;p<d;p++){const x=this.alignmentPatternCenters[p]-2;for(let g=0;g<d;g++)p===0&&(g===0||g===d-1)||p===d-1&&g===0||c.setRegion(this.alignmentPatternCenters[g]-2,x,5,5)}return c.setRegion(6,9,1,a-17),c.setRegion(9,6,a-17,1),this.versionNumber>6&&(c.setRegion(a-11,0,3,6),c.setRegion(0,a-11,6,3)),c}toString(){return""+this.versionNumber}}De.VERSION_DECODE_INFO=Int32Array.from([31892,34236,39577,42195,48118,51042,55367,58893,63784,68472,70749,76311,79154,84390,87683,92361,96236,102084,102881,110507,110734,117786,119615,126325,127568,133589,136944,141498,145311,150283,152622,158308,161089,167017]),De.VERSIONS=[new De(1,new Int32Array(0),new Q(7,new V(1,19)),new Q(10,new V(1,16)),new Q(13,new V(1,13)),new Q(17,new V(1,9))),new De(2,Int32Array.from([6,18]),new Q(10,new V(1,34)),new Q(16,new V(1,28)),new Q(22,new V(1,22)),new Q(28,new V(1,16))),new De(3,Int32Array.from([6,22]),new Q(15,new V(1,55)),new Q(26,new V(1,44)),new Q(18,new V(2,17)),new Q(22,new V(2,13))),new De(4,Int32Array.from([6,26]),new Q(20,new V(1,80)),new Q(18,new V(2,32)),new Q(26,new V(2,24)),new Q(16,new V(4,9))),new De(5,Int32Array.from([6,30]),new Q(26,new V(1,108)),new Q(24,new V(2,43)),new Q(18,new V(2,15),new V(2,16)),new Q(22,new V(2,11),new V(2,12))),new De(6,Int32Array.from([6,34]),new Q(18,new V(2,68)),new Q(16,new V(4,27)),new Q(24,new V(4,19)),new Q(28,new V(4,15))),new De(7,Int32Array.from([6,22,38]),new Q(20,new V(2,78)),new Q(18,new V(4,31)),new Q(18,new V(2,14),new V(4,15)),new Q(26,new V(4,13),new V(1,14))),new De(8,Int32Array.from([6,24,42]),new Q(24,new V(2,97)),new Q(22,new V(2,38),new V(2,39)),new Q(22,new V(4,18),new V(2,19)),new Q(26,new V(4,14),new V(2,15))),new De(9,Int32Array.from([6,26,46]),new Q(30,new V(2,116)),new Q(22,new V(3,36),new V(2,37)),new Q(20,new V(4,16),new V(4,17)),new Q(24,new V(4,12),new V(4,13))),new De(10,Int32Array.from([6,28,50]),new Q(18,new V(2,68),new V(2,69)),new Q(26,new V(4,43),new V(1,44)),new Q(24,new V(6,19),new V(2,20)),new Q(28,new V(6,15),new V(2,16))),new De(11,Int32Array.from([6,30,54]),new Q(20,new V(4,81)),new Q(30,new V(1,50),new V(4,51)),new Q(28,new V(4,22),new V(4,23)),new Q(24,new V(3,12),new V(8,13))),new De(12,Int32Array.from([6,32,58]),new Q(24,new V(2,92),new V(2,93)),new Q(22,new V(6,36),new V(2,37)),new Q(26,new V(4,20),new V(6,21)),new Q(28,new V(7,14),new V(4,15))),new De(13,Int32Array.from([6,34,62]),new Q(26,new V(4,107)),new Q(22,new V(8,37),new V(1,38)),new Q(24,new V(8,20),new V(4,21)),new Q(22,new V(12,11),new V(4,12))),new De(14,Int32Array.from([6,26,46,66]),new Q(30,new V(3,115),new V(1,116)),new Q(24,new V(4,40),new V(5,41)),new Q(20,new V(11,16),new V(5,17)),new Q(24,new V(11,12),new V(5,13))),new De(15,Int32Array.from([6,26,48,70]),new Q(22,new V(5,87),new V(1,88)),new Q(24,new V(5,41),new V(5,42)),new Q(30,new V(5,24),new V(7,25)),new Q(24,new V(11,12),new V(7,13))),new De(16,Int32Array.from([6,26,50,74]),new Q(24,new V(5,98),new V(1,99)),new Q(28,new V(7,45),new V(3,46)),new Q(24,new V(15,19),new V(2,20)),new Q(30,new V(3,15),new V(13,16))),new De(17,Int32Array.from([6,30,54,78]),new Q(28,new V(1,107),new V(5,108)),new Q(28,new V(10,46),new V(1,47)),new Q(28,new V(1,22),new V(15,23)),new Q(28,new V(2,14),new V(17,15))),new De(18,Int32Array.from([6,30,56,82]),new Q(30,new V(5,120),new V(1,121)),new Q(26,new V(9,43),new V(4,44)),new Q(28,new V(17,22),new V(1,23)),new Q(28,new V(2,14),new V(19,15))),new De(19,Int32Array.from([6,30,58,86]),new Q(28,new V(3,113),new V(4,114)),new Q(26,new V(3,44),new V(11,45)),new Q(26,new V(17,21),new V(4,22)),new Q(26,new V(9,13),new V(16,14))),new De(20,Int32Array.from([6,34,62,90]),new Q(28,new V(3,107),new V(5,108)),new Q(26,new V(3,41),new V(13,42)),new Q(30,new V(15,24),new V(5,25)),new Q(28,new V(15,15),new V(10,16))),new De(21,Int32Array.from([6,28,50,72,94]),new Q(28,new V(4,116),new V(4,117)),new Q(26,new V(17,42)),new Q(28,new V(17,22),new V(6,23)),new Q(30,new V(19,16),new V(6,17))),new De(22,Int32Array.from([6,26,50,74,98]),new Q(28,new V(2,111),new V(7,112)),new Q(28,new V(17,46)),new Q(30,new V(7,24),new V(16,25)),new Q(24,new V(34,13))),new De(23,Int32Array.from([6,30,54,78,102]),new Q(30,new V(4,121),new V(5,122)),new Q(28,new V(4,47),new V(14,48)),new Q(30,new V(11,24),new V(14,25)),new Q(30,new V(16,15),new V(14,16))),new De(24,Int32Array.from([6,28,54,80,106]),new Q(30,new V(6,117),new V(4,118)),new Q(28,new V(6,45),new V(14,46)),new Q(30,new V(11,24),new V(16,25)),new Q(30,new V(30,16),new V(2,17))),new De(25,Int32Array.from([6,32,58,84,110]),new Q(26,new V(8,106),new V(4,107)),new Q(28,new V(8,47),new V(13,48)),new Q(30,new V(7,24),new V(22,25)),new Q(30,new V(22,15),new V(13,16))),new De(26,Int32Array.from([6,30,58,86,114]),new Q(28,new V(10,114),new V(2,115)),new Q(28,new V(19,46),new V(4,47)),new Q(28,new V(28,22),new V(6,23)),new Q(30,new V(33,16),new V(4,17))),new De(27,Int32Array.from([6,34,62,90,118]),new Q(30,new V(8,122),new V(4,123)),new Q(28,new V(22,45),new V(3,46)),new Q(30,new V(8,23),new V(26,24)),new Q(30,new V(12,15),new V(28,16))),new De(28,Int32Array.from([6,26,50,74,98,122]),new Q(30,new V(3,117),new V(10,118)),new Q(28,new V(3,45),new V(23,46)),new Q(30,new V(4,24),new V(31,25)),new Q(30,new V(11,15),new V(31,16))),new De(29,Int32Array.from([6,30,54,78,102,126]),new Q(30,new V(7,116),new V(7,117)),new Q(28,new V(21,45),new V(7,46)),new Q(30,new V(1,23),new V(37,24)),new Q(30,new V(19,15),new V(26,16))),new De(30,Int32Array.from([6,26,52,78,104,130]),new Q(30,new V(5,115),new V(10,116)),new Q(28,new V(19,47),new V(10,48)),new Q(30,new V(15,24),new V(25,25)),new Q(30,new V(23,15),new V(25,16))),new De(31,Int32Array.from([6,30,56,82,108,134]),new Q(30,new V(13,115),new V(3,116)),new Q(28,new V(2,46),new V(29,47)),new Q(30,new V(42,24),new V(1,25)),new Q(30,new V(23,15),new V(28,16))),new De(32,Int32Array.from([6,34,60,86,112,138]),new Q(30,new V(17,115)),new Q(28,new V(10,46),new V(23,47)),new Q(30,new V(10,24),new V(35,25)),new Q(30,new V(19,15),new V(35,16))),new De(33,Int32Array.from([6,30,58,86,114,142]),new Q(30,new V(17,115),new V(1,116)),new Q(28,new V(14,46),new V(21,47)),new Q(30,new V(29,24),new V(19,25)),new Q(30,new V(11,15),new V(46,16))),new De(34,Int32Array.from([6,34,62,90,118,146]),new Q(30,new V(13,115),new V(6,116)),new Q(28,new V(14,46),new V(23,47)),new Q(30,new V(44,24),new V(7,25)),new Q(30,new V(59,16),new V(1,17))),new De(35,Int32Array.from([6,30,54,78,102,126,150]),new Q(30,new V(12,121),new V(7,122)),new Q(28,new V(12,47),new V(26,48)),new Q(30,new V(39,24),new V(14,25)),new Q(30,new V(22,15),new V(41,16))),new De(36,Int32Array.from([6,24,50,76,102,128,154]),new Q(30,new V(6,121),new V(14,122)),new Q(28,new V(6,47),new V(34,48)),new Q(30,new V(46,24),new V(10,25)),new Q(30,new V(2,15),new V(64,16))),new De(37,Int32Array.from([6,28,54,80,106,132,158]),new Q(30,new V(17,122),new V(4,123)),new Q(28,new V(29,46),new V(14,47)),new Q(30,new V(49,24),new V(10,25)),new Q(30,new V(24,15),new V(46,16))),new De(38,Int32Array.from([6,32,58,84,110,136,162]),new Q(30,new V(4,122),new V(18,123)),new Q(28,new V(13,46),new V(32,47)),new Q(30,new V(48,24),new V(14,25)),new Q(30,new V(42,15),new V(32,16))),new De(39,Int32Array.from([6,26,54,82,110,138,166]),new Q(30,new V(20,117),new V(4,118)),new Q(28,new V(40,47),new V(7,48)),new Q(30,new V(43,24),new V(22,25)),new Q(30,new V(10,15),new V(67,16))),new De(40,Int32Array.from([6,30,58,86,114,142,170]),new Q(30,new V(19,118),new V(6,119)),new Q(28,new V(18,47),new V(31,48)),new Q(30,new V(34,24),new V(34,25)),new Q(30,new V(20,15),new V(61,16)))];var Nr;(function(D){D[D.DATA_MASK_000=0]="DATA_MASK_000",D[D.DATA_MASK_001=1]="DATA_MASK_001",D[D.DATA_MASK_010=2]="DATA_MASK_010",D[D.DATA_MASK_011=3]="DATA_MASK_011",D[D.DATA_MASK_100=4]="DATA_MASK_100",D[D.DATA_MASK_101=5]="DATA_MASK_101",D[D.DATA_MASK_110=6]="DATA_MASK_110",D[D.DATA_MASK_111=7]="DATA_MASK_111"})(Nr||(Nr={}));class Zn{constructor(a,c){this.value=a,this.isMasked=c}unmaskBitMatrix(a,c){for(let d=0;d<c;d++)for(let p=0;p<c;p++)this.isMasked(d,p)&&a.flip(p,d)}}Zn.values=new Map([[Nr.DATA_MASK_000,new Zn(Nr.DATA_MASK_000,(D,a)=>(D+a&1)===0)],[Nr.DATA_MASK_001,new Zn(Nr.DATA_MASK_001,(D,a)=>(D&1)===0)],[Nr.DATA_MASK_010,new Zn(Nr.DATA_MASK_010,(D,a)=>a%3===0)],[Nr.DATA_MASK_011,new Zn(Nr.DATA_MASK_011,(D,a)=>(D+a)%3===0)],[Nr.DATA_MASK_100,new Zn(Nr.DATA_MASK_100,(D,a)=>(Math.floor(D/2)+Math.floor(a/3)&1)===0)],[Nr.DATA_MASK_101,new Zn(Nr.DATA_MASK_101,(D,a)=>D*a%6===0)],[Nr.DATA_MASK_110,new Zn(Nr.DATA_MASK_110,(D,a)=>D*a%6<3)],[Nr.DATA_MASK_111,new Zn(Nr.DATA_MASK_111,(D,a)=>(D+a+D*a%3&1)===0)]]);class Rb{constructor(a){const c=a.getHeight();if(c<21||(c&3)!==1)throw new M;this.bitMatrix=a}readFormatInformation(){if(this.parsedFormatInfo!==null&&this.parsedFormatInfo!==void 0)return this.parsedFormatInfo;let a=0;for(let x=0;x<6;x++)a=this.copyBit(x,8,a);a=this.copyBit(7,8,a),a=this.copyBit(8,8,a),a=this.copyBit(8,7,a);for(let x=5;x>=0;x--)a=this.copyBit(8,x,a);const c=this.bitMatrix.getHeight();let d=0;const p=c-7;for(let x=c-1;x>=p;x--)d=this.copyBit(8,x,d);for(let x=c-8;x<c;x++)d=this.copyBit(x,8,d);if(this.parsedFormatInfo=Yr.decodeFormatInformation(a,d),this.parsedFormatInfo!==null)return this.parsedFormatInfo;throw new M}readVersion(){if(this.parsedVersion!==null&&this.parsedVersion!==void 0)return this.parsedVersion;const a=this.bitMatrix.getHeight(),c=Math.floor((a-17)/4);if(c<=6)return De.getVersionForNumber(c);let d=0;const p=a-11;for(let g=5;g>=0;g--)for(let y=a-9;y>=p;y--)d=this.copyBit(y,g,d);let x=De.decodeVersionInformation(d);if(x!==null&&x.getDimensionForVersion()===a)return this.parsedVersion=x,x;d=0;for(let g=5;g>=0;g--)for(let y=a-9;y>=p;y--)d=this.copyBit(g,y,d);if(x=De.decodeVersionInformation(d),x!==null&&x.getDimensionForVersion()===a)return this.parsedVersion=x,x;throw new M}copyBit(a,c,d){return(this.isMirror?this.bitMatrix.get(c,a):this.bitMatrix.get(a,c))?d<<1|1:d<<1}readCodewords(){const a=this.readFormatInformation(),c=this.readVersion(),d=Zn.values.get(a.getDataMask()),p=this.bitMatrix.getHeight();d.unmaskBitMatrix(this.bitMatrix,p);const x=c.buildFunctionPattern();let g=!0;const y=new Uint8Array(c.getTotalCodewords());let E=0,A=0,O=0;for(let j=p-1;j>0;j-=2){j===6&&j--;for(let L=0;L<p;L++){const z=g?p-1-L:L;for(let W=0;W<2;W++)x.get(j-W,z)||(O++,A<<=1,this.bitMatrix.get(j-W,z)&&(A|=1),O===8&&(y[E++]=A,O=0,A=0))}g=!g}if(E!==c.getTotalCodewords())throw new M;return y}remask(){if(this.parsedFormatInfo===null)return;const a=Zn.values[this.parsedFormatInfo.getDataMask()],c=this.bitMatrix.getHeight();a.unmaskBitMatrix(this.bitMatrix,c)}setMirror(a){this.parsedVersion=null,this.parsedFormatInfo=null,this.isMirror=a}mirror(){const a=this.bitMatrix;for(let c=0,d=a.getWidth();c<d;c++)for(let p=c+1,x=a.getHeight();p<x;p++)a.get(c,p)!==a.get(p,c)&&(a.flip(p,c),a.flip(c,p))}}class D0{constructor(a,c){this.numDataCodewords=a,this.codewords=c}static getDataBlocks(a,c,d){if(a.length!==c.getTotalCodewords())throw new v;const p=c.getECBlocksForLevel(d);let x=0;const g=p.getECBlocks();for(const W of g)x+=W.getCount();const y=new Array(x);let E=0;for(const W of g)for(let $=0;$<W.getCount();$++){const q=W.getDataCodewords(),re=p.getECCodewordsPerBlock()+q;y[E++]=new D0(q,new Uint8Array(re))}const A=y[0].codewords.length;let O=y.length-1;for(;O>=0&&y[O].codewords.length!==A;)O--;O++;const j=A-p.getECCodewordsPerBlock();let L=0;for(let W=0;W<j;W++)for(let $=0;$<E;$++)y[$].codewords[W]=a[L++];for(let W=O;W<E;W++)y[W].codewords[j]=a[L++];const z=y[0].codewords.length;for(let W=j;W<z;W++)for(let $=0;$<E;$++){const q=$<O?W:W+1;y[$].codewords[q]=a[L++]}return y}getNumDataCodewords(){return this.numDataCodewords}getCodewords(){return this.codewords}}var qn;(function(D){D[D.TERMINATOR=0]="TERMINATOR",D[D.NUMERIC=1]="NUMERIC",D[D.ALPHANUMERIC=2]="ALPHANUMERIC",D[D.STRUCTURED_APPEND=3]="STRUCTURED_APPEND",D[D.BYTE=4]="BYTE",D[D.ECI=5]="ECI",D[D.KANJI=6]="KANJI",D[D.FNC1_FIRST_POSITION=7]="FNC1_FIRST_POSITION",D[D.FNC1_SECOND_POSITION=8]="FNC1_SECOND_POSITION",D[D.HANZI=9]="HANZI"})(qn||(qn={}));class Me{constructor(a,c,d,p){this.value=a,this.stringValue=c,this.characterCountBitsForVersions=d,this.bits=p,Me.FOR_BITS.set(p,this),Me.FOR_VALUE.set(a,this)}static forBits(a){const c=Me.FOR_BITS.get(a);if(c===void 0)throw new v;return c}getCharacterCountBits(a){const c=a.getVersionNumber();let d;return c<=9?d=0:c<=26?d=1:d=2,this.characterCountBitsForVersions[d]}getValue(){return this.value}getBits(){return this.bits}equals(a){if(!(a instanceof Me))return!1;const c=a;return this.value===c.value}toString(){return this.stringValue}}Me.FOR_BITS=new Map,Me.FOR_VALUE=new Map,Me.TERMINATOR=new Me(qn.TERMINATOR,"TERMINATOR",Int32Array.from([0,0,0]),0),Me.NUMERIC=new Me(qn.NUMERIC,"NUMERIC",Int32Array.from([10,12,14]),1),Me.ALPHANUMERIC=new Me(qn.ALPHANUMERIC,"ALPHANUMERIC",Int32Array.from([9,11,13]),2),Me.STRUCTURED_APPEND=new Me(qn.STRUCTURED_APPEND,"STRUCTURED_APPEND",Int32Array.from([0,0,0]),3),Me.BYTE=new Me(qn.BYTE,"BYTE",Int32Array.from([8,16,16]),4),Me.ECI=new Me(qn.ECI,"ECI",Int32Array.from([0,0,0]),7),Me.KANJI=new Me(qn.KANJI,"KANJI",Int32Array.from([8,10,12]),8),Me.FNC1_FIRST_POSITION=new Me(qn.FNC1_FIRST_POSITION,"FNC1_FIRST_POSITION",Int32Array.from([0,0,0]),5),Me.FNC1_SECOND_POSITION=new Me(qn.FNC1_SECOND_POSITION,"FNC1_SECOND_POSITION",Int32Array.from([0,0,0]),9),Me.HANZI=new Me(qn.HANZI,"HANZI",Int32Array.from([8,10,12]),13);class Yt{static decode(a,c,d,p){const x=new P0(a);let g=new ae;const y=new Array;let E=-1,A=-1;try{let O=null,j=!1,L;do{if(x.available()<4)L=Me.TERMINATOR;else{const z=x.readBits(4);L=Me.forBits(z)}switch(L){case Me.TERMINATOR:break;case Me.FNC1_FIRST_POSITION:case Me.FNC1_SECOND_POSITION:j=!0;break;case Me.STRUCTURED_APPEND:if(x.available()<16)throw new M;E=x.readBits(8),A=x.readBits(8);break;case Me.ECI:const z=Yt.parseECIValue(x);if(O=U.getCharacterSetECIByValue(z),O===null)throw new M;break;case Me.HANZI:const W=x.readBits(4),$=x.readBits(L.getCharacterCountBits(c));W===Yt.GB2312_SUBSET&&Yt.decodeHanziSegment(x,g,$);break;default:const q=x.readBits(L.getCharacterCountBits(c));switch(L){case Me.NUMERIC:Yt.decodeNumericSegment(x,g,q);break;case Me.ALPHANUMERIC:Yt.decodeAlphanumericSegment(x,g,q,j);break;case Me.BYTE:Yt.decodeByteSegment(x,g,q,O,y,p);break;case Me.KANJI:Yt.decodeKanjiSegment(x,g,q);break;default:throw new M}break}}while(L!==Me.TERMINATOR)}catch{throw new M}return new Jt(a,g.toString(),y.length===0?null:y,d===null?null:d.toString(),E,A)}static decodeHanziSegment(a,c,d){if(d*13>a.available())throw new M;const p=new Uint8Array(2*d);let x=0;for(;d>0;){const g=a.readBits(13);let y=g/96<<8&4294967295|g%96;y<959?y+=41377:y+=42657,p[x]=y>>8&255,p[x+1]=y&255,x+=2,d--}try{c.append(ee.decode(p,Z.GB2312))}catch(g){throw new M(g)}}static decodeKanjiSegment(a,c,d){if(d*13>a.available())throw new M;const p=new Uint8Array(2*d);let x=0;for(;d>0;){const g=a.readBits(13);let y=g/192<<8&4294967295|g%192;y<7936?y+=33088:y+=49472,p[x]=y>>8,p[x+1]=y,x+=2,d--}try{c.append(ee.decode(p,Z.SHIFT_JIS))}catch(g){throw new M(g)}}static decodeByteSegment(a,c,d,p,x,g){if(8*d>a.available())throw new M;const y=new Uint8Array(d);for(let A=0;A<d;A++)y[A]=a.readBits(8);let E;p===null?E=Z.guessEncoding(y,g):E=p.getName();try{c.append(ee.decode(y,E))}catch(A){throw new M(A)}x.push(y)}static toAlphaNumericChar(a){if(a>=Yt.ALPHANUMERIC_CHARS.length)throw new M;return Yt.ALPHANUMERIC_CHARS[a]}static decodeAlphanumericSegment(a,c,d,p){const x=c.length();for(;d>1;){if(a.available()<11)throw new M;const g=a.readBits(11);c.append(Yt.toAlphaNumericChar(Math.floor(g/45))),c.append(Yt.toAlphaNumericChar(g%45)),d-=2}if(d===1){if(a.available()<6)throw new M;c.append(Yt.toAlphaNumericChar(a.readBits(6)))}if(p)for(let g=x;g<c.length();g++)c.charAt(g)==="%"&&(g<c.length()-1&&c.charAt(g+1)==="%"?c.deleteCharAt(g+1):c.setCharAt(g,""))}static decodeNumericSegment(a,c,d){for(;d>=3;){if(a.available()<10)throw new M;const p=a.readBits(10);if(p>=1e3)throw new M;c.append(Yt.toAlphaNumericChar(Math.floor(p/100))),c.append(Yt.toAlphaNumericChar(Math.floor(p/10)%10)),c.append(Yt.toAlphaNumericChar(p%10)),d-=3}if(d===2){if(a.available()<7)throw new M;const p=a.readBits(7);if(p>=100)throw new M;c.append(Yt.toAlphaNumericChar(Math.floor(p/10))),c.append(Yt.toAlphaNumericChar(p%10))}else if(d===1){if(a.available()<4)throw new M;const p=a.readBits(4);if(p>=10)throw new M;c.append(Yt.toAlphaNumericChar(p))}}static parseECIValue(a){const c=a.readBits(8);if(!(c&128))return c&127;if((c&192)===128){const d=a.readBits(8);return(c&63)<<8&4294967295|d}if((c&224)===192){const d=a.readBits(16);return(c&31)<<16&4294967295|d}throw new M}}Yt.ALPHANUMERIC_CHARS="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ $%*+-./:",Yt.GB2312_SUBSET=1;class em{constructor(a){this.mirrored=a}isMirrored(){return this.mirrored}applyMirroredCorrection(a){if(!this.mirrored||a===null||a.length<3)return;const c=a[0];a[0]=a[2],a[2]=c}}class Ob{constructor(){this.rsDecoder=new xi(Ge.QR_CODE_FIELD_256)}decodeBooleanArray(a,c){return this.decodeBitMatrix(K.parseFromBooleanArray(a),c)}decodeBitMatrix(a,c){const d=new Rb(a);let p=null;try{return this.decodeBitMatrixParser(d,c)}catch(x){p=x}try{d.remask(),d.setMirror(!0),d.readVersion(),d.readFormatInformation(),d.mirror();const x=this.decodeBitMatrixParser(d,c);return x.setOther(new em(!0)),x}catch(x){throw p!==null?p:x}}decodeBitMatrixParser(a,c){const d=a.readVersion(),p=a.readFormatInformation().getErrorCorrectionLevel(),x=a.readCodewords(),g=D0.getDataBlocks(x,d,p);let y=0;for(const O of g)y+=O.getNumDataCodewords();const E=new Uint8Array(y);let A=0;for(const O of g){const j=O.getCodewords(),L=O.getNumDataCodewords();this.correctErrors(j,L);for(let z=0;z<L;z++)E[A++]=j[z]}return Yt.decode(E,d,p,c)}correctErrors(a,c){const d=new Int32Array(a);try{this.rsDecoder.decode(d,a.length-c)}catch{throw new C}for(let p=0;p<c;p++)a[p]=d[p]}}class j0 extends Oe{constructor(a,c,d){super(a,c),this.estimatedModuleSize=d}aboutEquals(a,c,d){if(Math.abs(c-this.getY())<=a&&Math.abs(d-this.getX())<=a){const p=Math.abs(a-this.estimatedModuleSize);return p<=1||p<=this.estimatedModuleSize}return!1}combineEstimate(a,c,d){const p=(this.getX()+c)/2,x=(this.getY()+a)/2,g=(this.estimatedModuleSize+d)/2;return new j0(p,x,g)}}class Du{constructor(a,c,d,p,x,g,y){this.image=a,this.startX=c,this.startY=d,this.width=p,this.height=x,this.moduleSize=g,this.resultPointCallback=y,this.possibleCenters=[],this.crossCheckStateCount=new Int32Array(3)}find(){const a=this.startX,c=this.height,d=this.width,p=a+d,x=this.startY+c/2,g=new Int32Array(3),y=this.image;for(let E=0;E<c;E++){const A=x+(E&1?-Math.floor((E+1)/2):Math.floor((E+1)/2));g[0]=0,g[1]=0,g[2]=0;let O=a;for(;O<p&&!y.get(O,A);)O++;let j=0;for(;O<p;){if(y.get(O,A))if(j===1)g[1]++;else if(j===2){if(this.foundPatternCross(g)){const L=this.handlePossibleCenter(g,A,O);if(L!==null)return L}g[0]=g[2],g[1]=1,g[2]=0,j=1}else g[++j]++;else j===1&&j++,g[j]++;O++}if(this.foundPatternCross(g)){const L=this.handlePossibleCenter(g,A,p);if(L!==null)return L}}if(this.possibleCenters.length!==0)return this.possibleCenters[0];throw new G}static centerFromEnd(a,c){return c-a[2]-a[1]/2}foundPatternCross(a){const c=this.moduleSize,d=c/2;for(let p=0;p<3;p++)if(Math.abs(c-a[p])>=d)return!1;return!0}crossCheckVertical(a,c,d,p){const x=this.image,g=x.getHeight(),y=this.crossCheckStateCount;y[0]=0,y[1]=0,y[2]=0;let E=a;for(;E>=0&&x.get(c,E)&&y[1]<=d;)y[1]++,E--;if(E<0||y[1]>d)return NaN;for(;E>=0&&!x.get(c,E)&&y[0]<=d;)y[0]++,E--;if(y[0]>d)return NaN;for(E=a+1;E<g&&x.get(c,E)&&y[1]<=d;)y[1]++,E++;if(E===g||y[1]>d)return NaN;for(;E<g&&!x.get(c,E)&&y[2]<=d;)y[2]++,E++;if(y[2]>d)return NaN;const A=y[0]+y[1]+y[2];return 5*Math.abs(A-p)>=2*p?NaN:this.foundPatternCross(y)?Du.centerFromEnd(y,E):NaN}handlePossibleCenter(a,c,d){const p=a[0]+a[1]+a[2],x=Du.centerFromEnd(a,d),g=this.crossCheckVertical(c,x,2*a[1],p);if(!isNaN(g)){const y=(a[0]+a[1]+a[2])/3;for(const A of this.possibleCenters)if(A.aboutEquals(y,g,x))return A.combineEstimate(g,x,y);const E=new j0(x,g,y);this.possibleCenters.push(E),this.resultPointCallback!==null&&this.resultPointCallback!==void 0&&this.resultPointCallback.foundPossibleResultPoint(E)}return null}}class M0 extends Oe{constructor(a,c,d,p){super(a,c),this.estimatedModuleSize=d,this.count=p,p===void 0&&(this.count=1)}getEstimatedModuleSize(){return this.estimatedModuleSize}getCount(){return this.count}aboutEquals(a,c,d){if(Math.abs(c-this.getY())<=a&&Math.abs(d-this.getX())<=a){const p=Math.abs(a-this.estimatedModuleSize);return p<=1||p<=this.estimatedModuleSize}return!1}combineEstimate(a,c,d){const p=this.count+1,x=(this.count*this.getX()+c)/p,g=(this.count*this.getY()+a)/p,y=(this.count*this.estimatedModuleSize+d)/p;return new M0(x,g,y,p)}}class Pb{constructor(a){this.bottomLeft=a[0],this.topLeft=a[1],this.topRight=a[2]}getBottomLeft(){return this.bottomLeft}getTopLeft(){return this.topLeft}getTopRight(){return this.topRight}}class _r{constructor(a,c){this.image=a,this.resultPointCallback=c,this.possibleCenters=[],this.crossCheckStateCount=new Int32Array(5),this.resultPointCallback=c}getImage(){return this.image}getPossibleCenters(){return this.possibleCenters}find(a){const c=a!=null&&a.get(k.TRY_HARDER)!==void 0,d=a!=null&&a.get(k.PURE_BARCODE)!==void 0,p=this.image,x=p.getHeight(),g=p.getWidth();let y=Math.floor(3*x/(4*_r.MAX_MODULES));(y<_r.MIN_SKIP||c)&&(y=_r.MIN_SKIP);let E=!1;const A=new Int32Array(5);for(let j=y-1;j<x&&!E;j+=y){A[0]=0,A[1]=0,A[2]=0,A[3]=0,A[4]=0;let L=0;for(let z=0;z<g;z++)if(p.get(z,j))(L&1)===1&&L++,A[L]++;else if(L&1)A[L]++;else if(L===4)if(_r.foundPatternCross(A)){if(this.handlePossibleCenter(A,j,z,d)===!0)if(y=2,this.hasSkipped===!0)E=this.haveMultiplyConfirmedCenters();else{const $=this.findRowSkip();$>A[2]&&(j+=$-A[2]-y,z=g-1)}else{A[0]=A[2],A[1]=A[3],A[2]=A[4],A[3]=1,A[4]=0,L=3;continue}L=0,A[0]=0,A[1]=0,A[2]=0,A[3]=0,A[4]=0}else A[0]=A[2],A[1]=A[3],A[2]=A[4],A[3]=1,A[4]=0,L=3;else A[++L]++;_r.foundPatternCross(A)&&this.handlePossibleCenter(A,j,g,d)===!0&&(y=A[0],this.hasSkipped&&(E=this.haveMultiplyConfirmedCenters()))}const O=this.selectBestPatterns();return Oe.orderBestPatterns(O),new Pb(O)}static centerFromEnd(a,c){return c-a[4]-a[3]-a[2]/2}static foundPatternCross(a){let c=0;for(let x=0;x<5;x++){const g=a[x];if(g===0)return!1;c+=g}if(c<7)return!1;const d=c/7,p=d/2;return Math.abs(d-a[0])<p&&Math.abs(d-a[1])<p&&Math.abs(3*d-a[2])<3*p&&Math.abs(d-a[3])<p&&Math.abs(d-a[4])<p}getCrossCheckStateCount(){const a=this.crossCheckStateCount;return a[0]=0,a[1]=0,a[2]=0,a[3]=0,a[4]=0,a}crossCheckDiagonal(a,c,d,p){const x=this.getCrossCheckStateCount();let g=0;const y=this.image;for(;a>=g&&c>=g&&y.get(c-g,a-g);)x[2]++,g++;if(a<g||c<g)return!1;for(;a>=g&&c>=g&&!y.get(c-g,a-g)&&x[1]<=d;)x[1]++,g++;if(a<g||c<g||x[1]>d)return!1;for(;a>=g&&c>=g&&y.get(c-g,a-g)&&x[0]<=d;)x[0]++,g++;if(x[0]>d)return!1;const E=y.getHeight(),A=y.getWidth();for(g=1;a+g<E&&c+g<A&&y.get(c+g,a+g);)x[2]++,g++;if(a+g>=E||c+g>=A)return!1;for(;a+g<E&&c+g<A&&!y.get(c+g,a+g)&&x[3]<d;)x[3]++,g++;if(a+g>=E||c+g>=A||x[3]>=d)return!1;for(;a+g<E&&c+g<A&&y.get(c+g,a+g)&&x[4]<d;)x[4]++,g++;if(x[4]>=d)return!1;const O=x[0]+x[1]+x[2]+x[3]+x[4];return Math.abs(O-p)<2*p&&_r.foundPatternCross(x)}crossCheckVertical(a,c,d,p){const x=this.image,g=x.getHeight(),y=this.getCrossCheckStateCount();let E=a;for(;E>=0&&x.get(c,E);)y[2]++,E--;if(E<0)return NaN;for(;E>=0&&!x.get(c,E)&&y[1]<=d;)y[1]++,E--;if(E<0||y[1]>d)return NaN;for(;E>=0&&x.get(c,E)&&y[0]<=d;)y[0]++,E--;if(y[0]>d)return NaN;for(E=a+1;E<g&&x.get(c,E);)y[2]++,E++;if(E===g)return NaN;for(;E<g&&!x.get(c,E)&&y[3]<d;)y[3]++,E++;if(E===g||y[3]>=d)return NaN;for(;E<g&&x.get(c,E)&&y[4]<d;)y[4]++,E++;if(y[4]>=d)return NaN;const A=y[0]+y[1]+y[2]+y[3]+y[4];return 5*Math.abs(A-p)>=2*p?NaN:_r.foundPatternCross(y)?_r.centerFromEnd(y,E):NaN}crossCheckHorizontal(a,c,d,p){const x=this.image,g=x.getWidth(),y=this.getCrossCheckStateCount();let E=a;for(;E>=0&&x.get(E,c);)y[2]++,E--;if(E<0)return NaN;for(;E>=0&&!x.get(E,c)&&y[1]<=d;)y[1]++,E--;if(E<0||y[1]>d)return NaN;for(;E>=0&&x.get(E,c)&&y[0]<=d;)y[0]++,E--;if(y[0]>d)return NaN;for(E=a+1;E<g&&x.get(E,c);)y[2]++,E++;if(E===g)return NaN;for(;E<g&&!x.get(E,c)&&y[3]<d;)y[3]++,E++;if(E===g||y[3]>=d)return NaN;for(;E<g&&x.get(E,c)&&y[4]<d;)y[4]++,E++;if(y[4]>=d)return NaN;const A=y[0]+y[1]+y[2]+y[3]+y[4];return 5*Math.abs(A-p)>=p?NaN:_r.foundPatternCross(y)?_r.centerFromEnd(y,E):NaN}handlePossibleCenter(a,c,d,p){const x=a[0]+a[1]+a[2]+a[3]+a[4];let g=_r.centerFromEnd(a,d),y=this.crossCheckVertical(c,Math.floor(g),a[2],x);if(!isNaN(y)&&(g=this.crossCheckHorizontal(Math.floor(g),Math.floor(y),a[2],x),!isNaN(g)&&(!p||this.crossCheckDiagonal(Math.floor(y),Math.floor(g),a[2],x)))){const E=x/7;let A=!1;const O=this.possibleCenters;for(let j=0,L=O.length;j<L;j++){const z=O[j];if(z.aboutEquals(E,y,g)){O[j]=z.combineEstimate(y,g,E),A=!0;break}}if(!A){const j=new M0(g,y,E);O.push(j),this.resultPointCallback!==null&&this.resultPointCallback!==void 0&&this.resultPointCallback.foundPossibleResultPoint(j)}return!0}return!1}findRowSkip(){if(this.possibleCenters.length<=1)return 0;let c=null;for(const d of this.possibleCenters)if(d.getCount()>=_r.CENTER_QUORUM)if(c==null)c=d;else return this.hasSkipped=!0,Math.floor((Math.abs(c.getX()-d.getX())-Math.abs(c.getY()-d.getY()))/2);return 0}haveMultiplyConfirmedCenters(){let a=0,c=0;const d=this.possibleCenters.length;for(const g of this.possibleCenters)g.getCount()>=_r.CENTER_QUORUM&&(a++,c+=g.getEstimatedModuleSize());if(a<3)return!1;const p=c/d;let x=0;for(const g of this.possibleCenters)x+=Math.abs(g.getEstimatedModuleSize()-p);return x<=.05*c}selectBestPatterns(){const a=this.possibleCenters.length;if(a<3)throw new G;const c=this.possibleCenters;let d;if(a>3){let p=0,x=0;for(const E of this.possibleCenters){const A=E.getEstimatedModuleSize();p+=A,x+=A*A}d=p/a;let g=Math.sqrt(x/a-d*d);c.sort((E,A)=>{const O=Math.abs(A.getEstimatedModuleSize()-d),j=Math.abs(E.getEstimatedModuleSize()-d);return O<j?-1:O>j?1:0});const y=Math.max(.2*d,g);for(let E=0;E<c.length&&c.length>3;E++){const A=c[E];Math.abs(A.getEstimatedModuleSize()-d)>y&&(c.splice(E,1),E--)}}if(c.length>3){let p=0;for(const x of c)p+=x.getEstimatedModuleSize();d=p/c.length,c.sort((x,g)=>{if(g.getCount()===x.getCount()){const y=Math.abs(g.getEstimatedModuleSize()-d),E=Math.abs(x.getEstimatedModuleSize()-d);return y<E?1:y>E?-1:0}else return g.getCount()-x.getCount()}),c.splice(3)}return[c[0],c[1],c[2]]}}_r.CENTER_QUORUM=2,_r.MIN_SKIP=3,_r.MAX_MODULES=57;class Zl{constructor(a){this.image=a}getImage(){return this.image}getResultPointCallback(){return this.resultPointCallback}detect(a){this.resultPointCallback=a==null?null:a.get(k.NEED_RESULT_POINT_CALLBACK);const d=new _r(this.image,this.resultPointCallback).find(a);return this.processFinderPatternInfo(d)}processFinderPatternInfo(a){const c=a.getTopLeft(),d=a.getTopRight(),p=a.getBottomLeft(),x=this.calculateModuleSize(c,d,p);if(x<1)throw new G("No pattern found in proccess finder.");const g=Zl.computeDimension(c,d,p,x),y=De.getProvisionalVersionForDimension(g),E=y.getDimensionForVersion()-7;let A=null;if(y.getAlignmentPatternCenters().length>0){const z=d.getX()-c.getX()+p.getX(),W=d.getY()-c.getY()+p.getY(),$=1-3/E,q=Math.floor(c.getX()+$*(z-c.getX())),re=Math.floor(c.getY()+$*(W-c.getY()));for(let pe=4;pe<=16;pe<<=1)try{A=this.findAlignmentInRegion(x,q,re,pe);break}catch(ge){if(!(ge instanceof G))throw ge}}const O=Zl.createTransform(c,d,p,A,g),j=Zl.sampleGrid(this.image,O,g);let L;return A===null?L=[p,c,d]:L=[p,c,d,A],new Iu(j,L)}static createTransform(a,c,d,p,x){const g=x-3.5;let y,E,A,O;return p!==null?(y=p.getX(),E=p.getY(),A=g-3,O=A):(y=c.getX()-a.getX()+d.getX(),E=c.getY()-a.getY()+d.getY(),A=g,O=g),gi.quadrilateralToQuadrilateral(3.5,3.5,g,3.5,A,O,3.5,g,a.getX(),a.getY(),c.getX(),c.getY(),y,E,d.getX(),d.getY())}static sampleGrid(a,c,d){return Os.getInstance().sampleGridWithTransform(a,d,d,c)}static computeDimension(a,c,d,p){const x=Je.round(Oe.distance(a,c)/p),g=Je.round(Oe.distance(a,d)/p);let y=Math.floor((x+g)/2)+7;switch(y&3){case 0:y++;break;case 2:y--;break;case 3:throw new G("Dimensions could be not found.")}return y}calculateModuleSize(a,c,d){return(this.calculateModuleSizeOneWay(a,c)+this.calculateModuleSizeOneWay(a,d))/2}calculateModuleSizeOneWay(a,c){const d=this.sizeOfBlackWhiteBlackRunBothWays(Math.floor(a.getX()),Math.floor(a.getY()),Math.floor(c.getX()),Math.floor(c.getY())),p=this.sizeOfBlackWhiteBlackRunBothWays(Math.floor(c.getX()),Math.floor(c.getY()),Math.floor(a.getX()),Math.floor(a.getY()));return isNaN(d)?p/7:isNaN(p)?d/7:(d+p)/14}sizeOfBlackWhiteBlackRunBothWays(a,c,d,p){let x=this.sizeOfBlackWhiteBlackRun(a,c,d,p),g=1,y=a-(d-a);y<0?(g=a/(a-y),y=0):y>=this.image.getWidth()&&(g=(this.image.getWidth()-1-a)/(y-a),y=this.image.getWidth()-1);let E=Math.floor(c-(p-c)*g);return g=1,E<0?(g=c/(c-E),E=0):E>=this.image.getHeight()&&(g=(this.image.getHeight()-1-c)/(E-c),E=this.image.getHeight()-1),y=Math.floor(a+(y-a)*g),x+=this.sizeOfBlackWhiteBlackRun(a,c,y,E),x-1}sizeOfBlackWhiteBlackRun(a,c,d,p){const x=Math.abs(p-c)>Math.abs(d-a);if(x){let z=a;a=c,c=z,z=d,d=p,p=z}const g=Math.abs(d-a),y=Math.abs(p-c);let E=-g/2;const A=a<d?1:-1,O=c<p?1:-1;let j=0;const L=d+A;for(let z=a,W=c;z!==L;z+=A){const $=x?W:z,q=x?z:W;if(j===1===this.image.get($,q)){if(j===2)return Je.distance(z,W,a,c);j++}if(E+=y,E>0){if(W===p)break;W+=O,E-=g}}return j===2?Je.distance(d+A,p,a,c):NaN}findAlignmentInRegion(a,c,d,p){const x=Math.floor(p*a),g=Math.max(0,c-x),y=Math.min(this.image.getWidth()-1,c+x);if(y-g<a*3)throw new G("Alignment top exceeds estimated module size.");const E=Math.max(0,d-x),A=Math.min(this.image.getHeight()-1,d+x);if(A-E<a*3)throw new G("Alignment bottom exceeds estimated module size.");return new Du(this.image,g,E,y-g,A-E,a,this.resultPointCallback).find()}}class Ms{constructor(){this.decoder=new Ob}getDecoder(){return this.decoder}decode(a,c){let d,p;if(c!=null&&c.get(k.PURE_BARCODE)!==void 0){const E=Ms.extractPureBits(a.getBlackMatrix());d=this.decoder.decodeBitMatrix(E,c),p=Ms.NO_POINTS}else{const E=new Zl(a.getBlackMatrix()).detect(c);d=this.decoder.decodeBitMatrix(E.getBits(),c),p=E.getPoints()}d.getOther()instanceof em&&d.getOther().applyMirroredCorrection(p);const x=new it(d.getText(),d.getRawBytes(),void 0,p,Se.QR_CODE,void 0),g=d.getByteSegments();g!==null&&x.putMetadata(We.BYTE_SEGMENTS,g);const y=d.getECLevel();return y!==null&&x.putMetadata(We.ERROR_CORRECTION_LEVEL,y),d.hasStructuredAppend()&&(x.putMetadata(We.STRUCTURED_APPEND_SEQUENCE,d.getStructuredAppendSequenceNumber()),x.putMetadata(We.STRUCTURED_APPEND_PARITY,d.getStructuredAppendParity())),x}reset(){}static extractPureBits(a){const c=a.getTopLeftOnBit(),d=a.getBottomRightOnBit();if(c===null||d===null)throw new G;const p=this.moduleSize(c,a);let x=c[1],g=d[1],y=c[0],E=d[0];if(y>=E||x>=g)throw new G;if(g-x!==E-y&&(E=y+(g-x),E>=a.getWidth()))throw new G;const A=Math.round((E-y+1)/p),O=Math.round((g-x+1)/p);if(A<=0||O<=0)throw new G;if(O!==A)throw new G;const j=Math.floor(p/2);x+=j,y+=j;const L=y+Math.floor((A-1)*p)-E;if(L>0){if(L>j)throw new G;y-=L}const z=x+Math.floor((O-1)*p)-g;if(z>0){if(z>j)throw new G;x-=z}const W=new K(A,O);for(let $=0;$<O;$++){const q=x+Math.floor($*p);for(let re=0;re<A;re++)a.get(y+Math.floor(re*p),q)&&W.set(re,$)}return W}static moduleSize(a,c){const d=c.getHeight(),p=c.getWidth();let x=a[0],g=a[1],y=!0,E=0;for(;x<p&&g<d;){if(y!==c.get(x,g)){if(++E===5)break;y=!y}x++,g++}if(x===p||g===d)throw new G;return(x-a[0])/7}}Ms.NO_POINTS=new Array;class He{PDF417Common(){}static getBitCountSum(a){return Je.sum(a)}static toIntArray(a){if(a==null||!a.length)return He.EMPTY_INT_ARRAY;const c=new Int32Array(a.length);let d=0;for(const p of a)c[d++]=p;return c}static getCodeword(a){const c=S.binarySearch(He.SYMBOL_TABLE,a&262143);return c<0?-1:(He.CODEWORD_TABLE[c]-1)%He.NUMBER_OF_CODEWORDS}}He.NUMBER_OF_CODEWORDS=929,He.MAX_CODEWORDS_IN_BARCODE=He.NUMBER_OF_CODEWORDS-1,He.MIN_ROWS_IN_BARCODE=3,He.MAX_ROWS_IN_BARCODE=90,He.MODULES_IN_CODEWORD=17,He.MODULES_IN_STOP_PATTERN=18,He.BARS_IN_MODULE=8,He.EMPTY_INT_ARRAY=new Int32Array([]),He.SYMBOL_TABLE=Int32Array.from([66142,66170,66206,66236,66290,66292,66350,66382,66396,66454,66470,66476,66594,66600,66614,66626,66628,66632,66640,66654,66662,66668,66682,66690,66718,66720,66748,66758,66776,66798,66802,66804,66820,66824,66832,66846,66848,66876,66880,66936,66950,66956,66968,66992,67006,67022,67036,67042,67044,67048,67062,67118,67150,67164,67214,67228,67256,67294,67322,67350,67366,67372,67398,67404,67416,67438,67474,67476,67490,67492,67496,67510,67618,67624,67650,67656,67664,67678,67686,67692,67706,67714,67716,67728,67742,67744,67772,67782,67788,67800,67822,67826,67828,67842,67848,67870,67872,67900,67904,67960,67974,67992,68016,68030,68046,68060,68066,68068,68072,68086,68104,68112,68126,68128,68156,68160,68216,68336,68358,68364,68376,68400,68414,68448,68476,68494,68508,68536,68546,68548,68552,68560,68574,68582,68588,68654,68686,68700,68706,68708,68712,68726,68750,68764,68792,68802,68804,68808,68816,68830,68838,68844,68858,68878,68892,68920,68976,68990,68994,68996,69e3,69008,69022,69024,69052,69062,69068,69080,69102,69106,69108,69142,69158,69164,69190,69208,69230,69254,69260,69272,69296,69310,69326,69340,69386,69394,69396,69410,69416,69430,69442,69444,69448,69456,69470,69478,69484,69554,69556,69666,69672,69698,69704,69712,69726,69754,69762,69764,69776,69790,69792,69820,69830,69836,69848,69870,69874,69876,69890,69918,69920,69948,69952,70008,70022,70040,70064,70078,70094,70108,70114,70116,70120,70134,70152,70174,70176,70264,70384,70412,70448,70462,70496,70524,70542,70556,70584,70594,70600,70608,70622,70630,70636,70664,70672,70686,70688,70716,70720,70776,70896,71136,71180,71192,71216,71230,71264,71292,71360,71416,71452,71480,71536,71550,71554,71556,71560,71568,71582,71584,71612,71622,71628,71640,71662,71726,71732,71758,71772,71778,71780,71784,71798,71822,71836,71864,71874,71880,71888,71902,71910,71916,71930,71950,71964,71992,72048,72062,72066,72068,72080,72094,72096,72124,72134,72140,72152,72174,72178,72180,72206,72220,72248,72304,72318,72416,72444,72456,72464,72478,72480,72508,72512,72568,72588,72600,72624,72638,72654,72668,72674,72676,72680,72694,72726,72742,72748,72774,72780,72792,72814,72838,72856,72880,72894,72910,72924,72930,72932,72936,72950,72966,72972,72984,73008,73022,73056,73084,73102,73116,73144,73156,73160,73168,73182,73190,73196,73210,73226,73234,73236,73250,73252,73256,73270,73282,73284,73296,73310,73318,73324,73346,73348,73352,73360,73374,73376,73404,73414,73420,73432,73454,73498,73518,73522,73524,73550,73564,73570,73572,73576,73590,73800,73822,73858,73860,73872,73886,73888,73916,73944,73970,73972,73992,74014,74016,74044,74048,74104,74118,74136,74160,74174,74210,74212,74216,74230,74244,74256,74270,74272,74360,74480,74502,74508,74544,74558,74592,74620,74638,74652,74680,74690,74696,74704,74726,74732,74782,74784,74812,74992,75232,75288,75326,75360,75388,75456,75512,75576,75632,75646,75650,75652,75664,75678,75680,75708,75718,75724,75736,75758,75808,75836,75840,75896,76016,76256,76736,76824,76848,76862,76896,76924,76992,77048,77296,77340,77368,77424,77438,77536,77564,77572,77576,77584,77600,77628,77632,77688,77702,77708,77720,77744,77758,77774,77788,77870,77902,77916,77922,77928,77966,77980,78008,78018,78024,78032,78046,78060,78074,78094,78136,78192,78206,78210,78212,78224,78238,78240,78268,78278,78284,78296,78322,78324,78350,78364,78448,78462,78560,78588,78600,78622,78624,78652,78656,78712,78726,78744,78768,78782,78798,78812,78818,78820,78824,78838,78862,78876,78904,78960,78974,79072,79100,79296,79352,79368,79376,79390,79392,79420,79424,79480,79600,79628,79640,79664,79678,79712,79740,79772,79800,79810,79812,79816,79824,79838,79846,79852,79894,79910,79916,79942,79948,79960,79982,79988,80006,80024,80048,80062,80078,80092,80098,80100,80104,80134,80140,80176,80190,80224,80252,80270,80284,80312,80328,80336,80350,80358,80364,80378,80390,80396,80408,80432,80446,80480,80508,80576,80632,80654,80668,80696,80752,80766,80776,80784,80798,80800,80828,80844,80856,80878,80882,80884,80914,80916,80930,80932,80936,80950,80962,80968,80976,80990,80998,81004,81026,81028,81040,81054,81056,81084,81094,81100,81112,81134,81154,81156,81160,81168,81182,81184,81212,81216,81272,81286,81292,81304,81328,81342,81358,81372,81380,81384,81398,81434,81454,81458,81460,81486,81500,81506,81508,81512,81526,81550,81564,81592,81602,81604,81608,81616,81630,81638,81644,81702,81708,81722,81734,81740,81752,81774,81778,81780,82050,82078,82080,82108,82180,82184,82192,82206,82208,82236,82240,82296,82316,82328,82352,82366,82402,82404,82408,82440,82448,82462,82464,82492,82496,82552,82672,82694,82700,82712,82736,82750,82784,82812,82830,82882,82884,82888,82896,82918,82924,82952,82960,82974,82976,83004,83008,83064,83184,83424,83468,83480,83504,83518,83552,83580,83648,83704,83740,83768,83824,83838,83842,83844,83848,83856,83872,83900,83910,83916,83928,83950,83984,84e3,84028,84032,84088,84208,84448,84928,85040,85054,85088,85116,85184,85240,85488,85560,85616,85630,85728,85756,85764,85768,85776,85790,85792,85820,85824,85880,85894,85900,85912,85936,85966,85980,86048,86080,86136,86256,86496,86976,88160,88188,88256,88312,88560,89056,89200,89214,89312,89340,89536,89592,89608,89616,89632,89664,89720,89840,89868,89880,89904,89952,89980,89998,90012,90040,90190,90204,90254,90268,90296,90306,90308,90312,90334,90382,90396,90424,90480,90494,90500,90504,90512,90526,90528,90556,90566,90572,90584,90610,90612,90638,90652,90680,90736,90750,90848,90876,90884,90888,90896,90910,90912,90940,90944,91e3,91014,91020,91032,91056,91070,91086,91100,91106,91108,91112,91126,91150,91164,91192,91248,91262,91360,91388,91584,91640,91664,91678,91680,91708,91712,91768,91888,91928,91952,91966,92e3,92028,92046,92060,92088,92098,92100,92104,92112,92126,92134,92140,92188,92216,92272,92384,92412,92608,92664,93168,93200,93214,93216,93244,93248,93304,93424,93664,93720,93744,93758,93792,93820,93888,93944,93980,94008,94064,94078,94084,94088,94096,94110,94112,94140,94150,94156,94168,94246,94252,94278,94284,94296,94318,94342,94348,94360,94384,94398,94414,94428,94440,94470,94476,94488,94512,94526,94560,94588,94606,94620,94648,94658,94660,94664,94672,94686,94694,94700,94714,94726,94732,94744,94768,94782,94816,94844,94912,94968,94990,95004,95032,95088,95102,95112,95120,95134,95136,95164,95180,95192,95214,95218,95220,95244,95256,95280,95294,95328,95356,95424,95480,95728,95758,95772,95800,95856,95870,95968,95996,96008,96016,96030,96032,96060,96064,96120,96152,96176,96190,96220,96226,96228,96232,96290,96292,96296,96310,96322,96324,96328,96336,96350,96358,96364,96386,96388,96392,96400,96414,96416,96444,96454,96460,96472,96494,96498,96500,96514,96516,96520,96528,96542,96544,96572,96576,96632,96646,96652,96664,96688,96702,96718,96732,96738,96740,96744,96758,96772,96776,96784,96798,96800,96828,96832,96888,97008,97030,97036,97048,97072,97086,97120,97148,97166,97180,97208,97220,97224,97232,97246,97254,97260,97326,97330,97332,97358,97372,97378,97380,97384,97398,97422,97436,97464,97474,97476,97480,97488,97502,97510,97516,97550,97564,97592,97648,97666,97668,97672,97680,97694,97696,97724,97734,97740,97752,97774,97830,97836,97850,97862,97868,97880,97902,97906,97908,97926,97932,97944,97968,97998,98012,98018,98020,98024,98038,98618,98674,98676,98838,98854,98874,98892,98904,98926,98930,98932,98968,99006,99042,99044,99048,99062,99166,99194,99246,99286,99350,99366,99372,99386,99398,99416,99438,99442,99444,99462,99504,99518,99534,99548,99554,99556,99560,99574,99590,99596,99608,99632,99646,99680,99708,99726,99740,99768,99778,99780,99784,99792,99806,99814,99820,99834,99858,99860,99874,99880,99894,99906,99920,99934,99962,99970,99972,99976,99984,99998,1e5,100028,100038,100044,100056,100078,100082,100084,100142,100174,100188,100246,100262,100268,100306,100308,100390,100396,100410,100422,100428,100440,100462,100466,100468,100486,100504,100528,100542,100558,100572,100578,100580,100584,100598,100620,100656,100670,100704,100732,100750,100792,100802,100808,100816,100830,100838,100844,100858,100888,100912,100926,100960,100988,101056,101112,101148,101176,101232,101246,101250,101252,101256,101264,101278,101280,101308,101318,101324,101336,101358,101362,101364,101410,101412,101416,101430,101442,101448,101456,101470,101478,101498,101506,101508,101520,101534,101536,101564,101580,101618,101620,101636,101640,101648,101662,101664,101692,101696,101752,101766,101784,101838,101858,101860,101864,101934,101938,101940,101966,101980,101986,101988,101992,102030,102044,102072,102082,102084,102088,102096,102138,102166,102182,102188,102214,102220,102232,102254,102282,102290,102292,102306,102308,102312,102326,102444,102458,102470,102476,102488,102514,102516,102534,102552,102576,102590,102606,102620,102626,102632,102646,102662,102668,102704,102718,102752,102780,102798,102812,102840,102850,102856,102864,102878,102886,102892,102906,102936,102974,103008,103036,103104,103160,103224,103280,103294,103298,103300,103312,103326,103328,103356,103366,103372,103384,103406,103410,103412,103472,103486,103520,103548,103616,103672,103920,103992,104048,104062,104160,104188,104194,104196,104200,104208,104224,104252,104256,104312,104326,104332,104344,104368,104382,104398,104412,104418,104420,104424,104482,104484,104514,104520,104528,104542,104550,104570,104578,104580,104592,104606,104608,104636,104652,104690,104692,104706,104712,104734,104736,104764,104768,104824,104838,104856,104910,104930,104932,104936,104968,104976,104990,104992,105020,105024,105080,105200,105240,105278,105312,105372,105410,105412,105416,105424,105446,105518,105524,105550,105564,105570,105572,105576,105614,105628,105656,105666,105672,105680,105702,105722,105742,105756,105784,105840,105854,105858,105860,105864,105872,105888,105932,105970,105972,106006,106022,106028,106054,106060,106072,106100,106118,106124,106136,106160,106174,106190,106210,106212,106216,106250,106258,106260,106274,106276,106280,106306,106308,106312,106320,106334,106348,106394,106414,106418,106420,106566,106572,106610,106612,106630,106636,106648,106672,106686,106722,106724,106728,106742,106758,106764,106776,106800,106814,106848,106876,106894,106908,106936,106946,106948,106952,106960,106974,106982,106988,107032,107056,107070,107104,107132,107200,107256,107292,107320,107376,107390,107394,107396,107400,107408,107422,107424,107452,107462,107468,107480,107502,107506,107508,107544,107568,107582,107616,107644,107712,107768,108016,108060,108088,108144,108158,108256,108284,108290,108292,108296,108304,108318,108320,108348,108352,108408,108422,108428,108440,108464,108478,108494,108508,108514,108516,108520,108592,108640,108668,108736,108792,109040,109536,109680,109694,109792,109820,110016,110072,110084,110088,110096,110112,110140,110144,110200,110320,110342,110348,110360,110384,110398,110432,110460,110478,110492,110520,110532,110536,110544,110558,110658,110686,110714,110722,110724,110728,110736,110750,110752,110780,110796,110834,110836,110850,110852,110856,110864,110878,110880,110908,110912,110968,110982,111e3,111054,111074,111076,111080,111108,111112,111120,111134,111136,111164,111168,111224,111344,111372,111422,111456,111516,111554,111556,111560,111568,111590,111632,111646,111648,111676,111680,111736,111856,112096,112152,112224,112252,112320,112440,112514,112516,112520,112528,112542,112544,112588,112686,112718,112732,112782,112796,112824,112834,112836,112840,112848,112870,112890,112910,112924,112952,113008,113022,113026,113028,113032,113040,113054,113056,113100,113138,113140,113166,113180,113208,113264,113278,113376,113404,113416,113424,113440,113468,113472,113560,113614,113634,113636,113640,113686,113702,113708,113734,113740,113752,113778,113780,113798,113804,113816,113840,113854,113870,113890,113892,113896,113926,113932,113944,113968,113982,114016,114044,114076,114114,114116,114120,114128,114150,114170,114194,114196,114210,114212,114216,114242,114244,114248,114256,114270,114278,114306,114308,114312,114320,114334,114336,114364,114380,114420,114458,114478,114482,114484,114510,114524,114530,114532,114536,114842,114866,114868,114970,114994,114996,115042,115044,115048,115062,115130,115226,115250,115252,115278,115292,115298,115300,115304,115318,115342,115394,115396,115400,115408,115422,115430,115436,115450,115478,115494,115514,115526,115532,115570,115572,115738,115758,115762,115764,115790,115804,115810,115812,115816,115830,115854,115868,115896,115906,115912,115920,115934,115942,115948,115962,115996,116024,116080,116094,116098,116100,116104,116112,116126,116128,116156,116166,116172,116184,116206,116210,116212,116246,116262,116268,116282,116294,116300,116312,116334,116338,116340,116358,116364,116376,116400,116414,116430,116444,116450,116452,116456,116498,116500,116514,116520,116534,116546,116548,116552,116560,116574,116582,116588,116602,116654,116694,116714,116762,116782,116786,116788,116814,116828,116834,116836,116840,116854,116878,116892,116920,116930,116936,116944,116958,116966,116972,116986,117006,117048,117104,117118,117122,117124,117136,117150,117152,117180,117190,117196,117208,117230,117234,117236,117304,117360,117374,117472,117500,117506,117508,117512,117520,117536,117564,117568,117624,117638,117644,117656,117680,117694,117710,117724,117730,117732,117736,117750,117782,117798,117804,117818,117830,117848,117874,117876,117894,117936,117950,117966,117986,117988,117992,118022,118028,118040,118064,118078,118112,118140,118172,118210,118212,118216,118224,118238,118246,118266,118306,118312,118338,118352,118366,118374,118394,118402,118404,118408,118416,118430,118432,118460,118476,118514,118516,118574,118578,118580,118606,118620,118626,118628,118632,118678,118694,118700,118730,118738,118740,118830,118834,118836,118862,118876,118882,118884,118888,118902,118926,118940,118968,118978,118980,118984,118992,119006,119014,119020,119034,119068,119096,119152,119166,119170,119172,119176,119184,119198,119200,119228,119238,119244,119256,119278,119282,119284,119324,119352,119408,119422,119520,119548,119554,119556,119560,119568,119582,119584,119612,119616,119672,119686,119692,119704,119728,119742,119758,119772,119778,119780,119784,119798,119920,119934,120032,120060,120256,120312,120324,120328,120336,120352,120384,120440,120560,120582,120588,120600,120624,120638,120672,120700,120718,120732,120760,120770,120772,120776,120784,120798,120806,120812,120870,120876,120890,120902,120908,120920,120946,120948,120966,120972,120984,121008,121022,121038,121058,121060,121064,121078,121100,121112,121136,121150,121184,121212,121244,121282,121284,121288,121296,121318,121338,121356,121368,121392,121406,121440,121468,121536,121592,121656,121730,121732,121736,121744,121758,121760,121804,121842,121844,121890,121922,121924,121928,121936,121950,121958,121978,121986,121988,121992,122e3,122014,122016,122044,122060,122098,122100,122116,122120,122128,122142,122144,122172,122176,122232,122246,122264,122318,122338,122340,122344,122414,122418,122420,122446,122460,122466,122468,122472,122510,122524,122552,122562,122564,122568,122576,122598,122618,122646,122662,122668,122694,122700,122712,122738,122740,122762,122770,122772,122786,122788,122792,123018,123026,123028,123042,123044,123048,123062,123098,123146,123154,123156,123170,123172,123176,123190,123202,123204,123208,123216,123238,123244,123258,123290,123314,123316,123402,123410,123412,123426,123428,123432,123446,123458,123464,123472,123486,123494,123500,123514,123522,123524,123528,123536,123552,123580,123590,123596,123608,123630,123634,123636,123674,123698,123700,123740,123746,123748,123752,123834,123914,123922,123924,123938,123944,123958,123970,123976,123984,123998,124006,124012,124026,124034,124036,124048,124062,124064,124092,124102,124108,124120,124142,124146,124148,124162,124164,124168,124176,124190,124192,124220,124224,124280,124294,124300,124312,124336,124350,124366,124380,124386,124388,124392,124406,124442,124462,124466,124468,124494,124508,124514,124520,124558,124572,124600,124610,124612,124616,124624,124646,124666,124694,124710,124716,124730,124742,124748,124760,124786,124788,124818,124820,124834,124836,124840,124854,124946,124948,124962,124964,124968,124982,124994,124996,125e3,125008,125022,125030,125036,125050,125058,125060,125064,125072,125086,125088,125116,125126,125132,125144,125166,125170,125172,125186,125188,125192,125200,125216,125244,125248,125304,125318,125324,125336,125360,125374,125390,125404,125410,125412,125416,125430,125444,125448,125456,125472,125504,125560,125680,125702,125708,125720,125744,125758,125792,125820,125838,125852,125880,125890,125892,125896,125904,125918,125926,125932,125978,125998,126002,126004,126030,126044,126050,126052,126056,126094,126108,126136,126146,126148,126152,126160,126182,126202,126222,126236,126264,126320,126334,126338,126340,126344,126352,126366,126368,126412,126450,126452,126486,126502,126508,126522,126534,126540,126552,126574,126578,126580,126598,126604,126616,126640,126654,126670,126684,126690,126692,126696,126738,126754,126756,126760,126774,126786,126788,126792,126800,126814,126822,126828,126842,126894,126898,126900,126934,127126,127142,127148,127162,127178,127186,127188,127254,127270,127276,127290,127302,127308,127320,127342,127346,127348,127370,127378,127380,127394,127396,127400,127450,127510,127526,127532,127546,127558,127576,127598,127602,127604,127622,127628,127640,127664,127678,127694,127708,127714,127716,127720,127734,127754,127762,127764,127778,127784,127810,127812,127816,127824,127838,127846,127866,127898,127918,127922,127924,128022,128038,128044,128058,128070,128076,128088,128110,128114,128116,128134,128140,128152,128176,128190,128206,128220,128226,128228,128232,128246,128262,128268,128280,128304,128318,128352,128380,128398,128412,128440,128450,128452,128456,128464,128478,128486,128492,128506,128522,128530,128532,128546,128548,128552,128566,128578,128580,128584,128592,128606,128614,128634,128642,128644,128648,128656,128670,128672,128700,128716,128754,128756,128794,128814,128818,128820,128846,128860,128866,128868,128872,128886,128918,128934,128940,128954,128978,128980,129178,129198,129202,129204,129238,129258,129306,129326,129330,129332,129358,129372,129378,129380,129384,129398,129430,129446,129452,129466,129482,129490,129492,129562,129582,129586,129588,129614,129628,129634,129636,129640,129654,129678,129692,129720,129730,129732,129736,129744,129758,129766,129772,129814,129830,129836,129850,129862,129868,129880,129902,129906,129908,129930,129938,129940,129954,129956,129960,129974,130010]),He.CODEWORD_TABLE=Int32Array.from([2627,1819,2622,2621,1813,1812,2729,2724,2723,2779,2774,2773,902,896,908,868,865,861,859,2511,873,871,1780,835,2493,825,2491,842,837,844,1764,1762,811,810,809,2483,807,2482,806,2480,815,814,813,812,2484,817,816,1745,1744,1742,1746,2655,2637,2635,2626,2625,2623,2628,1820,2752,2739,2737,2728,2727,2725,2730,2785,2783,2778,2777,2775,2780,787,781,747,739,736,2413,754,752,1719,692,689,681,2371,678,2369,700,697,694,703,1688,1686,642,638,2343,631,2341,627,2338,651,646,643,2345,654,652,1652,1650,1647,1654,601,599,2322,596,2321,594,2319,2317,611,610,608,606,2324,603,2323,615,614,612,1617,1616,1614,1612,616,1619,1618,2575,2538,2536,905,901,898,909,2509,2507,2504,870,867,864,860,2512,875,872,1781,2490,2489,2487,2485,1748,836,834,832,830,2494,827,2492,843,841,839,845,1765,1763,2701,2676,2674,2653,2648,2656,2634,2633,2631,2629,1821,2638,2636,2770,2763,2761,2750,2745,2753,2736,2735,2733,2731,1848,2740,2738,2786,2784,591,588,576,569,566,2296,1590,537,534,526,2276,522,2274,545,542,539,548,1572,1570,481,2245,466,2242,462,2239,492,485,482,2249,496,494,1534,1531,1528,1538,413,2196,406,2191,2188,425,419,2202,415,2199,432,430,427,1472,1467,1464,433,1476,1474,368,367,2160,365,2159,362,2157,2155,2152,378,377,375,2166,372,2165,369,2162,383,381,379,2168,1419,1418,1416,1414,385,1411,384,1423,1422,1420,1424,2461,802,2441,2439,790,786,783,794,2409,2406,2403,750,742,738,2414,756,753,1720,2367,2365,2362,2359,1663,693,691,684,2373,680,2370,702,699,696,704,1690,1687,2337,2336,2334,2332,1624,2329,1622,640,637,2344,634,2342,630,2340,650,648,645,2346,655,653,1653,1651,1649,1655,2612,2597,2595,2571,2568,2565,2576,2534,2529,2526,1787,2540,2537,907,904,900,910,2503,2502,2500,2498,1768,2495,1767,2510,2508,2506,869,866,863,2513,876,874,1782,2720,2713,2711,2697,2694,2691,2702,2672,2670,2664,1828,2678,2675,2647,2646,2644,2642,1823,2639,1822,2654,2652,2650,2657,2771,1855,2765,2762,1850,1849,2751,2749,2747,2754,353,2148,344,342,336,2142,332,2140,345,1375,1373,306,2130,299,2128,295,2125,319,314,311,2132,1354,1352,1349,1356,262,257,2101,253,2096,2093,274,273,267,2107,263,2104,280,278,275,1316,1311,1308,1320,1318,2052,202,2050,2044,2040,219,2063,212,2060,208,2055,224,221,2066,1260,1258,1252,231,1248,229,1266,1264,1261,1268,155,1998,153,1996,1994,1991,1988,165,164,2007,162,2006,159,2003,2e3,172,171,169,2012,166,2010,1186,1184,1182,1179,175,1176,173,1192,1191,1189,1187,176,1194,1193,2313,2307,2305,592,589,2294,2292,2289,578,572,568,2297,580,1591,2272,2267,2264,1547,538,536,529,2278,525,2275,547,544,541,1574,1571,2237,2235,2229,1493,2225,1489,478,2247,470,2244,465,2241,493,488,484,2250,498,495,1536,1533,1530,1539,2187,2186,2184,2182,1432,2179,1430,2176,1427,414,412,2197,409,2195,405,2193,2190,426,424,421,2203,418,2201,431,429,1473,1471,1469,1466,434,1477,1475,2478,2472,2470,2459,2457,2454,2462,803,2437,2432,2429,1726,2443,2440,792,789,785,2401,2399,2393,1702,2389,1699,2411,2408,2405,745,741,2415,758,755,1721,2358,2357,2355,2353,1661,2350,1660,2347,1657,2368,2366,2364,2361,1666,690,687,2374,683,2372,701,698,705,1691,1689,2619,2617,2610,2608,2605,2613,2593,2588,2585,1803,2599,2596,2563,2561,2555,1797,2551,1795,2573,2570,2567,2577,2525,2524,2522,2520,1786,2517,1785,2514,1783,2535,2533,2531,2528,1788,2541,2539,906,903,911,2721,1844,2715,2712,1838,1836,2699,2696,2693,2703,1827,1826,1824,2673,2671,2669,2666,1829,2679,2677,1858,1857,2772,1854,1853,1851,1856,2766,2764,143,1987,139,1986,135,133,131,1984,128,1983,125,1981,138,137,136,1985,1133,1132,1130,112,110,1974,107,1973,104,1971,1969,122,121,119,117,1977,114,1976,124,1115,1114,1112,1110,1117,1116,84,83,1953,81,1952,78,1950,1948,1945,94,93,91,1959,88,1958,85,1955,99,97,95,1961,1086,1085,1083,1081,1078,100,1090,1089,1087,1091,49,47,1917,44,1915,1913,1910,1907,59,1926,56,1925,53,1922,1919,66,64,1931,61,1929,1042,1040,1038,71,1035,70,1032,68,1048,1047,1045,1043,1050,1049,12,10,1869,1867,1864,1861,21,1880,19,1877,1874,1871,28,1888,25,1886,22,1883,982,980,977,974,32,30,991,989,987,984,34,995,994,992,2151,2150,2147,2146,2144,356,355,354,2149,2139,2138,2136,2134,1359,343,341,338,2143,335,2141,348,347,346,1376,1374,2124,2123,2121,2119,1326,2116,1324,310,308,305,2131,302,2129,298,2127,320,318,316,313,2133,322,321,1355,1353,1351,1357,2092,2091,2089,2087,1276,2084,1274,2081,1271,259,2102,256,2100,252,2098,2095,272,269,2108,266,2106,281,279,277,1317,1315,1313,1310,282,1321,1319,2039,2037,2035,2032,1203,2029,1200,1197,207,2053,205,2051,201,2049,2046,2043,220,218,2064,215,2062,211,2059,228,226,223,2069,1259,1257,1254,232,1251,230,1267,1265,1263,2316,2315,2312,2311,2309,2314,2304,2303,2301,2299,1593,2308,2306,590,2288,2287,2285,2283,1578,2280,1577,2295,2293,2291,579,577,574,571,2298,582,581,1592,2263,2262,2260,2258,1545,2255,1544,2252,1541,2273,2271,2269,2266,1550,535,532,2279,528,2277,546,543,549,1575,1573,2224,2222,2220,1486,2217,1485,2214,1482,1479,2238,2236,2234,2231,1496,2228,1492,480,477,2248,473,2246,469,2243,490,487,2251,497,1537,1535,1532,2477,2476,2474,2479,2469,2468,2466,2464,1730,2473,2471,2453,2452,2450,2448,1729,2445,1728,2460,2458,2456,2463,805,804,2428,2427,2425,2423,1725,2420,1724,2417,1722,2438,2436,2434,2431,1727,2444,2442,793,791,788,795,2388,2386,2384,1697,2381,1696,2378,1694,1692,2402,2400,2398,2395,1703,2392,1701,2412,2410,2407,751,748,744,2416,759,757,1807,2620,2618,1806,1805,2611,2609,2607,2614,1802,1801,1799,2594,2592,2590,2587,1804,2600,2598,1794,1793,1791,1789,2564,2562,2560,2557,1798,2554,1796,2574,2572,2569,2578,1847,1846,2722,1843,1842,1840,1845,2716,2714,1835,1834,1832,1830,1839,1837,2700,2698,2695,2704,1817,1811,1810,897,862,1777,829,826,838,1760,1758,808,2481,1741,1740,1738,1743,2624,1818,2726,2776,782,740,737,1715,686,679,695,1682,1680,639,628,2339,647,644,1645,1643,1640,1648,602,600,597,595,2320,593,2318,609,607,604,1611,1610,1608,1606,613,1615,1613,2328,926,924,892,886,899,857,850,2505,1778,824,823,821,819,2488,818,2486,833,831,828,840,1761,1759,2649,2632,2630,2746,2734,2732,2782,2781,570,567,1587,531,527,523,540,1566,1564,476,467,463,2240,486,483,1524,1521,1518,1529,411,403,2192,399,2189,423,416,1462,1457,1454,428,1468,1465,2210,366,363,2158,360,2156,357,2153,376,373,370,2163,1410,1409,1407,1405,382,1402,380,1417,1415,1412,1421,2175,2174,777,774,771,784,732,725,722,2404,743,1716,676,674,668,2363,665,2360,685,1684,1681,626,624,622,2335,620,2333,617,2330,641,635,649,1646,1644,1642,2566,928,925,2530,2527,894,891,888,2501,2499,2496,858,856,854,851,1779,2692,2668,2665,2645,2643,2640,2651,2768,2759,2757,2744,2743,2741,2748,352,1382,340,337,333,1371,1369,307,300,296,2126,315,312,1347,1342,1350,261,258,250,2097,246,2094,271,268,264,1306,1301,1298,276,1312,1309,2115,203,2048,195,2045,191,2041,213,209,2056,1246,1244,1238,225,1234,222,1256,1253,1249,1262,2080,2079,154,1997,150,1995,147,1992,1989,163,160,2004,156,2001,1175,1174,1172,1170,1167,170,1164,167,1185,1183,1180,1177,174,1190,1188,2025,2024,2022,587,586,564,559,556,2290,573,1588,520,518,512,2268,508,2265,530,1568,1565,461,457,2233,450,2230,446,2226,479,471,489,1526,1523,1520,397,395,2185,392,2183,389,2180,2177,410,2194,402,422,1463,1461,1459,1456,1470,2455,799,2433,2430,779,776,773,2397,2394,2390,734,728,724,746,1717,2356,2354,2351,2348,1658,677,675,673,670,667,688,1685,1683,2606,2589,2586,2559,2556,2552,927,2523,2521,2518,2515,1784,2532,895,893,890,2718,2709,2707,2689,2687,2684,2663,2662,2660,2658,1825,2667,2769,1852,2760,2758,142,141,1139,1138,134,132,129,126,1982,1129,1128,1126,1131,113,111,108,105,1972,101,1970,120,118,115,1109,1108,1106,1104,123,1113,1111,82,79,1951,75,1949,72,1946,92,89,86,1956,1077,1076,1074,1072,98,1069,96,1084,1082,1079,1088,1968,1967,48,45,1916,42,1914,39,1911,1908,60,57,54,1923,50,1920,1031,1030,1028,1026,67,1023,65,1020,62,1041,1039,1036,1033,69,1046,1044,1944,1943,1941,11,9,1868,7,1865,1862,1859,20,1878,16,1875,13,1872,970,968,966,963,29,960,26,23,983,981,978,975,33,971,31,990,988,985,1906,1904,1902,993,351,2145,1383,331,330,328,326,2137,323,2135,339,1372,1370,294,293,291,289,2122,286,2120,283,2117,309,303,317,1348,1346,1344,245,244,242,2090,239,2088,236,2085,2082,260,2099,249,270,1307,1305,1303,1300,1314,189,2038,186,2036,183,2033,2030,2026,206,198,2047,194,216,1247,1245,1243,1240,227,1237,1255,2310,2302,2300,2286,2284,2281,565,563,561,558,575,1589,2261,2259,2256,2253,1542,521,519,517,514,2270,511,533,1569,1567,2223,2221,2218,2215,1483,2211,1480,459,456,453,2232,449,474,491,1527,1525,1522,2475,2467,2465,2451,2449,2446,801,800,2426,2424,2421,2418,1723,2435,780,778,775,2387,2385,2382,2379,1695,2375,1693,2396,735,733,730,727,749,1718,2616,2615,2604,2603,2601,2584,2583,2581,2579,1800,2591,2550,2549,2547,2545,1792,2542,1790,2558,929,2719,1841,2710,2708,1833,1831,2690,2688,2686,1815,1809,1808,1774,1756,1754,1737,1736,1734,1739,1816,1711,1676,1674,633,629,1638,1636,1633,1641,598,1605,1604,1602,1600,605,1609,1607,2327,887,853,1775,822,820,1757,1755,1584,524,1560,1558,468,464,1514,1511,1508,1519,408,404,400,1452,1447,1444,417,1458,1455,2208,364,361,358,2154,1401,1400,1398,1396,374,1393,371,1408,1406,1403,1413,2173,2172,772,726,723,1712,672,669,666,682,1678,1675,625,623,621,618,2331,636,632,1639,1637,1635,920,918,884,880,889,849,848,847,846,2497,855,852,1776,2641,2742,2787,1380,334,1367,1365,301,297,1340,1338,1335,1343,255,251,247,1296,1291,1288,265,1302,1299,2113,204,196,192,2042,1232,1230,1224,214,1220,210,1242,1239,1235,1250,2077,2075,151,148,1993,144,1990,1163,1162,1160,1158,1155,161,1152,157,1173,1171,1168,1165,168,1181,1178,2021,2020,2018,2023,585,560,557,1585,516,509,1562,1559,458,447,2227,472,1516,1513,1510,398,396,393,390,2181,386,2178,407,1453,1451,1449,1446,420,1460,2209,769,764,720,712,2391,729,1713,664,663,661,659,2352,656,2349,671,1679,1677,2553,922,919,2519,2516,885,883,881,2685,2661,2659,2767,2756,2755,140,1137,1136,130,127,1125,1124,1122,1127,109,106,102,1103,1102,1100,1098,116,1107,1105,1980,80,76,73,1947,1068,1067,1065,1063,90,1060,87,1075,1073,1070,1080,1966,1965,46,43,40,1912,36,1909,1019,1018,1016,1014,58,1011,55,1008,51,1029,1027,1024,1021,63,1037,1034,1940,1939,1937,1942,8,1866,4,1863,1,1860,956,954,952,949,946,17,14,969,967,964,961,27,957,24,979,976,972,1901,1900,1898,1896,986,1905,1903,350,349,1381,329,327,324,1368,1366,292,290,287,284,2118,304,1341,1339,1337,1345,243,240,237,2086,233,2083,254,1297,1295,1293,1290,1304,2114,190,187,184,2034,180,2031,177,2027,199,1233,1231,1229,1226,217,1223,1241,2078,2076,584,555,554,552,550,2282,562,1586,507,506,504,502,2257,499,2254,515,1563,1561,445,443,441,2219,438,2216,435,2212,460,454,475,1517,1515,1512,2447,798,797,2422,2419,770,768,766,2383,2380,2376,721,719,717,714,731,1714,2602,2582,2580,2548,2546,2543,923,921,2717,2706,2705,2683,2682,2680,1771,1752,1750,1733,1732,1731,1735,1814,1707,1670,1668,1631,1629,1626,1634,1599,1598,1596,1594,1603,1601,2326,1772,1753,1751,1581,1554,1552,1504,1501,1498,1509,1442,1437,1434,401,1448,1445,2206,1392,1391,1389,1387,1384,359,1399,1397,1394,1404,2171,2170,1708,1672,1669,619,1632,1630,1628,1773,1378,1363,1361,1333,1328,1336,1286,1281,1278,248,1292,1289,2111,1218,1216,1210,197,1206,193,1228,1225,1221,1236,2073,2071,1151,1150,1148,1146,152,1143,149,1140,145,1161,1159,1156,1153,158,1169,1166,2017,2016,2014,2019,1582,510,1556,1553,452,448,1506,1500,394,391,387,1443,1441,1439,1436,1450,2207,765,716,713,1709,662,660,657,1673,1671,916,914,879,878,877,882,1135,1134,1121,1120,1118,1123,1097,1096,1094,1092,103,1101,1099,1979,1059,1058,1056,1054,77,1051,74,1066,1064,1061,1071,1964,1963,1007,1006,1004,1002,999,41,996,37,1017,1015,1012,1009,52,1025,1022,1936,1935,1933,1938,942,940,938,935,932,5,2,955,953,950,947,18,943,15,965,962,958,1895,1894,1892,1890,973,1899,1897,1379,325,1364,1362,288,285,1334,1332,1330,241,238,234,1287,1285,1283,1280,1294,2112,188,185,181,178,2028,1219,1217,1215,1212,200,1209,1227,2074,2072,583,553,551,1583,505,503,500,513,1557,1555,444,442,439,436,2213,455,451,1507,1505,1502,796,763,762,760,767,711,710,708,706,2377,718,715,1710,2544,917,915,2681,1627,1597,1595,2325,1769,1749,1747,1499,1438,1435,2204,1390,1388,1385,1395,2169,2167,1704,1665,1662,1625,1623,1620,1770,1329,1282,1279,2109,1214,1207,1222,2068,2065,1149,1147,1144,1141,146,1157,1154,2013,2011,2008,2015,1579,1549,1546,1495,1487,1433,1431,1428,1425,388,1440,2205,1705,658,1667,1664,1119,1095,1093,1978,1057,1055,1052,1062,1962,1960,1005,1003,1e3,997,38,1013,1010,1932,1930,1927,1934,941,939,936,933,6,930,3,951,948,944,1889,1887,1884,1881,959,1893,1891,35,1377,1360,1358,1327,1325,1322,1331,1277,1275,1272,1269,235,1284,2110,1205,1204,1201,1198,182,1195,179,1213,2070,2067,1580,501,1551,1548,440,437,1497,1494,1490,1503,761,709,707,1706,913,912,2198,1386,2164,2161,1621,1766,2103,1208,2058,2054,1145,1142,2005,2002,1999,2009,1488,1429,1426,2200,1698,1659,1656,1975,1053,1957,1954,1001,998,1924,1921,1918,1928,937,934,931,1879,1876,1873,1870,945,1885,1882,1323,1273,1270,2105,1202,1199,1196,1211,2061,2057,1576,1543,1540,1484,1481,1478,1491,1700]);class Db{constructor(a,c){this.bits=a,this.points=c}getBits(){return this.bits}getPoints(){return this.points}}class Ke{static detectMultiple(a,c,d){let p=a.getBlackMatrix(),x=Ke.detect(d,p);return x.length||(p=p.clone(),p.rotate180(),x=Ke.detect(d,p)),new Db(p,x)}static detect(a,c){const d=new Array;let p=0,x=0,g=!1;for(;p<c.getHeight();){const y=Ke.findVertices(c,p,x);if(y[0]==null&&y[3]==null){if(!g)break;g=!1,x=0;for(const E of d)E[1]!=null&&(p=Math.trunc(Math.max(p,E[1].getY()))),E[3]!=null&&(p=Math.max(p,Math.trunc(E[3].getY())));p+=Ke.ROW_STEP;continue}if(g=!0,d.push(y),!a)break;y[2]!=null?(x=Math.trunc(y[2].getX()),p=Math.trunc(y[2].getY())):(x=Math.trunc(y[4].getX()),p=Math.trunc(y[4].getY()))}return d}static findVertices(a,c,d){const p=a.getHeight(),x=a.getWidth(),g=new Array(8);return Ke.copyToResult(g,Ke.findRowsWithPattern(a,p,x,c,d,Ke.START_PATTERN),Ke.INDEXES_START_PATTERN),g[4]!=null&&(d=Math.trunc(g[4].getX()),c=Math.trunc(g[4].getY())),Ke.copyToResult(g,Ke.findRowsWithPattern(a,p,x,c,d,Ke.STOP_PATTERN),Ke.INDEXES_STOP_PATTERN),g}static copyToResult(a,c,d){for(let p=0;p<d.length;p++)a[d[p]]=c[p]}static findRowsWithPattern(a,c,d,p,x,g){const y=new Array(4);let E=!1;const A=new Int32Array(g.length);for(;p<c;p+=Ke.ROW_STEP){let j=Ke.findGuardPattern(a,x,p,d,!1,g,A);if(j!=null){for(;p>0;){const L=Ke.findGuardPattern(a,x,--p,d,!1,g,A);if(L!=null)j=L;else{p++;break}}y[0]=new Oe(j[0],p),y[1]=new Oe(j[1],p),E=!0;break}}let O=p+1;if(E){let j=0,L=Int32Array.from([Math.trunc(y[0].getX()),Math.trunc(y[1].getX())]);for(;O<c;O++){const z=Ke.findGuardPattern(a,L[0],O,d,!1,g,A);if(z!=null&&Math.abs(L[0]-z[0])<Ke.MAX_PATTERN_DRIFT&&Math.abs(L[1]-z[1])<Ke.MAX_PATTERN_DRIFT)L=z,j=0;else{if(j>Ke.SKIPPED_ROW_COUNT_MAX)break;j++}}O-=j+1,y[2]=new Oe(L[0],O),y[3]=new Oe(L[1],O)}return O-p<Ke.BARCODE_MIN_HEIGHT&&S.fill(y,null),y}static findGuardPattern(a,c,d,p,x,g,y){S.fillWithin(y,0,y.length,0);let E=c,A=0;for(;a.get(E,d)&&E>0&&A++<Ke.MAX_PIXEL_DRIFT;)E--;let O=E,j=0,L=g.length;for(let z=x;O<p;O++)if(a.get(O,d)!==z)y[j]++;else{if(j===L-1){if(Ke.patternMatchVariance(y,g,Ke.MAX_INDIVIDUAL_VARIANCE)<Ke.MAX_AVG_VARIANCE)return new Int32Array([E,O]);E+=y[0]+y[1],b.arraycopy(y,2,y,0,j-1),y[j-1]=0,y[j]=0,j--}else j++;y[j]=1,z=!z}return j===L-1&&Ke.patternMatchVariance(y,g,Ke.MAX_INDIVIDUAL_VARIANCE)<Ke.MAX_AVG_VARIANCE?new Int32Array([E,O-1]):null}static patternMatchVariance(a,c,d){let p=a.length,x=0,g=0;for(let A=0;A<p;A++)x+=a[A],g+=c[A];if(x<g)return 1/0;let y=x/g;d*=y;let E=0;for(let A=0;A<p;A++){let O=a[A],j=c[A]*y,L=O>j?O-j:j-O;if(L>d)return 1/0;E+=L}return E/x}}Ke.INDEXES_START_PATTERN=Int32Array.from([0,4,1,5]),Ke.INDEXES_STOP_PATTERN=Int32Array.from([6,2,7,3]),Ke.MAX_AVG_VARIANCE=.42,Ke.MAX_INDIVIDUAL_VARIANCE=.8,Ke.START_PATTERN=Int32Array.from([8,1,1,1,1,1,1,3]),Ke.STOP_PATTERN=Int32Array.from([7,1,1,3,1,1,1,2,1]),Ke.MAX_PIXEL_DRIFT=3,Ke.MAX_PATTERN_DRIFT=5,Ke.SKIPPED_ROW_COUNT_MAX=25,Ke.ROW_STEP=5,Ke.BARCODE_MIN_HEIGHT=10;class Mr{constructor(a,c){if(c.length===0)throw new v;this.field=a;let d=c.length;if(d>1&&c[0]===0){let p=1;for(;p<d&&c[p]===0;)p++;p===d?this.coefficients=new Int32Array([0]):(this.coefficients=new Int32Array(d-p),b.arraycopy(c,p,this.coefficients,0,this.coefficients.length))}else this.coefficients=c}getCoefficients(){return this.coefficients}getDegree(){return this.coefficients.length-1}isZero(){return this.coefficients[0]===0}getCoefficient(a){return this.coefficients[this.coefficients.length-1-a]}evaluateAt(a){if(a===0)return this.getCoefficient(0);if(a===1){let p=0;for(let x of this.coefficients)p=this.field.add(p,x);return p}let c=this.coefficients[0],d=this.coefficients.length;for(let p=1;p<d;p++)c=this.field.add(this.field.multiply(a,c),this.coefficients[p]);return c}add(a){if(!this.field.equals(a.field))throw new v("ModulusPolys do not have same ModulusGF field");if(this.isZero())return a;if(a.isZero())return this;let c=this.coefficients,d=a.coefficients;if(c.length>d.length){let g=c;c=d,d=g}let p=new Int32Array(d.length),x=d.length-c.length;b.arraycopy(d,0,p,0,x);for(let g=x;g<d.length;g++)p[g]=this.field.add(c[g-x],d[g]);return new Mr(this.field,p)}subtract(a){if(!this.field.equals(a.field))throw new v("ModulusPolys do not have same ModulusGF field");return a.isZero()?this:this.add(a.negative())}multiply(a){return a instanceof Mr?this.multiplyOther(a):this.multiplyScalar(a)}multiplyOther(a){if(!this.field.equals(a.field))throw new v("ModulusPolys do not have same ModulusGF field");if(this.isZero()||a.isZero())return new Mr(this.field,new Int32Array([0]));let c=this.coefficients,d=c.length,p=a.coefficients,x=p.length,g=new Int32Array(d+x-1);for(let y=0;y<d;y++){let E=c[y];for(let A=0;A<x;A++)g[y+A]=this.field.add(g[y+A],this.field.multiply(E,p[A]))}return new Mr(this.field,g)}negative(){let a=this.coefficients.length,c=new Int32Array(a);for(let d=0;d<a;d++)c[d]=this.field.subtract(0,this.coefficients[d]);return new Mr(this.field,c)}multiplyScalar(a){if(a===0)return new Mr(this.field,new Int32Array([0]));if(a===1)return this;let c=this.coefficients.length,d=new Int32Array(c);for(let p=0;p<c;p++)d[p]=this.field.multiply(this.coefficients[p],a);return new Mr(this.field,d)}multiplyByMonomial(a,c){if(a<0)throw new v;if(c===0)return new Mr(this.field,new Int32Array([0]));let d=this.coefficients.length,p=new Int32Array(d+a);for(let x=0;x<d;x++)p[x]=this.field.multiply(this.coefficients[x],c);return new Mr(this.field,p)}toString(){let a=new ae;for(let c=this.getDegree();c>=0;c--){let d=this.getCoefficient(c);d!==0&&(d<0?(a.append(" - "),d=-d):a.length()>0&&a.append(" + "),(c===0||d!==1)&&a.append(d),c!==0&&(c===1?a.append("x"):(a.append("x^"),a.append(c))))}return a.toString()}}class jb{add(a,c){return(a+c)%this.modulus}subtract(a,c){return(this.modulus+a-c)%this.modulus}exp(a){return this.expTable[a]}log(a){if(a===0)throw new v;return this.logTable[a]}inverse(a){if(a===0)throw new ct;return this.expTable[this.modulus-this.logTable[a]-1]}multiply(a,c){return a===0||c===0?0:this.expTable[(this.logTable[a]+this.logTable[c])%(this.modulus-1)]}getSize(){return this.modulus}equals(a){return a===this}}class k0 extends jb{constructor(a,c){super(),this.modulus=a,this.expTable=new Int32Array(a),this.logTable=new Int32Array(a);let d=1;for(let p=0;p<a;p++)this.expTable[p]=d,d=d*c%a;for(let p=0;p<a-1;p++)this.logTable[this.expTable[p]]=p;this.zero=new Mr(this,new Int32Array([0])),this.one=new Mr(this,new Int32Array([1]))}getZero(){return this.zero}getOne(){return this.one}buildMonomial(a,c){if(a<0)throw new v;if(c===0)return this.zero;let d=new Int32Array(a+1);return d[0]=c,new Mr(this,d)}}k0.PDF417_GF=new k0(He.NUMBER_OF_CODEWORDS,3);class tm{constructor(){this.field=k0.PDF417_GF}decode(a,c,d){let p=new Mr(this.field,a),x=new Int32Array(c),g=!1;for(let W=c;W>0;W--){let $=p.evaluateAt(this.field.exp(W));x[c-W]=$,$!==0&&(g=!0)}if(!g)return 0;let y=this.field.getOne();if(d!=null)for(const W of d){let $=this.field.exp(a.length-1-W),q=new Mr(this.field,new Int32Array([this.field.subtract(0,$),1]));y=y.multiply(q)}let E=new Mr(this.field,x),A=this.runEuclideanAlgorithm(this.field.buildMonomial(c,1),E,c),O=A[0],j=A[1],L=this.findErrorLocations(O),z=this.findErrorMagnitudes(j,O,L);for(let W=0;W<L.length;W++){let $=a.length-1-this.field.log(L[W]);if($<0)throw C.getChecksumInstance();a[$]=this.field.subtract(a[$],z[W])}return L.length}runEuclideanAlgorithm(a,c,d){if(a.getDegree()<c.getDegree()){let L=a;a=c,c=L}let p=a,x=c,g=this.field.getZero(),y=this.field.getOne();for(;x.getDegree()>=Math.round(d/2);){let L=p,z=g;if(p=x,g=y,p.isZero())throw C.getChecksumInstance();x=L;let W=this.field.getZero(),$=p.getCoefficient(p.getDegree()),q=this.field.inverse($);for(;x.getDegree()>=p.getDegree()&&!x.isZero();){let re=x.getDegree()-p.getDegree(),pe=this.field.multiply(x.getCoefficient(x.getDegree()),q);W=W.add(this.field.buildMonomial(re,pe)),x=x.subtract(p.multiplyByMonomial(re,pe))}y=W.multiply(g).subtract(z).negative()}let E=y.getCoefficient(0);if(E===0)throw C.getChecksumInstance();let A=this.field.inverse(E),O=y.multiply(A),j=x.multiply(A);return[O,j]}findErrorLocations(a){let c=a.getDegree(),d=new Int32Array(c),p=0;for(let x=1;x<this.field.getSize()&&p<c;x++)a.evaluateAt(x)===0&&(d[p]=this.field.inverse(x),p++);if(p!==c)throw C.getChecksumInstance();return d}findErrorMagnitudes(a,c,d){let p=c.getDegree(),x=new Int32Array(p);for(let A=1;A<=p;A++)x[p-A]=this.field.multiply(A,c.getCoefficient(A));let g=new Mr(this.field,x),y=d.length,E=new Int32Array(y);for(let A=0;A<y;A++){let O=this.field.inverse(d[A]),j=this.field.subtract(0,a.evaluateAt(O)),L=this.field.inverse(g.evaluateAt(O));E[A]=this.field.multiply(j,L)}return E}}class La{constructor(a,c,d,p,x){a instanceof La?this.constructor_2(a):this.constructor_1(a,c,d,p,x)}constructor_1(a,c,d,p,x){const g=c==null||d==null,y=p==null||x==null;if(g&&y)throw new G;g?(c=new Oe(0,p.getY()),d=new Oe(0,x.getY())):y&&(p=new Oe(a.getWidth()-1,c.getY()),x=new Oe(a.getWidth()-1,d.getY())),this.image=a,this.topLeft=c,this.bottomLeft=d,this.topRight=p,this.bottomRight=x,this.minX=Math.trunc(Math.min(c.getX(),d.getX())),this.maxX=Math.trunc(Math.max(p.getX(),x.getX())),this.minY=Math.trunc(Math.min(c.getY(),p.getY())),this.maxY=Math.trunc(Math.max(d.getY(),x.getY()))}constructor_2(a){this.image=a.image,this.topLeft=a.getTopLeft(),this.bottomLeft=a.getBottomLeft(),this.topRight=a.getTopRight(),this.bottomRight=a.getBottomRight(),this.minX=a.getMinX(),this.maxX=a.getMaxX(),this.minY=a.getMinY(),this.maxY=a.getMaxY()}static merge(a,c){return a==null?c:c==null?a:new La(a.image,a.topLeft,a.bottomLeft,c.topRight,c.bottomRight)}addMissingRows(a,c,d){let p=this.topLeft,x=this.bottomLeft,g=this.topRight,y=this.bottomRight;if(a>0){let E=d?this.topLeft:this.topRight,A=Math.trunc(E.getY()-a);A<0&&(A=0);let O=new Oe(E.getX(),A);d?p=O:g=O}if(c>0){let E=d?this.bottomLeft:this.bottomRight,A=Math.trunc(E.getY()+c);A>=this.image.getHeight()&&(A=this.image.getHeight()-1);let O=new Oe(E.getX(),A);d?x=O:y=O}return new La(this.image,p,x,g,y)}getMinX(){return this.minX}getMaxX(){return this.maxX}getMinY(){return this.minY}getMaxY(){return this.maxY}getTopLeft(){return this.topLeft}getTopRight(){return this.topRight}getBottomLeft(){return this.bottomLeft}getBottomRight(){return this.bottomRight}}class Mb{constructor(a,c,d,p){this.columnCount=a,this.errorCorrectionLevel=p,this.rowCountUpperPart=c,this.rowCountLowerPart=d,this.rowCount=c+d}getColumnCount(){return this.columnCount}getErrorCorrectionLevel(){return this.errorCorrectionLevel}getRowCount(){return this.rowCount}getRowCountUpperPart(){return this.rowCountUpperPart}getRowCountLowerPart(){return this.rowCountLowerPart}}class ql{constructor(){this.buffer=""}static form(a,c){let d=-1;function p(g,y,E,A,O,j){if(g==="%%")return"%";if(c[++d]===void 0)return;g=A?parseInt(A.substr(1)):void 0;let L=O?parseInt(O.substr(1)):void 0,z;switch(j){case"s":z=c[d];break;case"c":z=c[d][0];break;case"f":z=parseFloat(c[d]).toFixed(g);break;case"p":z=parseFloat(c[d]).toPrecision(g);break;case"e":z=parseFloat(c[d]).toExponential(g);break;case"x":z=parseInt(c[d]).toString(L||16);break;case"d":z=parseFloat(parseInt(c[d],L||10).toPrecision(g)).toFixed(0);break}z=typeof z=="object"?JSON.stringify(z):(+z).toString(L);let W=parseInt(E),$=E&&E[0]+""=="0"?"0":" ";for(;z.length<W;)z=y!==void 0?z+$:$+z;return z}let x=/%(-)?(0?[0-9]+)?([.][0-9]+)?([#][0-9]+)?([scfpexd%])/g;return a.replace(x,p)}format(a,...c){this.buffer+=ql.form(a,c)}toString(){return this.buffer}}class Ql{constructor(a){this.boundingBox=new La(a),this.codewords=new Array(a.getMaxY()-a.getMinY()+1)}getCodewordNearby(a){let c=this.getCodeword(a);if(c!=null)return c;for(let d=1;d<Ql.MAX_NEARBY_DISTANCE;d++){let p=this.imageRowToCodewordIndex(a)-d;if(p>=0&&(c=this.codewords[p],c!=null)||(p=this.imageRowToCodewordIndex(a)+d,p<this.codewords.length&&(c=this.codewords[p],c!=null)))return c}return null}imageRowToCodewordIndex(a){return a-this.boundingBox.getMinY()}setCodeword(a,c){this.codewords[this.imageRowToCodewordIndex(a)]=c}getCodeword(a){return this.codewords[this.imageRowToCodewordIndex(a)]}getBoundingBox(){return this.boundingBox}getCodewords(){return this.codewords}toString(){const a=new ql;let c=0;for(const d of this.codewords){if(d==null){a.format("%3d:    |   %n",c++);continue}a.format("%3d: %3d|%3d%n",c++,d.getRowNumber(),d.getValue())}return a.toString()}}Ql.MAX_NEARBY_DISTANCE=5;class Jl{constructor(){this.values=new Map}setValue(a){a=Math.trunc(a);let c=this.values.get(a);c==null&&(c=0),c++,this.values.set(a,c)}getValue(){let a=-1,c=new Array;for(const[d,p]of this.values.entries()){const x={getKey:()=>d,getValue:()=>p};x.getValue()>a?(a=x.getValue(),c=[],c.push(x.getKey())):x.getValue()===a&&c.push(x.getKey())}return He.toIntArray(c)}getConfidence(a){return this.values.get(a)}}class rm extends Ql{constructor(a,c){super(a),this._isLeft=c}setRowNumbers(){for(let a of this.getCodewords())a!=null&&a.setRowNumberAsRowIndicatorColumn()}adjustCompleteIndicatorColumnRowNumbers(a){let c=this.getCodewords();this.setRowNumbers(),this.removeIncorrectCodewords(c,a);let d=this.getBoundingBox(),p=this._isLeft?d.getTopLeft():d.getTopRight(),x=this._isLeft?d.getBottomLeft():d.getBottomRight(),g=this.imageRowToCodewordIndex(Math.trunc(p.getY())),y=this.imageRowToCodewordIndex(Math.trunc(x.getY())),E=-1,A=1,O=0;for(let j=g;j<y;j++){if(c[j]==null)continue;let L=c[j],z=L.getRowNumber()-E;if(z===0)O++;else if(z===1)A=Math.max(A,O),O=1,E=L.getRowNumber();else if(z<0||L.getRowNumber()>=a.getRowCount()||z>j)c[j]=null;else{let W;A>2?W=(A-2)*z:W=z;let $=W>=j;for(let q=1;q<=W&&!$;q++)$=c[j-q]!=null;$?c[j]=null:(E=L.getRowNumber(),O=1)}}}getRowHeights(){let a=this.getBarcodeMetadata();if(a==null)return null;this.adjustIncompleteIndicatorColumnRowNumbers(a);let c=new Int32Array(a.getRowCount());for(let d of this.getCodewords())if(d!=null){let p=d.getRowNumber();if(p>=c.length)continue;c[p]++}return c}adjustIncompleteIndicatorColumnRowNumbers(a){let c=this.getBoundingBox(),d=this._isLeft?c.getTopLeft():c.getTopRight(),p=this._isLeft?c.getBottomLeft():c.getBottomRight(),x=this.imageRowToCodewordIndex(Math.trunc(d.getY())),g=this.imageRowToCodewordIndex(Math.trunc(p.getY())),y=this.getCodewords(),E=-1;for(let A=x;A<g;A++){if(y[A]==null)continue;let O=y[A];O.setRowNumberAsRowIndicatorColumn();let j=O.getRowNumber()-E;j===0||(j===1?E=O.getRowNumber():O.getRowNumber()>=a.getRowCount()?y[A]=null:E=O.getRowNumber())}}getBarcodeMetadata(){let a=this.getCodewords(),c=new Jl,d=new Jl,p=new Jl,x=new Jl;for(let y of a){if(y==null)continue;y.setRowNumberAsRowIndicatorColumn();let E=y.getValue()%30,A=y.getRowNumber();switch(this._isLeft||(A+=2),A%3){case 0:d.setValue(E*3+1);break;case 1:x.setValue(E/3),p.setValue(E%3);break;case 2:c.setValue(E+1);break}}if(c.getValue().length===0||d.getValue().length===0||p.getValue().length===0||x.getValue().length===0||c.getValue()[0]<1||d.getValue()[0]+p.getValue()[0]<He.MIN_ROWS_IN_BARCODE||d.getValue()[0]+p.getValue()[0]>He.MAX_ROWS_IN_BARCODE)return null;let g=new Mb(c.getValue()[0],d.getValue()[0],p.getValue()[0],x.getValue()[0]);return this.removeIncorrectCodewords(a,g),g}removeIncorrectCodewords(a,c){for(let d=0;d<a.length;d++){let p=a[d];if(a[d]==null)continue;let x=p.getValue()%30,g=p.getRowNumber();if(g>c.getRowCount()){a[d]=null;continue}switch(this._isLeft||(g+=2),g%3){case 0:x*3+1!==c.getRowCountUpperPart()&&(a[d]=null);break;case 1:(Math.trunc(x/3)!==c.getErrorCorrectionLevel()||x%3!==c.getRowCountLowerPart())&&(a[d]=null);break;case 2:x+1!==c.getColumnCount()&&(a[d]=null);break}}}isLeft(){return this._isLeft}toString(){return"IsLeft: "+this._isLeft+`
`+super.toString()}}class ec{constructor(a,c){this.ADJUST_ROW_NUMBER_SKIP=2,this.barcodeMetadata=a,this.barcodeColumnCount=a.getColumnCount(),this.boundingBox=c,this.detectionResultColumns=new Array(this.barcodeColumnCount+2)}getDetectionResultColumns(){this.adjustIndicatorColumnRowNumbers(this.detectionResultColumns[0]),this.adjustIndicatorColumnRowNumbers(this.detectionResultColumns[this.barcodeColumnCount+1]);let a=He.MAX_CODEWORDS_IN_BARCODE,c;do c=a,a=this.adjustRowNumbersAndGetCount();while(a>0&&a<c);return this.detectionResultColumns}adjustIndicatorColumnRowNumbers(a){a!=null&&a.adjustCompleteIndicatorColumnRowNumbers(this.barcodeMetadata)}adjustRowNumbersAndGetCount(){let a=this.adjustRowNumbersByRow();if(a===0)return 0;for(let c=1;c<this.barcodeColumnCount+1;c++){let d=this.detectionResultColumns[c].getCodewords();for(let p=0;p<d.length;p++)d[p]!=null&&(d[p].hasValidRowNumber()||this.adjustRowNumbers(c,p,d))}return a}adjustRowNumbersByRow(){return this.adjustRowNumbersFromBothRI(),this.adjustRowNumbersFromLRI()+this.adjustRowNumbersFromRRI()}adjustRowNumbersFromBothRI(){if(this.detectionResultColumns[0]==null||this.detectionResultColumns[this.barcodeColumnCount+1]==null)return;let a=this.detectionResultColumns[0].getCodewords(),c=this.detectionResultColumns[this.barcodeColumnCount+1].getCodewords();for(let d=0;d<a.length;d++)if(a[d]!=null&&c[d]!=null&&a[d].getRowNumber()===c[d].getRowNumber())for(let p=1;p<=this.barcodeColumnCount;p++){let x=this.detectionResultColumns[p].getCodewords()[d];x!=null&&(x.setRowNumber(a[d].getRowNumber()),x.hasValidRowNumber()||(this.detectionResultColumns[p].getCodewords()[d]=null))}}adjustRowNumbersFromRRI(){if(this.detectionResultColumns[this.barcodeColumnCount+1]==null)return 0;let a=0,c=this.detectionResultColumns[this.barcodeColumnCount+1].getCodewords();for(let d=0;d<c.length;d++){if(c[d]==null)continue;let p=c[d].getRowNumber(),x=0;for(let g=this.barcodeColumnCount+1;g>0&&x<this.ADJUST_ROW_NUMBER_SKIP;g--){let y=this.detectionResultColumns[g].getCodewords()[d];y!=null&&(x=ec.adjustRowNumberIfValid(p,x,y),y.hasValidRowNumber()||a++)}}return a}adjustRowNumbersFromLRI(){if(this.detectionResultColumns[0]==null)return 0;let a=0,c=this.detectionResultColumns[0].getCodewords();for(let d=0;d<c.length;d++){if(c[d]==null)continue;let p=c[d].getRowNumber(),x=0;for(let g=1;g<this.barcodeColumnCount+1&&x<this.ADJUST_ROW_NUMBER_SKIP;g++){let y=this.detectionResultColumns[g].getCodewords()[d];y!=null&&(x=ec.adjustRowNumberIfValid(p,x,y),y.hasValidRowNumber()||a++)}}return a}static adjustRowNumberIfValid(a,c,d){return d==null||d.hasValidRowNumber()||(d.isValidRowNumber(a)?(d.setRowNumber(a),c=0):++c),c}adjustRowNumbers(a,c,d){if(!this.detectionResultColumns[a-1])return;let p=d[c],x=this.detectionResultColumns[a-1].getCodewords(),g=x;this.detectionResultColumns[a+1]!=null&&(g=this.detectionResultColumns[a+1].getCodewords());let y=new Array(14);y[2]=x[c],y[3]=g[c],c>0&&(y[0]=d[c-1],y[4]=x[c-1],y[5]=g[c-1]),c>1&&(y[8]=d[c-2],y[10]=x[c-2],y[11]=g[c-2]),c<d.length-1&&(y[1]=d[c+1],y[6]=x[c+1],y[7]=g[c+1]),c<d.length-2&&(y[9]=d[c+2],y[12]=x[c+2],y[13]=g[c+2]);for(let E of y)if(ec.adjustRowNumber(p,E))return}static adjustRowNumber(a,c){return c==null?!1:c.hasValidRowNumber()&&c.getBucket()===a.getBucket()?(a.setRowNumber(c.getRowNumber()),!0):!1}getBarcodeColumnCount(){return this.barcodeColumnCount}getBarcodeRowCount(){return this.barcodeMetadata.getRowCount()}getBarcodeECLevel(){return this.barcodeMetadata.getErrorCorrectionLevel()}setBoundingBox(a){this.boundingBox=a}getBoundingBox(){return this.boundingBox}setDetectionResultColumn(a,c){this.detectionResultColumns[a]=c}getDetectionResultColumn(a){return this.detectionResultColumns[a]}toString(){let a=this.detectionResultColumns[0];a==null&&(a=this.detectionResultColumns[this.barcodeColumnCount+1]);let c=new ql;for(let d=0;d<a.getCodewords().length;d++){c.format("CW %3d:",d);for(let p=0;p<this.barcodeColumnCount+2;p++){if(this.detectionResultColumns[p]==null){c.format("    |   ");continue}let x=this.detectionResultColumns[p].getCodewords()[d];if(x==null){c.format("    |   ");continue}c.format(" %3d|%3d",x.getRowNumber(),x.getValue())}c.format("%n")}return c.toString()}}class tc{constructor(a,c,d,p){this.rowNumber=tc.BARCODE_ROW_UNKNOWN,this.startX=Math.trunc(a),this.endX=Math.trunc(c),this.bucket=Math.trunc(d),this.value=Math.trunc(p)}hasValidRowNumber(){return this.isValidRowNumber(this.rowNumber)}isValidRowNumber(a){return a!==tc.BARCODE_ROW_UNKNOWN&&this.bucket===a%3*3}setRowNumberAsRowIndicatorColumn(){this.rowNumber=Math.trunc(Math.trunc(this.value/30)*3+Math.trunc(this.bucket/3))}getWidth(){return this.endX-this.startX}getStartX(){return this.startX}getEndX(){return this.endX}getBucket(){return this.bucket}getValue(){return this.value}getRowNumber(){return this.rowNumber}setRowNumber(a){this.rowNumber=a}toString(){return this.rowNumber+"|"+this.value}}tc.BARCODE_ROW_UNKNOWN=-1;class Cn{static initialize(){for(let a=0;a<He.SYMBOL_TABLE.length;a++){let c=He.SYMBOL_TABLE[a],d=c&1;for(let p=0;p<He.BARS_IN_MODULE;p++){let x=0;for(;(c&1)===d;)x+=1,c>>=1;d=c&1,Cn.RATIOS_TABLE[a]||(Cn.RATIOS_TABLE[a]=new Array(He.BARS_IN_MODULE)),Cn.RATIOS_TABLE[a][He.BARS_IN_MODULE-p-1]=Math.fround(x/He.MODULES_IN_CODEWORD)}}this.bSymbolTableReady=!0}static getDecodedValue(a){let c=Cn.getDecodedCodewordValue(Cn.sampleBitCounts(a));return c!==-1?c:Cn.getClosestDecodedValue(a)}static sampleBitCounts(a){let c=Je.sum(a),d=new Int32Array(He.BARS_IN_MODULE),p=0,x=0;for(let g=0;g<He.MODULES_IN_CODEWORD;g++){let y=c/(2*He.MODULES_IN_CODEWORD)+g*c/He.MODULES_IN_CODEWORD;x+a[p]<=y&&(x+=a[p],p++),d[p]++}return d}static getDecodedCodewordValue(a){let c=Cn.getBitValue(a);return He.getCodeword(c)===-1?-1:c}static getBitValue(a){let c=0;for(let d=0;d<a.length;d++)for(let p=0;p<a[d];p++)c=c<<1|(d%2===0?1:0);return Math.trunc(c)}static getClosestDecodedValue(a){let c=Je.sum(a),d=new Array(He.BARS_IN_MODULE);if(c>1)for(let g=0;g<d.length;g++)d[g]=Math.fround(a[g]/c);let p=_u.MAX_VALUE,x=-1;this.bSymbolTableReady||Cn.initialize();for(let g=0;g<Cn.RATIOS_TABLE.length;g++){let y=0,E=Cn.RATIOS_TABLE[g];for(let A=0;A<He.BARS_IN_MODULE;A++){let O=Math.fround(E[A]-d[A]);if(y+=Math.fround(O*O),y>=p)break}y<p&&(p=y,x=He.SYMBOL_TABLE[g])}return x}}Cn.bSymbolTableReady=!1,Cn.RATIOS_TABLE=new Array(He.SYMBOL_TABLE.length).map(D=>new Array(He.BARS_IN_MODULE));class nm{constructor(){this.segmentCount=-1,this.fileSize=-1,this.timestamp=-1,this.checksum=-1}getSegmentIndex(){return this.segmentIndex}setSegmentIndex(a){this.segmentIndex=a}getFileId(){return this.fileId}setFileId(a){this.fileId=a}getOptionalData(){return this.optionalData}setOptionalData(a){this.optionalData=a}isLastSegment(){return this.lastSegment}setLastSegment(a){this.lastSegment=a}getSegmentCount(){return this.segmentCount}setSegmentCount(a){this.segmentCount=a}getSender(){return this.sender||null}setSender(a){this.sender=a}getAddressee(){return this.addressee||null}setAddressee(a){this.addressee=a}getFileName(){return this.fileName}setFileName(a){this.fileName=a}getFileSize(){return this.fileSize}setFileSize(a){this.fileSize=a}getChecksum(){return this.checksum}setChecksum(a){this.checksum=a}getTimestamp(){return this.timestamp}setTimestamp(a){this.timestamp=a}}class im{static parseLong(a,c=void 0){return parseInt(a,c)}}class sm extends h{}sm.kind="NullPointerException";class kb{writeBytes(a){this.writeBytesOffset(a,0,a.length)}writeBytesOffset(a,c,d){if(a==null)throw new sm;if(c<0||c>a.length||d<0||c+d>a.length||c+d<0)throw new R;if(d===0)return;for(let p=0;p<d;p++)this.write(a[c+p])}flush(){}close(){}}class Lb extends h{}class Bb extends kb{constructor(a=32){if(super(),this.count=0,a<0)throw new v("Negative initial size: "+a);this.buf=new Uint8Array(a)}ensureCapacity(a){a-this.buf.length>0&&this.grow(a)}grow(a){let d=this.buf.length<<1;if(d-a<0&&(d=a),d<0){if(a<0)throw new Lb;d=T.MAX_VALUE}this.buf=S.copyOfUint8Array(this.buf,d)}write(a){this.ensureCapacity(this.count+1),this.buf[this.count]=a,this.count+=1}writeBytesOffset(a,c,d){if(c<0||c>a.length||d<0||c+d-a.length>0)throw new R;this.ensureCapacity(this.count+d),b.arraycopy(a,c,this.buf,this.count,d),this.count+=d}writeTo(a){a.writeBytesOffset(this.buf,0,this.count)}reset(){this.count=0}toByteArray(){return S.copyOfUint8Array(this.buf,this.count)}size(){return this.count}toString(a){return a?typeof a=="string"?this.toString_string(a):this.toString_number(a):this.toString_void()}toString_void(){return new String(this.buf).toString()}toString_string(a){return new String(this.buf).toString()}toString_number(a){return new String(this.buf).toString()}close(){}}var _t;(function(D){D[D.ALPHA=0]="ALPHA",D[D.LOWER=1]="LOWER",D[D.MIXED=2]="MIXED",D[D.PUNCT=3]="PUNCT",D[D.ALPHA_SHIFT=4]="ALPHA_SHIFT",D[D.PUNCT_SHIFT=5]="PUNCT_SHIFT"})(_t||(_t={}));function am(){if(typeof window<"u")return window.BigInt||null;if(typeof ic<"u")return ic.BigInt||null;if(typeof self<"u")return self.BigInt||null;throw new Error("Can't search globals for BigInt!")}let ju;function ks(D){if(typeof ju>"u"&&(ju=am()),ju===null)throw new Error("BigInt is not supported!");return ju(D)}function Fb(){let D=[];D[0]=ks(1);let a=ks(900);D[1]=a;for(let c=2;c<16;c++)D[c]=D[c-1]*a;return D}class te{static decode(a,c){let d=new ae(""),p=U.ISO8859_1;d.enableDecoding(p);let x=1,g=a[x++],y=new nm;for(;x<a[0];){switch(g){case te.TEXT_COMPACTION_MODE_LATCH:x=te.textCompaction(a,x,d);break;case te.BYTE_COMPACTION_MODE_LATCH:case te.BYTE_COMPACTION_MODE_LATCH_6:x=te.byteCompaction(g,a,p,x,d);break;case te.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:d.append(a[x++]);break;case te.NUMERIC_COMPACTION_MODE_LATCH:x=te.numericCompaction(a,x,d);break;case te.ECI_CHARSET:U.getCharacterSetECIByValue(a[x++]);break;case te.ECI_GENERAL_PURPOSE:x+=2;break;case te.ECI_USER_DEFINED:x++;break;case te.BEGIN_MACRO_PDF417_CONTROL_BLOCK:x=te.decodeMacroBlock(a,x,y);break;case te.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case te.MACRO_PDF417_TERMINATOR:throw new M;default:x--,x=te.textCompaction(a,x,d);break}if(x<a.length)g=a[x++];else throw M.getFormatInstance()}if(d.length()===0)throw M.getFormatInstance();let E=new Jt(null,d.toString(),null,c);return E.setOther(y),E}static decodeMacroBlock(a,c,d){if(c+te.NUMBER_OF_SEQUENCE_CODEWORDS>a[0])throw M.getFormatInstance();let p=new Int32Array(te.NUMBER_OF_SEQUENCE_CODEWORDS);for(let y=0;y<te.NUMBER_OF_SEQUENCE_CODEWORDS;y++,c++)p[y]=a[c];d.setSegmentIndex(T.parseInt(te.decodeBase900toBase10(p,te.NUMBER_OF_SEQUENCE_CODEWORDS)));let x=new ae;c=te.textCompaction(a,c,x),d.setFileId(x.toString());let g=-1;for(a[c]===te.BEGIN_MACRO_PDF417_OPTIONAL_FIELD&&(g=c+1);c<a[0];)switch(a[c]){case te.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:switch(c++,a[c]){case te.MACRO_PDF417_OPTIONAL_FIELD_FILE_NAME:let y=new ae;c=te.textCompaction(a,c+1,y),d.setFileName(y.toString());break;case te.MACRO_PDF417_OPTIONAL_FIELD_SENDER:let E=new ae;c=te.textCompaction(a,c+1,E),d.setSender(E.toString());break;case te.MACRO_PDF417_OPTIONAL_FIELD_ADDRESSEE:let A=new ae;c=te.textCompaction(a,c+1,A),d.setAddressee(A.toString());break;case te.MACRO_PDF417_OPTIONAL_FIELD_SEGMENT_COUNT:let O=new ae;c=te.numericCompaction(a,c+1,O),d.setSegmentCount(T.parseInt(O.toString()));break;case te.MACRO_PDF417_OPTIONAL_FIELD_TIME_STAMP:let j=new ae;c=te.numericCompaction(a,c+1,j),d.setTimestamp(im.parseLong(j.toString()));break;case te.MACRO_PDF417_OPTIONAL_FIELD_CHECKSUM:let L=new ae;c=te.numericCompaction(a,c+1,L),d.setChecksum(T.parseInt(L.toString()));break;case te.MACRO_PDF417_OPTIONAL_FIELD_FILE_SIZE:let z=new ae;c=te.numericCompaction(a,c+1,z),d.setFileSize(im.parseLong(z.toString()));break;default:throw M.getFormatInstance()}break;case te.MACRO_PDF417_TERMINATOR:c++,d.setLastSegment(!0);break;default:throw M.getFormatInstance()}if(g!==-1){let y=c-g;d.isLastSegment()&&y--,d.setOptionalData(S.copyOfRange(a,g,g+y))}return c}static textCompaction(a,c,d){let p=new Int32Array((a[0]-c)*2),x=new Int32Array((a[0]-c)*2),g=0,y=!1;for(;c<a[0]&&!y;){let E=a[c++];if(E<te.TEXT_COMPACTION_MODE_LATCH)p[g]=E/30,p[g+1]=E%30,g+=2;else switch(E){case te.TEXT_COMPACTION_MODE_LATCH:p[g++]=te.TEXT_COMPACTION_MODE_LATCH;break;case te.BYTE_COMPACTION_MODE_LATCH:case te.BYTE_COMPACTION_MODE_LATCH_6:case te.NUMERIC_COMPACTION_MODE_LATCH:case te.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case te.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case te.MACRO_PDF417_TERMINATOR:c--,y=!0;break;case te.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:p[g]=te.MODE_SHIFT_TO_BYTE_COMPACTION_MODE,E=a[c++],x[g]=E,g++;break}}return te.decodeTextCompaction(p,x,g,d),c}static decodeTextCompaction(a,c,d,p){let x=_t.ALPHA,g=_t.ALPHA,y=0;for(;y<d;){let E=a[y],A="";switch(x){case _t.ALPHA:if(E<26)A=String.fromCharCode(65+E);else switch(E){case 26:A=" ";break;case te.LL:x=_t.LOWER;break;case te.ML:x=_t.MIXED;break;case te.PS:g=x,x=_t.PUNCT_SHIFT;break;case te.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:p.append(c[y]);break;case te.TEXT_COMPACTION_MODE_LATCH:x=_t.ALPHA;break}break;case _t.LOWER:if(E<26)A=String.fromCharCode(97+E);else switch(E){case 26:A=" ";break;case te.AS:g=x,x=_t.ALPHA_SHIFT;break;case te.ML:x=_t.MIXED;break;case te.PS:g=x,x=_t.PUNCT_SHIFT;break;case te.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:p.append(c[y]);break;case te.TEXT_COMPACTION_MODE_LATCH:x=_t.ALPHA;break}break;case _t.MIXED:if(E<te.PL)A=te.MIXED_CHARS[E];else switch(E){case te.PL:x=_t.PUNCT;break;case 26:A=" ";break;case te.LL:x=_t.LOWER;break;case te.AL:x=_t.ALPHA;break;case te.PS:g=x,x=_t.PUNCT_SHIFT;break;case te.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:p.append(c[y]);break;case te.TEXT_COMPACTION_MODE_LATCH:x=_t.ALPHA;break}break;case _t.PUNCT:if(E<te.PAL)A=te.PUNCT_CHARS[E];else switch(E){case te.PAL:x=_t.ALPHA;break;case te.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:p.append(c[y]);break;case te.TEXT_COMPACTION_MODE_LATCH:x=_t.ALPHA;break}break;case _t.ALPHA_SHIFT:if(x=g,E<26)A=String.fromCharCode(65+E);else switch(E){case 26:A=" ";break;case te.TEXT_COMPACTION_MODE_LATCH:x=_t.ALPHA;break}break;case _t.PUNCT_SHIFT:if(x=g,E<te.PAL)A=te.PUNCT_CHARS[E];else switch(E){case te.PAL:x=_t.ALPHA;break;case te.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:p.append(c[y]);break;case te.TEXT_COMPACTION_MODE_LATCH:x=_t.ALPHA;break}break}A!==""&&p.append(A),y++}}static byteCompaction(a,c,d,p,x){let g=new Bb,y=0,E=0,A=!1;switch(a){case te.BYTE_COMPACTION_MODE_LATCH:let O=new Int32Array(6),j=c[p++];for(;p<c[0]&&!A;)switch(O[y++]=j,E=900*E+j,j=c[p++],j){case te.TEXT_COMPACTION_MODE_LATCH:case te.BYTE_COMPACTION_MODE_LATCH:case te.NUMERIC_COMPACTION_MODE_LATCH:case te.BYTE_COMPACTION_MODE_LATCH_6:case te.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case te.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case te.MACRO_PDF417_TERMINATOR:p--,A=!0;break;default:if(y%5===0&&y>0){for(let L=0;L<6;++L)g.write(Number(ks(E)>>ks(8*(5-L))));E=0,y=0}break}p===c[0]&&j<te.TEXT_COMPACTION_MODE_LATCH&&(O[y++]=j);for(let L=0;L<y;L++)g.write(O[L]);break;case te.BYTE_COMPACTION_MODE_LATCH_6:for(;p<c[0]&&!A;){let L=c[p++];if(L<te.TEXT_COMPACTION_MODE_LATCH)y++,E=900*E+L;else switch(L){case te.TEXT_COMPACTION_MODE_LATCH:case te.BYTE_COMPACTION_MODE_LATCH:case te.NUMERIC_COMPACTION_MODE_LATCH:case te.BYTE_COMPACTION_MODE_LATCH_6:case te.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case te.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case te.MACRO_PDF417_TERMINATOR:p--,A=!0;break}if(y%5===0&&y>0){for(let z=0;z<6;++z)g.write(Number(ks(E)>>ks(8*(5-z))));E=0,y=0}}break}return x.append(ee.decode(g.toByteArray(),d)),p}static numericCompaction(a,c,d){let p=0,x=!1,g=new Int32Array(te.MAX_NUMERIC_CODEWORDS);for(;c<a[0]&&!x;){let y=a[c++];if(c===a[0]&&(x=!0),y<te.TEXT_COMPACTION_MODE_LATCH)g[p]=y,p++;else switch(y){case te.TEXT_COMPACTION_MODE_LATCH:case te.BYTE_COMPACTION_MODE_LATCH:case te.BYTE_COMPACTION_MODE_LATCH_6:case te.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case te.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case te.MACRO_PDF417_TERMINATOR:c--,x=!0;break}(p%te.MAX_NUMERIC_CODEWORDS===0||y===te.NUMERIC_COMPACTION_MODE_LATCH||x)&&p>0&&(d.append(te.decodeBase900toBase10(g,p)),p=0)}return c}static decodeBase900toBase10(a,c){let d=ks(0);for(let x=0;x<c;x++)d+=te.EXP900[c-x-1]*ks(a[x]);let p=d.toString();if(p.charAt(0)!=="1")throw new M;return p.substring(1)}}te.TEXT_COMPACTION_MODE_LATCH=900,te.BYTE_COMPACTION_MODE_LATCH=901,te.NUMERIC_COMPACTION_MODE_LATCH=902,te.BYTE_COMPACTION_MODE_LATCH_6=924,te.ECI_USER_DEFINED=925,te.ECI_GENERAL_PURPOSE=926,te.ECI_CHARSET=927,te.BEGIN_MACRO_PDF417_CONTROL_BLOCK=928,te.BEGIN_MACRO_PDF417_OPTIONAL_FIELD=923,te.MACRO_PDF417_TERMINATOR=922,te.MODE_SHIFT_TO_BYTE_COMPACTION_MODE=913,te.MAX_NUMERIC_CODEWORDS=15,te.MACRO_PDF417_OPTIONAL_FIELD_FILE_NAME=0,te.MACRO_PDF417_OPTIONAL_FIELD_SEGMENT_COUNT=1,te.MACRO_PDF417_OPTIONAL_FIELD_TIME_STAMP=2,te.MACRO_PDF417_OPTIONAL_FIELD_SENDER=3,te.MACRO_PDF417_OPTIONAL_FIELD_ADDRESSEE=4,te.MACRO_PDF417_OPTIONAL_FIELD_FILE_SIZE=5,te.MACRO_PDF417_OPTIONAL_FIELD_CHECKSUM=6,te.PL=25,te.LL=27,te.AS=27,te.ML=28,te.AL=28,te.PS=29,te.PAL=29,te.PUNCT_CHARS=`;<>@[\\]_\`~!\r	,:
-.$/"|*()?{}'`,te.MIXED_CHARS="0123456789&\r	,:#-.$/+%*=^",te.EXP900=am()?Fb():[],te.NUMBER_OF_SEQUENCE_CODEWORDS=2;class qe{constructor(){}static decode(a,c,d,p,x,g,y){let E=new La(a,c,d,p,x),A=null,O=null,j;for(let W=!0;;W=!1){if(c!=null&&(A=qe.getRowIndicatorColumn(a,E,c,!0,g,y)),p!=null&&(O=qe.getRowIndicatorColumn(a,E,p,!1,g,y)),j=qe.merge(A,O),j==null)throw G.getNotFoundInstance();let $=j.getBoundingBox();if(W&&$!=null&&($.getMinY()<E.getMinY()||$.getMaxY()>E.getMaxY()))E=$;else break}j.setBoundingBox(E);let L=j.getBarcodeColumnCount()+1;j.setDetectionResultColumn(0,A),j.setDetectionResultColumn(L,O);let z=A!=null;for(let W=1;W<=L;W++){let $=z?W:L-W;if(j.getDetectionResultColumn($)!==void 0)continue;let q;$===0||$===L?q=new rm(E,$===0):q=new Ql(E),j.setDetectionResultColumn($,q);let re=-1,pe=re;for(let ge=E.getMinY();ge<=E.getMaxY();ge++){if(re=qe.getStartColumn(j,$,ge,z),re<0||re>E.getMaxX()){if(pe===-1)continue;re=pe}let fe=qe.detectCodeword(a,E.getMinX(),E.getMaxX(),z,re,ge,g,y);fe!=null&&(q.setCodeword(ge,fe),pe=re,g=Math.min(g,fe.getWidth()),y=Math.max(y,fe.getWidth()))}}return qe.createDecoderResult(j)}static merge(a,c){if(a==null&&c==null)return null;let d=qe.getBarcodeMetadata(a,c);if(d==null)return null;let p=La.merge(qe.adjustBoundingBox(a),qe.adjustBoundingBox(c));return new ec(d,p)}static adjustBoundingBox(a){if(a==null)return null;let c=a.getRowHeights();if(c==null)return null;let d=qe.getMax(c),p=0;for(let y of c)if(p+=d-y,y>0)break;let x=a.getCodewords();for(let y=0;p>0&&x[y]==null;y++)p--;let g=0;for(let y=c.length-1;y>=0&&(g+=d-c[y],!(c[y]>0));y--);for(let y=x.length-1;g>0&&x[y]==null;y--)g--;return a.getBoundingBox().addMissingRows(p,g,a.isLeft())}static getMax(a){let c=-1;for(let d of a)c=Math.max(c,d);return c}static getBarcodeMetadata(a,c){let d;if(a==null||(d=a.getBarcodeMetadata())==null)return c==null?null:c.getBarcodeMetadata();let p;return c==null||(p=c.getBarcodeMetadata())==null?d:d.getColumnCount()!==p.getColumnCount()&&d.getErrorCorrectionLevel()!==p.getErrorCorrectionLevel()&&d.getRowCount()!==p.getRowCount()?null:d}static getRowIndicatorColumn(a,c,d,p,x,g){let y=new rm(c,p);for(let E=0;E<2;E++){let A=E===0?1:-1,O=Math.trunc(Math.trunc(d.getX()));for(let j=Math.trunc(Math.trunc(d.getY()));j<=c.getMaxY()&&j>=c.getMinY();j+=A){let L=qe.detectCodeword(a,0,a.getWidth(),p,O,j,x,g);L!=null&&(y.setCodeword(j,L),p?O=L.getStartX():O=L.getEndX())}}return y}static adjustCodewordCount(a,c){let d=c[0][1],p=d.getValue(),x=a.getBarcodeColumnCount()*a.getBarcodeRowCount()-qe.getNumberOfECCodeWords(a.getBarcodeECLevel());if(p.length===0){if(x<1||x>He.MAX_CODEWORDS_IN_BARCODE)throw G.getNotFoundInstance();d.setValue(x)}else p[0]!==x&&d.setValue(x)}static createDecoderResult(a){let c=qe.createBarcodeMatrix(a);qe.adjustCodewordCount(a,c);let d=new Array,p=new Int32Array(a.getBarcodeRowCount()*a.getBarcodeColumnCount()),x=[],g=new Array;for(let E=0;E<a.getBarcodeRowCount();E++)for(let A=0;A<a.getBarcodeColumnCount();A++){let O=c[E][A+1].getValue(),j=E*a.getBarcodeColumnCount()+A;O.length===0?d.push(j):O.length===1?p[j]=O[0]:(g.push(j),x.push(O))}let y=new Array(x.length);for(let E=0;E<y.length;E++)y[E]=x[E];return qe.createDecoderResultFromAmbiguousValues(a.getBarcodeECLevel(),p,He.toIntArray(d),He.toIntArray(g),y)}static createDecoderResultFromAmbiguousValues(a,c,d,p,x){let g=new Int32Array(p.length),y=100;for(;y-- >0;){for(let E=0;E<g.length;E++)c[p[E]]=x[E][g[E]];try{return qe.decodeCodewords(c,a,d)}catch(E){if(!(E instanceof C))throw E}if(g.length===0)throw C.getChecksumInstance();for(let E=0;E<g.length;E++)if(g[E]<x[E].length-1){g[E]++;break}else if(g[E]=0,E===g.length-1)throw C.getChecksumInstance()}throw C.getChecksumInstance()}static createBarcodeMatrix(a){let c=Array.from({length:a.getBarcodeRowCount()},()=>new Array(a.getBarcodeColumnCount()+2));for(let p=0;p<c.length;p++)for(let x=0;x<c[p].length;x++)c[p][x]=new Jl;let d=0;for(let p of a.getDetectionResultColumns()){if(p!=null){for(let x of p.getCodewords())if(x!=null){let g=x.getRowNumber();if(g>=0){if(g>=c.length)continue;c[g][d].setValue(x.getValue())}}}d++}return c}static isValidBarcodeColumn(a,c){return c>=0&&c<=a.getBarcodeColumnCount()+1}static getStartColumn(a,c,d,p){let x=p?1:-1,g=null;if(qe.isValidBarcodeColumn(a,c-x)&&(g=a.getDetectionResultColumn(c-x).getCodeword(d)),g!=null)return p?g.getEndX():g.getStartX();if(g=a.getDetectionResultColumn(c).getCodewordNearby(d),g!=null)return p?g.getStartX():g.getEndX();if(qe.isValidBarcodeColumn(a,c-x)&&(g=a.getDetectionResultColumn(c-x).getCodewordNearby(d)),g!=null)return p?g.getEndX():g.getStartX();let y=0;for(;qe.isValidBarcodeColumn(a,c-x);){c-=x;for(let E of a.getDetectionResultColumn(c).getCodewords())if(E!=null)return(p?E.getEndX():E.getStartX())+x*y*(E.getEndX()-E.getStartX());y++}return p?a.getBoundingBox().getMinX():a.getBoundingBox().getMaxX()}static detectCodeword(a,c,d,p,x,g,y,E){x=qe.adjustCodewordStartColumn(a,c,d,p,x,g);let A=qe.getModuleBitCount(a,c,d,p,x,g);if(A==null)return null;let O,j=Je.sum(A);if(p)O=x+j;else{for(let W=0;W<A.length/2;W++){let $=A[W];A[W]=A[A.length-1-W],A[A.length-1-W]=$}O=x,x=O-j}if(!qe.checkCodewordSkew(j,y,E))return null;let L=Cn.getDecodedValue(A),z=He.getCodeword(L);return z===-1?null:new tc(x,O,qe.getCodewordBucketNumber(L),z)}static getModuleBitCount(a,c,d,p,x,g){let y=x,E=new Int32Array(8),A=0,O=p?1:-1,j=p;for(;(p?y<d:y>=c)&&A<E.length;)a.get(y,g)===j?(E[A]++,y+=O):(A++,j=!j);return A===E.length||y===(p?d:c)&&A===E.length-1?E:null}static getNumberOfECCodeWords(a){return 2<<a}static adjustCodewordStartColumn(a,c,d,p,x,g){let y=x,E=p?-1:1;for(let A=0;A<2;A++){for(;(p?y>=c:y<d)&&p===a.get(y,g);){if(Math.abs(x-y)>qe.CODEWORD_SKEW_SIZE)return x;y+=E}E=-E,p=!p}return y}static checkCodewordSkew(a,c,d){return c-qe.CODEWORD_SKEW_SIZE<=a&&a<=d+qe.CODEWORD_SKEW_SIZE}static decodeCodewords(a,c,d){if(a.length===0)throw M.getFormatInstance();let p=1<<c+1,x=qe.correctErrors(a,d,p);qe.verifyCodewordCount(a,p);let g=te.decode(a,""+c);return g.setErrorsCorrected(x),g.setErasures(d.length),g}static correctErrors(a,c,d){if(c!=null&&c.length>d/2+qe.MAX_ERRORS||d<0||d>qe.MAX_EC_CODEWORDS)throw C.getChecksumInstance();return qe.errorCorrection.decode(a,d,c)}static verifyCodewordCount(a,c){if(a.length<4)throw M.getFormatInstance();let d=a[0];if(d>a.length)throw M.getFormatInstance();if(d===0)if(c<a.length)a[0]=a.length-c;else throw M.getFormatInstance()}static getBitCountForCodeword(a){let c=new Int32Array(8),d=0,p=c.length-1;for(;!((a&1)!==d&&(d=a&1,p--,p<0));)c[p]++,a>>=1;return c}static getCodewordBucketNumber(a){return a instanceof Int32Array?this.getCodewordBucketNumber_Int32Array(a):this.getCodewordBucketNumber_number(a)}static getCodewordBucketNumber_number(a){return qe.getCodewordBucketNumber(qe.getBitCountForCodeword(a))}static getCodewordBucketNumber_Int32Array(a){return(a[0]-a[2]+a[4]-a[6]+9)%9}static toString(a){let c=new ql;for(let d=0;d<a.length;d++){c.format("Row %2d: ",d);for(let p=0;p<a[d].length;p++){let x=a[d][p];x.getValue().length===0?c.format("        ",null):c.format("%4d(%2d)",x.getValue()[0],x.getConfidence(x.getValue()[0]))}c.format("%n")}return c.toString()}}qe.CODEWORD_SKEW_SIZE=2,qe.MAX_ERRORS=3,qe.MAX_EC_CODEWORDS=512,qe.errorCorrection=new tm;class kr{decode(a,c=null){let d=kr.decode(a,c,!1);if(d==null||d.length===0||d[0]==null)throw G.getNotFoundInstance();return d[0]}decodeMultiple(a,c=null){try{return kr.decode(a,c,!0)}catch(d){throw d instanceof M||d instanceof C?G.getNotFoundInstance():d}}static decode(a,c,d){const p=new Array,x=Ke.detectMultiple(a,c,d);for(const g of x.getPoints()){const y=qe.decode(x.getBits(),g[4],g[5],g[6],g[7],kr.getMinCodewordWidth(g),kr.getMaxCodewordWidth(g)),E=new it(y.getText(),y.getRawBytes(),void 0,g,Se.PDF_417);E.putMetadata(We.ERROR_CORRECTION_LEVEL,y.getECLevel());const A=y.getOther();A!=null&&E.putMetadata(We.PDF417_EXTRA_METADATA,A),p.push(E)}return p.map(g=>g)}static getMaxWidth(a,c){return a==null||c==null?0:Math.trunc(Math.abs(a.getX()-c.getX()))}static getMinWidth(a,c){return a==null||c==null?T.MAX_VALUE:Math.trunc(Math.abs(a.getX()-c.getX()))}static getMaxCodewordWidth(a){return Math.floor(Math.max(Math.max(kr.getMaxWidth(a[0],a[4]),kr.getMaxWidth(a[6],a[2])*He.MODULES_IN_CODEWORD/He.MODULES_IN_STOP_PATTERN),Math.max(kr.getMaxWidth(a[1],a[5]),kr.getMaxWidth(a[7],a[3])*He.MODULES_IN_CODEWORD/He.MODULES_IN_STOP_PATTERN)))}static getMinCodewordWidth(a){return Math.floor(Math.min(Math.min(kr.getMinWidth(a[0],a[4]),kr.getMinWidth(a[6],a[2])*He.MODULES_IN_CODEWORD/He.MODULES_IN_STOP_PATTERN),Math.min(kr.getMinWidth(a[1],a[5]),kr.getMinWidth(a[7],a[3])*He.MODULES_IN_CODEWORD/He.MODULES_IN_STOP_PATTERN)))}reset(){}}class Mu extends h{}Mu.kind="ReaderException";class om{constructor(a,c){this.verbose=a===!0,c&&this.setHints(c)}decode(a,c){return c&&this.setHints(c),this.decodeInternal(a)}decodeWithState(a){return(this.readers===null||this.readers===void 0)&&this.setHints(null),this.decodeInternal(a)}setHints(a){this.hints=a;const c=!n(a)&&a.get(k.TRY_HARDER)===!0,d=n(a)?null:a.get(k.POSSIBLE_FORMATS),p=new Array;if(!n(d)){const x=d.some(g=>g===Se.UPC_A||g===Se.UPC_E||g===Se.EAN_13||g===Se.EAN_8||g===Se.CODABAR||g===Se.CODE_39||g===Se.CODE_93||g===Se.CODE_128||g===Se.ITF||g===Se.RSS_14||g===Se.RSS_EXPANDED);x&&!c&&p.push(new Ao(a,this.verbose)),d.includes(Se.QR_CODE)&&p.push(new Ms),d.includes(Se.DATA_MATRIX)&&p.push(new js),d.includes(Se.AZTEC)&&p.push(new Tu),d.includes(Se.PDF_417)&&p.push(new kr),x&&c&&p.push(new Ao(a,this.verbose))}p.length===0&&(c||p.push(new Ao(a,this.verbose)),p.push(new Ms),p.push(new js),p.push(new Tu),p.push(new kr),c&&p.push(new Ao(a,this.verbose))),this.readers=p}reset(){if(this.readers!==null)for(const a of this.readers)a.reset()}decodeInternal(a){if(this.readers===null)throw new Mu("No readers where selected, nothing can be read.");for(const c of this.readers)try{return c.decode(a,this.hints)}catch(d){if(d instanceof Mu)continue}throw new G("No MultiFormat Readers were able to detect the code.")}}class Ub extends Pt{constructor(a=null,c=500){const d=new om;d.setHints(a),super(d,c)}decodeBitmap(a){return this.reader.decodeWithState(a)}}class Vb extends Pt{constructor(a=500){super(new kr,a)}}class Hb extends Pt{constructor(a=500){super(new Ms,a)}}var L0;(function(D){D[D.ERROR_CORRECTION=0]="ERROR_CORRECTION",D[D.CHARACTER_SET=1]="CHARACTER_SET",D[D.DATA_MATRIX_SHAPE=2]="DATA_MATRIX_SHAPE",D[D.MIN_SIZE=3]="MIN_SIZE",D[D.MAX_SIZE=4]="MAX_SIZE",D[D.MARGIN=5]="MARGIN",D[D.PDF417_COMPACT=6]="PDF417_COMPACT",D[D.PDF417_COMPACTION=7]="PDF417_COMPACTION",D[D.PDF417_DIMENSIONS=8]="PDF417_DIMENSIONS",D[D.AZTEC_LAYERS=9]="AZTEC_LAYERS",D[D.QR_VERSION=10]="QR_VERSION"})(L0||(L0={}));var gr=L0;class B0{constructor(a){this.field=a,this.cachedGenerators=[],this.cachedGenerators.push(new Xe(a,Int32Array.from([1])))}buildGenerator(a){const c=this.cachedGenerators;if(a>=c.length){let d=c[c.length-1];const p=this.field;for(let x=c.length;x<=a;x++){const g=d.multiply(new Xe(p,Int32Array.from([1,p.exp(x-1+p.getGeneratorBase())])));c.push(g),d=g}}return c[a]}encode(a,c){if(c===0)throw new v("No error correction bytes");const d=a.length-c;if(d<=0)throw new v("No data bytes provided");const p=this.buildGenerator(c),x=new Int32Array(d);b.arraycopy(a,0,x,0,d);let g=new Xe(this.field,x);g=g.multiplyByMonomial(c,1);const E=g.divide(p)[1].getCoefficients(),A=c-E.length;for(let O=0;O<A;O++)a[d+O]=0;b.arraycopy(E,0,a,d+A,E.length)}}class rr{constructor(){}static applyMaskPenaltyRule1(a){return rr.applyMaskPenaltyRule1Internal(a,!0)+rr.applyMaskPenaltyRule1Internal(a,!1)}static applyMaskPenaltyRule2(a){let c=0;const d=a.getArray(),p=a.getWidth(),x=a.getHeight();for(let g=0;g<x-1;g++){const y=d[g];for(let E=0;E<p-1;E++){const A=y[E];A===y[E+1]&&A===d[g+1][E]&&A===d[g+1][E+1]&&c++}}return rr.N2*c}static applyMaskPenaltyRule3(a){let c=0;const d=a.getArray(),p=a.getWidth(),x=a.getHeight();for(let g=0;g<x;g++)for(let y=0;y<p;y++){const E=d[g];y+6<p&&E[y]===1&&E[y+1]===0&&E[y+2]===1&&E[y+3]===1&&E[y+4]===1&&E[y+5]===0&&E[y+6]===1&&(rr.isWhiteHorizontal(E,y-4,y)||rr.isWhiteHorizontal(E,y+7,y+11))&&c++,g+6<x&&d[g][y]===1&&d[g+1][y]===0&&d[g+2][y]===1&&d[g+3][y]===1&&d[g+4][y]===1&&d[g+5][y]===0&&d[g+6][y]===1&&(rr.isWhiteVertical(d,y,g-4,g)||rr.isWhiteVertical(d,y,g+7,g+11))&&c++}return c*rr.N3}static isWhiteHorizontal(a,c,d){c=Math.max(c,0),d=Math.min(d,a.length);for(let p=c;p<d;p++)if(a[p]===1)return!1;return!0}static isWhiteVertical(a,c,d,p){d=Math.max(d,0),p=Math.min(p,a.length);for(let x=d;x<p;x++)if(a[x][c]===1)return!1;return!0}static applyMaskPenaltyRule4(a){let c=0;const d=a.getArray(),p=a.getWidth(),x=a.getHeight();for(let E=0;E<x;E++){const A=d[E];for(let O=0;O<p;O++)A[O]===1&&c++}const g=a.getHeight()*a.getWidth();return Math.floor(Math.abs(c*2-g)*10/g)*rr.N4}static getDataMaskBit(a,c,d){let p,x;switch(a){case 0:p=d+c&1;break;case 1:p=d&1;break;case 2:p=c%3;break;case 3:p=(d+c)%3;break;case 4:p=Math.floor(d/2)+Math.floor(c/3)&1;break;case 5:x=d*c,p=(x&1)+x%3;break;case 6:x=d*c,p=(x&1)+x%3&1;break;case 7:x=d*c,p=x%3+(d+c&1)&1;break;default:throw new v("Invalid mask pattern: "+a)}return p===0}static applyMaskPenaltyRule1Internal(a,c){let d=0;const p=c?a.getHeight():a.getWidth(),x=c?a.getWidth():a.getHeight(),g=a.getArray();for(let y=0;y<p;y++){let E=0,A=-1;for(let O=0;O<x;O++){const j=c?g[y][O]:g[O][y];j===A?E++:(E>=5&&(d+=rr.N1+(E-5)),E=1,A=j)}E>=5&&(d+=rr.N1+(E-5))}return d}}rr.N1=3,rr.N2=3,rr.N3=40,rr.N4=10;class ku{constructor(a,c){this.width=a,this.height=c;const d=new Array(c);for(let p=0;p!==c;p++)d[p]=new Uint8Array(a);this.bytes=d}getHeight(){return this.height}getWidth(){return this.width}get(a,c){return this.bytes[c][a]}getArray(){return this.bytes}setNumber(a,c,d){this.bytes[c][a]=d}setBoolean(a,c,d){this.bytes[c][a]=d?1:0}clear(a){for(const c of this.bytes)S.fill(c,a)}equals(a){if(!(a instanceof ku))return!1;const c=a;if(this.width!==c.width||this.height!==c.height)return!1;for(let d=0,p=this.height;d<p;++d){const x=this.bytes[d],g=c.bytes[d];for(let y=0,E=this.width;y<E;++y)if(x[y]!==g[y])return!1}return!0}toString(){const a=new ae;for(let c=0,d=this.height;c<d;++c){const p=this.bytes[c];for(let x=0,g=this.width;x<g;++x)switch(p[x]){case 0:a.append(" 0");break;case 1:a.append(" 1");break;default:a.append("  ");break}a.append(`
`)}return a.toString()}}class Ba{constructor(){this.maskPattern=-1}getMode(){return this.mode}getECLevel(){return this.ecLevel}getVersion(){return this.version}getMaskPattern(){return this.maskPattern}getMatrix(){return this.matrix}toString(){const a=new ae;return a.append(`<<
`),a.append(" mode: "),a.append(this.mode?this.mode.toString():"null"),a.append(`
 ecLevel: `),a.append(this.ecLevel?this.ecLevel.toString():"null"),a.append(`
 version: `),a.append(this.version?this.version.toString():"null"),a.append(`
 maskPattern: `),a.append(this.maskPattern.toString()),this.matrix?(a.append(`
 matrix:
`),a.append(this.matrix.toString())):a.append(`
 matrix: null
`),a.append(`>>
`),a.toString()}setMode(a){this.mode=a}setECLevel(a){this.ecLevel=a}setVersion(a){this.version=a}setMaskPattern(a){this.maskPattern=a}setMatrix(a){this.matrix=a}static isValidMaskPattern(a){return a>=0&&a<Ba.NUM_MASK_PATTERNS}}Ba.NUM_MASK_PATTERNS=8;class Rt extends h{}Rt.kind="WriterException";class Fe{constructor(){}static clearMatrix(a){a.clear(255)}static buildMatrix(a,c,d,p,x){Fe.clearMatrix(x),Fe.embedBasicPatterns(d,x),Fe.embedTypeInfo(c,p,x),Fe.maybeEmbedVersionInfo(d,x),Fe.embedDataBits(a,p,x)}static embedBasicPatterns(a,c){Fe.embedPositionDetectionPatternsAndSeparators(c),Fe.embedDarkDotAtLeftBottomCorner(c),Fe.maybeEmbedPositionAdjustmentPatterns(a,c),Fe.embedTimingPatterns(c)}static embedTypeInfo(a,c,d){const p=new P;Fe.makeTypeInfoBits(a,c,p);for(let x=0,g=p.getSize();x<g;++x){const y=p.get(p.getSize()-1-x),E=Fe.TYPE_INFO_COORDINATES[x],A=E[0],O=E[1];if(d.setBoolean(A,O,y),x<8){const j=d.getWidth()-x-1;d.setBoolean(j,8,y)}else{const L=d.getHeight()-7+(x-8);d.setBoolean(8,L,y)}}}static maybeEmbedVersionInfo(a,c){if(a.getVersionNumber()<7)return;const d=new P;Fe.makeVersionInfoBits(a,d);let p=6*3-1;for(let x=0;x<6;++x)for(let g=0;g<3;++g){const y=d.get(p);p--,c.setBoolean(x,c.getHeight()-11+g,y),c.setBoolean(c.getHeight()-11+g,x,y)}}static embedDataBits(a,c,d){let p=0,x=-1,g=d.getWidth()-1,y=d.getHeight()-1;for(;g>0;){for(g===6&&(g-=1);y>=0&&y<d.getHeight();){for(let E=0;E<2;++E){const A=g-E;if(!Fe.isEmpty(d.get(A,y)))continue;let O;p<a.getSize()?(O=a.get(p),++p):O=!1,c!==255&&rr.getDataMaskBit(c,A,y)&&(O=!O),d.setBoolean(A,y,O)}y+=x}x=-x,y+=x,g-=2}if(p!==a.getSize())throw new Rt("Not all bits consumed: "+p+"/"+a.getSize())}static findMSBSet(a){return 32-T.numberOfLeadingZeros(a)}static calculateBCHCode(a,c){if(c===0)throw new v("0 polynomial");const d=Fe.findMSBSet(c);for(a<<=d-1;Fe.findMSBSet(a)>=d;)a^=c<<Fe.findMSBSet(a)-d;return a}static makeTypeInfoBits(a,c,d){if(!Ba.isValidMaskPattern(c))throw new Rt("Invalid mask pattern");const p=a.getBits()<<3|c;d.appendBits(p,5);const x=Fe.calculateBCHCode(p,Fe.TYPE_INFO_POLY);d.appendBits(x,10);const g=new P;if(g.appendBits(Fe.TYPE_INFO_MASK_PATTERN,15),d.xor(g),d.getSize()!==15)throw new Rt("should not happen but we got: "+d.getSize())}static makeVersionInfoBits(a,c){c.appendBits(a.getVersionNumber(),6);const d=Fe.calculateBCHCode(a.getVersionNumber(),Fe.VERSION_INFO_POLY);if(c.appendBits(d,12),c.getSize()!==18)throw new Rt("should not happen but we got: "+c.getSize())}static isEmpty(a){return a===255}static embedTimingPatterns(a){for(let c=8;c<a.getWidth()-8;++c){const d=(c+1)%2;Fe.isEmpty(a.get(c,6))&&a.setNumber(c,6,d),Fe.isEmpty(a.get(6,c))&&a.setNumber(6,c,d)}}static embedDarkDotAtLeftBottomCorner(a){if(a.get(8,a.getHeight()-8)===0)throw new Rt;a.setNumber(8,a.getHeight()-8,1)}static embedHorizontalSeparationPattern(a,c,d){for(let p=0;p<8;++p){if(!Fe.isEmpty(d.get(a+p,c)))throw new Rt;d.setNumber(a+p,c,0)}}static embedVerticalSeparationPattern(a,c,d){for(let p=0;p<7;++p){if(!Fe.isEmpty(d.get(a,c+p)))throw new Rt;d.setNumber(a,c+p,0)}}static embedPositionAdjustmentPattern(a,c,d){for(let p=0;p<5;++p){const x=Fe.POSITION_ADJUSTMENT_PATTERN[p];for(let g=0;g<5;++g)d.setNumber(a+g,c+p,x[g])}}static embedPositionDetectionPattern(a,c,d){for(let p=0;p<7;++p){const x=Fe.POSITION_DETECTION_PATTERN[p];for(let g=0;g<7;++g)d.setNumber(a+g,c+p,x[g])}}static embedPositionDetectionPatternsAndSeparators(a){const c=Fe.POSITION_DETECTION_PATTERN[0].length;Fe.embedPositionDetectionPattern(0,0,a),Fe.embedPositionDetectionPattern(a.getWidth()-c,0,a),Fe.embedPositionDetectionPattern(0,a.getWidth()-c,a);const d=8;Fe.embedHorizontalSeparationPattern(0,d-1,a),Fe.embedHorizontalSeparationPattern(a.getWidth()-d,d-1,a),Fe.embedHorizontalSeparationPattern(0,a.getWidth()-d,a);const p=7;Fe.embedVerticalSeparationPattern(p,0,a),Fe.embedVerticalSeparationPattern(a.getHeight()-p-1,0,a),Fe.embedVerticalSeparationPattern(p,a.getHeight()-p,a)}static maybeEmbedPositionAdjustmentPatterns(a,c){if(a.getVersionNumber()<2)return;const d=a.getVersionNumber()-1,p=Fe.POSITION_ADJUSTMENT_PATTERN_COORDINATE_TABLE[d];for(let x=0,g=p.length;x!==g;x++){const y=p[x];if(y>=0)for(let E=0;E!==g;E++){const A=p[E];A>=0&&Fe.isEmpty(c.get(A,y))&&Fe.embedPositionAdjustmentPattern(A-2,y-2,c)}}}}Fe.POSITION_DETECTION_PATTERN=Array.from([Int32Array.from([1,1,1,1,1,1,1]),Int32Array.from([1,0,0,0,0,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,0,0,0,0,1]),Int32Array.from([1,1,1,1,1,1,1])]),Fe.POSITION_ADJUSTMENT_PATTERN=Array.from([Int32Array.from([1,1,1,1,1]),Int32Array.from([1,0,0,0,1]),Int32Array.from([1,0,1,0,1]),Int32Array.from([1,0,0,0,1]),Int32Array.from([1,1,1,1,1])]),Fe.POSITION_ADJUSTMENT_PATTERN_COORDINATE_TABLE=Array.from([Int32Array.from([-1,-1,-1,-1,-1,-1,-1]),Int32Array.from([6,18,-1,-1,-1,-1,-1]),Int32Array.from([6,22,-1,-1,-1,-1,-1]),Int32Array.from([6,26,-1,-1,-1,-1,-1]),Int32Array.from([6,30,-1,-1,-1,-1,-1]),Int32Array.from([6,34,-1,-1,-1,-1,-1]),Int32Array.from([6,22,38,-1,-1,-1,-1]),Int32Array.from([6,24,42,-1,-1,-1,-1]),Int32Array.from([6,26,46,-1,-1,-1,-1]),Int32Array.from([6,28,50,-1,-1,-1,-1]),Int32Array.from([6,30,54,-1,-1,-1,-1]),Int32Array.from([6,32,58,-1,-1,-1,-1]),Int32Array.from([6,34,62,-1,-1,-1,-1]),Int32Array.from([6,26,46,66,-1,-1,-1]),Int32Array.from([6,26,48,70,-1,-1,-1]),Int32Array.from([6,26,50,74,-1,-1,-1]),Int32Array.from([6,30,54,78,-1,-1,-1]),Int32Array.from([6,30,56,82,-1,-1,-1]),Int32Array.from([6,30,58,86,-1,-1,-1]),Int32Array.from([6,34,62,90,-1,-1,-1]),Int32Array.from([6,28,50,72,94,-1,-1]),Int32Array.from([6,26,50,74,98,-1,-1]),Int32Array.from([6,30,54,78,102,-1,-1]),Int32Array.from([6,28,54,80,106,-1,-1]),Int32Array.from([6,32,58,84,110,-1,-1]),Int32Array.from([6,30,58,86,114,-1,-1]),Int32Array.from([6,34,62,90,118,-1,-1]),Int32Array.from([6,26,50,74,98,122,-1]),Int32Array.from([6,30,54,78,102,126,-1]),Int32Array.from([6,26,52,78,104,130,-1]),Int32Array.from([6,30,56,82,108,134,-1]),Int32Array.from([6,34,60,86,112,138,-1]),Int32Array.from([6,30,58,86,114,142,-1]),Int32Array.from([6,34,62,90,118,146,-1]),Int32Array.from([6,30,54,78,102,126,150]),Int32Array.from([6,24,50,76,102,128,154]),Int32Array.from([6,28,54,80,106,132,158]),Int32Array.from([6,32,58,84,110,136,162]),Int32Array.from([6,26,54,82,110,138,166]),Int32Array.from([6,30,58,86,114,142,170])]),Fe.TYPE_INFO_COORDINATES=Array.from([Int32Array.from([8,0]),Int32Array.from([8,1]),Int32Array.from([8,2]),Int32Array.from([8,3]),Int32Array.from([8,4]),Int32Array.from([8,5]),Int32Array.from([8,7]),Int32Array.from([8,8]),Int32Array.from([7,8]),Int32Array.from([5,8]),Int32Array.from([4,8]),Int32Array.from([3,8]),Int32Array.from([2,8]),Int32Array.from([1,8]),Int32Array.from([0,8])]),Fe.VERSION_INFO_POLY=7973,Fe.TYPE_INFO_POLY=1335,Fe.TYPE_INFO_MASK_PATTERN=21522;class zb{constructor(a,c){this.dataBytes=a,this.errorCorrectionBytes=c}getDataBytes(){return this.dataBytes}getErrorCorrectionBytes(){return this.errorCorrectionBytes}}class kt{constructor(){}static calculateMaskPenalty(a){return rr.applyMaskPenaltyRule1(a)+rr.applyMaskPenaltyRule2(a)+rr.applyMaskPenaltyRule3(a)+rr.applyMaskPenaltyRule4(a)}static encode(a,c,d=null){let p=kt.DEFAULT_BYTE_MODE_ENCODING;const x=d!==null&&d.get(gr.CHARACTER_SET)!==void 0;x&&(p=d.get(gr.CHARACTER_SET).toString());const g=this.chooseMode(a,p),y=new P;if(g===Me.BYTE&&(x||kt.DEFAULT_BYTE_MODE_ENCODING!==p)){const ge=U.getCharacterSetECIByName(p);ge!==void 0&&this.appendECI(ge,y)}this.appendModeInfo(g,y);const E=new P;this.appendBytes(a,g,E,p);let A;if(d!==null&&d.get(gr.QR_VERSION)!==void 0){const ge=Number.parseInt(d.get(gr.QR_VERSION).toString(),10);A=De.getVersionForNumber(ge);const fe=this.calculateBitsNeeded(g,y,E,A);if(!this.willFit(fe,A,c))throw new Rt("Data too big for requested version")}else A=this.recommendVersion(c,g,y,E);const O=new P;O.appendBitArray(y);const j=g===Me.BYTE?E.getSizeInBytes():a.length;this.appendLengthInfo(j,A,g,O),O.appendBitArray(E);const L=A.getECBlocksForLevel(c),z=A.getTotalCodewords()-L.getTotalECCodewords();this.terminateBits(z,O);const W=this.interleaveWithECBytes(O,A.getTotalCodewords(),z,L.getNumBlocks()),$=new Ba;$.setECLevel(c),$.setMode(g),$.setVersion(A);const q=A.getDimensionForVersion(),re=new ku(q,q),pe=this.chooseMaskPattern(W,c,A,re);return $.setMaskPattern(pe),Fe.buildMatrix(W,c,A,pe,re),$.setMatrix(re),$}static recommendVersion(a,c,d,p){const x=this.calculateBitsNeeded(c,d,p,De.getVersionForNumber(1)),g=this.chooseVersion(x,a),y=this.calculateBitsNeeded(c,d,p,g);return this.chooseVersion(y,a)}static calculateBitsNeeded(a,c,d,p){return c.getSize()+a.getCharacterCountBits(p)+d.getSize()}static getAlphanumericCode(a){return a<kt.ALPHANUMERIC_TABLE.length?kt.ALPHANUMERIC_TABLE[a]:-1}static chooseMode(a,c=null){if(U.SJIS.getName()===c&&this.isOnlyDoubleByteKanji(a))return Me.KANJI;let d=!1,p=!1;for(let x=0,g=a.length;x<g;++x){const y=a.charAt(x);if(kt.isDigit(y))d=!0;else if(this.getAlphanumericCode(y.charCodeAt(0))!==-1)p=!0;else return Me.BYTE}return p?Me.ALPHANUMERIC:d?Me.NUMERIC:Me.BYTE}static isOnlyDoubleByteKanji(a){let c;try{c=ee.encode(a,U.SJIS)}catch{return!1}const d=c.length;if(d%2!==0)return!1;for(let p=0;p<d;p+=2){const x=c[p]&255;if((x<129||x>159)&&(x<224||x>235))return!1}return!0}static chooseMaskPattern(a,c,d,p){let x=Number.MAX_SAFE_INTEGER,g=-1;for(let y=0;y<Ba.NUM_MASK_PATTERNS;y++){Fe.buildMatrix(a,c,d,y,p);let E=this.calculateMaskPenalty(p);E<x&&(x=E,g=y)}return g}static chooseVersion(a,c){for(let d=1;d<=40;d++){const p=De.getVersionForNumber(d);if(kt.willFit(a,p,c))return p}throw new Rt("Data too big")}static willFit(a,c,d){const p=c.getTotalCodewords(),g=c.getECBlocksForLevel(d).getTotalECCodewords(),y=p-g,E=(a+7)/8;return y>=E}static terminateBits(a,c){const d=a*8;if(c.getSize()>d)throw new Rt("data bits cannot fit in the QR Code"+c.getSize()+" > "+d);for(let g=0;g<4&&c.getSize()<d;++g)c.appendBit(!1);const p=c.getSize()&7;if(p>0)for(let g=p;g<8;g++)c.appendBit(!1);const x=a-c.getSizeInBytes();for(let g=0;g<x;++g)c.appendBits(g&1?17:236,8);if(c.getSize()!==d)throw new Rt("Bits size does not equal capacity")}static getNumDataBytesAndNumECBytesForBlockID(a,c,d,p,x,g){if(p>=d)throw new Rt("Block ID too large");const y=a%d,E=d-y,A=Math.floor(a/d),O=A+1,j=Math.floor(c/d),L=j+1,z=A-j,W=O-L;if(z!==W)throw new Rt("EC bytes mismatch");if(d!==E+y)throw new Rt("RS blocks mismatch");if(a!==(j+z)*E+(L+W)*y)throw new Rt("Total bytes mismatch");p<E?(x[0]=j,g[0]=z):(x[0]=L,g[0]=W)}static interleaveWithECBytes(a,c,d,p){if(a.getSizeInBytes()!==d)throw new Rt("Number of bits and data bytes does not match");let x=0,g=0,y=0;const E=new Array;for(let O=0;O<p;++O){const j=new Int32Array(1),L=new Int32Array(1);kt.getNumDataBytesAndNumECBytesForBlockID(c,d,p,O,j,L);const z=j[0],W=new Uint8Array(z);a.toBytes(8*x,W,0,z);const $=kt.generateECBytes(W,L[0]);E.push(new zb(W,$)),g=Math.max(g,z),y=Math.max(y,$.length),x+=j[0]}if(d!==x)throw new Rt("Data bytes does not match offset");const A=new P;for(let O=0;O<g;++O)for(const j of E){const L=j.getDataBytes();O<L.length&&A.appendBits(L[O],8)}for(let O=0;O<y;++O)for(const j of E){const L=j.getErrorCorrectionBytes();O<L.length&&A.appendBits(L[O],8)}if(c!==A.getSizeInBytes())throw new Rt("Interleaving error: "+c+" and "+A.getSizeInBytes()+" differ.");return A}static generateECBytes(a,c){const d=a.length,p=new Int32Array(d+c);for(let g=0;g<d;g++)p[g]=a[g]&255;new B0(Ge.QR_CODE_FIELD_256).encode(p,c);const x=new Uint8Array(c);for(let g=0;g<c;g++)x[g]=p[d+g];return x}static appendModeInfo(a,c){c.appendBits(a.getBits(),4)}static appendLengthInfo(a,c,d,p){const x=d.getCharacterCountBits(c);if(a>=1<<x)throw new Rt(a+" is bigger than "+((1<<x)-1));p.appendBits(a,x)}static appendBytes(a,c,d,p){switch(c){case Me.NUMERIC:kt.appendNumericBytes(a,d);break;case Me.ALPHANUMERIC:kt.appendAlphanumericBytes(a,d);break;case Me.BYTE:kt.append8BitBytes(a,d,p);break;case Me.KANJI:kt.appendKanjiBytes(a,d);break;default:throw new Rt("Invalid mode: "+c)}}static getDigit(a){return a.charCodeAt(0)-48}static isDigit(a){const c=kt.getDigit(a);return c>=0&&c<=9}static appendNumericBytes(a,c){const d=a.length;let p=0;for(;p<d;){const x=kt.getDigit(a.charAt(p));if(p+2<d){const g=kt.getDigit(a.charAt(p+1)),y=kt.getDigit(a.charAt(p+2));c.appendBits(x*100+g*10+y,10),p+=3}else if(p+1<d){const g=kt.getDigit(a.charAt(p+1));c.appendBits(x*10+g,7),p+=2}else c.appendBits(x,4),p++}}static appendAlphanumericBytes(a,c){const d=a.length;let p=0;for(;p<d;){const x=kt.getAlphanumericCode(a.charCodeAt(p));if(x===-1)throw new Rt;if(p+1<d){const g=kt.getAlphanumericCode(a.charCodeAt(p+1));if(g===-1)throw new Rt;c.appendBits(x*45+g,11),p+=2}else c.appendBits(x,6),p++}}static append8BitBytes(a,c,d){let p;try{p=ee.encode(a,d)}catch(x){throw new Rt(x)}for(let x=0,g=p.length;x!==g;x++){const y=p[x];c.appendBits(y,8)}}static appendKanjiBytes(a,c){let d;try{d=ee.encode(a,U.SJIS)}catch(x){throw new Rt(x)}const p=d.length;for(let x=0;x<p;x+=2){const g=d[x]&255,y=d[x+1]&255,E=g<<8&4294967295|y;let A=-1;if(E>=33088&&E<=40956?A=E-33088:E>=57408&&E<=60351&&(A=E-49472),A===-1)throw new Rt("Invalid byte sequence");const O=(A>>8)*192+(A&255);c.appendBits(O,13)}}static appendECI(a,c){c.appendBits(Me.ECI.getBits(),4),c.appendBits(a.getValue(),8)}}kt.ALPHANUMERIC_TABLE=Int32Array.from([-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,36,-1,-1,-1,37,38,-1,-1,-1,-1,39,40,-1,41,42,43,0,1,2,3,4,5,6,7,8,9,44,-1,-1,-1,-1,-1,-1,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,-1,-1,-1,-1,-1]),kt.DEFAULT_BYTE_MODE_ENCODING=U.UTF8.getName();class Fa{write(a,c,d,p=null){if(a.length===0)throw new v("Found empty contents");if(c<0||d<0)throw new v("Requested dimensions are too small: "+c+"x"+d);let x=Dt.L,g=Fa.QUIET_ZONE_SIZE;p!==null&&(p.get(gr.ERROR_CORRECTION)!==void 0&&(x=Dt.fromString(p.get(gr.ERROR_CORRECTION).toString())),p.get(gr.MARGIN)!==void 0&&(g=Number.parseInt(p.get(gr.MARGIN).toString(),10)));const y=kt.encode(a,x,p);return this.renderResult(y,c,d,g)}writeToDom(a,c,d,p,x=null){typeof a=="string"&&(a=document.querySelector(a));const g=this.write(c,d,p,x);a&&a.appendChild(g)}renderResult(a,c,d,p){const x=a.getMatrix();if(x===null)throw new Wr;const g=x.getWidth(),y=x.getHeight(),E=g+p*2,A=y+p*2,O=Math.max(c,E),j=Math.max(d,A),L=Math.min(Math.floor(O/E),Math.floor(j/A)),z=Math.floor((O-g*L)/2),W=Math.floor((j-y*L)/2),$=this.createSVGElement(O,j);for(let q=0,re=W;q<y;q++,re+=L)for(let pe=0,ge=z;pe<g;pe++,ge+=L)if(x.get(pe,q)===1){const fe=this.createSvgRectElement(ge,re,L,L);$.appendChild(fe)}return $}createSVGElement(a,c){const d=document.createElementNS(Fa.SVG_NS,"svg");return d.setAttributeNS(null,"height",a.toString()),d.setAttributeNS(null,"width",c.toString()),d}createSvgRectElement(a,c,d,p){const x=document.createElementNS(Fa.SVG_NS,"rect");return x.setAttributeNS(null,"x",a.toString()),x.setAttributeNS(null,"y",c.toString()),x.setAttributeNS(null,"height",d.toString()),x.setAttributeNS(null,"width",p.toString()),x.setAttributeNS(null,"fill","#000000"),x}}Fa.QUIET_ZONE_SIZE=4,Fa.SVG_NS="http://www.w3.org/2000/svg";class So{encode(a,c,d,p,x){if(a.length===0)throw new v("Found empty contents");if(c!==Se.QR_CODE)throw new v("Can only encode QR_CODE, but got "+c);if(d<0||p<0)throw new v(`Requested dimensions are too small: ${d}x${p}`);let g=Dt.L,y=So.QUIET_ZONE_SIZE;x!==null&&(x.get(gr.ERROR_CORRECTION)!==void 0&&(g=Dt.fromString(x.get(gr.ERROR_CORRECTION).toString())),x.get(gr.MARGIN)!==void 0&&(y=Number.parseInt(x.get(gr.MARGIN).toString(),10)));const E=kt.encode(a,g,x);return So.renderResult(E,d,p,y)}static renderResult(a,c,d,p){const x=a.getMatrix();if(x===null)throw new Wr;const g=x.getWidth(),y=x.getHeight(),E=g+p*2,A=y+p*2,O=Math.max(c,E),j=Math.max(d,A),L=Math.min(Math.floor(O/E),Math.floor(j/A)),z=Math.floor((O-g*L)/2),W=Math.floor((j-y*L)/2),$=new K(O,j);for(let q=0,re=W;q<y;q++,re+=L)for(let pe=0,ge=z;pe<g;pe++,ge+=L)x.get(pe,q)===1&&$.setRegion(ge,re,L,L);return $}}So.QUIET_ZONE_SIZE=4;class Gb{encode(a,c,d,p,x){let g;switch(c){case Se.QR_CODE:g=new So;break;default:throw new v("No encoder available for format "+c)}return g.encode(a,c,d,p,x)}}class Ui extends ne{constructor(a,c,d,p,x,g,y,E){if(super(g,y),this.yuvData=a,this.dataWidth=c,this.dataHeight=d,this.left=p,this.top=x,p+g>c||x+y>d)throw new v("Crop rectangle does not fit within image data.");E&&this.reverseHorizontal(g,y)}getRow(a,c){if(a<0||a>=this.getHeight())throw new v("Requested row is outside the image: "+a);const d=this.getWidth();(c==null||c.length<d)&&(c=new Uint8ClampedArray(d));const p=(a+this.top)*this.dataWidth+this.left;return b.arraycopy(this.yuvData,p,c,0,d),c}getMatrix(){const a=this.getWidth(),c=this.getHeight();if(a===this.dataWidth&&c===this.dataHeight)return this.yuvData;const d=a*c,p=new Uint8ClampedArray(d);let x=this.top*this.dataWidth+this.left;if(a===this.dataWidth)return b.arraycopy(this.yuvData,x,p,0,d),p;for(let g=0;g<c;g++){const y=g*a;b.arraycopy(this.yuvData,x,p,y,a),x+=this.dataWidth}return p}isCropSupported(){return!0}crop(a,c,d,p){return new Ui(this.yuvData,this.dataWidth,this.dataHeight,this.left+a,this.top+c,d,p,!1)}renderThumbnail(){const a=this.getWidth()/Ui.THUMBNAIL_SCALE_FACTOR,c=this.getHeight()/Ui.THUMBNAIL_SCALE_FACTOR,d=new Int32Array(a*c),p=this.yuvData;let x=this.top*this.dataWidth+this.left;for(let g=0;g<c;g++){const y=g*a;for(let E=0;E<a;E++){const A=p[x+E*Ui.THUMBNAIL_SCALE_FACTOR]&255;d[y+E]=4278190080|A*65793}x+=this.dataWidth*Ui.THUMBNAIL_SCALE_FACTOR}return d}getThumbnailWidth(){return this.getWidth()/Ui.THUMBNAIL_SCALE_FACTOR}getThumbnailHeight(){return this.getHeight()/Ui.THUMBNAIL_SCALE_FACTOR}reverseHorizontal(a,c){const d=this.yuvData;for(let p=0,x=this.top*this.dataWidth+this.left;p<c;p++,x+=this.dataWidth){const g=x+a/2;for(let y=x,E=x+a-1;y<g;y++,E--){const A=d[y];d[y]=d[E],d[E]=A}}}invert(){return new xe(this)}}Ui.THUMBNAIL_SCALE_FACTOR=2;class F0 extends ne{constructor(a,c,d,p,x,g,y){if(super(c,d),this.dataWidth=p,this.dataHeight=x,this.left=g,this.top=y,a.BYTES_PER_ELEMENT===4){const E=c*d,A=new Uint8ClampedArray(E);for(let O=0;O<E;O++){const j=a[O],L=j>>16&255,z=j>>7&510,W=j&255;A[O]=(L+z+W)/4&255}this.luminances=A}else this.luminances=a;if(p===void 0&&(this.dataWidth=c),x===void 0&&(this.dataHeight=d),g===void 0&&(this.left=0),y===void 0&&(this.top=0),this.left+c>this.dataWidth||this.top+d>this.dataHeight)throw new v("Crop rectangle does not fit within image data.")}getRow(a,c){if(a<0||a>=this.getHeight())throw new v("Requested row is outside the image: "+a);const d=this.getWidth();(c==null||c.length<d)&&(c=new Uint8ClampedArray(d));const p=(a+this.top)*this.dataWidth+this.left;return b.arraycopy(this.luminances,p,c,0,d),c}getMatrix(){const a=this.getWidth(),c=this.getHeight();if(a===this.dataWidth&&c===this.dataHeight)return this.luminances;const d=a*c,p=new Uint8ClampedArray(d);let x=this.top*this.dataWidth+this.left;if(a===this.dataWidth)return b.arraycopy(this.luminances,x,p,0,d),p;for(let g=0;g<c;g++){const y=g*a;b.arraycopy(this.luminances,x,p,y,a),x+=this.dataWidth}return p}isCropSupported(){return!0}crop(a,c,d,p){return new F0(this.luminances,d,p,this.dataWidth,this.dataHeight,this.left+a,this.top+c)}invert(){return new xe(this)}}class lm extends U{static forName(a){return this.getCharacterSetECIByName(a)}}class U0{}U0.ISO_8859_1=U.ISO8859_1;class cm{isCompact(){return this.compact}setCompact(a){this.compact=a}getSize(){return this.size}setSize(a){this.size=a}getLayers(){return this.layers}setLayers(a){this.layers=a}getCodeWords(){return this.codeWords}setCodeWords(a){this.codeWords=a}getMatrix(){return this.matrix}setMatrix(a){this.matrix=a}}class um{static singletonList(a){return[a]}static min(a,c){return a.sort(c)[0]}}class Wb{constructor(a){this.previous=a}getPrevious(){return this.previous}}class No extends Wb{constructor(a,c,d){super(a),this.value=c,this.bitCount=d}appendTo(a,c){a.appendBits(this.value,this.bitCount)}add(a,c){return new No(this,a,c)}addBinaryShift(a,c){return console.warn("addBinaryShift on SimpleToken, this simply returns a copy of this token"),new No(this,a,c)}toString(){let a=this.value&(1<<this.bitCount)-1;return a|=1<<this.bitCount,"<"+T.toBinaryString(a|1<<this.bitCount).substring(1)+">"}}class V0 extends No{constructor(a,c,d){super(a,0,0),this.binaryShiftStart=c,this.binaryShiftByteCount=d}appendTo(a,c){for(let d=0;d<this.binaryShiftByteCount;d++)(d===0||d===31&&this.binaryShiftByteCount<=62)&&(a.appendBits(31,5),this.binaryShiftByteCount>62?a.appendBits(this.binaryShiftByteCount-31,16):d===0?a.appendBits(Math.min(this.binaryShiftByteCount,31),5):a.appendBits(this.binaryShiftByteCount-31,5)),a.appendBits(c[this.binaryShiftStart+d],8)}addBinaryShift(a,c){return new V0(this,a,c)}toString(){return"<"+this.binaryShiftStart+"::"+(this.binaryShiftStart+this.binaryShiftByteCount-1)+">"}}function Xb(D,a,c){return new V0(D,a,c)}function rc(D,a,c){return new No(D,a,c)}const Yb=["UPPER","LOWER","DIGIT","MIXED","PUNCT"],Ls=0,Lu=1,Qn=2,dm=3,Vi=4,$b=new No(null,0,0),H0=[Int32Array.from([0,(5<<16)+28,(5<<16)+30,(5<<16)+29,656318]),Int32Array.from([(9<<16)+480+14,0,(5<<16)+30,(5<<16)+29,656318]),Int32Array.from([(4<<16)+14,(9<<16)+448+28,0,(9<<16)+448+29,932798]),Int32Array.from([(5<<16)+29,(5<<16)+28,656318,0,(5<<16)+30]),Int32Array.from([(5<<16)+31,656380,656382,656381,0])];function Kb(D){for(let a of D)S.fill(a,-1);return D[Ls][Vi]=0,D[Lu][Vi]=0,D[Lu][Ls]=28,D[dm][Vi]=0,D[Qn][Vi]=0,D[Qn][Ls]=15,D}const fm=Kb(S.createInt32Array(6,6));class Hi{constructor(a,c,d,p){this.token=a,this.mode=c,this.binaryShiftByteCount=d,this.bitCount=p}getMode(){return this.mode}getToken(){return this.token}getBinaryShiftByteCount(){return this.binaryShiftByteCount}getBitCount(){return this.bitCount}latchAndAppend(a,c){let d=this.bitCount,p=this.token;if(a!==this.mode){let g=H0[this.mode][a];p=rc(p,g&65535,g>>16),d+=g>>16}let x=a===Qn?4:5;return p=rc(p,c,x),new Hi(p,a,0,d+x)}shiftAndAppend(a,c){let d=this.token,p=this.mode===Qn?4:5;return d=rc(d,fm[this.mode][a],p),d=rc(d,c,5),new Hi(d,this.mode,0,this.bitCount+p+5)}addBinaryShiftChar(a){let c=this.token,d=this.mode,p=this.bitCount;if(this.mode===Vi||this.mode===Qn){let y=H0[d][Ls];c=rc(c,y&65535,y>>16),p+=y>>16,d=Ls}let x=this.binaryShiftByteCount===0||this.binaryShiftByteCount===31?18:this.binaryShiftByteCount===62?9:8,g=new Hi(c,d,this.binaryShiftByteCount+1,p+x);return g.binaryShiftByteCount===2078&&(g=g.endBinaryShift(a+1)),g}endBinaryShift(a){if(this.binaryShiftByteCount===0)return this;let c=this.token;return c=Xb(c,a-this.binaryShiftByteCount,this.binaryShiftByteCount),new Hi(c,this.mode,0,this.bitCount)}isBetterThanOrEqualTo(a){let c=this.bitCount+(H0[this.mode][a.mode]>>16);return this.binaryShiftByteCount<a.binaryShiftByteCount?c+=Hi.calculateBinaryShiftCost(a)-Hi.calculateBinaryShiftCost(this):this.binaryShiftByteCount>a.binaryShiftByteCount&&a.binaryShiftByteCount>0&&(c+=10),c<=a.bitCount}toBitArray(a){let c=[];for(let p=this.endBinaryShift(a.length).token;p!==null;p=p.getPrevious())c.unshift(p);let d=new P;for(const p of c)p.appendTo(d,a);return d}toString(){return Z.format("%s bits=%d bytes=%d",Yb[this.mode],this.bitCount,this.binaryShiftByteCount)}static calculateBinaryShiftCost(a){return a.binaryShiftByteCount>62?21:a.binaryShiftByteCount>31?20:a.binaryShiftByteCount>0?10:0}}Hi.INITIAL_STATE=new Hi($b,Ls,0,0);function Zb(D){const a=Z.getCharCode(" "),c=Z.getCharCode("."),d=Z.getCharCode(",");D[Ls][a]=1;const p=Z.getCharCode("Z"),x=Z.getCharCode("A");for(let L=x;L<=p;L++)D[Ls][L]=L-x+2;D[Lu][a]=1;const g=Z.getCharCode("z"),y=Z.getCharCode("a");for(let L=y;L<=g;L++)D[Lu][L]=L-y+2;D[Qn][a]=1;const E=Z.getCharCode("9"),A=Z.getCharCode("0");for(let L=A;L<=E;L++)D[Qn][L]=L-A+2;D[Qn][d]=12,D[Qn][c]=13;const O=["\0"," ","","","","","","","\x07","\b","	",`
`,"\v","\f","\r","\x1B","","","","","@","\\","^","_","`","|","~",""];for(let L=0;L<O.length;L++)D[dm][Z.getCharCode(O[L])]=L;const j=["\0","\r","\0","\0","\0","\0","!","'","#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","[","]","{","}"];for(let L=0;L<j.length;L++)Z.getCharCode(j[L])>0&&(D[Vi][Z.getCharCode(j[L])]=L);return D}const z0=Zb(S.createInt32Array(5,256));class nc{constructor(a){this.text=a}encode(){const a=Z.getCharCode(" "),c=Z.getCharCode(`
`);let d=um.singletonList(Hi.INITIAL_STATE);for(let x=0;x<this.text.length;x++){let g,y=x+1<this.text.length?this.text[x+1]:0;switch(this.text[x]){case Z.getCharCode("\r"):g=y===c?2:0;break;case Z.getCharCode("."):g=y===a?3:0;break;case Z.getCharCode(","):g=y===a?4:0;break;case Z.getCharCode(":"):g=y===a?5:0;break;default:g=0}g>0?(d=nc.updateStateListForPair(d,x,g),x++):d=this.updateStateListForChar(d,x)}return um.min(d,(x,g)=>x.getBitCount()-g.getBitCount()).toBitArray(this.text)}updateStateListForChar(a,c){const d=[];for(let p of a)this.updateStateForChar(p,c,d);return nc.simplifyStates(d)}updateStateForChar(a,c,d){let p=this.text[c]&255,x=z0[a.getMode()][p]>0,g=null;for(let y=0;y<=Vi;y++){let E=z0[y][p];if(E>0){if(g==null&&(g=a.endBinaryShift(c)),!x||y===a.getMode()||y===Qn){const A=g.latchAndAppend(y,E);d.push(A)}if(!x&&fm[a.getMode()][y]>=0){const A=g.shiftAndAppend(y,E);d.push(A)}}}if(a.getBinaryShiftByteCount()>0||z0[a.getMode()][p]===0){let y=a.addBinaryShiftChar(c);d.push(y)}}static updateStateListForPair(a,c,d){const p=[];for(let x of a)this.updateStateForPair(x,c,d,p);return this.simplifyStates(p)}static updateStateForPair(a,c,d,p){let x=a.endBinaryShift(c);if(p.push(x.latchAndAppend(Vi,d)),a.getMode()!==Vi&&p.push(x.shiftAndAppend(Vi,d)),d===3||d===4){let g=x.latchAndAppend(Qn,16-d).latchAndAppend(Qn,1);p.push(g)}if(a.getBinaryShiftByteCount()>0){let g=a.addBinaryShiftChar(c).addBinaryShiftChar(c+1);p.push(g)}}static simplifyStates(a){let c=[];for(const d of a){let p=!0;for(const x of c){if(x.isBetterThanOrEqualTo(d)){p=!1;break}d.isBetterThanOrEqualTo(x)&&(c=c.filter(g=>g!==x))}p&&c.push(d)}return c}}class ut{constructor(){}static encodeBytes(a){return ut.encode(a,ut.DEFAULT_EC_PERCENT,ut.DEFAULT_AZTEC_LAYERS)}static encode(a,c,d){let p=new nc(a).encode(),x=T.truncDivision(p.getSize()*c,100)+11,g=p.getSize()+x,y,E,A,O,j;if(d!==ut.DEFAULT_AZTEC_LAYERS){if(y=d<0,E=Math.abs(d),E>(y?ut.MAX_NB_BITS_COMPACT:ut.MAX_NB_BITS))throw new v(Z.format("Illegal value %s for layers",d));A=ut.totalBitsInLayer(E,y),O=ut.WORD_SIZE[E];let fe=A-A%O;if(j=ut.stuffBits(p,O),j.getSize()+x>fe)throw new v("Data to large for user specified layer");if(y&&j.getSize()>O*64)throw new v("Data to large for user specified layer")}else{O=0,j=null;for(let fe=0;;fe++){if(fe>ut.MAX_NB_BITS)throw new v("Data too large for an Aztec code");if(y=fe<=3,E=y?fe+1:fe,A=ut.totalBitsInLayer(E,y),g>A)continue;(j==null||O!==ut.WORD_SIZE[E])&&(O=ut.WORD_SIZE[E],j=ut.stuffBits(p,O));let rt=A-A%O;if(!(y&&j.getSize()>O*64)&&j.getSize()+x<=rt)break}}let L=ut.generateCheckWords(j,A,O),z=j.getSize()/O,W=ut.generateModeMessage(y,E,z),$=(y?11:14)+E*4,q=new Int32Array($),re;if(y){re=$;for(let fe=0;fe<q.length;fe++)q[fe]=fe}else{re=$+1+2*T.truncDivision(T.truncDivision($,2)-1,15);let fe=T.truncDivision($,2),rt=T.truncDivision(re,2);for(let Ye=0;Ye<fe;Ye++){let En=Ye+T.truncDivision(Ye,15);q[fe-Ye-1]=rt-En-1,q[fe+Ye]=rt+En+1}}let pe=new K(re);for(let fe=0,rt=0;fe<E;fe++){let Ye=(E-fe)*4+(y?9:12);for(let En=0;En<Ye;En++){let vi=En*2;for(let An=0;An<2;An++)L.get(rt+vi+An)&&pe.set(q[fe*2+An],q[fe*2+En]),L.get(rt+Ye*2+vi+An)&&pe.set(q[fe*2+En],q[$-1-fe*2-An]),L.get(rt+Ye*4+vi+An)&&pe.set(q[$-1-fe*2-An],q[$-1-fe*2-En]),L.get(rt+Ye*6+vi+An)&&pe.set(q[$-1-fe*2-En],q[fe*2+An])}rt+=Ye*8}if(ut.drawModeMessage(pe,y,re,W),y)ut.drawBullsEye(pe,T.truncDivision(re,2),5);else{ut.drawBullsEye(pe,T.truncDivision(re,2),7);for(let fe=0,rt=0;fe<T.truncDivision($,2)-1;fe+=15,rt+=16)for(let Ye=T.truncDivision(re,2)&1;Ye<re;Ye+=2)pe.set(T.truncDivision(re,2)-rt,Ye),pe.set(T.truncDivision(re,2)+rt,Ye),pe.set(Ye,T.truncDivision(re,2)-rt),pe.set(Ye,T.truncDivision(re,2)+rt)}let ge=new cm;return ge.setCompact(y),ge.setSize(re),ge.setLayers(E),ge.setCodeWords(z),ge.setMatrix(pe),ge}static drawBullsEye(a,c,d){for(let p=0;p<d;p+=2)for(let x=c-p;x<=c+p;x++)a.set(x,c-p),a.set(x,c+p),a.set(c-p,x),a.set(c+p,x);a.set(c-d,c-d),a.set(c-d+1,c-d),a.set(c-d,c-d+1),a.set(c+d,c-d),a.set(c+d,c-d+1),a.set(c+d,c+d-1)}static generateModeMessage(a,c,d){let p=new P;return a?(p.appendBits(c-1,2),p.appendBits(d-1,6),p=ut.generateCheckWords(p,28,4)):(p.appendBits(c-1,5),p.appendBits(d-1,11),p=ut.generateCheckWords(p,40,4)),p}static drawModeMessage(a,c,d,p){let x=T.truncDivision(d,2);if(c)for(let g=0;g<7;g++){let y=x-3+g;p.get(g)&&a.set(y,x-5),p.get(g+7)&&a.set(x+5,y),p.get(20-g)&&a.set(y,x+5),p.get(27-g)&&a.set(x-5,y)}else for(let g=0;g<10;g++){let y=x-5+g+T.truncDivision(g,5);p.get(g)&&a.set(y,x-7),p.get(g+10)&&a.set(x+7,y),p.get(29-g)&&a.set(y,x+7),p.get(39-g)&&a.set(x-7,y)}}static generateCheckWords(a,c,d){let p=a.getSize()/d,x=new B0(ut.getGF(d)),g=T.truncDivision(c,d),y=ut.bitsToWords(a,d,g);x.encode(y,g-p);let E=c%d,A=new P;A.appendBits(0,E);for(const O of Array.from(y))A.appendBits(O,d);return A}static bitsToWords(a,c,d){let p=new Int32Array(d),x,g;for(x=0,g=a.getSize()/c;x<g;x++){let y=0;for(let E=0;E<c;E++)y|=a.get(x*c+E)?1<<c-E-1:0;p[x]=y}return p}static getGF(a){switch(a){case 4:return Ge.AZTEC_PARAM;case 6:return Ge.AZTEC_DATA_6;case 8:return Ge.AZTEC_DATA_8;case 10:return Ge.AZTEC_DATA_10;case 12:return Ge.AZTEC_DATA_12;default:throw new v("Unsupported word size "+a)}}static stuffBits(a,c){let d=new P,p=a.getSize(),x=(1<<c)-2;for(let g=0;g<p;g+=c){let y=0;for(let E=0;E<c;E++)(g+E>=p||a.get(g+E))&&(y|=1<<c-1-E);(y&x)===x?(d.appendBits(y&x,c),g--):y&x?d.appendBits(y,c):(d.appendBits(y|1,c),g--)}return d}static totalBitsInLayer(a,c){return((c?88:112)+16*a)*a}}ut.DEFAULT_EC_PERCENT=33,ut.DEFAULT_AZTEC_LAYERS=0,ut.MAX_NB_BITS=32,ut.MAX_NB_BITS_COMPACT=4,ut.WORD_SIZE=Int32Array.from([4,6,6,8,8,8,8,8,8,10,10,10,10,10,10,10,10,10,10,10,10,10,10,12,12,12,12,12,12,12,12,12,12]);class Bu{encode(a,c,d,p){return this.encodeWithHints(a,c,d,p,null)}encodeWithHints(a,c,d,p,x){let g=U0.ISO_8859_1,y=ut.DEFAULT_EC_PERCENT,E=ut.DEFAULT_AZTEC_LAYERS;return x!=null&&(x.has(gr.CHARACTER_SET)&&(g=lm.forName(x.get(gr.CHARACTER_SET).toString())),x.has(gr.ERROR_CORRECTION)&&(y=T.parseInt(x.get(gr.ERROR_CORRECTION).toString())),x.has(gr.AZTEC_LAYERS)&&(E=T.parseInt(x.get(gr.AZTEC_LAYERS).toString()))),Bu.encodeLayers(a,c,d,p,g,y,E)}static encodeLayers(a,c,d,p,x,g,y){if(c!==Se.AZTEC)throw new v("Can only encode AZTEC, but got "+c);let E=ut.encode(Z.getBytes(a,x),g,y);return Bu.renderResult(E,d,p)}static renderResult(a,c,d){let p=a.getMatrix();if(p==null)throw new Wr;let x=p.getWidth(),g=p.getHeight(),y=Math.max(c,x),E=Math.max(d,g),A=Math.min(y/x,E/g),O=(y-x*A)/2,j=(E-g*A)/2,L=new K(y,E);for(let z=0,W=j;z<g;z++,W+=A)for(let $=0,q=O;$<x;$++,q+=A)p.get($,z)&&L.setRegion(q,W,A,A);return L}}r.AbstractExpandedDecoder=I0,r.ArgumentException=m,r.ArithmeticException=ct,r.AztecCode=cm,r.AztecCodeReader=Tu,r.AztecCodeWriter=Bu,r.AztecDecoder=Nt,r.AztecDetector=Kg,r.AztecDetectorResult=Yg,r.AztecEncoder=ut,r.AztecHighLevelEncoder=nc,r.AztecPoint=an,r.BarcodeFormat=Se,r.Binarizer=N,r.BinaryBitmap=w,r.BitArray=P,r.BitMatrix=K,r.BitSource=P0,r.BrowserAztecCodeReader=Eb,r.BrowserBarcodeReader=_b,r.BrowserCodeReader=Pt,r.BrowserDatamatrixCodeReader=Tb,r.BrowserMultiFormatReader=Ub,r.BrowserPDF417Reader=Vb,r.BrowserQRCodeReader=Hb,r.BrowserQRCodeSvgWriter=Fa,r.CharacterSetECI=U,r.ChecksumException=C,r.Code128Reader=Ce,r.Code39Reader=pr,r.DataMatrixDecodedBitStreamParser=Ds,r.DataMatrixReader=js,r.DecodeHintType=k,r.DecoderResult=Jt,r.DefaultGridSampler=$g,r.DetectorResult=Iu,r.EAN13Reader=ja,r.EncodeHintType=gr,r.Exception=h,r.FormatException=M,r.GenericGF=Ge,r.GenericGFPoly=Xe,r.GlobalHistogramBinarizer=ue,r.GridSampler=b0,r.GridSamplerInstance=Os,r.HTMLCanvasElementLuminanceSource=Ae,r.HybridBinarizer=de,r.ITFReader=Tt,r.IllegalArgumentException=v,r.IllegalStateException=Wr,r.InvertedLuminanceSource=xe,r.LuminanceSource=ne,r.MathUtils=Je,r.MultiFormatOneDReader=Ao,r.MultiFormatReader=om,r.MultiFormatWriter=Gb,r.NotFoundException=G,r.OneDReader=dr,r.PDF417DecodedBitStreamParser=te,r.PDF417DecoderErrorCorrection=tm,r.PDF417Reader=kr,r.PDF417ResultMetadata=nm,r.PerspectiveTransform=gi,r.PlanarYUVLuminanceSource=Ui,r.QRCodeByteMatrix=ku,r.QRCodeDataMask=Zn,r.QRCodeDecodedBitStreamParser=Yt,r.QRCodeDecoderErrorCorrectionLevel=Dt,r.QRCodeDecoderFormatInformation=Yr,r.QRCodeEncoder=kt,r.QRCodeEncoderQRCode=Ba,r.QRCodeMaskUtil=rr,r.QRCodeMatrixUtil=Fe,r.QRCodeMode=Me,r.QRCodeReader=Ms,r.QRCodeVersion=De,r.QRCodeWriter=So,r.RGBLuminanceSource=F0,r.RSS14Reader=tr,r.RSSExpandedReader=ce,r.ReaderException=Mu,r.ReedSolomonDecoder=xi,r.ReedSolomonEncoder=B0,r.ReedSolomonException=jr,r.Result=it,r.ResultMetadataType=We,r.ResultPoint=Oe,r.StringUtils=Z,r.UnsupportedOperationException=X,r.VideoInputDevice=Te,r.WhiteRectangleDetector=ds,r.WriterException=Rt,r.ZXingArrays=S,r.ZXingCharset=lm,r.ZXingInteger=T,r.ZXingStandardCharsets=U0,r.ZXingStringBuilder=ae,r.ZXingStringEncoding=ee,r.ZXingSystem=b,r.createAbstractExpandedDecoder=Jg,Object.defineProperty(r,"__esModule",{value:!0})})})(Np,Np.exports);var Ft=Np.exports;const _P=Mf(Ft),IP=My({__proto__:null,default:_P},[Ft]);var Mv=function(){function t(e,r,n){if(this.formatMap=new Map([[_e.QR_CODE,Ft.BarcodeFormat.QR_CODE],[_e.AZTEC,Ft.BarcodeFormat.AZTEC],[_e.CODABAR,Ft.BarcodeFormat.CODABAR],[_e.CODE_39,Ft.BarcodeFormat.CODE_39],[_e.CODE_93,Ft.BarcodeFormat.CODE_93],[_e.CODE_128,Ft.BarcodeFormat.CODE_128],[_e.DATA_MATRIX,Ft.BarcodeFormat.DATA_MATRIX],[_e.MAXICODE,Ft.BarcodeFormat.MAXICODE],[_e.ITF,Ft.BarcodeFormat.ITF],[_e.EAN_13,Ft.BarcodeFormat.EAN_13],[_e.EAN_8,Ft.BarcodeFormat.EAN_8],[_e.PDF_417,Ft.BarcodeFormat.PDF_417],[_e.RSS_14,Ft.BarcodeFormat.RSS_14],[_e.RSS_EXPANDED,Ft.BarcodeFormat.RSS_EXPANDED],[_e.UPC_A,Ft.BarcodeFormat.UPC_A],[_e.UPC_E,Ft.BarcodeFormat.UPC_E],[_e.UPC_EAN_EXTENSION,Ft.BarcodeFormat.UPC_EAN_EXTENSION]]),this.reverseFormatMap=this.createReverseFormatMap(),!IP)throw"Use html5qrcode.min.js without edit, ZXing not found.";this.verbose=r,this.logger=n;var i=this.createZXingFormats(e),s=new Map;s.set(Ft.DecodeHintType.POSSIBLE_FORMATS,i),s.set(Ft.DecodeHintType.TRY_HARDER,!1),this.hints=s}return t.prototype.decodeAsync=function(e){var r=this;return new Promise(function(n,i){try{n(r.decode(e))}catch(s){i(s)}})},t.prototype.decode=function(e){var r=new Ft.MultiFormatReader(this.verbose,this.hints),n=new Ft.HTMLCanvasElementLuminanceSource(e),i=new Ft.BinaryBitmap(new Ft.HybridBinarizer(n)),s=r.decode(i);return{text:s.text,format:nb.create(this.toHtml5QrcodeSupportedFormats(s.format)),debugData:this.createDebugData()}},t.prototype.createReverseFormatMap=function(){var e=new Map;return this.formatMap.forEach(function(r,n,i){e.set(r,n)}),e},t.prototype.toHtml5QrcodeSupportedFormats=function(e){if(!this.reverseFormatMap.has(e))throw"reverseFormatMap doesn't have ".concat(e);return this.reverseFormatMap.get(e)},t.prototype.createZXingFormats=function(e){for(var r=[],n=0,i=e;n<i.length;n++){var s=i[n];this.formatMap.has(s)?r.push(this.formatMap.get(s)):this.logger.logError("".concat(s," is not supported by")+"ZXingHtml5QrcodeShim")}return r},t.prototype.createDebugData=function(){return{decoderName:"zxing-js"}},t}(),TP=function(t,e,r,n){function i(s){return s instanceof r?s:new r(function(o){o(s)})}return new(r||(r=Promise))(function(s,o){function u(m){try{h(n.next(m))}catch(v){o(v)}}function f(m){try{h(n.throw(m))}catch(v){o(v)}}function h(m){m.done?s(m.value):i(m.value).then(u,f)}h((n=n.apply(t,e||[])).next())})},RP=function(t,e){var r={label:0,sent:function(){if(s[0]&1)throw s[1];return s[1]},trys:[],ops:[]},n,i,s,o;return o={next:u(0),throw:u(1),return:u(2)},typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function u(h){return function(m){return f([h,m])}}function f(h){if(n)throw new TypeError("Generator is already executing.");for(;o&&(o=0,h[0]&&(r=0)),r;)try{if(n=1,i&&(s=h[0]&2?i.return:h[0]?i.throw||((s=i.return)&&s.call(i),0):i.next)&&!(s=s.call(i,h[1])).done)return s;switch(i=0,s&&(h=[h[0]&2,s.value]),h[0]){case 0:case 1:s=h;break;case 4:return r.label++,{value:h[1],done:!1};case 5:r.label++,i=h[1],h=[0];continue;case 7:h=r.ops.pop(),r.trys.pop();continue;default:if(s=r.trys,!(s=s.length>0&&s[s.length-1])&&(h[0]===6||h[0]===2)){r=0;continue}if(h[0]===3&&(!s||h[1]>s[0]&&h[1]<s[3])){r.label=h[1];break}if(h[0]===6&&r.label<s[1]){r.label=s[1],s=h;break}if(s&&r.label<s[2]){r.label=s[2],r.ops.push(h);break}s[2]&&r.ops.pop(),r.trys.pop();continue}h=e.call(t,r)}catch(m){h=[6,m],i=0}finally{n=s=0}if(h[0]&5)throw h[1];return{value:h[0]?h[1]:void 0,done:!0}}},kv=function(){function t(e,r,n){if(this.formatMap=new Map([[_e.QR_CODE,"qr_code"],[_e.AZTEC,"aztec"],[_e.CODABAR,"codabar"],[_e.CODE_39,"code_39"],[_e.CODE_93,"code_93"],[_e.CODE_128,"code_128"],[_e.DATA_MATRIX,"data_matrix"],[_e.ITF,"itf"],[_e.EAN_13,"ean_13"],[_e.EAN_8,"ean_8"],[_e.PDF_417,"pdf417"],[_e.UPC_A,"upc_a"],[_e.UPC_E,"upc_e"]]),this.reverseFormatMap=this.createReverseFormatMap(),!t.isSupported())throw"Use html5qrcode.min.js without edit, Use BarcodeDetectorDelegate only if it isSupported();";this.verbose=r,this.logger=n;var i=this.createBarcodeDetectorFormats(e);if(this.detector=new BarcodeDetector(i),!this.detector)throw"BarcodeDetector detector not supported"}return t.isSupported=function(){if(!("BarcodeDetector"in window))return!1;var e=new BarcodeDetector({formats:["qr_code"]});return typeof e<"u"},t.prototype.decodeAsync=function(e){return TP(this,void 0,void 0,function(){var r,n;return RP(this,function(i){switch(i.label){case 0:return[4,this.detector.detect(e)];case 1:if(r=i.sent(),!r||r.length===0)throw"No barcode or QR code detected.";return n=this.selectLargestBarcode(r),[2,{text:n.rawValue,format:nb.create(this.toHtml5QrcodeSupportedFormats(n.format)),debugData:this.createDebugData()}]}})})},t.prototype.selectLargestBarcode=function(e){for(var r=null,n=0,i=0,s=e;i<s.length;i++){var o=s[i],u=o.boundingBox.width*o.boundingBox.height;u>n&&(n=u,r=o)}if(!r)throw"No largest barcode found";return r},t.prototype.createBarcodeDetectorFormats=function(e){for(var r=[],n=0,i=e;n<i.length;n++){var s=i[n];this.formatMap.has(s)?r.push(this.formatMap.get(s)):this.logger.warn("".concat(s," is not supported by")+"BarcodeDetectorDelegate")}return{formats:r}},t.prototype.toHtml5QrcodeSupportedFormats=function(e){if(!this.reverseFormatMap.has(e))throw"reverseFormatMap doesn't have ".concat(e);return this.reverseFormatMap.get(e)},t.prototype.createReverseFormatMap=function(){var e=new Map;return this.formatMap.forEach(function(r,n,i){e.set(r,n)}),e},t.prototype.createDebugData=function(){return{decoderName:"BarcodeDetector"}},t}(),Lv=function(t,e,r,n){function i(s){return s instanceof r?s:new r(function(o){o(s)})}return new(r||(r=Promise))(function(s,o){function u(m){try{h(n.next(m))}catch(v){o(v)}}function f(m){try{h(n.throw(m))}catch(v){o(v)}}function h(m){m.done?s(m.value):i(m.value).then(u,f)}h((n=n.apply(t,e||[])).next())})},Bv=function(t,e){var r={label:0,sent:function(){if(s[0]&1)throw s[1];return s[1]},trys:[],ops:[]},n,i,s,o;return o={next:u(0),throw:u(1),return:u(2)},typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function u(h){return function(m){return f([h,m])}}function f(h){if(n)throw new TypeError("Generator is already executing.");for(;o&&(o=0,h[0]&&(r=0)),r;)try{if(n=1,i&&(s=h[0]&2?i.return:h[0]?i.throw||((s=i.return)&&s.call(i),0):i.next)&&!(s=s.call(i,h[1])).done)return s;switch(i=0,s&&(h=[h[0]&2,s.value]),h[0]){case 0:case 1:s=h;break;case 4:return r.label++,{value:h[1],done:!1};case 5:r.label++,i=h[1],h=[0];continue;case 7:h=r.ops.pop(),r.trys.pop();continue;default:if(s=r.trys,!(s=s.length>0&&s[s.length-1])&&(h[0]===6||h[0]===2)){r=0;continue}if(h[0]===3&&(!s||h[1]>s[0]&&h[1]<s[3])){r.label=h[1];break}if(h[0]===6&&r.label<s[1]){r.label=s[1],s=h;break}if(s&&r.label<s[2]){r.label=s[2],r.ops.push(h);break}s[2]&&r.ops.pop(),r.trys.pop();continue}h=e.call(t,r)}catch(m){h=[6,m],i=0}finally{n=s=0}if(h[0]&5)throw h[1];return{value:h[0]?h[1]:void 0,done:!0}}},OP=function(){function t(e,r,n,i){this.EXECUTIONS_TO_REPORT_PERFORMANCE=100,this.executions=0,this.executionResults=[],this.wasPrimaryDecoderUsedInLastDecode=!1,this.verbose=n,r&&kv.isSupported()?(this.primaryDecoder=new kv(e,n,i),this.secondaryDecoder=new Mv(e,n,i)):this.primaryDecoder=new Mv(e,n,i)}return t.prototype.decodeAsync=function(e){return Lv(this,void 0,void 0,function(){var r;return Bv(this,function(n){switch(n.label){case 0:r=performance.now(),n.label=1;case 1:return n.trys.push([1,,3,4]),[4,this.getDecoder().decodeAsync(e)];case 2:return[2,n.sent()];case 3:return this.possiblyLogPerformance(r),[7];case 4:return[2]}})})},t.prototype.decodeRobustlyAsync=function(e){return Lv(this,void 0,void 0,function(){var r,n;return Bv(this,function(i){switch(i.label){case 0:r=performance.now(),i.label=1;case 1:return i.trys.push([1,3,4,5]),[4,this.primaryDecoder.decodeAsync(e)];case 2:return[2,i.sent()];case 3:if(n=i.sent(),this.secondaryDecoder)return[2,this.secondaryDecoder.decodeAsync(e)];throw n;case 4:return this.possiblyLogPerformance(r),[7];case 5:return[2]}})})},t.prototype.getDecoder=function(){return this.secondaryDecoder?this.wasPrimaryDecoderUsedInLastDecode===!1?(this.wasPrimaryDecoderUsedInLastDecode=!0,this.primaryDecoder):(this.wasPrimaryDecoderUsedInLastDecode=!1,this.secondaryDecoder):this.primaryDecoder},t.prototype.possiblyLogPerformance=function(e){if(this.verbose){var r=performance.now()-e;this.executionResults.push(r),this.executions++,this.possiblyFlushPerformanceReport()}},t.prototype.possiblyFlushPerformanceReport=function(){if(!(this.executions<this.EXECUTIONS_TO_REPORT_PERFORMANCE)){for(var e=0,r=0,n=this.executionResults;r<n.length;r++){var i=n[r];e+=i}var s=e/this.executionResults.length;console.log("".concat(s," ms for ").concat(this.executionResults.length," last runs.")),this.executions=0,this.executionResults=[]}},t}(),Bg=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var s in i)Object.prototype.hasOwnProperty.call(i,s)&&(n[s]=i[s])},t(e,r)};return function(e,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),Of=function(t,e,r,n){function i(s){return s instanceof r?s:new r(function(o){o(s)})}return new(r||(r=Promise))(function(s,o){function u(m){try{h(n.next(m))}catch(v){o(v)}}function f(m){try{h(n.throw(m))}catch(v){o(v)}}function h(m){m.done?s(m.value):i(m.value).then(u,f)}h((n=n.apply(t,e||[])).next())})},Pf=function(t,e){var r={label:0,sent:function(){if(s[0]&1)throw s[1];return s[1]},trys:[],ops:[]},n,i,s,o;return o={next:u(0),throw:u(1),return:u(2)},typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function u(h){return function(m){return f([h,m])}}function f(h){if(n)throw new TypeError("Generator is already executing.");for(;o&&(o=0,h[0]&&(r=0)),r;)try{if(n=1,i&&(s=h[0]&2?i.return:h[0]?i.throw||((s=i.return)&&s.call(i),0):i.next)&&!(s=s.call(i,h[1])).done)return s;switch(i=0,s&&(h=[h[0]&2,s.value]),h[0]){case 0:case 1:s=h;break;case 4:return r.label++,{value:h[1],done:!1};case 5:r.label++,i=h[1],h=[0];continue;case 7:h=r.ops.pop(),r.trys.pop();continue;default:if(s=r.trys,!(s=s.length>0&&s[s.length-1])&&(h[0]===6||h[0]===2)){r=0;continue}if(h[0]===3&&(!s||h[1]>s[0]&&h[1]<s[3])){r.label=h[1];break}if(h[0]===6&&r.label<s[1]){r.label=s[1],s=h;break}if(s&&r.label<s[2]){r.label=s[2],r.ops.push(h);break}s[2]&&r.ops.pop(),r.trys.pop();continue}h=e.call(t,r)}catch(m){h=[6,m],i=0}finally{n=s=0}if(h[0]&5)throw h[1];return{value:h[0]?h[1]:void 0,done:!0}}},sb=function(){function t(e,r){this.name=e,this.track=r}return t.prototype.isSupported=function(){return this.track.getCapabilities?this.name in this.track.getCapabilities():!1},t.prototype.apply=function(e){var r={};r[this.name]=e;var n={advanced:[r]};return this.track.applyConstraints(n)},t.prototype.value=function(){var e=this.track.getSettings();if(this.name in e){var r=e[this.name];return r}return null},t}(),PP=function(t){Bg(e,t);function e(r,n){return t.call(this,r,n)||this}return e.prototype.min=function(){return this.getCapabilities().min},e.prototype.max=function(){return this.getCapabilities().max},e.prototype.step=function(){return this.getCapabilities().step},e.prototype.apply=function(r){var n={};n[this.name]=r;var i={advanced:[n]};return this.track.applyConstraints(i)},e.prototype.getCapabilities=function(){this.failIfNotSupported();var r=this.track.getCapabilities(),n=r[this.name];return{min:n.min,max:n.max,step:n.step}},e.prototype.failIfNotSupported=function(){if(!this.isSupported())throw new Error("".concat(this.name," capability not supported"))},e}(sb),DP=function(t){Bg(e,t);function e(r){return t.call(this,"zoom",r)||this}return e}(PP),jP=function(t){Bg(e,t);function e(r){return t.call(this,"torch",r)||this}return e}(sb),MP=function(){function t(e){this.track=e}return t.prototype.zoomFeature=function(){return new DP(this.track)},t.prototype.torchFeature=function(){return new jP(this.track)},t}(),kP=function(){function t(e,r,n){this.isClosed=!1,this.parentElement=e,this.mediaStream=r,this.callbacks=n,this.surface=this.createVideoElement(this.parentElement.clientWidth),e.append(this.surface)}return t.prototype.createVideoElement=function(e){var r=document.createElement("video");return r.style.width="".concat(e,"px"),r.style.display="block",r.muted=!0,r.setAttribute("muted","true"),r.playsInline=!0,r},t.prototype.setupSurface=function(){var e=this;this.surface.onabort=function(){throw"RenderedCameraImpl video surface onabort() called"},this.surface.onerror=function(){throw"RenderedCameraImpl video surface onerror() called"};var r=function(){var n=e.surface.clientWidth,i=e.surface.clientHeight;e.callbacks.onRenderSurfaceReady(n,i),e.surface.removeEventListener("playing",r)};this.surface.addEventListener("playing",r),this.surface.srcObject=this.mediaStream,this.surface.play()},t.create=function(e,r,n,i){return Of(this,void 0,void 0,function(){var s,o;return Pf(this,function(u){switch(u.label){case 0:return s=new t(e,r,i),n.aspectRatio?(o={aspectRatio:n.aspectRatio},[4,s.getFirstTrackOrFail().applyConstraints(o)]):[3,2];case 1:u.sent(),u.label=2;case 2:return s.setupSurface(),[2,s]}})})},t.prototype.failIfClosed=function(){if(this.isClosed)throw"The RenderedCamera has already been closed."},t.prototype.getFirstTrackOrFail=function(){if(this.failIfClosed(),this.mediaStream.getVideoTracks().length===0)throw"No video tracks found";return this.mediaStream.getVideoTracks()[0]},t.prototype.pause=function(){this.failIfClosed(),this.surface.pause()},t.prototype.resume=function(e){this.failIfClosed();var r=this,n=function(){setTimeout(e,200),r.surface.removeEventListener("playing",n)};this.surface.addEventListener("playing",n),this.surface.play()},t.prototype.isPaused=function(){return this.failIfClosed(),this.surface.paused},t.prototype.getSurface=function(){return this.failIfClosed(),this.surface},t.prototype.getRunningTrackCapabilities=function(){return this.getFirstTrackOrFail().getCapabilities()},t.prototype.getRunningTrackSettings=function(){return this.getFirstTrackOrFail().getSettings()},t.prototype.applyVideoConstraints=function(e){return Of(this,void 0,void 0,function(){return Pf(this,function(r){if("aspectRatio"in e)throw"Changing 'aspectRatio' in run-time is not yet supported.";return[2,this.getFirstTrackOrFail().applyConstraints(e)]})})},t.prototype.close=function(){if(this.isClosed)return Promise.resolve();var e=this;return new Promise(function(r,n){var i=e.mediaStream.getVideoTracks(),s=i.length,o=0;e.mediaStream.getVideoTracks().forEach(function(u){e.mediaStream.removeTrack(u),u.stop(),++o,o>=s&&(e.isClosed=!0,e.parentElement.removeChild(e.surface),r())})})},t.prototype.getCapabilities=function(){return new MP(this.getFirstTrackOrFail())},t}(),LP=function(){function t(e){this.mediaStream=e}return t.prototype.render=function(e,r,n){return Of(this,void 0,void 0,function(){return Pf(this,function(i){return[2,kP.create(e,this.mediaStream,r,n)]})})},t.create=function(e){return Of(this,void 0,void 0,function(){var r,n;return Pf(this,function(i){switch(i.label){case 0:if(!navigator.mediaDevices)throw"navigator.mediaDevices not supported";return r={audio:!1,video:e},[4,navigator.mediaDevices.getUserMedia(r)];case 1:return n=i.sent(),[2,new t(n)]}})})},t}(),Fv=function(t,e,r,n){function i(s){return s instanceof r?s:new r(function(o){o(s)})}return new(r||(r=Promise))(function(s,o){function u(m){try{h(n.next(m))}catch(v){o(v)}}function f(m){try{h(n.throw(m))}catch(v){o(v)}}function h(m){m.done?s(m.value):i(m.value).then(u,f)}h((n=n.apply(t,e||[])).next())})},Uv=function(t,e){var r={label:0,sent:function(){if(s[0]&1)throw s[1];return s[1]},trys:[],ops:[]},n,i,s,o;return o={next:u(0),throw:u(1),return:u(2)},typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function u(h){return function(m){return f([h,m])}}function f(h){if(n)throw new TypeError("Generator is already executing.");for(;o&&(o=0,h[0]&&(r=0)),r;)try{if(n=1,i&&(s=h[0]&2?i.return:h[0]?i.throw||((s=i.return)&&s.call(i),0):i.next)&&!(s=s.call(i,h[1])).done)return s;switch(i=0,s&&(h=[h[0]&2,s.value]),h[0]){case 0:case 1:s=h;break;case 4:return r.label++,{value:h[1],done:!1};case 5:r.label++,i=h[1],h=[0];continue;case 7:h=r.ops.pop(),r.trys.pop();continue;default:if(s=r.trys,!(s=s.length>0&&s[s.length-1])&&(h[0]===6||h[0]===2)){r=0;continue}if(h[0]===3&&(!s||h[1]>s[0]&&h[1]<s[3])){r.label=h[1];break}if(h[0]===6&&r.label<s[1]){r.label=s[1],s=h;break}if(s&&r.label<s[2]){r.label=s[2],r.ops.push(h);break}s[2]&&r.ops.pop(),r.trys.pop();continue}h=e.call(t,r)}catch(m){h=[6,m],i=0}finally{n=s=0}if(h[0]&5)throw h[1];return{value:h[0]?h[1]:void 0,done:!0}}},BP=function(){function t(){}return t.failIfNotSupported=function(){return Fv(this,void 0,void 0,function(){return Uv(this,function(e){if(!navigator.mediaDevices)throw"navigator.mediaDevices not supported";return[2,new t]})})},t.prototype.create=function(e){return Fv(this,void 0,void 0,function(){return Uv(this,function(r){return[2,LP.create(e)]})})},t}(),FP=function(t,e,r,n){function i(s){return s instanceof r?s:new r(function(o){o(s)})}return new(r||(r=Promise))(function(s,o){function u(m){try{h(n.next(m))}catch(v){o(v)}}function f(m){try{h(n.throw(m))}catch(v){o(v)}}function h(m){m.done?s(m.value):i(m.value).then(u,f)}h((n=n.apply(t,e||[])).next())})},UP=function(t,e){var r={label:0,sent:function(){if(s[0]&1)throw s[1];return s[1]},trys:[],ops:[]},n,i,s,o;return o={next:u(0),throw:u(1),return:u(2)},typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function u(h){return function(m){return f([h,m])}}function f(h){if(n)throw new TypeError("Generator is already executing.");for(;o&&(o=0,h[0]&&(r=0)),r;)try{if(n=1,i&&(s=h[0]&2?i.return:h[0]?i.throw||((s=i.return)&&s.call(i),0):i.next)&&!(s=s.call(i,h[1])).done)return s;switch(i=0,s&&(h=[h[0]&2,s.value]),h[0]){case 0:case 1:s=h;break;case 4:return r.label++,{value:h[1],done:!1};case 5:r.label++,i=h[1],h=[0];continue;case 7:h=r.ops.pop(),r.trys.pop();continue;default:if(s=r.trys,!(s=s.length>0&&s[s.length-1])&&(h[0]===6||h[0]===2)){r=0;continue}if(h[0]===3&&(!s||h[1]>s[0]&&h[1]<s[3])){r.label=h[1];break}if(h[0]===6&&r.label<s[1]){r.label=s[1],s=h;break}if(s&&r.label<s[2]){r.label=s[2],r.ops.push(h);break}s[2]&&r.ops.pop(),r.trys.pop();continue}h=e.call(t,r)}catch(m){h=[6,m],i=0}finally{n=s=0}if(h[0]&5)throw h[1];return{value:h[0]?h[1]:void 0,done:!0}}},VP=function(){function t(){}return t.retrieve=function(){if(navigator.mediaDevices)return t.getCamerasFromMediaDevices();var e=MediaStreamTrack;return MediaStreamTrack&&e.getSources?t.getCamerasFromMediaStreamTrack():t.rejectWithError()},t.rejectWithError=function(){var e=Yo.unableToQuerySupportedDevices();return t.isHttpsOrLocalhost()||(e=Yo.insecureContextCameraQueryError()),Promise.reject(e)},t.isHttpsOrLocalhost=function(){if(location.protocol==="https:")return!0;var e=location.host.split(":")[0];return e==="127.0.0.1"||e==="localhost"},t.getCamerasFromMediaDevices=function(){return FP(this,void 0,void 0,function(){var e,r,n,i,s,o,u;return UP(this,function(f){switch(f.label){case 0:return e=function(h){for(var m=h.getVideoTracks(),v=0,w=m;v<w.length;v++){var C=w[v];C.enabled=!1,C.stop(),h.removeTrack(C)}},[4,navigator.mediaDevices.getUserMedia({audio:!1,video:!0})];case 1:return r=f.sent(),[4,navigator.mediaDevices.enumerateDevices()];case 2:for(n=f.sent(),i=[],s=0,o=n;s<o.length;s++)u=o[s],u.kind==="videoinput"&&i.push({id:u.deviceId,label:u.label});return e(r),[2,i]}})})},t.getCamerasFromMediaStreamTrack=function(){return new Promise(function(e,r){var n=function(s){for(var o=[],u=0,f=s;u<f.length;u++){var h=f[u];h.kind==="video"&&o.push({id:h.id,label:h.label})}e(o)},i=MediaStreamTrack;i.getSources(n)})},t}(),ir;(function(t){t[t.UNKNOWN=0]="UNKNOWN",t[t.NOT_STARTED=1]="NOT_STARTED",t[t.SCANNING=2]="SCANNING",t[t.PAUSED=3]="PAUSED"})(ir||(ir={}));var HP=function(){function t(){this.state=ir.NOT_STARTED,this.onGoingTransactionNewState=ir.UNKNOWN}return t.prototype.directTransition=function(e){this.failIfTransitionOngoing(),this.validateTransition(e),this.state=e},t.prototype.startTransition=function(e){return this.failIfTransitionOngoing(),this.validateTransition(e),this.onGoingTransactionNewState=e,this},t.prototype.execute=function(){if(this.onGoingTransactionNewState===ir.UNKNOWN)throw"Transaction is already cancelled, cannot execute().";var e=this.onGoingTransactionNewState;this.onGoingTransactionNewState=ir.UNKNOWN,this.directTransition(e)},t.prototype.cancel=function(){if(this.onGoingTransactionNewState===ir.UNKNOWN)throw"Transaction is already cancelled, cannot cancel().";this.onGoingTransactionNewState=ir.UNKNOWN},t.prototype.getState=function(){return this.state},t.prototype.failIfTransitionOngoing=function(){if(this.onGoingTransactionNewState!==ir.UNKNOWN)throw"Cannot transition to a new state, already under transition"},t.prototype.validateTransition=function(e){switch(this.state){case ir.UNKNOWN:throw"Transition from unknown is not allowed";case ir.NOT_STARTED:this.failIfNewStateIs(e,[ir.PAUSED]);break;case ir.SCANNING:break;case ir.PAUSED:break}},t.prototype.failIfNewStateIs=function(e,r){for(var n=0,i=r;n<i.length;n++){var s=i[n];if(e===s)throw"Cannot transition from ".concat(this.state," to ").concat(e)}},t}(),zP=function(){function t(e){this.stateManager=e}return t.prototype.startTransition=function(e){return this.stateManager.startTransition(e)},t.prototype.directTransition=function(e){this.stateManager.directTransition(e)},t.prototype.getState=function(){return this.stateManager.getState()},t.prototype.canScanFile=function(){return this.stateManager.getState()===ir.NOT_STARTED},t.prototype.isScanning=function(){return this.stateManager.getState()!==ir.NOT_STARTED},t.prototype.isStrictlyScanning=function(){return this.stateManager.getState()===ir.SCANNING},t.prototype.isPaused=function(){return this.stateManager.getState()===ir.PAUSED},t}(),GP=function(){function t(){}return t.create=function(){return new zP(new HP)},t}(),WP=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var s in i)Object.prototype.hasOwnProperty.call(i,s)&&(n[s]=i[s])},t(e,r)};return function(e,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),Bn=function(t){WP(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.DEFAULT_WIDTH=300,e.DEFAULT_WIDTH_OFFSET=2,e.FILE_SCAN_MIN_HEIGHT=300,e.FILE_SCAN_HIDDEN_CANVAS_PADDING=100,e.MIN_QR_BOX_SIZE=50,e.SHADED_LEFT=1,e.SHADED_RIGHT=2,e.SHADED_TOP=3,e.SHADED_BOTTOM=4,e.SHADED_REGION_ELEMENT_ID="qr-shaded-region",e.VERBOSE=!1,e.BORDER_SHADER_DEFAULT_COLOR="#ffffff",e.BORDER_SHADER_MATCH_COLOR="rgb(90, 193, 56)",e}(bP),XP=function(){function t(e,r){this.logger=r,this.fps=Bn.SCAN_DEFAULT_FPS,e?(e.fps&&(this.fps=e.fps),this.disableFlip=e.disableFlip===!0,this.qrbox=e.qrbox,this.aspectRatio=e.aspectRatio,this.videoConstraints=e.videoConstraints):this.disableFlip=Bn.DEFAULT_DISABLE_FLIP}return t.prototype.isMediaStreamConstraintsValid=function(){return this.videoConstraints?ib.isMediaStreamConstraintsValid(this.videoConstraints,this.logger):(this.logger.logError("Empty videoConstraints",!0),!1)},t.prototype.isShadedBoxEnabled=function(){return!ps(this.qrbox)},t.create=function(e,r){return new t(e,r)},t}(),YP=function(){function t(e,r){if(this.element=null,this.canvasElement=null,this.scannerPausedUiElement=null,this.hasBorderShaders=null,this.borderShaders=null,this.qrMatch=null,this.renderedCamera=null,this.qrRegion=null,this.context=null,this.lastScanImageFile=null,this.isScanning=!1,!document.getElementById(e))throw"HTML Element with id=".concat(e," not found");this.elementId=e,this.verbose=!1;var n;typeof r=="boolean"?this.verbose=r===!0:r&&(n=r,this.verbose=n.verbose===!0,n.experimentalFeatures),this.logger=new NP(this.verbose),this.qrcode=new OP(this.getSupportedFormats(r),this.getUseBarCodeDetectorIfSupported(n),this.verbose,this.logger),this.foreverScanTimeout,this.shouldScan=!0,this.stateManagerProxy=GP.create()}return t.prototype.start=function(e,r,n,i){var s=this;if(!e)throw"cameraIdOrConfig is required";if(!n||typeof n!="function")throw"qrCodeSuccessCallback is required and should be a function.";var o;i?o=i:o=this.verbose?this.logger.log:function(){};var u=XP.create(r,this.logger);this.clearElement();var f=!1;u.videoConstraints&&(u.isMediaStreamConstraintsValid()?f=!0:this.logger.logError("'videoConstraints' is not valid 'MediaStreamConstraints, it will be ignored.'",!0));var h=f,m=document.getElementById(this.elementId);m.clientWidth?m.clientWidth:Bn.DEFAULT_WIDTH,m.style.position="relative",this.shouldScan=!0,this.element=m;var v=this,w=this.stateManagerProxy.startTransition(ir.SCANNING);return new Promise(function(C,N){var b=h?u.videoConstraints:v.createVideoConstraints(e);if(!b){w.cancel(),N("videoConstraints should be defined");return}var R={};(!h||u.aspectRatio)&&(R.aspectRatio=u.aspectRatio);var _={onRenderSurfaceReady:function(S,T){v.setupUi(S,T,u),v.isScanning=!0,v.foreverScan(u,n,o)}};BP.failIfNotSupported().then(function(S){S.create(b).then(function(T){return T.render(s.element,R,_).then(function(P){v.renderedCamera=P,w.execute(),C(null)}).catch(function(P){w.cancel(),N(P)})}).catch(function(T){w.cancel(),N(Yo.errorGettingUserMedia(T))})}).catch(function(S){w.cancel(),N(Yo.cameraStreamingNotSupported())})})},t.prototype.pause=function(e){if(!this.stateManagerProxy.isStrictlyScanning())throw"Cannot pause, scanner is not scanning.";this.stateManagerProxy.directTransition(ir.PAUSED),this.showPausedState(),(ps(e)||e!==!0)&&(e=!1),e&&this.renderedCamera&&this.renderedCamera.pause()},t.prototype.resume=function(){if(!this.stateManagerProxy.isPaused())throw"Cannot result, scanner is not paused.";if(!this.renderedCamera)throw"renderedCamera doesn't exist while trying resume()";var e=this,r=function(){e.stateManagerProxy.directTransition(ir.SCANNING),e.hidePausedState()};if(!this.renderedCamera.isPaused()){r();return}this.renderedCamera.resume(function(){r()})},t.prototype.getState=function(){return this.stateManagerProxy.getState()},t.prototype.stop=function(){var e=this;if(!this.stateManagerProxy.isScanning())throw"Cannot stop, scanner is not running or paused.";var r=this.stateManagerProxy.startTransition(ir.NOT_STARTED);this.shouldScan=!1,this.foreverScanTimeout&&clearTimeout(this.foreverScanTimeout);var n=function(){if(e.element){var s=document.getElementById(Bn.SHADED_REGION_ELEMENT_ID);s&&e.element.removeChild(s)}},i=this;return this.renderedCamera.close().then(function(){return i.renderedCamera=null,i.element&&(i.element.removeChild(i.canvasElement),i.canvasElement=null),n(),i.qrRegion&&(i.qrRegion=null),i.context&&(i.context=null),r.execute(),i.hidePausedState(),i.isScanning=!1,Promise.resolve()})},t.prototype.scanFile=function(e,r){return this.scanFileV2(e,r).then(function(n){return n.decodedText})},t.prototype.scanFileV2=function(e,r){var n=this;if(!e||!(e instanceof File))throw"imageFile argument is mandatory and should be instance of File. Use 'event.target.files[0]'.";if(ps(r)&&(r=!0),!this.stateManagerProxy.canScanFile())throw"Cannot start file scan - ongoing camera scan";return new Promise(function(i,s){n.possiblyCloseLastScanImageFile(),n.clearElement(),n.lastScanImageFile=URL.createObjectURL(e);var o=new Image;o.onload=function(){var u=o.width,f=o.height,h=document.getElementById(n.elementId),m=h.clientWidth?h.clientWidth:Bn.DEFAULT_WIDTH,v=Math.max(h.clientHeight?h.clientHeight:f,Bn.FILE_SCAN_MIN_HEIGHT),w=n.computeCanvasDrawConfig(u,f,m,v);if(r){var C=n.createCanvasElement(m,v,"qr-canvas-visible");C.style.display="inline-block",h.appendChild(C);var N=C.getContext("2d");if(!N)throw"Unable to get 2d context from canvas";N.canvas.width=m,N.canvas.height=v,N.drawImage(o,0,0,u,f,w.x,w.y,w.width,w.height)}var b=Bn.FILE_SCAN_HIDDEN_CANVAS_PADDING,R=Math.max(o.width,w.width),_=Math.max(o.height,w.height),S=R+2*b,T=_+2*b,P=n.createCanvasElement(S,T);h.appendChild(P);var B=P.getContext("2d");if(!B)throw"Unable to get 2d context from canvas";B.canvas.width=S,B.canvas.height=T,B.drawImage(o,0,0,u,f,b,b,R,_);try{n.qrcode.decodeRobustlyAsync(P).then(function(k){i(jv.createFromQrcodeResult(k))}).catch(s)}catch(k){s("QR code parse error, error = ".concat(k))}},o.onerror=s,o.onabort=s,o.onstalled=s,o.onsuspend=s,o.src=URL.createObjectURL(e)})},t.prototype.clear=function(){this.clearElement()},t.getCameras=function(){return VP.retrieve()},t.prototype.getRunningTrackCapabilities=function(){return this.getRenderedCameraOrFail().getRunningTrackCapabilities()},t.prototype.getRunningTrackSettings=function(){return this.getRenderedCameraOrFail().getRunningTrackSettings()},t.prototype.getRunningTrackCameraCapabilities=function(){return this.getRenderedCameraOrFail().getCapabilities()},t.prototype.applyVideoConstraints=function(e){if(e){if(!ib.isMediaStreamConstraintsValid(e,this.logger))throw"invalid videoConstaints passed, check logs for more details"}else throw"videoConstaints is required argument.";return this.getRenderedCameraOrFail().applyVideoConstraints(e)},t.prototype.getRenderedCameraOrFail=function(){if(this.renderedCamera==null)throw"Scanning is not in running state, call this API only when QR code scanning using camera is in running state.";return this.renderedCamera},t.prototype.getSupportedFormats=function(e){var r=[_e.QR_CODE,_e.AZTEC,_e.CODABAR,_e.CODE_39,_e.CODE_93,_e.CODE_128,_e.DATA_MATRIX,_e.MAXICODE,_e.ITF,_e.EAN_13,_e.EAN_8,_e.PDF_417,_e.RSS_14,_e.RSS_EXPANDED,_e.UPC_A,_e.UPC_E,_e.UPC_EAN_EXTENSION];if(!e||typeof e=="boolean"||!e.formatsToSupport)return r;if(!Array.isArray(e.formatsToSupport))throw"configOrVerbosityFlag.formatsToSupport should be undefined or an array.";if(e.formatsToSupport.length===0)throw"Atleast 1 formatsToSupport is needed.";for(var n=[],i=0,s=e.formatsToSupport;i<s.length;i++){var o=s[i];AP(o)?n.push(o):this.logger.warn("Invalid format: ".concat(o," passed in config, ignoring."))}if(n.length===0)throw"None of formatsToSupport match supported values.";return n},t.prototype.getUseBarCodeDetectorIfSupported=function(e){if(ps(e))return!0;if(!ps(e.useBarCodeDetectorIfSupported))return e.useBarCodeDetectorIfSupported!==!1;if(ps(e.experimentalFeatures))return!0;var r=e.experimentalFeatures;return ps(r.useBarCodeDetectorIfSupported)?!0:r.useBarCodeDetectorIfSupported!==!1},t.prototype.validateQrboxSize=function(e,r,n){var i=this,s=n.qrbox;this.validateQrboxConfig(s);var o=this.toQrdimensions(e,r,s),u=function(h){if(h<Bn.MIN_QR_BOX_SIZE)throw"minimum size of 'config.qrbox' dimension value is"+" ".concat(Bn.MIN_QR_BOX_SIZE,"px.")},f=function(h){return h>e&&(i.logger.warn("`qrbox.width` or `qrbox` is larger than the width of the root element. The width will be truncated to the width of root element."),h=e),h};u(o.width),u(o.height),o.width=f(o.width)},t.prototype.validateQrboxConfig=function(e){if(typeof e!="number"&&typeof e!="function"&&(e.width===void 0||e.height===void 0))throw"Invalid instance of QrDimensions passed for 'config.qrbox'. Both 'width' and 'height' should be set."},t.prototype.toQrdimensions=function(e,r,n){if(typeof n=="number")return{width:n,height:n};if(typeof n=="function")try{return n(e,r)}catch(i){throw new Error("qrbox config was passed as a function but it failed with unknown error"+i)}return n},t.prototype.setupUi=function(e,r,n){n.isShadedBoxEnabled()&&this.validateQrboxSize(e,r,n);var i=ps(n.qrbox)?{width:e,height:r}:n.qrbox;this.validateQrboxConfig(i);var s=this.toQrdimensions(e,r,i);s.height>r&&this.logger.warn("[Html5Qrcode] config.qrbox has height that isgreater than the height of the video stream. Shading will be ignored");var o=n.isShadedBoxEnabled()&&s.height<=r,u={x:0,y:0,width:e,height:r},f=o?this.getShadedRegionBounds(e,r,s):u,h=this.createCanvasElement(f.width,f.height),m={willReadFrequently:!0},v=h.getContext("2d",m);v.canvas.width=f.width,v.canvas.height=f.height,this.element.append(h),o&&this.possiblyInsertShadingElement(this.element,e,r,s),this.createScannerPausedUiElement(this.element),this.qrRegion=f,this.context=v,this.canvasElement=h},t.prototype.createScannerPausedUiElement=function(e){var r=document.createElement("div");r.innerText=Yo.scannerPaused(),r.style.display="none",r.style.position="absolute",r.style.top="0px",r.style.zIndex="1",r.style.background="rgba(9, 9, 9, 0.46)",r.style.color="#FFECEC",r.style.textAlign="center",r.style.width="100%",e.appendChild(r),this.scannerPausedUiElement=r},t.prototype.scanContext=function(e,r){var n=this;return this.stateManagerProxy.isPaused()?Promise.resolve(!1):this.qrcode.decodeAsync(this.canvasElement).then(function(i){return e(i.text,jv.createFromQrcodeResult(i)),n.possiblyUpdateShaders(!0),!0}).catch(function(i){n.possiblyUpdateShaders(!1);var s=Yo.codeParseError(i);return r(s,SP.createFrom(s)),!1})},t.prototype.foreverScan=function(e,r,n){var i=this;if(this.shouldScan&&this.renderedCamera){var s=this.renderedCamera.getSurface(),o=s.videoWidth/s.clientWidth,u=s.videoHeight/s.clientHeight;if(!this.qrRegion)throw"qrRegion undefined when localMediaStream is ready.";var f=this.qrRegion.width*o,h=this.qrRegion.height*u,m=this.qrRegion.x*o,v=this.qrRegion.y*u;this.context.drawImage(s,m,v,f,h,0,0,this.qrRegion.width,this.qrRegion.height);var w=function(){i.foreverScanTimeout=setTimeout(function(){i.foreverScan(e,r,n)},i.getTimeoutFps(e.fps))};this.scanContext(r,n).then(function(C){!C&&e.disableFlip!==!0?(i.context.translate(i.context.canvas.width,0),i.context.scale(-1,1),i.scanContext(r,n).finally(function(){w()})):w()}).catch(function(C){i.logger.logError("Error happend while scanning context",C),w()})}},t.prototype.createVideoConstraints=function(e){if(typeof e=="string")return{deviceId:{exact:e}};if(typeof e=="object"){var r="facingMode",n="deviceId",i={user:!0,environment:!0},s="exact",o=function(N){if(N in i)return!0;throw"config has invalid 'facingMode' value = "+"'".concat(N,"'")},u=Object.keys(e);if(u.length!==1)throw"'cameraIdOrConfig' object should have exactly 1 key,"+" if passed as an object, found ".concat(u.length," keys");var f=Object.keys(e)[0];if(f!==r&&f!==n)throw"Only '".concat(r,"' and '").concat(n,"' ")+" are supported for 'cameraIdOrConfig'";if(f===r){var h=e.facingMode;if(typeof h=="string"){if(o(h))return{facingMode:h}}else if(typeof h=="object")if(s in h){if(o(h["".concat(s)]))return{facingMode:{exact:h["".concat(s)]}}}else throw"'facingMode' should be string or object with"+" ".concat(s," as key.");else{var m=typeof h;throw"Invalid type of 'facingMode' = ".concat(m)}}else{var v=e.deviceId;if(typeof v=="string")return{deviceId:v};if(typeof v=="object"){if(s in v)return{deviceId:{exact:v["".concat(s)]}};throw"'deviceId' should be string or object with"+" ".concat(s," as key.")}else{var w=typeof v;throw"Invalid type of 'deviceId' = ".concat(w)}}}var C=typeof e;throw"Invalid type of 'cameraIdOrConfig' = ".concat(C)},t.prototype.computeCanvasDrawConfig=function(e,r,n,i){if(e<=n&&r<=i){var s=(n-e)/2,o=(i-r)/2;return{x:s,y:o,width:e,height:r}}else{var u=e,f=r;return e>n&&(r=n/e*r,e=n),r>i&&(e=i/r*e,r=i),this.logger.log("Image downsampled from "+"".concat(u,"X").concat(f)+" to ".concat(e,"X").concat(r,".")),this.computeCanvasDrawConfig(e,r,n,i)}},t.prototype.clearElement=function(){if(this.stateManagerProxy.isScanning())throw"Cannot clear while scan is ongoing, close it first.";var e=document.getElementById(this.elementId);e&&(e.innerHTML="")},t.prototype.possiblyUpdateShaders=function(e){this.qrMatch!==e&&(this.hasBorderShaders&&this.borderShaders&&this.borderShaders.length&&this.borderShaders.forEach(function(r){r.style.backgroundColor=e?Bn.BORDER_SHADER_MATCH_COLOR:Bn.BORDER_SHADER_DEFAULT_COLOR}),this.qrMatch=e)},t.prototype.possiblyCloseLastScanImageFile=function(){this.lastScanImageFile&&(URL.revokeObjectURL(this.lastScanImageFile),this.lastScanImageFile=null)},t.prototype.createCanvasElement=function(e,r,n){var i=e,s=r,o=document.createElement("canvas");return o.style.width="".concat(i,"px"),o.style.height="".concat(s,"px"),o.style.display="none",o.id=ps(n)?"qr-canvas":n,o},t.prototype.getShadedRegionBounds=function(e,r,n){if(n.width>e||n.height>r)throw"'config.qrbox' dimensions should not be greater than the dimensions of the root HTML element.";return{x:(e-n.width)/2,y:(r-n.height)/2,width:n.width,height:n.height}},t.prototype.possiblyInsertShadingElement=function(e,r,n,i){if(!(r-i.width<1||n-i.height<1)){var s=document.createElement("div");s.style.position="absolute";var o=(r-i.width)/2,u=(n-i.height)/2;if(s.style.borderLeft="".concat(o,"px solid rgba(0, 0, 0, 0.48)"),s.style.borderRight="".concat(o,"px solid rgba(0, 0, 0, 0.48)"),s.style.borderTop="".concat(u,"px solid rgba(0, 0, 0, 0.48)"),s.style.borderBottom="".concat(u,"px solid rgba(0, 0, 0, 0.48)"),s.style.boxSizing="border-box",s.style.top="0px",s.style.bottom="0px",s.style.left="0px",s.style.right="0px",s.id="".concat(Bn.SHADED_REGION_ELEMENT_ID),r-i.width<11||n-i.height<11)this.hasBorderShaders=!1;else{var f=5,h=40;this.insertShaderBorders(s,h,f,-f,null,0,!0),this.insertShaderBorders(s,h,f,-f,null,0,!1),this.insertShaderBorders(s,h,f,null,-f,0,!0),this.insertShaderBorders(s,h,f,null,-f,0,!1),this.insertShaderBorders(s,f,h+f,-f,null,-f,!0),this.insertShaderBorders(s,f,h+f,null,-f,-f,!0),this.insertShaderBorders(s,f,h+f,-f,null,-f,!1),this.insertShaderBorders(s,f,h+f,null,-f,-f,!1),this.hasBorderShaders=!0}e.append(s)}},t.prototype.insertShaderBorders=function(e,r,n,i,s,o,u){var f=document.createElement("div");f.style.position="absolute",f.style.backgroundColor=Bn.BORDER_SHADER_DEFAULT_COLOR,f.style.width="".concat(r,"px"),f.style.height="".concat(n,"px"),i!==null&&(f.style.top="".concat(i,"px")),s!==null&&(f.style.bottom="".concat(s,"px")),u?f.style.left="".concat(o,"px"):f.style.right="".concat(o,"px"),this.borderShaders||(this.borderShaders=[]),this.borderShaders.push(f),e.appendChild(f)},t.prototype.showPausedState=function(){if(!this.scannerPausedUiElement)throw"[internal error] scanner paused UI element not found";this.scannerPausedUiElement.style.display="block"},t.prototype.hidePausedState=function(){if(!this.scannerPausedUiElement)throw"[internal error] scanner paused UI element not found";this.scannerPausedUiElement.style.display="none"},t.prototype.getTimeoutFps=function(e){return 1e3/e},t}(),Vv;(function(t){t[t.STATUS_DEFAULT=0]="STATUS_DEFAULT",t[t.STATUS_SUCCESS=1]="STATUS_SUCCESS",t[t.STATUS_WARNING=2]="STATUS_WARNING",t[t.STATUS_REQUESTING_PERMISSION=3]="STATUS_REQUESTING_PERMISSION"})(Vv||(Vv={}));function $P(t,e){var r=Object.setPrototypeOf;r?r(t,e):t.__proto__=e}function KP(t,e){e===void 0&&(e=t.constructor);var r=Error.captureStackTrace;r&&r(t,e)}var ZP=function(){var t=function(r,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,s){i.__proto__=s}||function(i,s){for(var o in s)Object.prototype.hasOwnProperty.call(s,o)&&(i[o]=s[o])},t(r,n)};return function(e,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),qP=function(t){ZP(e,t);function e(r,n){var i=this.constructor,s=t.call(this,r,n)||this;return Object.defineProperty(s,"name",{value:i.name,enumerable:!1,configurable:!0}),$P(s,i.prototype),KP(s),s}return e}(Error),QP=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var s in i)i.hasOwnProperty(s)&&(n[s]=i[s])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),Mn=function(t){QP(e,t);function e(r){r===void 0&&(r=void 0);var n=t.call(this,r)||this;return n.message=r,n}return e.prototype.getKind=function(){var r=this.constructor;return r.kind},e.kind="Exception",e}(qP),JP=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var s in i)i.hasOwnProperty(s)&&(n[s]=i[s])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),Ci=function(t){JP(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.kind="ArgumentException",e}(Mn),eD=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var s in i)i.hasOwnProperty(s)&&(n[s]=i[s])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),Be=function(t){eD(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.kind="IllegalArgumentException",e}(Mn),tD=function(){function t(e){if(this.binarizer=e,e===null)throw new Be("Binarizer must be non-null.")}return t.prototype.getWidth=function(){return this.binarizer.getWidth()},t.prototype.getHeight=function(){return this.binarizer.getHeight()},t.prototype.getBlackRow=function(e,r){return this.binarizer.getBlackRow(e,r)},t.prototype.getBlackMatrix=function(){return(this.matrix===null||this.matrix===void 0)&&(this.matrix=this.binarizer.getBlackMatrix()),this.matrix},t.prototype.isCropSupported=function(){return this.binarizer.getLuminanceSource().isCropSupported()},t.prototype.crop=function(e,r,n,i){var s=this.binarizer.getLuminanceSource().crop(e,r,n,i);return new t(this.binarizer.createBinarizer(s))},t.prototype.isRotateSupported=function(){return this.binarizer.getLuminanceSource().isRotateSupported()},t.prototype.rotateCounterClockwise=function(){var e=this.binarizer.getLuminanceSource().rotateCounterClockwise();return new t(this.binarizer.createBinarizer(e))},t.prototype.rotateCounterClockwise45=function(){var e=this.binarizer.getLuminanceSource().rotateCounterClockwise45();return new t(this.binarizer.createBinarizer(e))},t.prototype.toString=function(){try{return this.getBlackMatrix().toString()}catch{return""}},t}(),rD=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var s in i)i.hasOwnProperty(s)&&(n[s]=i[s])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),Or=function(t){rD(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.getChecksumInstance=function(){return new e},e.kind="ChecksumException",e}(Mn),nD=function(){function t(e){this.source=e}return t.prototype.getLuminanceSource=function(){return this.source},t.prototype.getWidth=function(){return this.source.getWidth()},t.prototype.getHeight=function(){return this.source.getHeight()},t}(),Mt=function(){function t(){}return t.arraycopy=function(e,r,n,i,s){for(;s--;)n[i++]=e[r++]},t.currentTimeMillis=function(){return Date.now()},t}(),iD=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var s in i)i.hasOwnProperty(s)&&(n[s]=i[s])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),Fg=function(t){iD(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.kind="IndexOutOfBoundsException",e}(Mn),sD=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var s in i)i.hasOwnProperty(s)&&(n[s]=i[s])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),Hv=function(t){sD(e,t);function e(r,n){r===void 0&&(r=void 0),n===void 0&&(n=void 0);var i=t.call(this,n)||this;return i.index=r,i.message=n,i}return e.kind="ArrayIndexOutOfBoundsException",e}(Fg),aD=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},Ar=function(){function t(){}return t.fill=function(e,r){for(var n=0,i=e.length;n<i;n++)e[n]=r},t.fillWithin=function(e,r,n,i){t.rangeCheck(e.length,r,n);for(var s=r;s<n;s++)e[s]=i},t.rangeCheck=function(e,r,n){if(r>n)throw new Be("fromIndex("+r+") > toIndex("+n+")");if(r<0)throw new Hv(r);if(n>e)throw new Hv(n)},t.asList=function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];return e},t.create=function(e,r,n){var i=Array.from({length:e});return i.map(function(s){return Array.from({length:r}).fill(n)})},t.createInt32Array=function(e,r,n){var i=Array.from({length:e});return i.map(function(s){return Int32Array.from({length:r}).fill(n)})},t.equals=function(e,r){if(!e||!r||!e.length||!r.length||e.length!==r.length)return!1;for(var n=0,i=e.length;n<i;n++)if(e[n]!==r[n])return!1;return!0},t.hashCode=function(e){var r,n;if(e===null)return 0;var i=1;try{for(var s=aD(e),o=s.next();!o.done;o=s.next()){var u=o.value;i=31*i+u}}catch(f){r={error:f}}finally{try{o&&!o.done&&(n=s.return)&&n.call(s)}finally{if(r)throw r.error}}return i},t.fillUint8Array=function(e,r){for(var n=0;n!==e.length;n++)e[n]=r},t.copyOf=function(e,r){return e.slice(0,r)},t.copyOfUint8Array=function(e,r){if(e.length<=r){var n=new Uint8Array(r);return n.set(e),n}return e.slice(0,r)},t.copyOfRange=function(e,r,n){var i=n-r,s=new Int32Array(i);return Mt.arraycopy(e,r,s,0,i),s},t.binarySearch=function(e,r,n){n===void 0&&(n=t.numberComparator);for(var i=0,s=e.length-1;i<=s;){var o=s+i>>1,u=n(r,e[o]);if(u>0)i=o+1;else if(u<0)s=o-1;else return o}return-i-1},t.numberComparator=function(e,r){return e-r},t}(),et=function(){function t(){}return t.numberOfTrailingZeros=function(e){var r;if(e===0)return 32;var n=31;return r=e<<16,r!==0&&(n-=16,e=r),r=e<<8,r!==0&&(n-=8,e=r),r=e<<4,r!==0&&(n-=4,e=r),r=e<<2,r!==0&&(n-=2,e=r),n-(e<<1>>>31)},t.numberOfLeadingZeros=function(e){if(e===0)return 32;var r=1;return e>>>16||(r+=16,e<<=16),e>>>24||(r+=8,e<<=8),e>>>28||(r+=4,e<<=4),e>>>30||(r+=2,e<<=2),r-=e>>>31,r},t.toHexString=function(e){return e.toString(16)},t.toBinaryString=function(e){return String(parseInt(String(e),2))},t.bitCount=function(e){return e=e-(e>>>1&1431655765),e=(e&858993459)+(e>>>2&858993459),e=e+(e>>>4)&252645135,e=e+(e>>>8),e=e+(e>>>16),e&63},t.truncDivision=function(e,r){return Math.trunc(e/r)},t.parseInt=function(e,r){return r===void 0&&(r=void 0),parseInt(e,r)},t.MIN_VALUE_32_BITS=-2147483648,t.MAX_VALUE=Number.MAX_SAFE_INTEGER,t}(),Pr=function(){function t(e,r){e===void 0?(this.size=0,this.bits=new Int32Array(1)):(this.size=e,r==null?this.bits=t.makeArray(e):this.bits=r)}return t.prototype.getSize=function(){return this.size},t.prototype.getSizeInBytes=function(){return Math.floor((this.size+7)/8)},t.prototype.ensureCapacity=function(e){if(e>this.bits.length*32){var r=t.makeArray(e);Mt.arraycopy(this.bits,0,r,0,this.bits.length),this.bits=r}},t.prototype.get=function(e){return(this.bits[Math.floor(e/32)]&1<<(e&31))!==0},t.prototype.set=function(e){this.bits[Math.floor(e/32)]|=1<<(e&31)},t.prototype.flip=function(e){this.bits[Math.floor(e/32)]^=1<<(e&31)},t.prototype.getNextSet=function(e){var r=this.size;if(e>=r)return r;var n=this.bits,i=Math.floor(e/32),s=n[i];s&=~((1<<(e&31))-1);for(var o=n.length;s===0;){if(++i===o)return r;s=n[i]}var u=i*32+et.numberOfTrailingZeros(s);return u>r?r:u},t.prototype.getNextUnset=function(e){var r=this.size;if(e>=r)return r;var n=this.bits,i=Math.floor(e/32),s=~n[i];s&=~((1<<(e&31))-1);for(var o=n.length;s===0;){if(++i===o)return r;s=~n[i]}var u=i*32+et.numberOfTrailingZeros(s);return u>r?r:u},t.prototype.setBulk=function(e,r){this.bits[Math.floor(e/32)]=r},t.prototype.setRange=function(e,r){if(r<e||e<0||r>this.size)throw new Be;if(r!==e){r--;for(var n=Math.floor(e/32),i=Math.floor(r/32),s=this.bits,o=n;o<=i;o++){var u=o>n?0:e&31,f=o<i?31:r&31,h=(2<<f)-(1<<u);s[o]|=h}}},t.prototype.clear=function(){for(var e=this.bits.length,r=this.bits,n=0;n<e;n++)r[n]=0},t.prototype.isRange=function(e,r,n){if(r<e||e<0||r>this.size)throw new Be;if(r===e)return!0;r--;for(var i=Math.floor(e/32),s=Math.floor(r/32),o=this.bits,u=i;u<=s;u++){var f=u>i?0:e&31,h=u<s?31:r&31,m=(2<<h)-(1<<f)&4294967295;if((o[u]&m)!==(n?m:0))return!1}return!0},t.prototype.appendBit=function(e){this.ensureCapacity(this.size+1),e&&(this.bits[Math.floor(this.size/32)]|=1<<(this.size&31)),this.size++},t.prototype.appendBits=function(e,r){if(r<0||r>32)throw new Be("Num bits must be between 0 and 32");this.ensureCapacity(this.size+r);for(var n=r;n>0;n--)this.appendBit((e>>n-1&1)===1)},t.prototype.appendBitArray=function(e){var r=e.size;this.ensureCapacity(this.size+r);for(var n=0;n<r;n++)this.appendBit(e.get(n))},t.prototype.xor=function(e){if(this.size!==e.size)throw new Be("Sizes don't match");for(var r=this.bits,n=0,i=r.length;n<i;n++)r[n]^=e.bits[n]},t.prototype.toBytes=function(e,r,n,i){for(var s=0;s<i;s++){for(var o=0,u=0;u<8;u++)this.get(e)&&(o|=1<<7-u),e++;r[n+s]=o}},t.prototype.getBitArray=function(){return this.bits},t.prototype.reverse=function(){for(var e=new Int32Array(this.bits.length),r=Math.floor((this.size-1)/32),n=r+1,i=this.bits,s=0;s<n;s++){var o=i[s];o=o>>1&1431655765|(o&1431655765)<<1,o=o>>2&858993459|(o&858993459)<<2,o=o>>4&252645135|(o&252645135)<<4,o=o>>8&16711935|(o&16711935)<<8,o=o>>16&65535|(o&65535)<<16,e[r-s]=o}if(this.size!==n*32){for(var u=n*32-this.size,f=e[0]>>>u,s=1;s<n;s++){var h=e[s];f|=h<<32-u,e[s-1]=f,f=h>>>u}e[n-1]=f}this.bits=e},t.makeArray=function(e){return new Int32Array(Math.floor((e+31)/32))},t.prototype.equals=function(e){if(!(e instanceof t))return!1;var r=e;return this.size===r.size&&Ar.equals(this.bits,r.bits)},t.prototype.hashCode=function(){return 31*this.size+Ar.hashCode(this.bits)},t.prototype.toString=function(){for(var e="",r=0,n=this.size;r<n;r++)r&7||(e+=" "),e+=this.get(r)?"X":".";return e},t.prototype.clone=function(){return new t(this.size,this.bits.slice())},t.prototype.toArray=function(){for(var e=[],r=0,n=this.size;r<n;r++)e.push(this.get(r));return e},t}(),_p;(function(t){t[t.OTHER=0]="OTHER",t[t.PURE_BARCODE=1]="PURE_BARCODE",t[t.POSSIBLE_FORMATS=2]="POSSIBLE_FORMATS",t[t.TRY_HARDER=3]="TRY_HARDER",t[t.CHARACTER_SET=4]="CHARACTER_SET",t[t.ALLOWED_LENGTHS=5]="ALLOWED_LENGTHS",t[t.ASSUME_CODE_39_CHECK_DIGIT=6]="ASSUME_CODE_39_CHECK_DIGIT",t[t.ENABLE_CODE_39_EXTENDED_MODE=7]="ENABLE_CODE_39_EXTENDED_MODE",t[t.ASSUME_GS1=8]="ASSUME_GS1",t[t.RETURN_CODABAR_START_END=9]="RETURN_CODABAR_START_END",t[t.NEED_RESULT_POINT_CALLBACK=10]="NEED_RESULT_POINT_CALLBACK",t[t.ALLOWED_EAN_EXTENSIONS=11]="ALLOWED_EAN_EXTENSIONS"})(_p||(_p={}));const Wt=_p;var oD=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var s in i)i.hasOwnProperty(s)&&(n[s]=i[s])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),me=function(t){oD(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.getFormatInstance=function(){return new e},e.kind="FormatException",e}(Mn),lD=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},At;(function(t){t[t.Cp437=0]="Cp437",t[t.ISO8859_1=1]="ISO8859_1",t[t.ISO8859_2=2]="ISO8859_2",t[t.ISO8859_3=3]="ISO8859_3",t[t.ISO8859_4=4]="ISO8859_4",t[t.ISO8859_5=5]="ISO8859_5",t[t.ISO8859_6=6]="ISO8859_6",t[t.ISO8859_7=7]="ISO8859_7",t[t.ISO8859_8=8]="ISO8859_8",t[t.ISO8859_9=9]="ISO8859_9",t[t.ISO8859_10=10]="ISO8859_10",t[t.ISO8859_11=11]="ISO8859_11",t[t.ISO8859_13=12]="ISO8859_13",t[t.ISO8859_14=13]="ISO8859_14",t[t.ISO8859_15=14]="ISO8859_15",t[t.ISO8859_16=15]="ISO8859_16",t[t.SJIS=16]="SJIS",t[t.Cp1250=17]="Cp1250",t[t.Cp1251=18]="Cp1251",t[t.Cp1252=19]="Cp1252",t[t.Cp1256=20]="Cp1256",t[t.UnicodeBigUnmarked=21]="UnicodeBigUnmarked",t[t.UTF8=22]="UTF8",t[t.ASCII=23]="ASCII",t[t.Big5=24]="Big5",t[t.GB18030=25]="GB18030",t[t.EUC_KR=26]="EUC_KR"})(At||(At={}));var Er=function(){function t(e,r,n){for(var i,s,o=[],u=3;u<arguments.length;u++)o[u-3]=arguments[u];this.valueIdentifier=e,this.name=n,typeof r=="number"?this.values=Int32Array.from([r]):this.values=r,this.otherEncodingNames=o,t.VALUE_IDENTIFIER_TO_ECI.set(e,this),t.NAME_TO_ECI.set(n,this);for(var f=this.values,h=0,m=f.length;h!==m;h++){var v=f[h];t.VALUES_TO_ECI.set(v,this)}try{for(var w=lD(o),C=w.next();!C.done;C=w.next()){var N=C.value;t.NAME_TO_ECI.set(N,this)}}catch(b){i={error:b}}finally{try{C&&!C.done&&(s=w.return)&&s.call(w)}finally{if(i)throw i.error}}}return t.prototype.getValueIdentifier=function(){return this.valueIdentifier},t.prototype.getName=function(){return this.name},t.prototype.getValue=function(){return this.values[0]},t.getCharacterSetECIByValue=function(e){if(e<0||e>=900)throw new me("incorect value");var r=t.VALUES_TO_ECI.get(e);if(r===void 0)throw new me("incorect value");return r},t.getCharacterSetECIByName=function(e){var r=t.NAME_TO_ECI.get(e);if(r===void 0)throw new me("incorect value");return r},t.prototype.equals=function(e){if(!(e instanceof t))return!1;var r=e;return this.getName()===r.getName()},t.VALUE_IDENTIFIER_TO_ECI=new Map,t.VALUES_TO_ECI=new Map,t.NAME_TO_ECI=new Map,t.Cp437=new t(At.Cp437,Int32Array.from([0,2]),"Cp437"),t.ISO8859_1=new t(At.ISO8859_1,Int32Array.from([1,3]),"ISO-8859-1","ISO88591","ISO8859_1"),t.ISO8859_2=new t(At.ISO8859_2,4,"ISO-8859-2","ISO88592","ISO8859_2"),t.ISO8859_3=new t(At.ISO8859_3,5,"ISO-8859-3","ISO88593","ISO8859_3"),t.ISO8859_4=new t(At.ISO8859_4,6,"ISO-8859-4","ISO88594","ISO8859_4"),t.ISO8859_5=new t(At.ISO8859_5,7,"ISO-8859-5","ISO88595","ISO8859_5"),t.ISO8859_6=new t(At.ISO8859_6,8,"ISO-8859-6","ISO88596","ISO8859_6"),t.ISO8859_7=new t(At.ISO8859_7,9,"ISO-8859-7","ISO88597","ISO8859_7"),t.ISO8859_8=new t(At.ISO8859_8,10,"ISO-8859-8","ISO88598","ISO8859_8"),t.ISO8859_9=new t(At.ISO8859_9,11,"ISO-8859-9","ISO88599","ISO8859_9"),t.ISO8859_10=new t(At.ISO8859_10,12,"ISO-8859-10","ISO885910","ISO8859_10"),t.ISO8859_11=new t(At.ISO8859_11,13,"ISO-8859-11","ISO885911","ISO8859_11"),t.ISO8859_13=new t(At.ISO8859_13,15,"ISO-8859-13","ISO885913","ISO8859_13"),t.ISO8859_14=new t(At.ISO8859_14,16,"ISO-8859-14","ISO885914","ISO8859_14"),t.ISO8859_15=new t(At.ISO8859_15,17,"ISO-8859-15","ISO885915","ISO8859_15"),t.ISO8859_16=new t(At.ISO8859_16,18,"ISO-8859-16","ISO885916","ISO8859_16"),t.SJIS=new t(At.SJIS,20,"SJIS","Shift_JIS"),t.Cp1250=new t(At.Cp1250,21,"Cp1250","windows-1250"),t.Cp1251=new t(At.Cp1251,22,"Cp1251","windows-1251"),t.Cp1252=new t(At.Cp1252,23,"Cp1252","windows-1252"),t.Cp1256=new t(At.Cp1256,24,"Cp1256","windows-1256"),t.UnicodeBigUnmarked=new t(At.UnicodeBigUnmarked,25,"UnicodeBigUnmarked","UTF-16BE","UnicodeBig"),t.UTF8=new t(At.UTF8,26,"UTF8","UTF-8"),t.ASCII=new t(At.ASCII,Int32Array.from([27,170]),"ASCII","US-ASCII"),t.Big5=new t(At.Big5,28,"Big5"),t.GB18030=new t(At.GB18030,29,"GB18030","GB2312","EUC_CN","GBK"),t.EUC_KR=new t(At.EUC_KR,30,"EUC_KR","EUC-KR"),t}(),cD=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var s in i)i.hasOwnProperty(s)&&(n[s]=i[s])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),Ud=function(t){cD(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.kind="UnsupportedOperationException",e}(Mn),ui=function(){function t(){}return t.decode=function(e,r){var n=this.encodingName(r);return this.customDecoder?this.customDecoder(e,n):typeof TextDecoder>"u"||this.shouldDecodeOnFallback(n)?this.decodeFallback(e,n):new TextDecoder(n).decode(e)},t.shouldDecodeOnFallback=function(e){return!t.isBrowser()&&e==="ISO-8859-1"},t.encode=function(e,r){var n=this.encodingName(r);return this.customEncoder?this.customEncoder(e,n):typeof TextEncoder>"u"?this.encodeFallback(e):new TextEncoder().encode(e)},t.isBrowser=function(){return typeof window<"u"&&{}.toString.call(window)==="[object Window]"},t.encodingName=function(e){return typeof e=="string"?e:e.getName()},t.encodingCharacterSet=function(e){return e instanceof Er?e:Er.getCharacterSetECIByName(e)},t.decodeFallback=function(e,r){var n=this.encodingCharacterSet(r);if(t.isDecodeFallbackSupported(n)){for(var i="",s=0,o=e.length;s<o;s++){var u=e[s].toString(16);u.length<2&&(u="0"+u),i+="%"+u}return decodeURIComponent(i)}if(n.equals(Er.UnicodeBigUnmarked))return String.fromCharCode.apply(null,new Uint16Array(e.buffer));throw new Ud("Encoding "+this.encodingName(r)+" not supported by fallback.")},t.isDecodeFallbackSupported=function(e){return e.equals(Er.UTF8)||e.equals(Er.ISO8859_1)||e.equals(Er.ASCII)},t.encodeFallback=function(e){for(var r=btoa(unescape(encodeURIComponent(e))),n=r.split(""),i=[],s=0;s<n.length;s++)i.push(n[s].charCodeAt(0));return new Uint8Array(i)},t}(),lt=function(){function t(){}return t.castAsNonUtf8Char=function(e,r){r===void 0&&(r=null);var n=r?r.getName():this.ISO88591;return ui.decode(new Uint8Array([e]),n)},t.guessEncoding=function(e,r){if(r!=null&&r.get(Wt.CHARACTER_SET)!==void 0)return r.get(Wt.CHARACTER_SET).toString();for(var n=e.length,i=!0,s=!0,o=!0,u=0,f=0,h=0,m=0,v=0,w=0,C=0,N=0,b=0,R=0,_=0,S=e.length>3&&e[0]===239&&e[1]===187&&e[2]===191,T=0;T<n&&(i||s||o);T++){var P=e[T]&255;o&&(u>0?P&128?u--:o=!1:P&128&&(P&64?(u++,P&32?(u++,P&16?(u++,P&8?o=!1:m++):h++):f++):o=!1)),i&&(P>127&&P<160?i=!1:P>159&&(P<192||P===215||P===247)&&_++),s&&(v>0?P<64||P===127||P>252?s=!1:v--:P===128||P===160||P>239?s=!1:P>160&&P<224?(w++,N=0,C++,C>b&&(b=C)):P>127?(v++,C=0,N++,N>R&&(R=N)):(C=0,N=0))}return o&&u>0&&(o=!1),s&&v>0&&(s=!1),o&&(S||f+h+m>0)?t.UTF8:s&&(t.ASSUME_SHIFT_JIS||b>=3||R>=3)?t.SHIFT_JIS:i&&s?b===2&&w===2||_*10>=n?t.SHIFT_JIS:t.ISO88591:i?t.ISO88591:s?t.SHIFT_JIS:o?t.UTF8:t.PLATFORM_DEFAULT_ENCODING},t.format=function(e){for(var r=[],n=1;n<arguments.length;n++)r[n-1]=arguments[n];var i=-1;function s(u,f,h,m,v,w){if(u==="%%")return"%";if(r[++i]!==void 0){u=m?parseInt(m.substr(1)):void 0;var C=v?parseInt(v.substr(1)):void 0,N;switch(w){case"s":N=r[i];break;case"c":N=r[i][0];break;case"f":N=parseFloat(r[i]).toFixed(u);break;case"p":N=parseFloat(r[i]).toPrecision(u);break;case"e":N=parseFloat(r[i]).toExponential(u);break;case"x":N=parseInt(r[i]).toString(C||16);break;case"d":N=parseFloat(parseInt(r[i],C||10).toPrecision(u)).toFixed(0);break}N=typeof N=="object"?JSON.stringify(N):(+N).toString(C);for(var b=parseInt(h),R=h&&h[0]+""=="0"?"0":" ";N.length<b;)N=f!==void 0?N+R:R+N;return N}}var o=/%(-)?(0?[0-9]+)?([.][0-9]+)?([#][0-9]+)?([scfpexd%])/g;return e.replace(o,s)},t.getBytes=function(e,r){return ui.encode(e,r)},t.getCharCode=function(e,r){return r===void 0&&(r=0),e.charCodeAt(r)},t.getCharAt=function(e){return String.fromCharCode(e)},t.SHIFT_JIS=Er.SJIS.getName(),t.GB2312="GB2312",t.ISO88591=Er.ISO8859_1.getName(),t.EUC_JP="EUC_JP",t.UTF8=Er.UTF8.getName(),t.PLATFORM_DEFAULT_ENCODING=t.UTF8,t.ASSUME_SHIFT_JIS=!1,t}(),Qe=function(){function t(e){e===void 0&&(e=""),this.value=e}return t.prototype.enableDecoding=function(e){return this.encoding=e,this},t.prototype.append=function(e){return typeof e=="string"?this.value+=e.toString():this.encoding?this.value+=lt.castAsNonUtf8Char(e,this.encoding):this.value+=String.fromCharCode(e),this},t.prototype.appendChars=function(e,r,n){for(var i=r;r<r+n;i++)this.append(e[i]);return this},t.prototype.length=function(){return this.value.length},t.prototype.charAt=function(e){return this.value.charAt(e)},t.prototype.deleteCharAt=function(e){this.value=this.value.substr(0,e)+this.value.substring(e+1)},t.prototype.setCharAt=function(e,r){this.value=this.value.substr(0,e)+r+this.value.substr(e+1)},t.prototype.substring=function(e,r){return this.value.substring(e,r)},t.prototype.setLengthToZero=function(){this.value=""},t.prototype.toString=function(){return this.value},t.prototype.insert=function(e,r){this.value=this.value.substring(0,e)+r+this.value.substring(e)},t}(),ls=function(){function t(e,r,n,i){if(this.width=e,this.height=r,this.rowSize=n,this.bits=i,r==null&&(r=e),this.height=r,e<1||r<1)throw new Be("Both dimensions must be greater than 0");n==null&&(n=Math.floor((e+31)/32)),this.rowSize=n,i==null&&(this.bits=new Int32Array(this.rowSize*this.height))}return t.parseFromBooleanArray=function(e){for(var r=e.length,n=e[0].length,i=new t(n,r),s=0;s<r;s++)for(var o=e[s],u=0;u<n;u++)o[u]&&i.set(u,s);return i},t.parseFromString=function(e,r,n){if(e===null)throw new Be("stringRepresentation cannot be null");for(var i=new Array(e.length),s=0,o=0,u=-1,f=0,h=0;h<e.length;)if(e.charAt(h)===`
`||e.charAt(h)==="\r"){if(s>o){if(u===-1)u=s-o;else if(s-o!==u)throw new Be("row lengths do not match");o=s,f++}h++}else if(e.substring(h,h+r.length)===r)h+=r.length,i[s]=!0,s++;else if(e.substring(h,h+n.length)===n)h+=n.length,i[s]=!1,s++;else throw new Be("illegal character encountered: "+e.substring(h));if(s>o){if(u===-1)u=s-o;else if(s-o!==u)throw new Be("row lengths do not match");f++}for(var m=new t(u,f),v=0;v<s;v++)i[v]&&m.set(Math.floor(v%u),Math.floor(v/u));return m},t.prototype.get=function(e,r){var n=r*this.rowSize+Math.floor(e/32);return(this.bits[n]>>>(e&31)&1)!==0},t.prototype.set=function(e,r){var n=r*this.rowSize+Math.floor(e/32);this.bits[n]|=1<<(e&31)&4294967295},t.prototype.unset=function(e,r){var n=r*this.rowSize+Math.floor(e/32);this.bits[n]&=~(1<<(e&31)&4294967295)},t.prototype.flip=function(e,r){var n=r*this.rowSize+Math.floor(e/32);this.bits[n]^=1<<(e&31)&4294967295},t.prototype.xor=function(e){if(this.width!==e.getWidth()||this.height!==e.getHeight()||this.rowSize!==e.getRowSize())throw new Be("input matrix dimensions do not match");for(var r=new Pr(Math.floor(this.width/32)+1),n=this.rowSize,i=this.bits,s=0,o=this.height;s<o;s++)for(var u=s*n,f=e.getRow(s,r).getBitArray(),h=0;h<n;h++)i[u+h]^=f[h]},t.prototype.clear=function(){for(var e=this.bits,r=e.length,n=0;n<r;n++)e[n]=0},t.prototype.setRegion=function(e,r,n,i){if(r<0||e<0)throw new Be("Left and top must be nonnegative");if(i<1||n<1)throw new Be("Height and width must be at least 1");var s=e+n,o=r+i;if(o>this.height||s>this.width)throw new Be("The region must fit inside the matrix");for(var u=this.rowSize,f=this.bits,h=r;h<o;h++)for(var m=h*u,v=e;v<s;v++)f[m+Math.floor(v/32)]|=1<<(v&31)&4294967295},t.prototype.getRow=function(e,r){r==null||r.getSize()<this.width?r=new Pr(this.width):r.clear();for(var n=this.rowSize,i=this.bits,s=e*n,o=0;o<n;o++)r.setBulk(o*32,i[s+o]);return r},t.prototype.setRow=function(e,r){Mt.arraycopy(r.getBitArray(),0,this.bits,e*this.rowSize,this.rowSize)},t.prototype.rotate180=function(){for(var e=this.getWidth(),r=this.getHeight(),n=new Pr(e),i=new Pr(e),s=0,o=Math.floor((r+1)/2);s<o;s++)n=this.getRow(s,n),i=this.getRow(r-1-s,i),n.reverse(),i.reverse(),this.setRow(s,i),this.setRow(r-1-s,n)},t.prototype.getEnclosingRectangle=function(){for(var e=this.width,r=this.height,n=this.rowSize,i=this.bits,s=e,o=r,u=-1,f=-1,h=0;h<r;h++)for(var m=0;m<n;m++){var v=i[h*n+m];if(v!==0){if(h<o&&(o=h),h>f&&(f=h),m*32<s){for(var w=0;!(v<<31-w&4294967295);)w++;m*32+w<s&&(s=m*32+w)}if(m*32+31>u){for(var w=31;!(v>>>w);)w--;m*32+w>u&&(u=m*32+w)}}}return u<s||f<o?null:Int32Array.from([s,o,u-s+1,f-o+1])},t.prototype.getTopLeftOnBit=function(){for(var e=this.rowSize,r=this.bits,n=0;n<r.length&&r[n]===0;)n++;if(n===r.length)return null;for(var i=n/e,s=n%e*32,o=r[n],u=0;!(o<<31-u&4294967295);)u++;return s+=u,Int32Array.from([s,i])},t.prototype.getBottomRightOnBit=function(){for(var e=this.rowSize,r=this.bits,n=r.length-1;n>=0&&r[n]===0;)n--;if(n<0)return null;for(var i=Math.floor(n/e),s=Math.floor(n%e)*32,o=r[n],u=31;!(o>>>u);)u--;return s+=u,Int32Array.from([s,i])},t.prototype.getWidth=function(){return this.width},t.prototype.getHeight=function(){return this.height},t.prototype.getRowSize=function(){return this.rowSize},t.prototype.equals=function(e){if(!(e instanceof t))return!1;var r=e;return this.width===r.width&&this.height===r.height&&this.rowSize===r.rowSize&&Ar.equals(this.bits,r.bits)},t.prototype.hashCode=function(){var e=this.width;return e=31*e+this.width,e=31*e+this.height,e=31*e+this.rowSize,e=31*e+Ar.hashCode(this.bits),e},t.prototype.toString=function(e,r,n){return e===void 0&&(e="X "),r===void 0&&(r="  "),n===void 0&&(n=`
`),this.buildToString(e,r,n)},t.prototype.buildToString=function(e,r,n){for(var i=new Qe,s=0,o=this.height;s<o;s++){for(var u=0,f=this.width;u<f;u++)i.append(this.get(u,s)?e:r);i.append(n)}return i.toString()},t.prototype.clone=function(){return new t(this.width,this.height,this.rowSize,this.bits.slice())},t}(),uD=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var s in i)i.hasOwnProperty(s)&&(n[s]=i[s])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),ie=function(t){uD(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.getNotFoundInstance=function(){return new e},e.kind="NotFoundException",e}(Mn),dD=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var s in i)i.hasOwnProperty(s)&&(n[s]=i[s])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),fD=function(t){dD(e,t);function e(r){var n=t.call(this,r)||this;return n.luminances=e.EMPTY,n.buckets=new Int32Array(e.LUMINANCE_BUCKETS),n}return e.prototype.getBlackRow=function(r,n){var i=this.getLuminanceSource(),s=i.getWidth();n==null||n.getSize()<s?n=new Pr(s):n.clear(),this.initArrays(s);for(var o=i.getRow(r,this.luminances),u=this.buckets,f=0;f<s;f++)u[(o[f]&255)>>e.LUMINANCE_SHIFT]++;var h=e.estimateBlackPoint(u);if(s<3)for(var f=0;f<s;f++)(o[f]&255)<h&&n.set(f);else for(var m=o[0]&255,v=o[1]&255,f=1;f<s-1;f++){var w=o[f+1]&255;(v*4-m-w)/2<h&&n.set(f),m=v,v=w}return n},e.prototype.getBlackMatrix=function(){var r=this.getLuminanceSource(),n=r.getWidth(),i=r.getHeight(),s=new ls(n,i);this.initArrays(n);for(var o=this.buckets,u=1;u<5;u++)for(var f=Math.floor(i*u/5),h=r.getRow(f,this.luminances),m=Math.floor(n*4/5),v=Math.floor(n/5);v<m;v++){var w=h[v]&255;o[w>>e.LUMINANCE_SHIFT]++}for(var C=e.estimateBlackPoint(o),N=r.getMatrix(),u=0;u<i;u++)for(var b=u*n,v=0;v<n;v++){var w=N[b+v]&255;w<C&&s.set(v,u)}return s},e.prototype.createBinarizer=function(r){return new e(r)},e.prototype.initArrays=function(r){this.luminances.length<r&&(this.luminances=new Uint8ClampedArray(r));for(var n=this.buckets,i=0;i<e.LUMINANCE_BUCKETS;i++)n[i]=0},e.estimateBlackPoint=function(r){for(var n=r.length,i=0,s=0,o=0,u=0;u<n;u++)r[u]>o&&(s=u,o=r[u]),r[u]>i&&(i=r[u]);for(var f=0,h=0,u=0;u<n;u++){var m=u-s,v=r[u]*m*m;v>h&&(f=u,h=v)}if(s>f){var w=s;s=f,f=w}if(f-s<=n/16)throw new ie;for(var C=f-1,N=-1,u=f-1;u>s;u--){var b=u-s,v=b*b*(f-u)*(i-r[u]);v>N&&(C=u,N=v)}return C<<e.LUMINANCE_SHIFT},e.LUMINANCE_BITS=5,e.LUMINANCE_SHIFT=8-e.LUMINANCE_BITS,e.LUMINANCE_BUCKETS=1<<e.LUMINANCE_BITS,e.EMPTY=Uint8ClampedArray.from([0]),e}(nD),hD=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var s in i)i.hasOwnProperty(s)&&(n[s]=i[s])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),pD=function(t){hD(e,t);function e(r){var n=t.call(this,r)||this;return n.matrix=null,n}return e.prototype.getBlackMatrix=function(){if(this.matrix!==null)return this.matrix;var r=this.getLuminanceSource(),n=r.getWidth(),i=r.getHeight();if(n>=e.MINIMUM_DIMENSION&&i>=e.MINIMUM_DIMENSION){var s=r.getMatrix(),o=n>>e.BLOCK_SIZE_POWER;n&e.BLOCK_SIZE_MASK&&o++;var u=i>>e.BLOCK_SIZE_POWER;i&e.BLOCK_SIZE_MASK&&u++;var f=e.calculateBlackPoints(s,o,u,n,i),h=new ls(n,i);e.calculateThresholdForBlock(s,o,u,n,i,f,h),this.matrix=h}else this.matrix=t.prototype.getBlackMatrix.call(this);return this.matrix},e.prototype.createBinarizer=function(r){return new e(r)},e.calculateThresholdForBlock=function(r,n,i,s,o,u,f){for(var h=o-e.BLOCK_SIZE,m=s-e.BLOCK_SIZE,v=0;v<i;v++){var w=v<<e.BLOCK_SIZE_POWER;w>h&&(w=h);for(var C=e.cap(v,2,i-3),N=0;N<n;N++){var b=N<<e.BLOCK_SIZE_POWER;b>m&&(b=m);for(var R=e.cap(N,2,n-3),_=0,S=-2;S<=2;S++){var T=u[C+S];_+=T[R-2]+T[R-1]+T[R]+T[R+1]+T[R+2]}var P=_/25;e.thresholdBlock(r,b,w,P,s,f)}}},e.cap=function(r,n,i){return r<n?n:r>i?i:r},e.thresholdBlock=function(r,n,i,s,o,u){for(var f=0,h=i*o+n;f<e.BLOCK_SIZE;f++,h+=o)for(var m=0;m<e.BLOCK_SIZE;m++)(r[h+m]&255)<=s&&u.set(n+m,i+f)},e.calculateBlackPoints=function(r,n,i,s,o){for(var u=o-e.BLOCK_SIZE,f=s-e.BLOCK_SIZE,h=new Array(i),m=0;m<i;m++){h[m]=new Int32Array(n);var v=m<<e.BLOCK_SIZE_POWER;v>u&&(v=u);for(var w=0;w<n;w++){var C=w<<e.BLOCK_SIZE_POWER;C>f&&(C=f);for(var N=0,b=255,R=0,_=0,S=v*s+C;_<e.BLOCK_SIZE;_++,S+=s){for(var T=0;T<e.BLOCK_SIZE;T++){var P=r[S+T]&255;N+=P,P<b&&(b=P),P>R&&(R=P)}if(R-b>e.MIN_DYNAMIC_RANGE)for(_++,S+=s;_<e.BLOCK_SIZE;_++,S+=s)for(var T=0;T<e.BLOCK_SIZE;T++)N+=r[S+T]&255}var B=N>>e.BLOCK_SIZE_POWER*2;if(R-b<=e.MIN_DYNAMIC_RANGE&&(B=b/2,m>0&&w>0)){var k=(h[m-1][w]+2*h[m][w-1]+h[m-1][w-1])/4;b<k&&(B=k)}h[m][w]=B}}return h},e.BLOCK_SIZE_POWER=3,e.BLOCK_SIZE=1<<e.BLOCK_SIZE_POWER,e.BLOCK_SIZE_MASK=e.BLOCK_SIZE-1,e.MINIMUM_DIMENSION=e.BLOCK_SIZE*5,e.MIN_DYNAMIC_RANGE=24,e}(fD),C0=function(){function t(e,r){this.width=e,this.height=r}return t.prototype.getWidth=function(){return this.width},t.prototype.getHeight=function(){return this.height},t.prototype.isCropSupported=function(){return!1},t.prototype.crop=function(e,r,n,i){throw new Ud("This luminance source does not support cropping.")},t.prototype.isRotateSupported=function(){return!1},t.prototype.rotateCounterClockwise=function(){throw new Ud("This luminance source does not support rotation by 90 degrees.")},t.prototype.rotateCounterClockwise45=function(){throw new Ud("This luminance source does not support rotation by 45 degrees.")},t.prototype.toString=function(){for(var e=new Uint8ClampedArray(this.width),r=new Qe,n=0;n<this.height;n++){for(var i=this.getRow(n,e),s=0;s<this.width;s++){var o=i[s]&255,u=void 0;o<64?u="#":o<128?u="+":o<192?u=".":u=" ",r.append(u)}r.append(`
`)}return r.toString()},t}(),xD=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var s in i)i.hasOwnProperty(s)&&(n[s]=i[s])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),Ug=function(t){xD(e,t);function e(r){var n=t.call(this,r.getWidth(),r.getHeight())||this;return n.delegate=r,n}return e.prototype.getRow=function(r,n){for(var i=this.delegate.getRow(r,n),s=this.getWidth(),o=0;o<s;o++)i[o]=255-(i[o]&255);return i},e.prototype.getMatrix=function(){for(var r=this.delegate.getMatrix(),n=this.getWidth()*this.getHeight(),i=new Uint8ClampedArray(n),s=0;s<n;s++)i[s]=255-(r[s]&255);return i},e.prototype.isCropSupported=function(){return this.delegate.isCropSupported()},e.prototype.crop=function(r,n,i,s){return new e(this.delegate.crop(r,n,i,s))},e.prototype.isRotateSupported=function(){return this.delegate.isRotateSupported()},e.prototype.invert=function(){return this.delegate},e.prototype.rotateCounterClockwise=function(){return new e(this.delegate.rotateCounterClockwise())},e.prototype.rotateCounterClockwise45=function(){return new e(this.delegate.rotateCounterClockwise45())},e}(C0),gD=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var s in i)i.hasOwnProperty(s)&&(n[s]=i[s])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),mD=function(t){gD(e,t);function e(r,n){n===void 0&&(n=!1);var i=t.call(this,r.width,r.height)||this;return i.canvas=r,i.tempCanvasElement=null,i.buffer=e.makeBufferFromCanvasImageData(r,n),i}return e.makeBufferFromCanvasImageData=function(r,n){n===void 0&&(n=!1);var i=r.getContext("2d").getImageData(0,0,r.width,r.height);return e.toGrayscaleBuffer(i.data,r.width,r.height,n)},e.toGrayscaleBuffer=function(r,n,i,s){s===void 0&&(s=!1);var o=new Uint8ClampedArray(n*i);if(e.FRAME_INDEX=!e.FRAME_INDEX,e.FRAME_INDEX||!s)for(var u=0,f=0,h=r.length;u<h;u+=4,f++){var m=void 0,v=r[u+3];if(v===0)m=255;else{var w=r[u],C=r[u+1],N=r[u+2];m=306*w+601*C+117*N+512>>10}o[f]=m}else for(var u=0,f=0,b=r.length;u<b;u+=4,f++){var m=void 0,v=r[u+3];if(v===0)m=255;else{var w=r[u],C=r[u+1],N=r[u+2];m=306*w+601*C+117*N+512>>10}o[f]=255-m}return o},e.prototype.getRow=function(r,n){if(r<0||r>=this.getHeight())throw new Be("Requested row is outside the image: "+r);var i=this.getWidth(),s=r*i;return n===null?n=this.buffer.slice(s,s+i):(n.length<i&&(n=new Uint8ClampedArray(i)),n.set(this.buffer.slice(s,s+i))),n},e.prototype.getMatrix=function(){return this.buffer},e.prototype.isCropSupported=function(){return!0},e.prototype.crop=function(r,n,i,s){return t.prototype.crop.call(this,r,n,i,s),this},e.prototype.isRotateSupported=function(){return!0},e.prototype.rotateCounterClockwise=function(){return this.rotate(-90),this},e.prototype.rotateCounterClockwise45=function(){return this.rotate(-45),this},e.prototype.getTempCanvasElement=function(){if(this.tempCanvasElement===null){var r=this.canvas.ownerDocument.createElement("canvas");r.width=this.canvas.width,r.height=this.canvas.height,this.tempCanvasElement=r}return this.tempCanvasElement},e.prototype.rotate=function(r){var n=this.getTempCanvasElement(),i=n.getContext("2d"),s=r*e.DEGREE_TO_RADIANS,o=this.canvas.width,u=this.canvas.height,f=Math.ceil(Math.abs(Math.cos(s))*o+Math.abs(Math.sin(s))*u),h=Math.ceil(Math.abs(Math.sin(s))*o+Math.abs(Math.cos(s))*u);return n.width=f,n.height=h,i.translate(f/2,h/2),i.rotate(s),i.drawImage(this.canvas,o/-2,u/-2),this.buffer=e.makeBufferFromCanvasImageData(n),this},e.prototype.invert=function(){return new Ug(this)},e.DEGREE_TO_RADIANS=Math.PI/180,e.FRAME_INDEX=!0,e}(C0),vD=function(){function t(e,r,n){this.deviceId=e,this.label=r,this.kind="videoinput",this.groupId=n||void 0}return t.prototype.toJSON=function(){return{kind:this.kind,groupId:this.groupId,deviceId:this.deviceId,label:this.label}},t}(),ln=function(t,e,r,n){function i(s){return s instanceof r?s:new r(function(o){o(s)})}return new(r||(r=Promise))(function(s,o){function u(m){try{h(n.next(m))}catch(v){o(v)}}function f(m){try{h(n.throw(m))}catch(v){o(v)}}function h(m){m.done?s(m.value):i(m.value).then(u,f)}h((n=n.apply(t,e||[])).next())})},cn=function(t,e){var r={label:0,sent:function(){if(s[0]&1)throw s[1];return s[1]},trys:[],ops:[]},n,i,s,o;return o={next:u(0),throw:u(1),return:u(2)},typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function u(h){return function(m){return f([h,m])}}function f(h){if(n)throw new TypeError("Generator is already executing.");for(;r;)try{if(n=1,i&&(s=h[0]&2?i.return:h[0]?i.throw||((s=i.return)&&s.call(i),0):i.next)&&!(s=s.call(i,h[1])).done)return s;switch(i=0,s&&(h=[h[0]&2,s.value]),h[0]){case 0:case 1:s=h;break;case 4:return r.label++,{value:h[1],done:!1};case 5:r.label++,i=h[1],h=[0];continue;case 7:h=r.ops.pop(),r.trys.pop();continue;default:if(s=r.trys,!(s=s.length>0&&s[s.length-1])&&(h[0]===6||h[0]===2)){r=0;continue}if(h[0]===3&&(!s||h[1]>s[0]&&h[1]<s[3])){r.label=h[1];break}if(h[0]===6&&r.label<s[1]){r.label=s[1],s=h;break}if(s&&r.label<s[2]){r.label=s[2],r.ops.push(h);break}s[2]&&r.ops.pop(),r.trys.pop();continue}h=e.call(t,r)}catch(m){h=[6,m],i=0}finally{n=s=0}if(h[0]&5)throw h[1];return{value:h[0]?h[1]:void 0,done:!0}}},yD=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},$l=function(){function t(e,r,n){r===void 0&&(r=500),this.reader=e,this.timeBetweenScansMillis=r,this._hints=n,this._stopContinuousDecode=!1,this._stopAsyncDecode=!1,this._timeBetweenDecodingAttempts=0}return Object.defineProperty(t.prototype,"hasNavigator",{get:function(){return typeof navigator<"u"},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isMediaDevicesSuported",{get:function(){return this.hasNavigator&&!!navigator.mediaDevices},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"canEnumerateDevices",{get:function(){return!!(this.isMediaDevicesSuported&&navigator.mediaDevices.enumerateDevices)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"timeBetweenDecodingAttempts",{get:function(){return this._timeBetweenDecodingAttempts},set:function(e){this._timeBetweenDecodingAttempts=e<0?0:e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"hints",{get:function(){return this._hints},set:function(e){this._hints=e||null},enumerable:!1,configurable:!0}),t.prototype.listVideoInputDevices=function(){return ln(this,void 0,void 0,function(){var e,r,n,i,s,o,u,f,h,m,v,w;return cn(this,function(C){switch(C.label){case 0:if(!this.hasNavigator)throw new Error("Can't enumerate devices, navigator is not present.");if(!this.canEnumerateDevices)throw new Error("Can't enumerate devices, method not supported.");return[4,navigator.mediaDevices.enumerateDevices()];case 1:e=C.sent(),r=[];try{for(n=yD(e),i=n.next();!i.done;i=n.next())s=i.value,o=s.kind==="video"?"videoinput":s.kind,o==="videoinput"&&(u=s.deviceId||s.id,f=s.label||"Video device "+(r.length+1),h=s.groupId,m={deviceId:u,label:f,kind:o,groupId:h},r.push(m))}catch(N){v={error:N}}finally{try{i&&!i.done&&(w=n.return)&&w.call(n)}finally{if(v)throw v.error}}return[2,r]}})})},t.prototype.getVideoInputDevices=function(){return ln(this,void 0,void 0,function(){var e;return cn(this,function(r){switch(r.label){case 0:return[4,this.listVideoInputDevices()];case 1:return e=r.sent(),[2,e.map(function(n){return new vD(n.deviceId,n.label)})]}})})},t.prototype.findDeviceById=function(e){return ln(this,void 0,void 0,function(){var r;return cn(this,function(n){switch(n.label){case 0:return[4,this.listVideoInputDevices()];case 1:return r=n.sent(),r?[2,r.find(function(i){return i.deviceId===e})]:[2,null]}})})},t.prototype.decodeFromInputVideoDevice=function(e,r){return ln(this,void 0,void 0,function(){return cn(this,function(n){switch(n.label){case 0:return[4,this.decodeOnceFromVideoDevice(e,r)];case 1:return[2,n.sent()]}})})},t.prototype.decodeOnceFromVideoDevice=function(e,r){return ln(this,void 0,void 0,function(){var n,i;return cn(this,function(s){switch(s.label){case 0:return this.reset(),e?n={deviceId:{exact:e}}:n={facingMode:"environment"},i={video:n},[4,this.decodeOnceFromConstraints(i,r)];case 1:return[2,s.sent()]}})})},t.prototype.decodeOnceFromConstraints=function(e,r){return ln(this,void 0,void 0,function(){var n;return cn(this,function(i){switch(i.label){case 0:return[4,navigator.mediaDevices.getUserMedia(e)];case 1:return n=i.sent(),[4,this.decodeOnceFromStream(n,r)];case 2:return[2,i.sent()]}})})},t.prototype.decodeOnceFromStream=function(e,r){return ln(this,void 0,void 0,function(){var n,i;return cn(this,function(s){switch(s.label){case 0:return this.reset(),[4,this.attachStreamToVideo(e,r)];case 1:return n=s.sent(),[4,this.decodeOnce(n)];case 2:return i=s.sent(),[2,i]}})})},t.prototype.decodeFromInputVideoDeviceContinuously=function(e,r,n){return ln(this,void 0,void 0,function(){return cn(this,function(i){switch(i.label){case 0:return[4,this.decodeFromVideoDevice(e,r,n)];case 1:return[2,i.sent()]}})})},t.prototype.decodeFromVideoDevice=function(e,r,n){return ln(this,void 0,void 0,function(){var i,s;return cn(this,function(o){switch(o.label){case 0:return e?i={deviceId:{exact:e}}:i={facingMode:"environment"},s={video:i},[4,this.decodeFromConstraints(s,r,n)];case 1:return[2,o.sent()]}})})},t.prototype.decodeFromConstraints=function(e,r,n){return ln(this,void 0,void 0,function(){var i;return cn(this,function(s){switch(s.label){case 0:return[4,navigator.mediaDevices.getUserMedia(e)];case 1:return i=s.sent(),[4,this.decodeFromStream(i,r,n)];case 2:return[2,s.sent()]}})})},t.prototype.decodeFromStream=function(e,r,n){return ln(this,void 0,void 0,function(){var i;return cn(this,function(s){switch(s.label){case 0:return this.reset(),[4,this.attachStreamToVideo(e,r)];case 1:return i=s.sent(),[4,this.decodeContinuously(i,n)];case 2:return[2,s.sent()]}})})},t.prototype.stopAsyncDecode=function(){this._stopAsyncDecode=!0},t.prototype.stopContinuousDecode=function(){this._stopContinuousDecode=!0},t.prototype.attachStreamToVideo=function(e,r){return ln(this,void 0,void 0,function(){var n;return cn(this,function(i){switch(i.label){case 0:return n=this.prepareVideoElement(r),this.addVideoSource(n,e),this.videoElement=n,this.stream=e,[4,this.playVideoOnLoadAsync(n)];case 1:return i.sent(),[2,n]}})})},t.prototype.playVideoOnLoadAsync=function(e){var r=this;return new Promise(function(n,i){return r.playVideoOnLoad(e,function(){return n()})})},t.prototype.playVideoOnLoad=function(e,r){var n=this;this.videoEndedListener=function(){return n.stopStreams()},this.videoCanPlayListener=function(){return n.tryPlayVideo(e)},e.addEventListener("ended",this.videoEndedListener),e.addEventListener("canplay",this.videoCanPlayListener),e.addEventListener("playing",r),this.tryPlayVideo(e)},t.prototype.isVideoPlaying=function(e){return e.currentTime>0&&!e.paused&&!e.ended&&e.readyState>2},t.prototype.tryPlayVideo=function(e){return ln(this,void 0,void 0,function(){return cn(this,function(r){switch(r.label){case 0:if(this.isVideoPlaying(e))return console.warn("Trying to play video that is already playing."),[2];r.label=1;case 1:return r.trys.push([1,3,,4]),[4,e.play()];case 2:return r.sent(),[3,4];case 3:return r.sent(),console.warn("It was not possible to play the video."),[3,4];case 4:return[2]}})})},t.prototype.getMediaElement=function(e,r){var n=document.getElementById(e);if(!n)throw new Ci("element with id '"+e+"' not found");if(n.nodeName.toLowerCase()!==r.toLowerCase())throw new Ci("element with id '"+e+"' must be an "+r+" element");return n},t.prototype.decodeFromImage=function(e,r){if(!e&&!r)throw new Ci("either imageElement with a src set or an url must be provided");return r&&!e?this.decodeFromImageUrl(r):this.decodeFromImageElement(e)},t.prototype.decodeFromVideo=function(e,r){if(!e&&!r)throw new Ci("Either an element with a src set or an URL must be provided");return r&&!e?this.decodeFromVideoUrl(r):this.decodeFromVideoElement(e)},t.prototype.decodeFromVideoContinuously=function(e,r,n){if(e===void 0&&r===void 0)throw new Ci("Either an element with a src set or an URL must be provided");return r&&!e?this.decodeFromVideoUrlContinuously(r,n):this.decodeFromVideoElementContinuously(e,n)},t.prototype.decodeFromImageElement=function(e){if(!e)throw new Ci("An image element must be provided.");this.reset();var r=this.prepareImageElement(e);this.imageElement=r;var n;return this.isImageLoaded(r)?n=this.decodeOnce(r,!1,!0):n=this._decodeOnLoadImage(r),n},t.prototype.decodeFromVideoElement=function(e){var r=this._decodeFromVideoElementSetup(e);return this._decodeOnLoadVideo(r)},t.prototype.decodeFromVideoElementContinuously=function(e,r){var n=this._decodeFromVideoElementSetup(e);return this._decodeOnLoadVideoContinuously(n,r)},t.prototype._decodeFromVideoElementSetup=function(e){if(!e)throw new Ci("A video element must be provided.");this.reset();var r=this.prepareVideoElement(e);return this.videoElement=r,r},t.prototype.decodeFromImageUrl=function(e){if(!e)throw new Ci("An URL must be provided.");this.reset();var r=this.prepareImageElement();this.imageElement=r;var n=this._decodeOnLoadImage(r);return r.src=e,n},t.prototype.decodeFromVideoUrl=function(e){if(!e)throw new Ci("An URL must be provided.");this.reset();var r=this.prepareVideoElement(),n=this.decodeFromVideoElement(r);return r.src=e,n},t.prototype.decodeFromVideoUrlContinuously=function(e,r){if(!e)throw new Ci("An URL must be provided.");this.reset();var n=this.prepareVideoElement(),i=this.decodeFromVideoElementContinuously(n,r);return n.src=e,i},t.prototype._decodeOnLoadImage=function(e){var r=this;return new Promise(function(n,i){r.imageLoadedListener=function(){return r.decodeOnce(e,!1,!0).then(n,i)},e.addEventListener("load",r.imageLoadedListener)})},t.prototype._decodeOnLoadVideo=function(e){return ln(this,void 0,void 0,function(){return cn(this,function(r){switch(r.label){case 0:return[4,this.playVideoOnLoadAsync(e)];case 1:return r.sent(),[4,this.decodeOnce(e)];case 2:return[2,r.sent()]}})})},t.prototype._decodeOnLoadVideoContinuously=function(e,r){return ln(this,void 0,void 0,function(){return cn(this,function(n){switch(n.label){case 0:return[4,this.playVideoOnLoadAsync(e)];case 1:return n.sent(),this.decodeContinuously(e,r),[2]}})})},t.prototype.isImageLoaded=function(e){return!(!e.complete||e.naturalWidth===0)},t.prototype.prepareImageElement=function(e){var r;return typeof e>"u"&&(r=document.createElement("img"),r.width=200,r.height=200),typeof e=="string"&&(r=this.getMediaElement(e,"img")),e instanceof HTMLImageElement&&(r=e),r},t.prototype.prepareVideoElement=function(e){var r;return!e&&typeof document<"u"&&(r=document.createElement("video"),r.width=200,r.height=200),typeof e=="string"&&(r=this.getMediaElement(e,"video")),e instanceof HTMLVideoElement&&(r=e),r.setAttribute("autoplay","true"),r.setAttribute("muted","true"),r.setAttribute("playsinline","true"),r},t.prototype.decodeOnce=function(e,r,n){var i=this;r===void 0&&(r=!0),n===void 0&&(n=!0),this._stopAsyncDecode=!1;var s=function(o,u){if(i._stopAsyncDecode){u(new ie("Video stream has ended before any code could be detected.")),i._stopAsyncDecode=void 0;return}try{var f=i.decode(e);o(f)}catch(w){var h=r&&w instanceof ie,m=w instanceof Or||w instanceof me,v=m&&n;if(h||v)return setTimeout(s,i._timeBetweenDecodingAttempts,o,u);u(w)}};return new Promise(function(o,u){return s(o,u)})},t.prototype.decodeContinuously=function(e,r){var n=this;this._stopContinuousDecode=!1;var i=function(){if(n._stopContinuousDecode){n._stopContinuousDecode=void 0;return}try{var s=n.decode(e);r(s,null),setTimeout(i,n.timeBetweenScansMillis)}catch(f){r(null,f);var o=f instanceof Or||f instanceof me,u=f instanceof ie;(o||u)&&setTimeout(i,n._timeBetweenDecodingAttempts)}};i()},t.prototype.decode=function(e){var r=this.createBinaryBitmap(e);return this.decodeBitmap(r)},t.prototype.createBinaryBitmap=function(e){this.getCaptureCanvasContext(e);var r=!1;e instanceof HTMLVideoElement?(this.drawFrameOnCanvas(e),r=!0):this.drawImageOnCanvas(e);var n=this.getCaptureCanvas(e),i=new mD(n,r),s=new pD(i);return new tD(s)},t.prototype.getCaptureCanvasContext=function(e){if(!this.captureCanvasContext){var r=this.getCaptureCanvas(e),n=void 0;try{n=r.getContext("2d",{willReadFrequently:!0})}catch{n=r.getContext("2d")}this.captureCanvasContext=n}return this.captureCanvasContext},t.prototype.getCaptureCanvas=function(e){if(!this.captureCanvas){var r=this.createCaptureCanvas(e);this.captureCanvas=r}return this.captureCanvas},t.prototype.drawFrameOnCanvas=function(e,r,n){r===void 0&&(r={sx:0,sy:0,sWidth:e.videoWidth,sHeight:e.videoHeight,dx:0,dy:0,dWidth:e.videoWidth,dHeight:e.videoHeight}),n===void 0&&(n=this.captureCanvasContext),n.drawImage(e,r.sx,r.sy,r.sWidth,r.sHeight,r.dx,r.dy,r.dWidth,r.dHeight)},t.prototype.drawImageOnCanvas=function(e,r,n){r===void 0&&(r={sx:0,sy:0,sWidth:e.naturalWidth,sHeight:e.naturalHeight,dx:0,dy:0,dWidth:e.naturalWidth,dHeight:e.naturalHeight}),n===void 0&&(n=this.captureCanvasContext),n.drawImage(e,r.sx,r.sy,r.sWidth,r.sHeight,r.dx,r.dy,r.dWidth,r.dHeight)},t.prototype.decodeBitmap=function(e){return this.reader.decode(e,this._hints)},t.prototype.createCaptureCanvas=function(e){if(typeof document>"u")return this._destroyCaptureCanvas(),null;var r=document.createElement("canvas"),n,i;return typeof e<"u"&&(e instanceof HTMLVideoElement?(n=e.videoWidth,i=e.videoHeight):e instanceof HTMLImageElement&&(n=e.naturalWidth||e.width,i=e.naturalHeight||e.height)),r.style.width=n+"px",r.style.height=i+"px",r.width=n,r.height=i,r},t.prototype.stopStreams=function(){this.stream&&(this.stream.getVideoTracks().forEach(function(e){return e.stop()}),this.stream=void 0),this._stopAsyncDecode===!1&&this.stopAsyncDecode(),this._stopContinuousDecode===!1&&this.stopContinuousDecode()},t.prototype.reset=function(){this.stopStreams(),this._destroyVideoElement(),this._destroyImageElement(),this._destroyCaptureCanvas()},t.prototype._destroyVideoElement=function(){this.videoElement&&(typeof this.videoEndedListener<"u"&&this.videoElement.removeEventListener("ended",this.videoEndedListener),typeof this.videoPlayingEventListener<"u"&&this.videoElement.removeEventListener("playing",this.videoPlayingEventListener),typeof this.videoCanPlayListener<"u"&&this.videoElement.removeEventListener("loadedmetadata",this.videoCanPlayListener),this.cleanVideoSource(this.videoElement),this.videoElement=void 0)},t.prototype._destroyImageElement=function(){this.imageElement&&(this.imageLoadedListener!==void 0&&this.imageElement.removeEventListener("load",this.imageLoadedListener),this.imageElement.src=void 0,this.imageElement.removeAttribute("src"),this.imageElement=void 0)},t.prototype._destroyCaptureCanvas=function(){this.captureCanvasContext=void 0,this.captureCanvas=void 0},t.prototype.addVideoSource=function(e,r){try{e.srcObject=r}catch{e.src=URL.createObjectURL(r)}},t.prototype.cleanVideoSource=function(e){try{e.srcObject=null}catch{e.src=""}this.videoElement.removeAttribute("src")},t}(),sn=function(){function t(e,r,n,i,s,o){n===void 0&&(n=r==null?0:8*r.length),o===void 0&&(o=Mt.currentTimeMillis()),this.text=e,this.rawBytes=r,this.numBits=n,this.resultPoints=i,this.format=s,this.timestamp=o,this.text=e,this.rawBytes=r,n==null?this.numBits=r==null?0:8*r.length:this.numBits=n,this.resultPoints=i,this.format=s,this.resultMetadata=null,o==null?this.timestamp=Mt.currentTimeMillis():this.timestamp=o}return t.prototype.getText=function(){return this.text},t.prototype.getRawBytes=function(){return this.rawBytes},t.prototype.getNumBits=function(){return this.numBits},t.prototype.getResultPoints=function(){return this.resultPoints},t.prototype.getBarcodeFormat=function(){return this.format},t.prototype.getResultMetadata=function(){return this.resultMetadata},t.prototype.putMetadata=function(e,r){this.resultMetadata===null&&(this.resultMetadata=new Map),this.resultMetadata.set(e,r)},t.prototype.putAllMetadata=function(e){e!==null&&(this.resultMetadata===null?this.resultMetadata=e:this.resultMetadata=new Map(e))},t.prototype.addResultPoints=function(e){var r=this.resultPoints;if(r===null)this.resultPoints=e;else if(e!==null&&e.length>0){var n=new Array(r.length+e.length);Mt.arraycopy(r,0,n,0,r.length),Mt.arraycopy(e,0,n,r.length,e.length),this.resultPoints=n}},t.prototype.getTimestamp=function(){return this.timestamp},t.prototype.toString=function(){return this.text},t}(),Ip;(function(t){t[t.AZTEC=0]="AZTEC",t[t.CODABAR=1]="CODABAR",t[t.CODE_39=2]="CODE_39",t[t.CODE_93=3]="CODE_93",t[t.CODE_128=4]="CODE_128",t[t.DATA_MATRIX=5]="DATA_MATRIX",t[t.EAN_8=6]="EAN_8",t[t.EAN_13=7]="EAN_13",t[t.ITF=8]="ITF",t[t.MAXICODE=9]="MAXICODE",t[t.PDF_417=10]="PDF_417",t[t.QR_CODE=11]="QR_CODE",t[t.RSS_14=12]="RSS_14",t[t.RSS_EXPANDED=13]="RSS_EXPANDED",t[t.UPC_A=14]="UPC_A",t[t.UPC_E=15]="UPC_E",t[t.UPC_EAN_EXTENSION=16]="UPC_EAN_EXTENSION"})(Ip||(Ip={}));const ke=Ip;var Tp;(function(t){t[t.OTHER=0]="OTHER",t[t.ORIENTATION=1]="ORIENTATION",t[t.BYTE_SEGMENTS=2]="BYTE_SEGMENTS",t[t.ERROR_CORRECTION_LEVEL=3]="ERROR_CORRECTION_LEVEL",t[t.ISSUE_NUMBER=4]="ISSUE_NUMBER",t[t.SUGGESTED_PRICE=5]="SUGGESTED_PRICE",t[t.POSSIBLE_COUNTRY=6]="POSSIBLE_COUNTRY",t[t.UPC_EAN_EXTENSION=7]="UPC_EAN_EXTENSION",t[t.PDF417_EXTRA_METADATA=8]="PDF417_EXTRA_METADATA",t[t.STRUCTURED_APPEND_SEQUENCE=9]="STRUCTURED_APPEND_SEQUENCE",t[t.STRUCTURED_APPEND_PARITY=10]="STRUCTURED_APPEND_PARITY"})(Tp||(Tp={}));const Vr=Tp;var E0=function(){function t(e,r,n,i,s,o){s===void 0&&(s=-1),o===void 0&&(o=-1),this.rawBytes=e,this.text=r,this.byteSegments=n,this.ecLevel=i,this.structuredAppendSequenceNumber=s,this.structuredAppendParity=o,this.numBits=e==null?0:8*e.length}return t.prototype.getRawBytes=function(){return this.rawBytes},t.prototype.getNumBits=function(){return this.numBits},t.prototype.setNumBits=function(e){this.numBits=e},t.prototype.getText=function(){return this.text},t.prototype.getByteSegments=function(){return this.byteSegments},t.prototype.getECLevel=function(){return this.ecLevel},t.prototype.getErrorsCorrected=function(){return this.errorsCorrected},t.prototype.setErrorsCorrected=function(e){this.errorsCorrected=e},t.prototype.getErasures=function(){return this.erasures},t.prototype.setErasures=function(e){this.erasures=e},t.prototype.getOther=function(){return this.other},t.prototype.setOther=function(e){this.other=e},t.prototype.hasStructuredAppend=function(){return this.structuredAppendParity>=0&&this.structuredAppendSequenceNumber>=0},t.prototype.getStructuredAppendParity=function(){return this.structuredAppendParity},t.prototype.getStructuredAppendSequenceNumber=function(){return this.structuredAppendSequenceNumber},t}(),_c=function(){function t(){}return t.prototype.exp=function(e){return this.expTable[e]},t.prototype.log=function(e){if(e===0)throw new Be;return this.logTable[e]},t.addOrSubtract=function(e,r){return e^r},t}(),wa=function(){function t(e,r){if(r.length===0)throw new Be;this.field=e;var n=r.length;if(n>1&&r[0]===0){for(var i=1;i<n&&r[i]===0;)i++;i===n?this.coefficients=Int32Array.from([0]):(this.coefficients=new Int32Array(n-i),Mt.arraycopy(r,i,this.coefficients,0,this.coefficients.length))}else this.coefficients=r}return t.prototype.getCoefficients=function(){return this.coefficients},t.prototype.getDegree=function(){return this.coefficients.length-1},t.prototype.isZero=function(){return this.coefficients[0]===0},t.prototype.getCoefficient=function(e){return this.coefficients[this.coefficients.length-1-e]},t.prototype.evaluateAt=function(e){if(e===0)return this.getCoefficient(0);var r=this.coefficients,n;if(e===1){n=0;for(var i=0,s=r.length;i!==s;i++){var o=r[i];n=_c.addOrSubtract(n,o)}return n}n=r[0];for(var u=r.length,f=this.field,i=1;i<u;i++)n=_c.addOrSubtract(f.multiply(e,n),r[i]);return n},t.prototype.addOrSubtract=function(e){if(!this.field.equals(e.field))throw new Be("GenericGFPolys do not have same GenericGF field");if(this.isZero())return e;if(e.isZero())return this;var r=this.coefficients,n=e.coefficients;if(r.length>n.length){var i=r;r=n,n=i}var s=new Int32Array(n.length),o=n.length-r.length;Mt.arraycopy(n,0,s,0,o);for(var u=o;u<n.length;u++)s[u]=_c.addOrSubtract(r[u-o],n[u]);return new t(this.field,s)},t.prototype.multiply=function(e){if(!this.field.equals(e.field))throw new Be("GenericGFPolys do not have same GenericGF field");if(this.isZero()||e.isZero())return this.field.getZero();for(var r=this.coefficients,n=r.length,i=e.coefficients,s=i.length,o=new Int32Array(n+s-1),u=this.field,f=0;f<n;f++)for(var h=r[f],m=0;m<s;m++)o[f+m]=_c.addOrSubtract(o[f+m],u.multiply(h,i[m]));return new t(u,o)},t.prototype.multiplyScalar=function(e){if(e===0)return this.field.getZero();if(e===1)return this;for(var r=this.coefficients.length,n=this.field,i=new Int32Array(r),s=this.coefficients,o=0;o<r;o++)i[o]=n.multiply(s[o],e);return new t(n,i)},t.prototype.multiplyByMonomial=function(e,r){if(e<0)throw new Be;if(r===0)return this.field.getZero();for(var n=this.coefficients,i=n.length,s=new Int32Array(i+e),o=this.field,u=0;u<i;u++)s[u]=o.multiply(n[u],r);return new t(o,s)},t.prototype.divide=function(e){if(!this.field.equals(e.field))throw new Be("GenericGFPolys do not have same GenericGF field");if(e.isZero())throw new Be("Divide by 0");for(var r=this.field,n=r.getZero(),i=this,s=e.getCoefficient(e.getDegree()),o=r.inverse(s);i.getDegree()>=e.getDegree()&&!i.isZero();){var u=i.getDegree()-e.getDegree(),f=r.multiply(i.getCoefficient(i.getDegree()),o),h=e.multiplyByMonomial(u,f),m=r.buildMonomial(u,f);n=n.addOrSubtract(m),i=i.addOrSubtract(h)}return[n,i]},t.prototype.toString=function(){for(var e="",r=this.getDegree();r>=0;r--){var n=this.getCoefficient(r);if(n!==0){if(n<0?(e+=" - ",n=-n):e.length>0&&(e+=" + "),r===0||n!==1){var i=this.field.log(n);i===0?e+="1":i===1?e+="a":(e+="a^",e+=i)}r!==0&&(r===1?e+="x":(e+="x^",e+=r))}}return e},t}(),wD=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var s in i)i.hasOwnProperty(s)&&(n[s]=i[s])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),ab=function(t){wD(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.kind="ArithmeticException",e}(Mn),CD=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var s in i)i.hasOwnProperty(s)&&(n[s]=i[s])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),Tn=function(t){CD(e,t);function e(r,n,i){var s=t.call(this)||this;s.primitive=r,s.size=n,s.generatorBase=i;for(var o=new Int32Array(n),u=1,f=0;f<n;f++)o[f]=u,u*=2,u>=n&&(u^=r,u&=n-1);s.expTable=o;for(var h=new Int32Array(n),f=0;f<n-1;f++)h[o[f]]=f;return s.logTable=h,s.zero=new wa(s,Int32Array.from([0])),s.one=new wa(s,Int32Array.from([1])),s}return e.prototype.getZero=function(){return this.zero},e.prototype.getOne=function(){return this.one},e.prototype.buildMonomial=function(r,n){if(r<0)throw new Be;if(n===0)return this.zero;var i=new Int32Array(r+1);return i[0]=n,new wa(this,i)},e.prototype.inverse=function(r){if(r===0)throw new ab;return this.expTable[this.size-this.logTable[r]-1]},e.prototype.multiply=function(r,n){return r===0||n===0?0:this.expTable[(this.logTable[r]+this.logTable[n])%(this.size-1)]},e.prototype.getSize=function(){return this.size},e.prototype.getGeneratorBase=function(){return this.generatorBase},e.prototype.toString=function(){return"GF(0x"+et.toHexString(this.primitive)+","+this.size+")"},e.prototype.equals=function(r){return r===this},e.AZTEC_DATA_12=new e(4201,4096,1),e.AZTEC_DATA_10=new e(1033,1024,1),e.AZTEC_DATA_6=new e(67,64,1),e.AZTEC_PARAM=new e(19,16,1),e.QR_CODE_FIELD_256=new e(285,256,0),e.DATA_MATRIX_FIELD_256=new e(301,256,1),e.AZTEC_DATA_8=e.DATA_MATRIX_FIELD_256,e.MAXICODE_FIELD_64=e.AZTEC_DATA_6,e}(_c),ED=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var s in i)i.hasOwnProperty(s)&&(n[s]=i[s])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),xd=function(t){ED(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.kind="ReedSolomonException",e}(Mn),AD=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var s in i)i.hasOwnProperty(s)&&(n[s]=i[s])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),Nu=function(t){AD(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.kind="IllegalStateException",e}(Mn),A0=function(){function t(e){this.field=e}return t.prototype.decode=function(e,r){for(var n=this.field,i=new wa(n,e),s=new Int32Array(r),o=!0,u=0;u<r;u++){var f=i.evaluateAt(n.exp(u+n.getGeneratorBase()));s[s.length-1-u]=f,f!==0&&(o=!1)}if(!o)for(var h=new wa(n,s),m=this.runEuclideanAlgorithm(n.buildMonomial(r,1),h,r),v=m[0],w=m[1],C=this.findErrorLocations(v),N=this.findErrorMagnitudes(w,C),u=0;u<C.length;u++){var b=e.length-1-n.log(C[u]);if(b<0)throw new xd("Bad error location");e[b]=Tn.addOrSubtract(e[b],N[u])}},t.prototype.runEuclideanAlgorithm=function(e,r,n){if(e.getDegree()<r.getDegree()){var i=e;e=r,r=i}for(var s=this.field,o=e,u=r,f=s.getZero(),h=s.getOne();u.getDegree()>=(n/2|0);){var m=o,v=f;if(o=u,f=h,o.isZero())throw new xd("r_{i-1} was zero");u=m;for(var w=s.getZero(),C=o.getCoefficient(o.getDegree()),N=s.inverse(C);u.getDegree()>=o.getDegree()&&!u.isZero();){var b=u.getDegree()-o.getDegree(),R=s.multiply(u.getCoefficient(u.getDegree()),N);w=w.addOrSubtract(s.buildMonomial(b,R)),u=u.addOrSubtract(o.multiplyByMonomial(b,R))}if(h=w.multiply(f).addOrSubtract(v),u.getDegree()>=o.getDegree())throw new Nu("Division algorithm failed to reduce polynomial?")}var _=h.getCoefficient(0);if(_===0)throw new xd("sigmaTilde(0) was zero");var S=s.inverse(_),T=h.multiplyScalar(S),P=u.multiplyScalar(S);return[T,P]},t.prototype.findErrorLocations=function(e){var r=e.getDegree();if(r===1)return Int32Array.from([e.getCoefficient(1)]);for(var n=new Int32Array(r),i=0,s=this.field,o=1;o<s.getSize()&&i<r;o++)e.evaluateAt(o)===0&&(n[i]=s.inverse(o),i++);if(i!==r)throw new xd("Error locator degree does not match number of roots");return n},t.prototype.findErrorMagnitudes=function(e,r){for(var n=r.length,i=new Int32Array(n),s=this.field,o=0;o<n;o++){for(var u=s.inverse(r[o]),f=1,h=0;h<n;h++)if(o!==h){var m=s.multiply(r[h],u),v=m&1?m&-2:m|1;f=s.multiply(f,v)}i[o]=s.multiply(e.evaluateAt(u),s.inverse(f)),s.getGeneratorBase()!==0&&(i[o]=s.multiply(i[o],u))}return i},t}(),Br;(function(t){t[t.UPPER=0]="UPPER",t[t.LOWER=1]="LOWER",t[t.MIXED=2]="MIXED",t[t.DIGIT=3]="DIGIT",t[t.PUNCT=4]="PUNCT",t[t.BINARY=5]="BINARY"})(Br||(Br={}));var zv=function(){function t(){}return t.prototype.decode=function(e){this.ddata=e;var r=e.getBits(),n=this.extractBits(r),i=this.correctBits(n),s=t.convertBoolArrayToByteArray(i),o=t.getEncodedData(i),u=new E0(s,o,null,null);return u.setNumBits(i.length),u},t.highLevelDecode=function(e){return this.getEncodedData(e)},t.getEncodedData=function(e){for(var r=e.length,n=Br.UPPER,i=Br.UPPER,s="",o=0;o<r;)if(i===Br.BINARY){if(r-o<5)break;var u=t.readCode(e,o,5);if(o+=5,u===0){if(r-o<11)break;u=t.readCode(e,o,11)+31,o+=11}for(var f=0;f<u;f++){if(r-o<8){o=r;break}var h=t.readCode(e,o,8);s+=lt.castAsNonUtf8Char(h),o+=8}i=n}else{var m=i===Br.DIGIT?4:5;if(r-o<m)break;var h=t.readCode(e,o,m);o+=m;var v=t.getCharacter(i,h);v.startsWith("CTRL_")?(n=i,i=t.getTable(v.charAt(5)),v.charAt(6)==="L"&&(n=i)):(s+=v,i=n)}return s},t.getTable=function(e){switch(e){case"L":return Br.LOWER;case"P":return Br.PUNCT;case"M":return Br.MIXED;case"D":return Br.DIGIT;case"B":return Br.BINARY;case"U":default:return Br.UPPER}},t.getCharacter=function(e,r){switch(e){case Br.UPPER:return t.UPPER_TABLE[r];case Br.LOWER:return t.LOWER_TABLE[r];case Br.MIXED:return t.MIXED_TABLE[r];case Br.PUNCT:return t.PUNCT_TABLE[r];case Br.DIGIT:return t.DIGIT_TABLE[r];default:throw new Nu("Bad table")}},t.prototype.correctBits=function(e){var r,n;this.ddata.getNbLayers()<=2?(n=6,r=Tn.AZTEC_DATA_6):this.ddata.getNbLayers()<=8?(n=8,r=Tn.AZTEC_DATA_8):this.ddata.getNbLayers()<=22?(n=10,r=Tn.AZTEC_DATA_10):(n=12,r=Tn.AZTEC_DATA_12);var i=this.ddata.getNbDatablocks(),s=e.length/n;if(s<i)throw new me;for(var o=e.length%n,u=new Int32Array(s),f=0;f<s;f++,o+=n)u[f]=t.readCode(e,o,n);try{var h=new A0(r);h.decode(u,s-i)}catch(R){throw new me(R)}for(var m=(1<<n)-1,v=0,f=0;f<i;f++){var w=u[f];if(w===0||w===m)throw new me;(w===1||w===m-1)&&v++}for(var C=new Array(i*n-v),N=0,f=0;f<i;f++){var w=u[f];if(w===1||w===m-1)C.fill(w>1,N,N+n-1),N+=n-1;else for(var b=n-1;b>=0;--b)C[N++]=(w&1<<b)!==0}return C},t.prototype.extractBits=function(e){var r=this.ddata.isCompact(),n=this.ddata.getNbLayers(),i=(r?11:14)+n*4,s=new Int32Array(i),o=new Array(this.totalBitsInLayer(n,r));if(r)for(var u=0;u<s.length;u++)s[u]=u;else for(var f=i+1+2*et.truncDivision(et.truncDivision(i,2)-1,15),h=i/2,m=et.truncDivision(f,2),u=0;u<h;u++){var v=u+et.truncDivision(u,15);s[h-u-1]=m-v-1,s[h+u]=m+v+1}for(var u=0,w=0;u<n;u++){for(var C=(n-u)*4+(r?9:12),N=u*2,b=i-1-N,R=0;R<C;R++)for(var _=R*2,S=0;S<2;S++)o[w+_+S]=e.get(s[N+S],s[N+R]),o[w+2*C+_+S]=e.get(s[N+R],s[b-S]),o[w+4*C+_+S]=e.get(s[b-S],s[b-R]),o[w+6*C+_+S]=e.get(s[b-R],s[N+S]);w+=C*8}return o},t.readCode=function(e,r,n){for(var i=0,s=r;s<r+n;s++)i<<=1,e[s]&&(i|=1);return i},t.readByte=function(e,r){var n=e.length-r;return n>=8?t.readCode(e,r,8):t.readCode(e,r,n)<<8-n},t.convertBoolArrayToByteArray=function(e){for(var r=new Uint8Array((e.length+7)/8),n=0;n<r.length;n++)r[n]=t.readByte(e,8*n);return r},t.prototype.totalBitsInLayer=function(e,r){return((r?88:112)+16*e)*e},t.UPPER_TABLE=["CTRL_PS"," ","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","CTRL_LL","CTRL_ML","CTRL_DL","CTRL_BS"],t.LOWER_TABLE=["CTRL_PS"," ","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","CTRL_US","CTRL_ML","CTRL_DL","CTRL_BS"],t.MIXED_TABLE=["CTRL_PS"," ","","","","","","","\x07","\b","	",`
`,"\v","\f","\r","\x1B","","","","","@","\\","^","_","`","|","~","","CTRL_LL","CTRL_UL","CTRL_PL","CTRL_BS"],t.PUNCT_TABLE=["","\r",`\r
`,". ",", ",": ","!",'"',"#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","[","]","{","}","CTRL_UL"],t.DIGIT_TABLE=["CTRL_PS"," ","0","1","2","3","4","5","6","7","8","9",",",".","CTRL_UL","CTRL_US"],t}(),pt=function(){function t(){}return t.round=function(e){return isNaN(e)?0:e<=Number.MIN_SAFE_INTEGER?Number.MIN_SAFE_INTEGER:e>=Number.MAX_SAFE_INTEGER?Number.MAX_SAFE_INTEGER:e+(e<0?-.5:.5)|0},t.distance=function(e,r,n,i){var s=e-n,o=r-i;return Math.sqrt(s*s+o*o)},t.sum=function(e){for(var r=0,n=0,i=e.length;n!==i;n++){var s=e[n];r+=s}return r},t}(),Rp=function(){function t(){}return t.floatToIntBits=function(e){return e},t.MAX_VALUE=Number.MAX_SAFE_INTEGER,t}(),Re=function(){function t(e,r){this.x=e,this.y=r}return t.prototype.getX=function(){return this.x},t.prototype.getY=function(){return this.y},t.prototype.equals=function(e){if(e instanceof t){var r=e;return this.x===r.x&&this.y===r.y}return!1},t.prototype.hashCode=function(){return 31*Rp.floatToIntBits(this.x)+Rp.floatToIntBits(this.y)},t.prototype.toString=function(){return"("+this.x+","+this.y+")"},t.orderBestPatterns=function(e){var r=this.distance(e[0],e[1]),n=this.distance(e[1],e[2]),i=this.distance(e[0],e[2]),s,o,u;if(n>=r&&n>=i?(o=e[0],s=e[1],u=e[2]):i>=n&&i>=r?(o=e[1],s=e[0],u=e[2]):(o=e[2],s=e[0],u=e[1]),this.crossProductZ(s,o,u)<0){var f=s;s=u,u=f}e[0]=s,e[1]=o,e[2]=u},t.distance=function(e,r){return pt.distance(e.x,e.y,r.x,r.y)},t.crossProductZ=function(e,r,n){var i=r.x,s=r.y;return(n.x-i)*(e.y-s)-(n.y-s)*(e.x-i)},t}(),Vg=function(){function t(e,r){this.bits=e,this.points=r}return t.prototype.getBits=function(){return this.bits},t.prototype.getPoints=function(){return this.points},t}(),bD=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var s in i)i.hasOwnProperty(s)&&(n[s]=i[s])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),SD=function(t){bD(e,t);function e(r,n,i,s,o){var u=t.call(this,r,n)||this;return u.compact=i,u.nbDatablocks=s,u.nbLayers=o,u}return e.prototype.getNbLayers=function(){return this.nbLayers},e.prototype.getNbDatablocks=function(){return this.nbDatablocks},e.prototype.isCompact=function(){return this.compact},e}(Vg),Op=function(){function t(e,r,n,i){this.image=e,this.height=e.getHeight(),this.width=e.getWidth(),r==null&&(r=t.INIT_SIZE),n==null&&(n=e.getWidth()/2|0),i==null&&(i=e.getHeight()/2|0);var s=r/2|0;if(this.leftInit=n-s,this.rightInit=n+s,this.upInit=i-s,this.downInit=i+s,this.upInit<0||this.leftInit<0||this.downInit>=this.height||this.rightInit>=this.width)throw new ie}return t.prototype.detect=function(){for(var e=this.leftInit,r=this.rightInit,n=this.upInit,i=this.downInit,s=!1,o=!0,u=!1,f=!1,h=!1,m=!1,v=!1,w=this.width,C=this.height;o;){o=!1;for(var N=!0;(N||!f)&&r<w;)N=this.containsBlackPoint(n,i,r,!1),N?(r++,o=!0,f=!0):f||r++;if(r>=w){s=!0;break}for(var b=!0;(b||!h)&&i<C;)b=this.containsBlackPoint(e,r,i,!0),b?(i++,o=!0,h=!0):h||i++;if(i>=C){s=!0;break}for(var R=!0;(R||!m)&&e>=0;)R=this.containsBlackPoint(n,i,e,!1),R?(e--,o=!0,m=!0):m||e--;if(e<0){s=!0;break}for(var _=!0;(_||!v)&&n>=0;)_=this.containsBlackPoint(e,r,n,!0),_?(n--,o=!0,v=!0):v||n--;if(n<0){s=!0;break}o&&(u=!0)}if(!s&&u){for(var S=r-e,T=null,P=1;T===null&&P<S;P++)T=this.getBlackPointOnSegment(e,i-P,e+P,i);if(T==null)throw new ie;for(var B=null,P=1;B===null&&P<S;P++)B=this.getBlackPointOnSegment(e,n+P,e+P,n);if(B==null)throw new ie;for(var k=null,P=1;k===null&&P<S;P++)k=this.getBlackPointOnSegment(r,n+P,r-P,n);if(k==null)throw new ie;for(var M=null,P=1;M===null&&P<S;P++)M=this.getBlackPointOnSegment(r,i-P,r-P,i);if(M==null)throw new ie;return this.centerEdges(M,T,k,B)}else throw new ie},t.prototype.getBlackPointOnSegment=function(e,r,n,i){for(var s=pt.round(pt.distance(e,r,n,i)),o=(n-e)/s,u=(i-r)/s,f=this.image,h=0;h<s;h++){var m=pt.round(e+h*o),v=pt.round(r+h*u);if(f.get(m,v))return new Re(m,v)}return null},t.prototype.centerEdges=function(e,r,n,i){var s=e.getX(),o=e.getY(),u=r.getX(),f=r.getY(),h=n.getX(),m=n.getY(),v=i.getX(),w=i.getY(),C=t.CORR;return s<this.width/2?[new Re(v-C,w+C),new Re(u+C,f+C),new Re(h-C,m-C),new Re(s+C,o-C)]:[new Re(v+C,w+C),new Re(u+C,f-C),new Re(h-C,m+C),new Re(s-C,o-C)]},t.prototype.containsBlackPoint=function(e,r,n,i){var s=this.image;if(i){for(var o=e;o<=r;o++)if(s.get(o,n))return!0}else for(var u=e;u<=r;u++)if(s.get(n,u))return!0;return!1},t.INIT_SIZE=10,t.CORR=1,t}(),Gv=function(){function t(){}return t.checkAndNudgePoints=function(e,r){for(var n=e.getWidth(),i=e.getHeight(),s=!0,o=0;o<r.length&&s;o+=2){var u=Math.floor(r[o]),f=Math.floor(r[o+1]);if(u<-1||u>n||f<-1||f>i)throw new ie;s=!1,u===-1?(r[o]=0,s=!0):u===n&&(r[o]=n-1,s=!0),f===-1?(r[o+1]=0,s=!0):f===i&&(r[o+1]=i-1,s=!0)}s=!0;for(var o=r.length-2;o>=0&&s;o-=2){var u=Math.floor(r[o]),f=Math.floor(r[o+1]);if(u<-1||u>n||f<-1||f>i)throw new ie;s=!1,u===-1?(r[o]=0,s=!0):u===n&&(r[o]=n-1,s=!0),f===-1?(r[o+1]=0,s=!0):f===i&&(r[o+1]=i-1,s=!0)}},t}(),ob=function(){function t(e,r,n,i,s,o,u,f,h){this.a11=e,this.a21=r,this.a31=n,this.a12=i,this.a22=s,this.a32=o,this.a13=u,this.a23=f,this.a33=h}return t.quadrilateralToQuadrilateral=function(e,r,n,i,s,o,u,f,h,m,v,w,C,N,b,R){var _=t.quadrilateralToSquare(e,r,n,i,s,o,u,f),S=t.squareToQuadrilateral(h,m,v,w,C,N,b,R);return S.times(_)},t.prototype.transformPoints=function(e){for(var r=e.length,n=this.a11,i=this.a12,s=this.a13,o=this.a21,u=this.a22,f=this.a23,h=this.a31,m=this.a32,v=this.a33,w=0;w<r;w+=2){var C=e[w],N=e[w+1],b=s*C+f*N+v;e[w]=(n*C+o*N+h)/b,e[w+1]=(i*C+u*N+m)/b}},t.prototype.transformPointsWithValues=function(e,r){for(var n=this.a11,i=this.a12,s=this.a13,o=this.a21,u=this.a22,f=this.a23,h=this.a31,m=this.a32,v=this.a33,w=e.length,C=0;C<w;C++){var N=e[C],b=r[C],R=s*N+f*b+v;e[C]=(n*N+o*b+h)/R,r[C]=(i*N+u*b+m)/R}},t.squareToQuadrilateral=function(e,r,n,i,s,o,u,f){var h=e-n+s-u,m=r-i+o-f;if(h===0&&m===0)return new t(n-e,s-n,e,i-r,o-i,r,0,0,1);var v=n-s,w=u-s,C=i-o,N=f-o,b=v*N-w*C,R=(h*N-w*m)/b,_=(v*m-h*C)/b;return new t(n-e+R*n,u-e+_*u,e,i-r+R*i,f-r+_*f,r,R,_,1)},t.quadrilateralToSquare=function(e,r,n,i,s,o,u,f){return t.squareToQuadrilateral(e,r,n,i,s,o,u,f).buildAdjoint()},t.prototype.buildAdjoint=function(){return new t(this.a22*this.a33-this.a23*this.a32,this.a23*this.a31-this.a21*this.a33,this.a21*this.a32-this.a22*this.a31,this.a13*this.a32-this.a12*this.a33,this.a11*this.a33-this.a13*this.a31,this.a12*this.a31-this.a11*this.a32,this.a12*this.a23-this.a13*this.a22,this.a13*this.a21-this.a11*this.a23,this.a11*this.a22-this.a12*this.a21)},t.prototype.times=function(e){return new t(this.a11*e.a11+this.a21*e.a12+this.a31*e.a13,this.a11*e.a21+this.a21*e.a22+this.a31*e.a23,this.a11*e.a31+this.a21*e.a32+this.a31*e.a33,this.a12*e.a11+this.a22*e.a12+this.a32*e.a13,this.a12*e.a21+this.a22*e.a22+this.a32*e.a23,this.a12*e.a31+this.a22*e.a32+this.a32*e.a33,this.a13*e.a11+this.a23*e.a12+this.a33*e.a13,this.a13*e.a21+this.a23*e.a22+this.a33*e.a23,this.a13*e.a31+this.a23*e.a32+this.a33*e.a33)},t}(),ND=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var s in i)i.hasOwnProperty(s)&&(n[s]=i[s])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),_D=function(t){ND(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.sampleGrid=function(r,n,i,s,o,u,f,h,m,v,w,C,N,b,R,_,S,T,P){var B=ob.quadrilateralToQuadrilateral(s,o,u,f,h,m,v,w,C,N,b,R,_,S,T,P);return this.sampleGridWithTransform(r,n,i,B)},e.prototype.sampleGridWithTransform=function(r,n,i,s){if(n<=0||i<=0)throw new ie;for(var o=new ls(n,i),u=new Float32Array(2*n),f=0;f<i;f++){for(var h=u.length,m=f+.5,v=0;v<h;v+=2)u[v]=v/2+.5,u[v+1]=m;s.transformPoints(u),Gv.checkAndNudgePoints(r,u);try{for(var v=0;v<h;v+=2)r.get(Math.floor(u[v]),Math.floor(u[v+1]))&&o.set(v/2,f)}catch{throw new ie}}return o},e}(Gv),Hg=function(){function t(){}return t.setGridSampler=function(e){t.gridSampler=e},t.getInstance=function(){return t.gridSampler},t.gridSampler=new _D,t}(),bn=function(){function t(e,r){this.x=e,this.y=r}return t.prototype.toResultPoint=function(){return new Re(this.getX(),this.getY())},t.prototype.getX=function(){return this.x},t.prototype.getY=function(){return this.y},t}(),ID=function(){function t(e){this.EXPECTED_CORNER_BITS=new Int32Array([3808,476,2107,1799]),this.image=e}return t.prototype.detect=function(){return this.detectMirror(!1)},t.prototype.detectMirror=function(e){var r=this.getMatrixCenter(),n=this.getBullsEyeCorners(r);if(e){var i=n[0];n[0]=n[2],n[2]=i}this.extractParameters(n);var s=this.sampleGrid(this.image,n[this.shift%4],n[(this.shift+1)%4],n[(this.shift+2)%4],n[(this.shift+3)%4]),o=this.getMatrixCornerPoints(n);return new SD(s,o,this.compact,this.nbDataBlocks,this.nbLayers)},t.prototype.extractParameters=function(e){if(!this.isValidPoint(e[0])||!this.isValidPoint(e[1])||!this.isValidPoint(e[2])||!this.isValidPoint(e[3]))throw new ie;var r=2*this.nbCenterLayers,n=new Int32Array([this.sampleLine(e[0],e[1],r),this.sampleLine(e[1],e[2],r),this.sampleLine(e[2],e[3],r),this.sampleLine(e[3],e[0],r)]);this.shift=this.getRotation(n,r);for(var i=0,s=0;s<4;s++){var o=n[(this.shift+s)%4];this.compact?(i<<=7,i+=o>>1&127):(i<<=10,i+=(o>>2&992)+(o>>1&31))}var u=this.getCorrectedParameterData(i,this.compact);this.compact?(this.nbLayers=(u>>6)+1,this.nbDataBlocks=(u&63)+1):(this.nbLayers=(u>>11)+1,this.nbDataBlocks=(u&2047)+1)},t.prototype.getRotation=function(e,r){var n=0;e.forEach(function(s,o,u){var f=(s>>r-2<<1)+(s&1);n=(n<<3)+f}),n=((n&1)<<11)+(n>>1);for(var i=0;i<4;i++)if(et.bitCount(n^this.EXPECTED_CORNER_BITS[i])<=2)return i;throw new ie},t.prototype.getCorrectedParameterData=function(e,r){var n,i;r?(n=7,i=2):(n=10,i=4);for(var s=n-i,o=new Int32Array(n),u=n-1;u>=0;--u)o[u]=e&15,e>>=4;try{var f=new A0(Tn.AZTEC_PARAM);f.decode(o,s)}catch{throw new ie}for(var h=0,u=0;u<i;u++)h=(h<<4)+o[u];return h},t.prototype.getBullsEyeCorners=function(e){var r=e,n=e,i=e,s=e,o=!0;for(this.nbCenterLayers=1;this.nbCenterLayers<9;this.nbCenterLayers++){var u=this.getFirstDifferent(r,o,1,-1),f=this.getFirstDifferent(n,o,1,1),h=this.getFirstDifferent(i,o,-1,1),m=this.getFirstDifferent(s,o,-1,-1);if(this.nbCenterLayers>2){var v=this.distancePoint(m,u)*this.nbCenterLayers/(this.distancePoint(s,r)*(this.nbCenterLayers+2));if(v<.75||v>1.25||!this.isWhiteOrBlackRectangle(u,f,h,m))break}r=u,n=f,i=h,s=m,o=!o}if(this.nbCenterLayers!==5&&this.nbCenterLayers!==7)throw new ie;this.compact=this.nbCenterLayers===5;var w=new Re(r.getX()+.5,r.getY()-.5),C=new Re(n.getX()+.5,n.getY()+.5),N=new Re(i.getX()-.5,i.getY()+.5),b=new Re(s.getX()-.5,s.getY()-.5);return this.expandSquare([w,C,N,b],2*this.nbCenterLayers-3,2*this.nbCenterLayers)},t.prototype.getMatrixCenter=function(){var e,r,n,i;try{var s=new Op(this.image).detect();e=s[0],r=s[1],n=s[2],i=s[3]}catch{var o=this.image.getWidth()/2,u=this.image.getHeight()/2;e=this.getFirstDifferent(new bn(o+7,u-7),!1,1,-1).toResultPoint(),r=this.getFirstDifferent(new bn(o+7,u+7),!1,1,1).toResultPoint(),n=this.getFirstDifferent(new bn(o-7,u+7),!1,-1,1).toResultPoint(),i=this.getFirstDifferent(new bn(o-7,u-7),!1,-1,-1).toResultPoint()}var f=pt.round((e.getX()+i.getX()+r.getX()+n.getX())/4),h=pt.round((e.getY()+i.getY()+r.getY()+n.getY())/4);try{var s=new Op(this.image,15,f,h).detect();e=s[0],r=s[1],n=s[2],i=s[3]}catch{e=this.getFirstDifferent(new bn(f+7,h-7),!1,1,-1).toResultPoint(),r=this.getFirstDifferent(new bn(f+7,h+7),!1,1,1).toResultPoint(),n=this.getFirstDifferent(new bn(f-7,h+7),!1,-1,1).toResultPoint(),i=this.getFirstDifferent(new bn(f-7,h-7),!1,-1,-1).toResultPoint()}return f=pt.round((e.getX()+i.getX()+r.getX()+n.getX())/4),h=pt.round((e.getY()+i.getY()+r.getY()+n.getY())/4),new bn(f,h)},t.prototype.getMatrixCornerPoints=function(e){return this.expandSquare(e,2*this.nbCenterLayers,this.getDimension())},t.prototype.sampleGrid=function(e,r,n,i,s){var o=Hg.getInstance(),u=this.getDimension(),f=u/2-this.nbCenterLayers,h=u/2+this.nbCenterLayers;return o.sampleGrid(e,u,u,f,f,h,f,h,h,f,h,r.getX(),r.getY(),n.getX(),n.getY(),i.getX(),i.getY(),s.getX(),s.getY())},t.prototype.sampleLine=function(e,r,n){for(var i=0,s=this.distanceResultPoint(e,r),o=s/n,u=e.getX(),f=e.getY(),h=o*(r.getX()-e.getX())/s,m=o*(r.getY()-e.getY())/s,v=0;v<n;v++)this.image.get(pt.round(u+v*h),pt.round(f+v*m))&&(i|=1<<n-v-1);return i},t.prototype.isWhiteOrBlackRectangle=function(e,r,n,i){var s=3;e=new bn(e.getX()-s,e.getY()+s),r=new bn(r.getX()-s,r.getY()-s),n=new bn(n.getX()+s,n.getY()-s),i=new bn(i.getX()+s,i.getY()+s);var o=this.getColor(i,e);if(o===0)return!1;var u=this.getColor(e,r);return u!==o||(u=this.getColor(r,n),u!==o)?!1:(u=this.getColor(n,i),u===o)},t.prototype.getColor=function(e,r){for(var n=this.distancePoint(e,r),i=(r.getX()-e.getX())/n,s=(r.getY()-e.getY())/n,o=0,u=e.getX(),f=e.getY(),h=this.image.get(e.getX(),e.getY()),m=Math.ceil(n),v=0;v<m;v++)u+=i,f+=s,this.image.get(pt.round(u),pt.round(f))!==h&&o++;var w=o/n;return w>.1&&w<.9?0:w<=.1===h?1:-1},t.prototype.getFirstDifferent=function(e,r,n,i){for(var s=e.getX()+n,o=e.getY()+i;this.isValid(s,o)&&this.image.get(s,o)===r;)s+=n,o+=i;for(s-=n,o-=i;this.isValid(s,o)&&this.image.get(s,o)===r;)s+=n;for(s-=n;this.isValid(s,o)&&this.image.get(s,o)===r;)o+=i;return o-=i,new bn(s,o)},t.prototype.expandSquare=function(e,r,n){var i=n/(2*r),s=e[0].getX()-e[2].getX(),o=e[0].getY()-e[2].getY(),u=(e[0].getX()+e[2].getX())/2,f=(e[0].getY()+e[2].getY())/2,h=new Re(u+i*s,f+i*o),m=new Re(u-i*s,f-i*o);s=e[1].getX()-e[3].getX(),o=e[1].getY()-e[3].getY(),u=(e[1].getX()+e[3].getX())/2,f=(e[1].getY()+e[3].getY())/2;var v=new Re(u+i*s,f+i*o),w=new Re(u-i*s,f-i*o),C=[h,v,m,w];return C},t.prototype.isValid=function(e,r){return e>=0&&e<this.image.getWidth()&&r>0&&r<this.image.getHeight()},t.prototype.isValidPoint=function(e){var r=pt.round(e.getX()),n=pt.round(e.getY());return this.isValid(r,n)},t.prototype.distancePoint=function(e,r){return pt.distance(e.getX(),e.getY(),r.getX(),r.getY())},t.prototype.distanceResultPoint=function(e,r){return pt.distance(e.getX(),e.getY(),r.getX(),r.getY())},t.prototype.getDimension=function(){return this.compact?4*this.nbLayers+11:this.nbLayers<=4?4*this.nbLayers+15:4*this.nbLayers+2*(et.truncDivision(this.nbLayers-4,8)+1)+15},t}(),Pp=function(){function t(){}return t.prototype.decode=function(e,r){r===void 0&&(r=null);var n=null,i=new ID(e.getBlackMatrix()),s=null,o=null;try{var u=i.detectMirror(!1);s=u.getPoints(),this.reportFoundResultPoints(r,s),o=new zv().decode(u)}catch(v){n=v}if(o==null)try{var u=i.detectMirror(!0);s=u.getPoints(),this.reportFoundResultPoints(r,s),o=new zv().decode(u)}catch(v){throw n??v}var f=new sn(o.getText(),o.getRawBytes(),o.getNumBits(),s,ke.AZTEC,Mt.currentTimeMillis()),h=o.getByteSegments();h!=null&&f.putMetadata(Vr.BYTE_SEGMENTS,h);var m=o.getECLevel();return m!=null&&f.putMetadata(Vr.ERROR_CORRECTION_LEVEL,m),f},t.prototype.reportFoundResultPoints=function(e,r){if(e!=null){var n=e.get(Wt.NEED_RESULT_POINT_CALLBACK);n!=null&&r.forEach(function(i,s,o){n.foundPossibleResultPoint(i)})}},t.prototype.reset=function(){},t}(),TD=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var s in i)i.hasOwnProperty(s)&&(n[s]=i[s])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}();(function(t){TD(e,t);function e(r){return r===void 0&&(r=500),t.call(this,new Pp,r)||this}return e})($l);var Sr=function(){function t(){}return t.prototype.decode=function(e,r){try{return this.doDecode(e,r)}catch{var n=r&&r.get(Wt.TRY_HARDER)===!0;if(n&&e.isRotateSupported()){var i=e.rotateCounterClockwise(),s=this.doDecode(i,r),o=s.getResultMetadata(),u=270;o!==null&&o.get(Vr.ORIENTATION)===!0&&(u=u+o.get(Vr.ORIENTATION)%360),s.putMetadata(Vr.ORIENTATION,u);var f=s.getResultPoints();if(f!==null)for(var h=i.getHeight(),m=0;m<f.length;m++)f[m]=new Re(h-f[m].getY()-1,f[m].getX());return s}else throw new ie}},t.prototype.reset=function(){},t.prototype.doDecode=function(e,r){var n=e.getWidth(),i=e.getHeight(),s=new Pr(n),o=r&&r.get(Wt.TRY_HARDER)===!0,u=Math.max(1,i>>(o?8:5)),f;o?f=i:f=15;for(var h=Math.trunc(i/2),m=0;m<f;m++){var v=Math.trunc((m+1)/2),w=(m&1)===0,C=h+u*(w?v:-v);if(C<0||C>=i)break;try{s=e.getBlackRow(C,s)}catch{continue}for(var N=function(S){if(S===1&&(s.reverse(),r&&r.get(Wt.NEED_RESULT_POINT_CALLBACK)===!0)){var T=new Map;r.forEach(function(k,M){return T.set(M,k)}),T.delete(Wt.NEED_RESULT_POINT_CALLBACK),r=T}try{var P=b.decodeRow(C,s,r);if(S===1){P.putMetadata(Vr.ORIENTATION,180);var B=P.getResultPoints();B!==null&&(B[0]=new Re(n-B[0].getX()-1,B[0].getY()),B[1]=new Re(n-B[1].getX()-1,B[1].getY()))}return{value:P}}catch{}},b=this,R=0;R<2;R++){var _=N(R);if(typeof _=="object")return _.value}}throw new ie},t.recordPattern=function(e,r,n){for(var i=n.length,s=0;s<i;s++)n[s]=0;var o=e.getSize();if(r>=o)throw new ie;for(var u=!e.get(r),f=0,h=r;h<o;){if(e.get(h)!==u)n[f]++;else{if(++f===i)break;n[f]=1,u=!u}h++}if(!(f===i||f===i-1&&h===o))throw new ie},t.recordPatternInReverse=function(e,r,n){for(var i=n.length,s=e.get(r);r>0&&i>=0;)e.get(--r)!==s&&(i--,s=!s);if(i>=0)throw new ie;t.recordPattern(e,r+1,n)},t.patternMatchVariance=function(e,r,n){for(var i=e.length,s=0,o=0,u=0;u<i;u++)s+=e[u],o+=r[u];if(s<o)return Number.POSITIVE_INFINITY;var f=s/o;n*=f;for(var h=0,m=0;m<i;m++){var v=e[m],w=r[m]*f,C=v>w?v-w:w-v;if(C>n)return Number.POSITIVE_INFINITY;h+=C}return h/s},t}(),RD=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var s in i)i.hasOwnProperty(s)&&(n[s]=i[s])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),Wv=function(t){RD(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.findStartPattern=function(r){for(var n=r.getSize(),i=r.getNextSet(0),s=0,o=Int32Array.from([0,0,0,0,0,0]),u=i,f=!1,h=6,m=i;m<n;m++)if(r.get(m)!==f)o[s]++;else{if(s===h-1){for(var v=e.MAX_AVG_VARIANCE,w=-1,C=e.CODE_START_A;C<=e.CODE_START_C;C++){var N=Sr.patternMatchVariance(o,e.CODE_PATTERNS[C],e.MAX_INDIVIDUAL_VARIANCE);N<v&&(v=N,w=C)}if(w>=0&&r.isRange(Math.max(0,u-(m-u)/2),u,!1))return Int32Array.from([u,m,w]);u+=o[0]+o[1],o=o.slice(2,o.length),o[s-1]=0,o[s]=0,s--}else s++;o[s]=1,f=!f}throw new ie},e.decodeCode=function(r,n,i){Sr.recordPattern(r,i,n);for(var s=e.MAX_AVG_VARIANCE,o=-1,u=0;u<e.CODE_PATTERNS.length;u++){var f=e.CODE_PATTERNS[u],h=this.patternMatchVariance(n,f,e.MAX_INDIVIDUAL_VARIANCE);h<s&&(s=h,o=u)}if(o>=0)return o;throw new ie},e.prototype.decodeRow=function(r,n,i){var s=i&&i.get(Wt.ASSUME_GS1)===!0,o=e.findStartPattern(n),u=o[2],f=0,h=new Uint8Array(20);h[f++]=u;var m;switch(u){case e.CODE_START_A:m=e.CODE_CODE_A;break;case e.CODE_START_B:m=e.CODE_CODE_B;break;case e.CODE_START_C:m=e.CODE_CODE_C;break;default:throw new me}for(var v=!1,w=!1,C="",N=o[0],b=o[1],R=Int32Array.from([0,0,0,0,0,0]),_=0,S=0,T=u,P=0,B=!0,k=!1,M=!1;!v;){var F=w;switch(w=!1,_=S,S=e.decodeCode(n,R,b),h[f++]=S,S!==e.CODE_STOP&&(B=!0),S!==e.CODE_STOP&&(P++,T+=P*S),N=b,b+=R.reduce(function(de,ne){return de+ne},0),S){case e.CODE_START_A:case e.CODE_START_B:case e.CODE_START_C:throw new me}switch(m){case e.CODE_CODE_A:if(S<64)M===k?C+=String.fromCharCode(32+S):C+=String.fromCharCode(32+S+128),M=!1;else if(S<96)M===k?C+=String.fromCharCode(S-64):C+=String.fromCharCode(S+64),M=!1;else switch(S!==e.CODE_STOP&&(B=!1),S){case e.CODE_FNC_1:s&&(C.length===0?C+="]C1":C+="");break;case e.CODE_FNC_2:case e.CODE_FNC_3:break;case e.CODE_FNC_4_A:!k&&M?(k=!0,M=!1):k&&M?(k=!1,M=!1):M=!0;break;case e.CODE_SHIFT:w=!0,m=e.CODE_CODE_B;break;case e.CODE_CODE_B:m=e.CODE_CODE_B;break;case e.CODE_CODE_C:m=e.CODE_CODE_C;break;case e.CODE_STOP:v=!0;break}break;case e.CODE_CODE_B:if(S<96)M===k?C+=String.fromCharCode(32+S):C+=String.fromCharCode(32+S+128),M=!1;else switch(S!==e.CODE_STOP&&(B=!1),S){case e.CODE_FNC_1:s&&(C.length===0?C+="]C1":C+="");break;case e.CODE_FNC_2:case e.CODE_FNC_3:break;case e.CODE_FNC_4_B:!k&&M?(k=!0,M=!1):k&&M?(k=!1,M=!1):M=!0;break;case e.CODE_SHIFT:w=!0,m=e.CODE_CODE_A;break;case e.CODE_CODE_A:m=e.CODE_CODE_A;break;case e.CODE_CODE_C:m=e.CODE_CODE_C;break;case e.CODE_STOP:v=!0;break}break;case e.CODE_CODE_C:if(S<100)S<10&&(C+="0"),C+=S;else switch(S!==e.CODE_STOP&&(B=!1),S){case e.CODE_FNC_1:s&&(C.length===0?C+="]C1":C+="");break;case e.CODE_CODE_A:m=e.CODE_CODE_A;break;case e.CODE_CODE_B:m=e.CODE_CODE_B;break;case e.CODE_STOP:v=!0;break}break}F&&(m=m===e.CODE_CODE_A?e.CODE_CODE_B:e.CODE_CODE_A)}var U=b-N;if(b=n.getNextUnset(b),!n.isRange(b,Math.min(n.getSize(),b+(b-N)/2),!1))throw new ie;if(T-=P*_,T%103!==_)throw new Or;var X=C.length;if(X===0)throw new ie;X>0&&B&&(m===e.CODE_CODE_C?C=C.substring(0,X-2):C=C.substring(0,X-1));for(var ee=(o[1]+o[0])/2,Z=N+U/2,ae=h.length,K=new Uint8Array(ae),G=0;G<ae;G++)K[G]=h[G];var ue=[new Re(ee,r),new Re(Z,r)];return new sn(C,K,0,ue,ke.CODE_128,new Date().getTime())},e.CODE_PATTERNS=[Int32Array.from([2,1,2,2,2,2]),Int32Array.from([2,2,2,1,2,2]),Int32Array.from([2,2,2,2,2,1]),Int32Array.from([1,2,1,2,2,3]),Int32Array.from([1,2,1,3,2,2]),Int32Array.from([1,3,1,2,2,2]),Int32Array.from([1,2,2,2,1,3]),Int32Array.from([1,2,2,3,1,2]),Int32Array.from([1,3,2,2,1,2]),Int32Array.from([2,2,1,2,1,3]),Int32Array.from([2,2,1,3,1,2]),Int32Array.from([2,3,1,2,1,2]),Int32Array.from([1,1,2,2,3,2]),Int32Array.from([1,2,2,1,3,2]),Int32Array.from([1,2,2,2,3,1]),Int32Array.from([1,1,3,2,2,2]),Int32Array.from([1,2,3,1,2,2]),Int32Array.from([1,2,3,2,2,1]),Int32Array.from([2,2,3,2,1,1]),Int32Array.from([2,2,1,1,3,2]),Int32Array.from([2,2,1,2,3,1]),Int32Array.from([2,1,3,2,1,2]),Int32Array.from([2,2,3,1,1,2]),Int32Array.from([3,1,2,1,3,1]),Int32Array.from([3,1,1,2,2,2]),Int32Array.from([3,2,1,1,2,2]),Int32Array.from([3,2,1,2,2,1]),Int32Array.from([3,1,2,2,1,2]),Int32Array.from([3,2,2,1,1,2]),Int32Array.from([3,2,2,2,1,1]),Int32Array.from([2,1,2,1,2,3]),Int32Array.from([2,1,2,3,2,1]),Int32Array.from([2,3,2,1,2,1]),Int32Array.from([1,1,1,3,2,3]),Int32Array.from([1,3,1,1,2,3]),Int32Array.from([1,3,1,3,2,1]),Int32Array.from([1,1,2,3,1,3]),Int32Array.from([1,3,2,1,1,3]),Int32Array.from([1,3,2,3,1,1]),Int32Array.from([2,1,1,3,1,3]),Int32Array.from([2,3,1,1,1,3]),Int32Array.from([2,3,1,3,1,1]),Int32Array.from([1,1,2,1,3,3]),Int32Array.from([1,1,2,3,3,1]),Int32Array.from([1,3,2,1,3,1]),Int32Array.from([1,1,3,1,2,3]),Int32Array.from([1,1,3,3,2,1]),Int32Array.from([1,3,3,1,2,1]),Int32Array.from([3,1,3,1,2,1]),Int32Array.from([2,1,1,3,3,1]),Int32Array.from([2,3,1,1,3,1]),Int32Array.from([2,1,3,1,1,3]),Int32Array.from([2,1,3,3,1,1]),Int32Array.from([2,1,3,1,3,1]),Int32Array.from([3,1,1,1,2,3]),Int32Array.from([3,1,1,3,2,1]),Int32Array.from([3,3,1,1,2,1]),Int32Array.from([3,1,2,1,1,3]),Int32Array.from([3,1,2,3,1,1]),Int32Array.from([3,3,2,1,1,1]),Int32Array.from([3,1,4,1,1,1]),Int32Array.from([2,2,1,4,1,1]),Int32Array.from([4,3,1,1,1,1]),Int32Array.from([1,1,1,2,2,4]),Int32Array.from([1,1,1,4,2,2]),Int32Array.from([1,2,1,1,2,4]),Int32Array.from([1,2,1,4,2,1]),Int32Array.from([1,4,1,1,2,2]),Int32Array.from([1,4,1,2,2,1]),Int32Array.from([1,1,2,2,1,4]),Int32Array.from([1,1,2,4,1,2]),Int32Array.from([1,2,2,1,1,4]),Int32Array.from([1,2,2,4,1,1]),Int32Array.from([1,4,2,1,1,2]),Int32Array.from([1,4,2,2,1,1]),Int32Array.from([2,4,1,2,1,1]),Int32Array.from([2,2,1,1,1,4]),Int32Array.from([4,1,3,1,1,1]),Int32Array.from([2,4,1,1,1,2]),Int32Array.from([1,3,4,1,1,1]),Int32Array.from([1,1,1,2,4,2]),Int32Array.from([1,2,1,1,4,2]),Int32Array.from([1,2,1,2,4,1]),Int32Array.from([1,1,4,2,1,2]),Int32Array.from([1,2,4,1,1,2]),Int32Array.from([1,2,4,2,1,1]),Int32Array.from([4,1,1,2,1,2]),Int32Array.from([4,2,1,1,1,2]),Int32Array.from([4,2,1,2,1,1]),Int32Array.from([2,1,2,1,4,1]),Int32Array.from([2,1,4,1,2,1]),Int32Array.from([4,1,2,1,2,1]),Int32Array.from([1,1,1,1,4,3]),Int32Array.from([1,1,1,3,4,1]),Int32Array.from([1,3,1,1,4,1]),Int32Array.from([1,1,4,1,1,3]),Int32Array.from([1,1,4,3,1,1]),Int32Array.from([4,1,1,1,1,3]),Int32Array.from([4,1,1,3,1,1]),Int32Array.from([1,1,3,1,4,1]),Int32Array.from([1,1,4,1,3,1]),Int32Array.from([3,1,1,1,4,1]),Int32Array.from([4,1,1,1,3,1]),Int32Array.from([2,1,1,4,1,2]),Int32Array.from([2,1,1,2,1,4]),Int32Array.from([2,1,1,2,3,2]),Int32Array.from([2,3,3,1,1,1,2])],e.MAX_AVG_VARIANCE=.25,e.MAX_INDIVIDUAL_VARIANCE=.7,e.CODE_SHIFT=98,e.CODE_CODE_C=99,e.CODE_CODE_B=100,e.CODE_CODE_A=101,e.CODE_FNC_1=102,e.CODE_FNC_2=97,e.CODE_FNC_3=96,e.CODE_FNC_4_A=101,e.CODE_FNC_4_B=100,e.CODE_START_A=103,e.CODE_START_B=104,e.CODE_START_C=105,e.CODE_STOP=106,e}(Sr),OD=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var s in i)i.hasOwnProperty(s)&&(n[s]=i[s])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),B1=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},Xv=function(t){OD(e,t);function e(r,n){r===void 0&&(r=!1),n===void 0&&(n=!1);var i=t.call(this)||this;return i.usingCheckDigit=r,i.extendedMode=n,i.decodeRowResult="",i.counters=new Int32Array(9),i}return e.prototype.decodeRow=function(r,n,i){var s,o,u,f,h=this.counters;h.fill(0),this.decodeRowResult="";var m=e.findAsteriskPattern(n,h),v=n.getNextSet(m[1]),w=n.getSize(),C,N;do{e.recordPattern(n,v,h);var b=e.toNarrowWidePattern(h);if(b<0)throw new ie;C=e.patternToChar(b),this.decodeRowResult+=C,N=v;try{for(var R=(s=void 0,B1(h)),_=R.next();!_.done;_=R.next()){var S=_.value;v+=S}}catch(ae){s={error:ae}}finally{try{_&&!_.done&&(o=R.return)&&o.call(R)}finally{if(s)throw s.error}}v=n.getNextSet(v)}while(C!=="*");this.decodeRowResult=this.decodeRowResult.substring(0,this.decodeRowResult.length-1);var T=0;try{for(var P=B1(h),B=P.next();!B.done;B=P.next()){var S=B.value;T+=S}}catch(ae){u={error:ae}}finally{try{B&&!B.done&&(f=P.return)&&f.call(P)}finally{if(u)throw u.error}}var k=v-N-T;if(v!==w&&k*2<T)throw new ie;if(this.usingCheckDigit){for(var M=this.decodeRowResult.length-1,F=0,U=0;U<M;U++)F+=e.ALPHABET_STRING.indexOf(this.decodeRowResult.charAt(U));if(this.decodeRowResult.charAt(M)!==e.ALPHABET_STRING.charAt(F%43))throw new Or;this.decodeRowResult=this.decodeRowResult.substring(0,M)}if(this.decodeRowResult.length===0)throw new ie;var X;this.extendedMode?X=e.decodeExtended(this.decodeRowResult):X=this.decodeRowResult;var ee=(m[1]+m[0])/2,Z=N+T/2;return new sn(X,null,0,[new Re(ee,r),new Re(Z,r)],ke.CODE_39,new Date().getTime())},e.findAsteriskPattern=function(r,n){for(var i=r.getSize(),s=r.getNextSet(0),o=0,u=s,f=!1,h=n.length,m=s;m<i;m++)if(r.get(m)!==f)n[o]++;else{if(o===h-1){if(this.toNarrowWidePattern(n)===e.ASTERISK_ENCODING&&r.isRange(Math.max(0,u-Math.floor((m-u)/2)),u,!1))return[u,m];u+=n[0]+n[1],n.copyWithin(0,2,2+o-1),n[o-1]=0,n[o]=0,o--}else o++;n[o]=1,f=!f}throw new ie},e.toNarrowWidePattern=function(r){var n,i,s=r.length,o=0,u;do{var f=2147483647;try{for(var h=(n=void 0,B1(r)),m=h.next();!m.done;m=h.next()){var v=m.value;v<f&&v>o&&(f=v)}}catch(b){n={error:b}}finally{try{m&&!m.done&&(i=h.return)&&i.call(h)}finally{if(n)throw n.error}}o=f,u=0;for(var w=0,C=0,N=0;N<s;N++){var v=r[N];v>o&&(C|=1<<s-1-N,u++,w+=v)}if(u===3){for(var N=0;N<s&&u>0;N++){var v=r[N];if(v>o&&(u--,v*2>=w))return-1}return C}}while(u>3);return-1},e.patternToChar=function(r){for(var n=0;n<e.CHARACTER_ENCODINGS.length;n++)if(e.CHARACTER_ENCODINGS[n]===r)return e.ALPHABET_STRING.charAt(n);if(r===e.ASTERISK_ENCODING)return"*";throw new ie},e.decodeExtended=function(r){for(var n=r.length,i="",s=0;s<n;s++){var o=r.charAt(s);if(o==="+"||o==="$"||o==="%"||o==="/"){var u=r.charAt(s+1),f="\0";switch(o){case"+":if(u>="A"&&u<="Z")f=String.fromCharCode(u.charCodeAt(0)+32);else throw new me;break;case"$":if(u>="A"&&u<="Z")f=String.fromCharCode(u.charCodeAt(0)-64);else throw new me;break;case"%":if(u>="A"&&u<="E")f=String.fromCharCode(u.charCodeAt(0)-38);else if(u>="F"&&u<="J")f=String.fromCharCode(u.charCodeAt(0)-11);else if(u>="K"&&u<="O")f=String.fromCharCode(u.charCodeAt(0)+16);else if(u>="P"&&u<="T")f=String.fromCharCode(u.charCodeAt(0)+43);else if(u==="U")f="\0";else if(u==="V")f="@";else if(u==="W")f="`";else if(u==="X"||u==="Y"||u==="Z")f="";else throw new me;break;case"/":if(u>="A"&&u<="O")f=String.fromCharCode(u.charCodeAt(0)-32);else if(u==="Z")f=":";else throw new me;break}i+=f,s++}else i+=o}return i},e.ALPHABET_STRING="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ-. $/+%",e.CHARACTER_ENCODINGS=[52,289,97,352,49,304,112,37,292,100,265,73,328,25,280,88,13,268,76,28,259,67,322,19,274,82,7,262,70,22,385,193,448,145,400,208,133,388,196,168,162,138,42],e.ASTERISK_ENCODING=148,e}(Sr),PD=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var s in i)i.hasOwnProperty(s)&&(n[s]=i[s])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),F1=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},Yv=function(t){PD(e,t);function e(){var r=t.call(this)||this;return r.decodeRowResult="",r.counters=new Int32Array(6),r}return e.prototype.decodeRow=function(r,n,i){var s,o,u,f,h=this.findAsteriskPattern(n),m=n.getNextSet(h[1]),v=n.getSize(),w=this.counters;w.fill(0),this.decodeRowResult="";var C,N;do{e.recordPattern(n,m,w);var b=this.toPattern(w);if(b<0)throw new ie;C=this.patternToChar(b),this.decodeRowResult+=C,N=m;try{for(var R=(s=void 0,F1(w)),_=R.next();!_.done;_=R.next()){var S=_.value;m+=S}}catch(U){s={error:U}}finally{try{_&&!_.done&&(o=R.return)&&o.call(R)}finally{if(s)throw s.error}}m=n.getNextSet(m)}while(C!=="*");this.decodeRowResult=this.decodeRowResult.substring(0,this.decodeRowResult.length-1);var T=0;try{for(var P=F1(w),B=P.next();!B.done;B=P.next()){var S=B.value;T+=S}}catch(U){u={error:U}}finally{try{B&&!B.done&&(f=P.return)&&f.call(P)}finally{if(u)throw u.error}}if(m===v||!n.get(m))throw new ie;if(this.decodeRowResult.length<2)throw new ie;this.checkChecksums(this.decodeRowResult),this.decodeRowResult=this.decodeRowResult.substring(0,this.decodeRowResult.length-2);var k=this.decodeExtended(this.decodeRowResult),M=(h[1]+h[0])/2,F=N+T/2;return new sn(k,null,0,[new Re(M,r),new Re(F,r)],ke.CODE_93,new Date().getTime())},e.prototype.findAsteriskPattern=function(r){var n=r.getSize(),i=r.getNextSet(0);this.counters.fill(0);for(var s=this.counters,o=i,u=!1,f=s.length,h=0,m=i;m<n;m++)if(r.get(m)!==u)s[h]++;else{if(h===f-1){if(this.toPattern(s)===e.ASTERISK_ENCODING)return new Int32Array([o,m]);o+=s[0]+s[1],s.copyWithin(0,2,2+h-1),s[h-1]=0,s[h]=0,h--}else h++;s[h]=1,u=!u}throw new ie},e.prototype.toPattern=function(r){var n,i,s=0;try{for(var o=F1(r),u=o.next();!u.done;u=o.next()){var f=u.value;s+=f}}catch(N){n={error:N}}finally{try{u&&!u.done&&(i=o.return)&&i.call(o)}finally{if(n)throw n.error}}for(var h=0,m=r.length,v=0;v<m;v++){var w=Math.round(r[v]*9/s);if(w<1||w>4)return-1;if(v&1)h<<=w;else for(var C=0;C<w;C++)h=h<<1|1}return h},e.prototype.patternToChar=function(r){for(var n=0;n<e.CHARACTER_ENCODINGS.length;n++)if(e.CHARACTER_ENCODINGS[n]===r)return e.ALPHABET_STRING.charAt(n);throw new ie},e.prototype.decodeExtended=function(r){for(var n=r.length,i="",s=0;s<n;s++){var o=r.charAt(s);if(o>="a"&&o<="d"){if(s>=n-1)throw new me;var u=r.charAt(s+1),f="\0";switch(o){case"d":if(u>="A"&&u<="Z")f=String.fromCharCode(u.charCodeAt(0)+32);else throw new me;break;case"a":if(u>="A"&&u<="Z")f=String.fromCharCode(u.charCodeAt(0)-64);else throw new me;break;case"b":if(u>="A"&&u<="E")f=String.fromCharCode(u.charCodeAt(0)-38);else if(u>="F"&&u<="J")f=String.fromCharCode(u.charCodeAt(0)-11);else if(u>="K"&&u<="O")f=String.fromCharCode(u.charCodeAt(0)+16);else if(u>="P"&&u<="T")f=String.fromCharCode(u.charCodeAt(0)+43);else if(u==="U")f="\0";else if(u==="V")f="@";else if(u==="W")f="`";else if(u>="X"&&u<="Z")f="";else throw new me;break;case"c":if(u>="A"&&u<="O")f=String.fromCharCode(u.charCodeAt(0)-32);else if(u==="Z")f=":";else throw new me;break}i+=f,s++}else i+=o}return i},e.prototype.checkChecksums=function(r){var n=r.length;this.checkOneChecksum(r,n-2,20),this.checkOneChecksum(r,n-1,15)},e.prototype.checkOneChecksum=function(r,n,i){for(var s=1,o=0,u=n-1;u>=0;u--)o+=s*e.ALPHABET_STRING.indexOf(r.charAt(u)),++s>i&&(s=1);if(r.charAt(n)!==e.ALPHABET_STRING[o%47])throw new Or},e.ALPHABET_STRING="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ-. $/+%abcd*",e.CHARACTER_ENCODINGS=[276,328,324,322,296,292,290,336,274,266,424,420,418,404,402,394,360,356,354,308,282,344,332,326,300,278,436,434,428,422,406,410,364,358,310,314,302,468,466,458,366,374,430,294,474,470,306,350],e.ASTERISK_ENCODING=e.CHARACTER_ENCODINGS[47],e}(Sr),DD=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var s in i)i.hasOwnProperty(s)&&(n[s]=i[s])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),jD=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},$v=function(t){DD(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.narrowLineWidth=-1,r}return e.prototype.decodeRow=function(r,n,i){var s,o,u=this.decodeStart(n),f=this.decodeEnd(n),h=new Qe;e.decodeMiddle(n,u[1],f[0],h);var m=h.toString(),v=null;i!=null&&(v=i.get(Wt.ALLOWED_LENGTHS)),v==null&&(v=e.DEFAULT_ALLOWED_LENGTHS);var w=m.length,C=!1,N=0;try{for(var b=jD(v),R=b.next();!R.done;R=b.next()){var _=R.value;if(w===_){C=!0;break}_>N&&(N=_)}}catch(P){s={error:P}}finally{try{R&&!R.done&&(o=b.return)&&o.call(b)}finally{if(s)throw s.error}}if(!C&&w>N&&(C=!0),!C)throw new me;var S=[new Re(u[1],r),new Re(f[0],r)],T=new sn(m,null,0,S,ke.ITF,new Date().getTime());return T},e.decodeMiddle=function(r,n,i,s){var o=new Int32Array(10),u=new Int32Array(5),f=new Int32Array(5);for(o.fill(0),u.fill(0),f.fill(0);n<i;){Sr.recordPattern(r,n,o);for(var h=0;h<5;h++){var m=2*h;u[h]=o[m],f[h]=o[m+1]}var v=e.decodeDigit(u);s.append(v.toString()),v=this.decodeDigit(f),s.append(v.toString()),o.forEach(function(w){n+=w})}},e.prototype.decodeStart=function(r){var n=e.skipWhiteSpace(r),i=e.findGuardPattern(r,n,e.START_PATTERN);return this.narrowLineWidth=(i[1]-i[0])/4,this.validateQuietZone(r,i[0]),i},e.prototype.validateQuietZone=function(r,n){var i=this.narrowLineWidth*10;i=i<n?i:n;for(var s=n-1;i>0&&s>=0&&!r.get(s);s--)i--;if(i!==0)throw new ie},e.skipWhiteSpace=function(r){var n=r.getSize(),i=r.getNextSet(0);if(i===n)throw new ie;return i},e.prototype.decodeEnd=function(r){r.reverse();try{var n=e.skipWhiteSpace(r),i=void 0;try{i=e.findGuardPattern(r,n,e.END_PATTERN_REVERSED[0])}catch(o){o instanceof ie&&(i=e.findGuardPattern(r,n,e.END_PATTERN_REVERSED[1]))}this.validateQuietZone(r,i[0]);var s=i[0];return i[0]=r.getSize()-i[1],i[1]=r.getSize()-s,i}finally{r.reverse()}},e.findGuardPattern=function(r,n,i){var s=i.length,o=new Int32Array(s),u=r.getSize(),f=!1,h=0,m=n;o.fill(0);for(var v=n;v<u;v++)if(r.get(v)!==f)o[h]++;else{if(h===s-1){if(Sr.patternMatchVariance(o,i,e.MAX_INDIVIDUAL_VARIANCE)<e.MAX_AVG_VARIANCE)return[m,v];m+=o[0]+o[1],Mt.arraycopy(o,2,o,0,h-1),o[h-1]=0,o[h]=0,h--}else h++;o[h]=1,f=!f}throw new ie},e.decodeDigit=function(r){for(var n=e.MAX_AVG_VARIANCE,i=-1,s=e.PATTERNS.length,o=0;o<s;o++){var u=e.PATTERNS[o],f=Sr.patternMatchVariance(r,u,e.MAX_INDIVIDUAL_VARIANCE);f<n?(n=f,i=o):f===n&&(i=-1)}if(i>=0)return i%10;throw new ie},e.PATTERNS=[Int32Array.from([1,1,2,2,1]),Int32Array.from([2,1,1,1,2]),Int32Array.from([1,2,1,1,2]),Int32Array.from([2,2,1,1,1]),Int32Array.from([1,1,2,1,2]),Int32Array.from([2,1,2,1,1]),Int32Array.from([1,2,2,1,1]),Int32Array.from([1,1,1,2,2]),Int32Array.from([2,1,1,2,1]),Int32Array.from([1,2,1,2,1]),Int32Array.from([1,1,3,3,1]),Int32Array.from([3,1,1,1,3]),Int32Array.from([1,3,1,1,3]),Int32Array.from([3,3,1,1,1]),Int32Array.from([1,1,3,1,3]),Int32Array.from([3,1,3,1,1]),Int32Array.from([1,3,3,1,1]),Int32Array.from([1,1,1,3,3]),Int32Array.from([3,1,1,3,1]),Int32Array.from([1,3,1,3,1])],e.MAX_AVG_VARIANCE=.38,e.MAX_INDIVIDUAL_VARIANCE=.5,e.DEFAULT_ALLOWED_LENGTHS=[6,8,10,12,14],e.START_PATTERN=Int32Array.from([1,1,1,1]),e.END_PATTERN_REVERSED=[Int32Array.from([1,1,2]),Int32Array.from([1,1,3])],e}(Sr),MD=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var s in i)i.hasOwnProperty(s)&&(n[s]=i[s])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),kl=function(t){MD(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.decodeRowStringBuffer="",r}return e.findStartGuardPattern=function(r){for(var n=!1,i,s=0,o=Int32Array.from([0,0,0]);!n;){o=Int32Array.from([0,0,0]),i=e.findGuardPattern(r,s,!1,this.START_END_PATTERN,o);var u=i[0];s=i[1];var f=u-(s-u);f>=0&&(n=r.isRange(f,u,!1))}return i},e.checkChecksum=function(r){return e.checkStandardUPCEANChecksum(r)},e.checkStandardUPCEANChecksum=function(r){var n=r.length;if(n===0)return!1;var i=parseInt(r.charAt(n-1),10);return e.getStandardUPCEANChecksum(r.substring(0,n-1))===i},e.getStandardUPCEANChecksum=function(r){for(var n=r.length,i=0,s=n-1;s>=0;s-=2){var o=r.charAt(s).charCodeAt(0)-48;if(o<0||o>9)throw new me;i+=o}i*=3;for(var s=n-2;s>=0;s-=2){var o=r.charAt(s).charCodeAt(0)-48;if(o<0||o>9)throw new me;i+=o}return(1e3-i)%10},e.decodeEnd=function(r,n){return e.findGuardPattern(r,n,!1,e.START_END_PATTERN,new Int32Array(e.START_END_PATTERN.length).fill(0))},e.findGuardPatternWithoutCounters=function(r,n,i,s){return this.findGuardPattern(r,n,i,s,new Int32Array(s.length))},e.findGuardPattern=function(r,n,i,s,o){var u=r.getSize();n=i?r.getNextUnset(n):r.getNextSet(n);for(var f=0,h=n,m=s.length,v=i,w=n;w<u;w++)if(r.get(w)!==v)o[f]++;else{if(f===m-1){if(Sr.patternMatchVariance(o,s,e.MAX_INDIVIDUAL_VARIANCE)<e.MAX_AVG_VARIANCE)return Int32Array.from([h,w]);h+=o[0]+o[1];for(var C=o.slice(2,o.length),N=0;N<f-1;N++)o[N]=C[N];o[f-1]=0,o[f]=0,f--}else f++;o[f]=1,v=!v}throw new ie},e.decodeDigit=function(r,n,i,s){this.recordPattern(r,i,n);for(var o=this.MAX_AVG_VARIANCE,u=-1,f=s.length,h=0;h<f;h++){var m=s[h],v=Sr.patternMatchVariance(n,m,e.MAX_INDIVIDUAL_VARIANCE);v<o&&(o=v,u=h)}if(u>=0)return u;throw new ie},e.MAX_AVG_VARIANCE=.48,e.MAX_INDIVIDUAL_VARIANCE=.7,e.START_END_PATTERN=Int32Array.from([1,1,1]),e.MIDDLE_PATTERN=Int32Array.from([1,1,1,1,1]),e.END_PATTERN=Int32Array.from([1,1,1,1,1,1]),e.L_PATTERNS=[Int32Array.from([3,2,1,1]),Int32Array.from([2,2,2,1]),Int32Array.from([2,1,2,2]),Int32Array.from([1,4,1,1]),Int32Array.from([1,1,3,2]),Int32Array.from([1,2,3,1]),Int32Array.from([1,1,1,4]),Int32Array.from([1,3,1,2]),Int32Array.from([1,2,1,3]),Int32Array.from([3,1,1,2])],e}(Sr),kD=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},LD=function(){function t(){this.CHECK_DIGIT_ENCODINGS=[24,20,18,17,12,6,3,10,9,5],this.decodeMiddleCounters=Int32Array.from([0,0,0,0]),this.decodeRowStringBuffer=""}return t.prototype.decodeRow=function(e,r,n){var i=this.decodeRowStringBuffer,s=this.decodeMiddle(r,n,i),o=i.toString(),u=t.parseExtensionString(o),f=[new Re((n[0]+n[1])/2,e),new Re(s,e)],h=new sn(o,null,0,f,ke.UPC_EAN_EXTENSION,new Date().getTime());return u!=null&&h.putAllMetadata(u),h},t.prototype.decodeMiddle=function(e,r,n){var i,s,o=this.decodeMiddleCounters;o[0]=0,o[1]=0,o[2]=0,o[3]=0;for(var u=e.getSize(),f=r[1],h=0,m=0;m<5&&f<u;m++){var v=kl.decodeDigit(e,o,f,kl.L_AND_G_PATTERNS);n+=String.fromCharCode(48+v%10);try{for(var w=(i=void 0,kD(o)),C=w.next();!C.done;C=w.next()){var N=C.value;f+=N}}catch(R){i={error:R}}finally{try{C&&!C.done&&(s=w.return)&&s.call(w)}finally{if(i)throw i.error}}v>=10&&(h|=1<<4-m),m!==4&&(f=e.getNextSet(f),f=e.getNextUnset(f))}if(n.length!==5)throw new ie;var b=this.determineCheckDigit(h);if(t.extensionChecksum(n.toString())!==b)throw new ie;return f},t.extensionChecksum=function(e){for(var r=e.length,n=0,i=r-2;i>=0;i-=2)n+=e.charAt(i).charCodeAt(0)-48;n*=3;for(var i=r-1;i>=0;i-=2)n+=e.charAt(i).charCodeAt(0)-48;return n*=3,n%10},t.prototype.determineCheckDigit=function(e){for(var r=0;r<10;r++)if(e===this.CHECK_DIGIT_ENCODINGS[r])return r;throw new ie},t.parseExtensionString=function(e){if(e.length!==5)return null;var r=t.parseExtension5String(e);return r==null?null:new Map([[Vr.SUGGESTED_PRICE,r]])},t.parseExtension5String=function(e){var r;switch(e.charAt(0)){case"0":r="";break;case"5":r="$";break;case"9":switch(e){case"90000":return null;case"99991":return"0.00";case"99990":return"Used"}r="";break;default:r="";break}var n=parseInt(e.substring(1)),i=(n/100).toString(),s=n%100,o=s<10?"0"+s:s.toString();return r+i+"."+o},t}(),BD=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},FD=function(){function t(){this.decodeMiddleCounters=Int32Array.from([0,0,0,0]),this.decodeRowStringBuffer=""}return t.prototype.decodeRow=function(e,r,n){var i=this.decodeRowStringBuffer,s=this.decodeMiddle(r,n,i),o=i.toString(),u=t.parseExtensionString(o),f=[new Re((n[0]+n[1])/2,e),new Re(s,e)],h=new sn(o,null,0,f,ke.UPC_EAN_EXTENSION,new Date().getTime());return u!=null&&h.putAllMetadata(u),h},t.prototype.decodeMiddle=function(e,r,n){var i,s,o=this.decodeMiddleCounters;o[0]=0,o[1]=0,o[2]=0,o[3]=0;for(var u=e.getSize(),f=r[1],h=0,m=0;m<2&&f<u;m++){var v=kl.decodeDigit(e,o,f,kl.L_AND_G_PATTERNS);n+=String.fromCharCode(48+v%10);try{for(var w=(i=void 0,BD(o)),C=w.next();!C.done;C=w.next()){var N=C.value;f+=N}}catch(b){i={error:b}}finally{try{C&&!C.done&&(s=w.return)&&s.call(w)}finally{if(i)throw i.error}}v>=10&&(h|=1<<1-m),m!==1&&(f=e.getNextSet(f),f=e.getNextUnset(f))}if(n.length!==2)throw new ie;if(parseInt(n.toString())%4!==h)throw new ie;return f},t.parseExtensionString=function(e){return e.length!==2?null:new Map([[Vr.ISSUE_NUMBER,parseInt(e)]])},t}(),UD=function(){function t(){}return t.decodeRow=function(e,r,n){var i=kl.findGuardPattern(r,n,!1,this.EXTENSION_START_PATTERN,new Int32Array(this.EXTENSION_START_PATTERN.length).fill(0));try{var s=new LD;return s.decodeRow(e,r,i)}catch{var o=new FD;return o.decodeRow(e,r,i)}},t.EXTENSION_START_PATTERN=Int32Array.from([1,1,2]),t}(),VD=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var s in i)i.hasOwnProperty(s)&&(n[s]=i[s])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),wr=function(t){VD(e,t);function e(){var r=t.call(this)||this;r.decodeRowStringBuffer="",e.L_AND_G_PATTERNS=e.L_PATTERNS.map(function(u){return Int32Array.from(u)});for(var n=10;n<20;n++){for(var i=e.L_PATTERNS[n-10],s=new Int32Array(i.length),o=0;o<i.length;o++)s[o]=i[i.length-o-1];e.L_AND_G_PATTERNS[n]=s}return r}return e.prototype.decodeRow=function(r,n,i){var s=e.findStartGuardPattern(n),o=i==null?null:i.get(Wt.NEED_RESULT_POINT_CALLBACK);if(o!=null){var u=new Re((s[0]+s[1])/2,r);o.foundPossibleResultPoint(u)}var f=this.decodeMiddle(n,s,this.decodeRowStringBuffer),h=f.rowOffset,m=f.resultString;if(o!=null){var v=new Re(h,r);o.foundPossibleResultPoint(v)}var w=e.decodeEnd(n,h);if(o!=null){var C=new Re((w[0]+w[1])/2,r);o.foundPossibleResultPoint(C)}var N=w[1],b=N+(N-w[0]);if(b>=n.getSize()||!n.isRange(N,b,!1))throw new ie;var R=m.toString();if(R.length<8)throw new me;if(!e.checkChecksum(R))throw new Or;var _=(s[1]+s[0])/2,S=(w[1]+w[0])/2,T=this.getBarcodeFormat(),P=[new Re(_,r),new Re(S,r)],B=new sn(R,null,0,P,T,new Date().getTime()),k=0;try{var M=UD.decodeRow(r,n,w[1]);B.putMetadata(Vr.UPC_EAN_EXTENSION,M.getText()),B.putAllMetadata(M.getResultMetadata()),B.addResultPoints(M.getResultPoints()),k=M.getText().length}catch{}var F=i==null?null:i.get(Wt.ALLOWED_EAN_EXTENSIONS);if(F!=null){var U=!1;for(var X in F)if(k.toString()===X){U=!0;break}if(!U)throw new ie}return T===ke.EAN_13||ke.UPC_A,B},e.checkChecksum=function(r){return e.checkStandardUPCEANChecksum(r)},e.checkStandardUPCEANChecksum=function(r){var n=r.length;if(n===0)return!1;var i=parseInt(r.charAt(n-1),10);return e.getStandardUPCEANChecksum(r.substring(0,n-1))===i},e.getStandardUPCEANChecksum=function(r){for(var n=r.length,i=0,s=n-1;s>=0;s-=2){var o=r.charAt(s).charCodeAt(0)-48;if(o<0||o>9)throw new me;i+=o}i*=3;for(var s=n-2;s>=0;s-=2){var o=r.charAt(s).charCodeAt(0)-48;if(o<0||o>9)throw new me;i+=o}return(1e3-i)%10},e.decodeEnd=function(r,n){return e.findGuardPattern(r,n,!1,e.START_END_PATTERN,new Int32Array(e.START_END_PATTERN.length).fill(0))},e}(kl),HD=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var s in i)i.hasOwnProperty(s)&&(n[s]=i[s])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),Kv=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},Dp=function(t){HD(e,t);function e(){var r=t.call(this)||this;return r.decodeMiddleCounters=Int32Array.from([0,0,0,0]),r}return e.prototype.decodeMiddle=function(r,n,i){var s,o,u,f,h=this.decodeMiddleCounters;h[0]=0,h[1]=0,h[2]=0,h[3]=0;for(var m=r.getSize(),v=n[1],w=0,C=0;C<6&&v<m;C++){var N=wr.decodeDigit(r,h,v,wr.L_AND_G_PATTERNS);i+=String.fromCharCode(48+N%10);try{for(var b=(s=void 0,Kv(h)),R=b.next();!R.done;R=b.next()){var _=R.value;v+=_}}catch(B){s={error:B}}finally{try{R&&!R.done&&(o=b.return)&&o.call(b)}finally{if(s)throw s.error}}N>=10&&(w|=1<<5-C)}i=e.determineFirstDigit(i,w);var S=wr.findGuardPattern(r,v,!0,wr.MIDDLE_PATTERN,new Int32Array(wr.MIDDLE_PATTERN.length).fill(0));v=S[1];for(var C=0;C<6&&v<m;C++){var N=wr.decodeDigit(r,h,v,wr.L_PATTERNS);i+=String.fromCharCode(48+N);try{for(var T=(u=void 0,Kv(h)),P=T.next();!P.done;P=T.next()){var _=P.value;v+=_}}catch(M){u={error:M}}finally{try{P&&!P.done&&(f=T.return)&&f.call(T)}finally{if(u)throw u.error}}}return{rowOffset:v,resultString:i}},e.prototype.getBarcodeFormat=function(){return ke.EAN_13},e.determineFirstDigit=function(r,n){for(var i=0;i<10;i++)if(n===this.FIRST_DIGIT_ENCODINGS[i])return r=String.fromCharCode(48+i)+r,r;throw new ie},e.FIRST_DIGIT_ENCODINGS=[0,11,13,14,19,25,28,21,22,26],e}(wr),zD=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var s in i)i.hasOwnProperty(s)&&(n[s]=i[s])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),Zv=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},qv=function(t){zD(e,t);function e(){var r=t.call(this)||this;return r.decodeMiddleCounters=Int32Array.from([0,0,0,0]),r}return e.prototype.decodeMiddle=function(r,n,i){var s,o,u,f,h=this.decodeMiddleCounters;h[0]=0,h[1]=0,h[2]=0,h[3]=0;for(var m=r.getSize(),v=n[1],w=0;w<4&&v<m;w++){var C=wr.decodeDigit(r,h,v,wr.L_PATTERNS);i+=String.fromCharCode(48+C);try{for(var N=(s=void 0,Zv(h)),b=N.next();!b.done;b=N.next()){var R=b.value;v+=R}}catch(P){s={error:P}}finally{try{b&&!b.done&&(o=N.return)&&o.call(N)}finally{if(s)throw s.error}}}var _=wr.findGuardPattern(r,v,!0,wr.MIDDLE_PATTERN,new Int32Array(wr.MIDDLE_PATTERN.length).fill(0));v=_[1];for(var w=0;w<4&&v<m;w++){var C=wr.decodeDigit(r,h,v,wr.L_PATTERNS);i+=String.fromCharCode(48+C);try{for(var S=(u=void 0,Zv(h)),T=S.next();!T.done;T=S.next()){var R=T.value;v+=R}}catch(k){u={error:k}}finally{try{T&&!T.done&&(f=S.return)&&f.call(S)}finally{if(u)throw u.error}}}return{rowOffset:v,resultString:i}},e.prototype.getBarcodeFormat=function(){return ke.EAN_8},e}(wr),GD=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var s in i)i.hasOwnProperty(s)&&(n[s]=i[s])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),Qv=function(t){GD(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.ean13Reader=new Dp,r}return e.prototype.getBarcodeFormat=function(){return ke.UPC_A},e.prototype.decode=function(r,n){return this.maybeReturnResult(this.ean13Reader.decode(r))},e.prototype.decodeRow=function(r,n,i){return this.maybeReturnResult(this.ean13Reader.decodeRow(r,n,i))},e.prototype.decodeMiddle=function(r,n,i){return this.ean13Reader.decodeMiddle(r,n,i)},e.prototype.maybeReturnResult=function(r){var n=r.getText();if(n.charAt(0)==="0"){var i=new sn(n.substring(1),null,null,r.getResultPoints(),ke.UPC_A);return r.getResultMetadata()!=null&&i.putAllMetadata(r.getResultMetadata()),i}else throw new ie},e.prototype.reset=function(){this.ean13Reader.reset()},e}(wr),WD=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var s in i)i.hasOwnProperty(s)&&(n[s]=i[s])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),XD=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},Jv=function(t){WD(e,t);function e(){var r=t.call(this)||this;return r.decodeMiddleCounters=new Int32Array(4),r}return e.prototype.decodeMiddle=function(r,n,i){var s,o,u=this.decodeMiddleCounters.map(function(R){return R});u[0]=0,u[1]=0,u[2]=0,u[3]=0;for(var f=r.getSize(),h=n[1],m=0,v=0;v<6&&h<f;v++){var w=e.decodeDigit(r,u,h,e.L_AND_G_PATTERNS);i+=String.fromCharCode(48+w%10);try{for(var C=(s=void 0,XD(u)),N=C.next();!N.done;N=C.next()){var b=N.value;h+=b}}catch(R){s={error:R}}finally{try{N&&!N.done&&(o=C.return)&&o.call(C)}finally{if(s)throw s.error}}w>=10&&(m|=1<<5-v)}return e.determineNumSysAndCheckDigit(new Qe(i),m),h},e.prototype.decodeEnd=function(r,n){return e.findGuardPatternWithoutCounters(r,n,!0,e.MIDDLE_END_PATTERN)},e.prototype.checkChecksum=function(r){return wr.checkChecksum(e.convertUPCEtoUPCA(r))},e.determineNumSysAndCheckDigit=function(r,n){for(var i=0;i<=1;i++)for(var s=0;s<10;s++)if(n===this.NUMSYS_AND_CHECK_DIGIT_PATTERNS[i][s]){r.insert(0,"0"+i),r.append("0"+s);return}throw ie.getNotFoundInstance()},e.prototype.getBarcodeFormat=function(){return ke.UPC_E},e.convertUPCEtoUPCA=function(r){var n=r.slice(1,7).split("").map(function(o){return o.charCodeAt(0)}),i=new Qe;i.append(r.charAt(0));var s=n[5];switch(s){case 0:case 1:case 2:i.appendChars(n,0,2),i.append(s),i.append("0000"),i.appendChars(n,2,3);break;case 3:i.appendChars(n,0,3),i.append("00000"),i.appendChars(n,3,2);break;case 4:i.appendChars(n,0,4),i.append("00000"),i.append(n[4]);break;default:i.appendChars(n,0,5),i.append("0000"),i.append(s);break}return r.length>=8&&i.append(r.charAt(7)),i.toString()},e.MIDDLE_END_PATTERN=Int32Array.from([1,1,1,1,1,1]),e.NUMSYS_AND_CHECK_DIGIT_PATTERNS=[Int32Array.from([56,52,50,49,44,38,35,42,41,37]),Int32Array.from([7,11,13,14,19,25,28,21,22,1])],e}(wr),YD=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var s in i)i.hasOwnProperty(s)&&(n[s]=i[s])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),ey=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},U1=function(t){YD(e,t);function e(r){var n=t.call(this)||this,i=r==null?null:r.get(Wt.POSSIBLE_FORMATS),s=[];return i!=null&&(i.indexOf(ke.EAN_13)>-1&&s.push(new Dp),i.indexOf(ke.UPC_A)>-1&&s.push(new Qv),i.indexOf(ke.EAN_8)>-1&&s.push(new qv),i.indexOf(ke.UPC_E)>-1&&s.push(new Jv)),s.length===0&&(s.push(new Dp),s.push(new Qv),s.push(new qv),s.push(new Jv)),n.readers=s,n}return e.prototype.decodeRow=function(r,n,i){var s,o;try{for(var u=ey(this.readers),f=u.next();!f.done;f=u.next()){var h=f.value;try{var m=h.decodeRow(r,n,i),v=m.getBarcodeFormat()===ke.EAN_13&&m.getText().charAt(0)==="0",w=i==null?null:i.get(Wt.POSSIBLE_FORMATS),C=w==null||w.includes(ke.UPC_A);if(v&&C){var N=m.getRawBytes(),b=new sn(m.getText().substring(1),N,N?N.length:null,m.getResultPoints(),ke.UPC_A);return b.putAllMetadata(m.getResultMetadata()),b}return m}catch{}}}catch(R){s={error:R}}finally{try{f&&!f.done&&(o=u.return)&&o.call(u)}finally{if(s)throw s.error}}throw new ie},e.prototype.reset=function(){var r,n;try{for(var i=ey(this.readers),s=i.next();!s.done;s=i.next()){var o=s.value;o.reset()}}catch(u){r={error:u}}finally{try{s&&!s.done&&(n=i.return)&&n.call(i)}finally{if(r)throw r.error}}},e}(Sr),$D=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var s in i)i.hasOwnProperty(s)&&(n[s]=i[s])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),KD=function(t){$D(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.CODA_BAR_CHAR_SET={nnnnnww:"0",nnnnwwn:"1",nnnwnnw:"2",wwnnnnn:"3",nnwnnwn:"4",wnnnnwn:"5",nwnnnnw:"6",nwnnwnn:"7",nwwnnnn:"8",wnnwnnn:"9",nnnwwnn:"-",nnwwnnn:"$",wnnnwnw:":",wnwnnnw:"/",wnwnwnn:".",nnwwwww:"+",nnwwnwn:"A",nwnwnnw:"B",nnnwnww:"C",nnnwwwn:"D"},r}return e.prototype.decodeRow=function(r,n,i){var s=this.getValidRowData(n);if(!s)throw new ie;var o=this.codaBarDecodeRow(s.row);if(!o)throw new ie;return new sn(o,null,0,[new Re(s.left,r),new Re(s.right,r)],ke.CODABAR,new Date().getTime())},e.prototype.getValidRowData=function(r){var n=r.toArray(),i=n.indexOf(!0);if(i===-1)return null;var s=n.lastIndexOf(!0);if(s<=i)return null;n=n.slice(i,s+1);for(var o=[],u=n[0],f=1,h=1;h<n.length;h++)n[h]===u?f++:(u=n[h],o.push(f),f=1);return o.push(f),o.length<23&&(o.length+1)%8!==0?null:{row:o,left:i,right:s}},e.prototype.codaBarDecodeRow=function(r){for(var n=[],i=Math.ceil(r.reduce(function(f,h){return(f+h)/2},0));r.length>0;){var s=r.splice(0,8).splice(0,7),o=s.map(function(f){return f<i?"n":"w"}).join("");if(this.CODA_BAR_CHAR_SET[o]===void 0)return null;n.push(this.CODA_BAR_CHAR_SET[o])}var u=n.join("");return this.validCodaBarString(u)?u:null},e.prototype.validCodaBarString=function(r){var n=/^[A-D].{1,}[A-D]$/;return n.test(r)},e}(Sr),ZD=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var s in i)i.hasOwnProperty(s)&&(n[s]=i[s])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),qD=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},Ga=function(t){ZD(e,t);function e(){var r=t.call(this)||this;return r.decodeFinderCounters=new Int32Array(4),r.dataCharacterCounters=new Int32Array(8),r.oddRoundingErrors=new Array(4),r.evenRoundingErrors=new Array(4),r.oddCounts=new Array(r.dataCharacterCounters.length/2),r.evenCounts=new Array(r.dataCharacterCounters.length/2),r}return e.prototype.getDecodeFinderCounters=function(){return this.decodeFinderCounters},e.prototype.getDataCharacterCounters=function(){return this.dataCharacterCounters},e.prototype.getOddRoundingErrors=function(){return this.oddRoundingErrors},e.prototype.getEvenRoundingErrors=function(){return this.evenRoundingErrors},e.prototype.getOddCounts=function(){return this.oddCounts},e.prototype.getEvenCounts=function(){return this.evenCounts},e.prototype.parseFinderValue=function(r,n){for(var i=0;i<n.length;i++)if(Sr.patternMatchVariance(r,n[i],e.MAX_INDIVIDUAL_VARIANCE)<e.MAX_AVG_VARIANCE)return i;throw new ie},e.count=function(r){return pt.sum(new Int32Array(r))},e.increment=function(r,n){for(var i=0,s=n[0],o=1;o<r.length;o++)n[o]>s&&(s=n[o],i=o);r[i]++},e.decrement=function(r,n){for(var i=0,s=n[0],o=1;o<r.length;o++)n[o]<s&&(s=n[o],i=o);r[i]--},e.isFinderPattern=function(r){var n,i,s=r[0]+r[1],o=s+r[2]+r[3],u=s/o;if(u>=e.MIN_FINDER_PATTERN_RATIO&&u<=e.MAX_FINDER_PATTERN_RATIO){var f=Number.MAX_SAFE_INTEGER,h=Number.MIN_SAFE_INTEGER;try{for(var m=qD(r),v=m.next();!v.done;v=m.next()){var w=v.value;w>h&&(h=w),w<f&&(f=w)}}catch(C){n={error:C}}finally{try{v&&!v.done&&(i=m.return)&&i.call(m)}finally{if(n)throw n.error}}return h<10*f}return!1},e.MAX_AVG_VARIANCE=.2,e.MAX_INDIVIDUAL_VARIANCE=.45,e.MIN_FINDER_PATTERN_RATIO=9.5/12,e.MAX_FINDER_PATTERN_RATIO=12.5/14,e}(Sr),Df=function(){function t(e,r){this.value=e,this.checksumPortion=r}return t.prototype.getValue=function(){return this.value},t.prototype.getChecksumPortion=function(){return this.checksumPortion},t.prototype.toString=function(){return this.value+"("+this.checksumPortion+")"},t.prototype.equals=function(e){if(!(e instanceof t))return!1;var r=e;return this.value===r.value&&this.checksumPortion===r.checksumPortion},t.prototype.hashCode=function(){return this.value^this.checksumPortion},t}(),lb=function(){function t(e,r,n,i,s){this.value=e,this.startEnd=r,this.value=e,this.startEnd=r,this.resultPoints=new Array,this.resultPoints.push(new Re(n,s)),this.resultPoints.push(new Re(i,s))}return t.prototype.getValue=function(){return this.value},t.prototype.getStartEnd=function(){return this.startEnd},t.prototype.getResultPoints=function(){return this.resultPoints},t.prototype.equals=function(e){if(!(e instanceof t))return!1;var r=e;return this.value===r.value},t.prototype.hashCode=function(){return this.value},t}(),QD=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},$o=function(){function t(){}return t.getRSSvalue=function(e,r,n){var i,s,o=0;try{for(var u=QD(e),f=u.next();!f.done;f=u.next()){var h=f.value;o+=h}}catch(S){i={error:S}}finally{try{f&&!f.done&&(s=u.return)&&s.call(u)}finally{if(i)throw i.error}}for(var m=0,v=0,w=e.length,C=0;C<w-1;C++){var N=void 0;for(N=1,v|=1<<C;N<e[C];N++,v&=~(1<<C)){var b=t.combins(o-N-1,w-C-2);if(n&&v===0&&o-N-(w-C-1)>=w-C-1&&(b-=t.combins(o-N-(w-C),w-C-2)),w-C-1>1){for(var R=0,_=o-N-(w-C-2);_>r;_--)R+=t.combins(o-N-_-1,w-C-3);b-=R*(w-1-C)}else o-N>r&&b--;m+=b}o-=N}return m},t.combins=function(e,r){var n,i;e-r>r?(i=r,n=e-r):(i=e-r,n=r);for(var s=1,o=1,u=e;u>n;u--)s*=u,o<=i&&(s/=o,o++);for(;o<=i;)s/=o,o++;return s},t}(),JD=function(){function t(){}return t.buildBitArray=function(e){var r=e.length*2-1;e[e.length-1].getRightChar()==null&&(r-=1);for(var n=12*r,i=new Pr(n),s=0,o=e[0],u=o.getRightChar().getValue(),f=11;f>=0;--f)u&1<<f&&i.set(s),s++;for(var f=1;f<e.length;++f){for(var h=e[f],m=h.getLeftChar().getValue(),v=11;v>=0;--v)m&1<<v&&i.set(s),s++;if(h.getRightChar()!==null)for(var w=h.getRightChar().getValue(),v=11;v>=0;--v)w&1<<v&&i.set(s),s++}return i},t}(),Ua=function(){function t(e,r){r?this.decodedInformation=null:(this.finished=e,this.decodedInformation=r)}return t.prototype.getDecodedInformation=function(){return this.decodedInformation},t.prototype.isFinished=function(){return this.finished},t}(),zg=function(){function t(e){this.newPosition=e}return t.prototype.getNewPosition=function(){return this.newPosition},t}(),ej=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var s in i)i.hasOwnProperty(s)&&(n[s]=i[s])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),wi=function(t){ej(e,t);function e(r,n){var i=t.call(this,r)||this;return i.value=n,i}return e.prototype.getValue=function(){return this.value},e.prototype.isFNC1=function(){return this.value===e.FNC1},e.FNC1="$",e}(zg),tj=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var s in i)i.hasOwnProperty(s)&&(n[s]=i[s])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),Va=function(t){tj(e,t);function e(r,n,i){var s=t.call(this,r)||this;return i?(s.remaining=!0,s.remainingValue=s.remainingValue):(s.remaining=!1,s.remainingValue=0),s.newString=n,s}return e.prototype.getNewString=function(){return this.newString},e.prototype.isRemaining=function(){return this.remaining},e.prototype.getRemainingValue=function(){return this.remainingValue},e}(zg),rj=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var s in i)i.hasOwnProperty(s)&&(n[s]=i[s])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),Do=function(t){rj(e,t);function e(r,n,i){var s=t.call(this,r)||this;if(n<0||n>10||i<0||i>10)throw new me;return s.firstDigit=n,s.secondDigit=i,s}return e.prototype.getFirstDigit=function(){return this.firstDigit},e.prototype.getSecondDigit=function(){return this.secondDigit},e.prototype.getValue=function(){return this.firstDigit*10+this.secondDigit},e.prototype.isFirstDigitFNC1=function(){return this.firstDigit===e.FNC1},e.prototype.isSecondDigitFNC1=function(){return this.secondDigit===e.FNC1},e.prototype.isAnyFNC1=function(){return this.firstDigit===e.FNC1||this.secondDigit===e.FNC1},e.FNC1=10,e}(zg),gd=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},nj=function(){function t(){}return t.parseFieldsInGeneralPurpose=function(e){var r,n,i,s,o,u,f,h;if(!e)return null;if(e.length<2)throw new ie;var m=e.substring(0,2);try{for(var v=gd(t.TWO_DIGIT_DATA_LENGTH),w=v.next();!w.done;w=v.next()){var C=w.value;if(C[0]===m)return C[1]===t.VARIABLE_LENGTH?t.processVariableAI(2,C[2],e):t.processFixedAI(2,C[1],e)}}catch(k){r={error:k}}finally{try{w&&!w.done&&(n=v.return)&&n.call(v)}finally{if(r)throw r.error}}if(e.length<3)throw new ie;var N=e.substring(0,3);try{for(var b=gd(t.THREE_DIGIT_DATA_LENGTH),R=b.next();!R.done;R=b.next()){var C=R.value;if(C[0]===N)return C[1]===t.VARIABLE_LENGTH?t.processVariableAI(3,C[2],e):t.processFixedAI(3,C[1],e)}}catch(k){i={error:k}}finally{try{R&&!R.done&&(s=b.return)&&s.call(b)}finally{if(i)throw i.error}}try{for(var _=gd(t.THREE_DIGIT_PLUS_DIGIT_DATA_LENGTH),S=_.next();!S.done;S=_.next()){var C=S.value;if(C[0]===N)return C[1]===t.VARIABLE_LENGTH?t.processVariableAI(4,C[2],e):t.processFixedAI(4,C[1],e)}}catch(k){o={error:k}}finally{try{S&&!S.done&&(u=_.return)&&u.call(_)}finally{if(o)throw o.error}}if(e.length<4)throw new ie;var T=e.substring(0,4);try{for(var P=gd(t.FOUR_DIGIT_DATA_LENGTH),B=P.next();!B.done;B=P.next()){var C=B.value;if(C[0]===T)return C[1]===t.VARIABLE_LENGTH?t.processVariableAI(4,C[2],e):t.processFixedAI(4,C[1],e)}}catch(k){f={error:k}}finally{try{B&&!B.done&&(h=P.return)&&h.call(P)}finally{if(f)throw f.error}}throw new ie},t.processFixedAI=function(e,r,n){if(n.length<e)throw new ie;var i=n.substring(0,e);if(n.length<e+r)throw new ie;var s=n.substring(e,e+r),o=n.substring(e+r),u="("+i+")"+s,f=t.parseFieldsInGeneralPurpose(o);return f==null?u:u+f},t.processVariableAI=function(e,r,n){var i=n.substring(0,e),s;n.length<e+r?s=n.length:s=e+r;var o=n.substring(e,s),u=n.substring(s),f="("+i+")"+o,h=t.parseFieldsInGeneralPurpose(u);return h==null?f:f+h},t.VARIABLE_LENGTH=[],t.TWO_DIGIT_DATA_LENGTH=[["00",18],["01",14],["02",14],["10",t.VARIABLE_LENGTH,20],["11",6],["12",6],["13",6],["15",6],["17",6],["20",2],["21",t.VARIABLE_LENGTH,20],["22",t.VARIABLE_LENGTH,29],["30",t.VARIABLE_LENGTH,8],["37",t.VARIABLE_LENGTH,8],["90",t.VARIABLE_LENGTH,30],["91",t.VARIABLE_LENGTH,30],["92",t.VARIABLE_LENGTH,30],["93",t.VARIABLE_LENGTH,30],["94",t.VARIABLE_LENGTH,30],["95",t.VARIABLE_LENGTH,30],["96",t.VARIABLE_LENGTH,30],["97",t.VARIABLE_LENGTH,3],["98",t.VARIABLE_LENGTH,30],["99",t.VARIABLE_LENGTH,30]],t.THREE_DIGIT_DATA_LENGTH=[["240",t.VARIABLE_LENGTH,30],["241",t.VARIABLE_LENGTH,30],["242",t.VARIABLE_LENGTH,6],["250",t.VARIABLE_LENGTH,30],["251",t.VARIABLE_LENGTH,30],["253",t.VARIABLE_LENGTH,17],["254",t.VARIABLE_LENGTH,20],["400",t.VARIABLE_LENGTH,30],["401",t.VARIABLE_LENGTH,30],["402",17],["403",t.VARIABLE_LENGTH,30],["410",13],["411",13],["412",13],["413",13],["414",13],["420",t.VARIABLE_LENGTH,20],["421",t.VARIABLE_LENGTH,15],["422",3],["423",t.VARIABLE_LENGTH,15],["424",3],["425",3],["426",3]],t.THREE_DIGIT_PLUS_DIGIT_DATA_LENGTH=[["310",6],["311",6],["312",6],["313",6],["314",6],["315",6],["316",6],["320",6],["321",6],["322",6],["323",6],["324",6],["325",6],["326",6],["327",6],["328",6],["329",6],["330",6],["331",6],["332",6],["333",6],["334",6],["335",6],["336",6],["340",6],["341",6],["342",6],["343",6],["344",6],["345",6],["346",6],["347",6],["348",6],["349",6],["350",6],["351",6],["352",6],["353",6],["354",6],["355",6],["356",6],["357",6],["360",6],["361",6],["362",6],["363",6],["364",6],["365",6],["366",6],["367",6],["368",6],["369",6],["390",t.VARIABLE_LENGTH,15],["391",t.VARIABLE_LENGTH,18],["392",t.VARIABLE_LENGTH,15],["393",t.VARIABLE_LENGTH,18],["703",t.VARIABLE_LENGTH,30]],t.FOUR_DIGIT_DATA_LENGTH=[["7001",13],["7002",t.VARIABLE_LENGTH,30],["7003",10],["8001",14],["8002",t.VARIABLE_LENGTH,20],["8003",t.VARIABLE_LENGTH,30],["8004",t.VARIABLE_LENGTH,30],["8005",6],["8006",18],["8007",t.VARIABLE_LENGTH,30],["8008",t.VARIABLE_LENGTH,12],["8018",18],["8020",t.VARIABLE_LENGTH,25],["8100",6],["8101",10],["8102",2],["8110",t.VARIABLE_LENGTH,70],["8200",t.VARIABLE_LENGTH,70]],t}(),Vd=function(){function t(e){this.buffer=new Qe,this.information=e}return t.prototype.decodeAllCodes=function(e,r){var n=r,i=null;do{var s=this.decodeGeneralPurposeField(n,i),o=nj.parseFieldsInGeneralPurpose(s.getNewString());if(o!=null&&e.append(o),s.isRemaining()?i=""+s.getRemainingValue():i=null,n===s.getNewPosition())break;n=s.getNewPosition()}while(!0);return e.toString()},t.prototype.isStillNumeric=function(e){if(e+7>this.information.getSize())return e+4<=this.information.getSize();for(var r=e;r<e+3;++r)if(this.information.get(r))return!0;return this.information.get(e+3)},t.prototype.decodeNumeric=function(e){if(e+7>this.information.getSize()){var r=this.extractNumericValueFromBitArray(e,4);return r===0?new Do(this.information.getSize(),Do.FNC1,Do.FNC1):new Do(this.information.getSize(),r-1,Do.FNC1)}var n=this.extractNumericValueFromBitArray(e,7),i=(n-8)/11,s=(n-8)%11;return new Do(e+7,i,s)},t.prototype.extractNumericValueFromBitArray=function(e,r){return t.extractNumericValueFromBitArray(this.information,e,r)},t.extractNumericValueFromBitArray=function(e,r,n){for(var i=0,s=0;s<n;++s)e.get(r+s)&&(i|=1<<n-s-1);return i},t.prototype.decodeGeneralPurposeField=function(e,r){this.buffer.setLengthToZero(),r!=null&&this.buffer.append(r),this.current.setPosition(e);var n=this.parseBlocks();return n!=null&&n.isRemaining()?new Va(this.current.getPosition(),this.buffer.toString(),n.getRemainingValue()):new Va(this.current.getPosition(),this.buffer.toString())},t.prototype.parseBlocks=function(){var e,r;do{var n=this.current.getPosition();this.current.isAlpha()?(r=this.parseAlphaBlock(),e=r.isFinished()):this.current.isIsoIec646()?(r=this.parseIsoIec646Block(),e=r.isFinished()):(r=this.parseNumericBlock(),e=r.isFinished());var i=n!==this.current.getPosition();if(!i&&!e)break}while(!e);return r.getDecodedInformation()},t.prototype.parseNumericBlock=function(){for(;this.isStillNumeric(this.current.getPosition());){var e=this.decodeNumeric(this.current.getPosition());if(this.current.setPosition(e.getNewPosition()),e.isFirstDigitFNC1()){var r=void 0;return e.isSecondDigitFNC1()?r=new Va(this.current.getPosition(),this.buffer.toString()):r=new Va(this.current.getPosition(),this.buffer.toString(),e.getSecondDigit()),new Ua(!0,r)}if(this.buffer.append(e.getFirstDigit()),e.isSecondDigitFNC1()){var r=new Va(this.current.getPosition(),this.buffer.toString());return new Ua(!0,r)}this.buffer.append(e.getSecondDigit())}return this.isNumericToAlphaNumericLatch(this.current.getPosition())&&(this.current.setAlpha(),this.current.incrementPosition(4)),new Ua(!1)},t.prototype.parseIsoIec646Block=function(){for(;this.isStillIsoIec646(this.current.getPosition());){var e=this.decodeIsoIec646(this.current.getPosition());if(this.current.setPosition(e.getNewPosition()),e.isFNC1()){var r=new Va(this.current.getPosition(),this.buffer.toString());return new Ua(!0,r)}this.buffer.append(e.getValue())}return this.isAlphaOr646ToNumericLatch(this.current.getPosition())?(this.current.incrementPosition(3),this.current.setNumeric()):this.isAlphaTo646ToAlphaLatch(this.current.getPosition())&&(this.current.getPosition()+5<this.information.getSize()?this.current.incrementPosition(5):this.current.setPosition(this.information.getSize()),this.current.setAlpha()),new Ua(!1)},t.prototype.parseAlphaBlock=function(){for(;this.isStillAlpha(this.current.getPosition());){var e=this.decodeAlphanumeric(this.current.getPosition());if(this.current.setPosition(e.getNewPosition()),e.isFNC1()){var r=new Va(this.current.getPosition(),this.buffer.toString());return new Ua(!0,r)}this.buffer.append(e.getValue())}return this.isAlphaOr646ToNumericLatch(this.current.getPosition())?(this.current.incrementPosition(3),this.current.setNumeric()):this.isAlphaTo646ToAlphaLatch(this.current.getPosition())&&(this.current.getPosition()+5<this.information.getSize()?this.current.incrementPosition(5):this.current.setPosition(this.information.getSize()),this.current.setIsoIec646()),new Ua(!1)},t.prototype.isStillIsoIec646=function(e){if(e+5>this.information.getSize())return!1;var r=this.extractNumericValueFromBitArray(e,5);if(r>=5&&r<16)return!0;if(e+7>this.information.getSize())return!1;var n=this.extractNumericValueFromBitArray(e,7);if(n>=64&&n<116)return!0;if(e+8>this.information.getSize())return!1;var i=this.extractNumericValueFromBitArray(e,8);return i>=232&&i<253},t.prototype.decodeIsoIec646=function(e){var r=this.extractNumericValueFromBitArray(e,5);if(r===15)return new wi(e+5,wi.FNC1);if(r>=5&&r<15)return new wi(e+5,"0"+(r-5));var n=this.extractNumericValueFromBitArray(e,7);if(n>=64&&n<90)return new wi(e+7,""+(n+1));if(n>=90&&n<116)return new wi(e+7,""+(n+7));var i=this.extractNumericValueFromBitArray(e,8),s;switch(i){case 232:s="!";break;case 233:s='"';break;case 234:s="%";break;case 235:s="&";break;case 236:s="'";break;case 237:s="(";break;case 238:s=")";break;case 239:s="*";break;case 240:s="+";break;case 241:s=",";break;case 242:s="-";break;case 243:s=".";break;case 244:s="/";break;case 245:s=":";break;case 246:s=";";break;case 247:s="<";break;case 248:s="=";break;case 249:s=">";break;case 250:s="?";break;case 251:s="_";break;case 252:s=" ";break;default:throw new me}return new wi(e+8,s)},t.prototype.isStillAlpha=function(e){if(e+5>this.information.getSize())return!1;var r=this.extractNumericValueFromBitArray(e,5);if(r>=5&&r<16)return!0;if(e+6>this.information.getSize())return!1;var n=this.extractNumericValueFromBitArray(e,6);return n>=16&&n<63},t.prototype.decodeAlphanumeric=function(e){var r=this.extractNumericValueFromBitArray(e,5);if(r===15)return new wi(e+5,wi.FNC1);if(r>=5&&r<15)return new wi(e+5,"0"+(r-5));var n=this.extractNumericValueFromBitArray(e,6);if(n>=32&&n<58)return new wi(e+6,""+(n+33));var i;switch(n){case 58:i="*";break;case 59:i=",";break;case 60:i="-";break;case 61:i=".";break;case 62:i="/";break;default:throw new Nu("Decoding invalid alphanumeric value: "+n)}return new wi(e+6,i)},t.prototype.isAlphaTo646ToAlphaLatch=function(e){if(e+1>this.information.getSize())return!1;for(var r=0;r<5&&r+e<this.information.getSize();++r)if(r===2){if(!this.information.get(e+2))return!1}else if(this.information.get(e+r))return!1;return!0},t.prototype.isAlphaOr646ToNumericLatch=function(e){if(e+3>this.information.getSize())return!1;for(var r=e;r<e+3;++r)if(this.information.get(r))return!1;return!0},t.prototype.isNumericToAlphaNumericLatch=function(e){if(e+1>this.information.getSize())return!1;for(var r=0;r<4&&r+e<this.information.getSize();++r)if(this.information.get(e+r))return!1;return!0},t}(),cb=function(){function t(e){this.information=e,this.generalDecoder=new Vd(e)}return t.prototype.getInformation=function(){return this.information},t.prototype.getGeneralDecoder=function(){return this.generalDecoder},t}(),ij=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var s in i)i.hasOwnProperty(s)&&(n[s]=i[s])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),Ii=function(t){ij(e,t);function e(r){return t.call(this,r)||this}return e.prototype.encodeCompressedGtin=function(r,n){r.append("(01)");var i=r.length();r.append("9"),this.encodeCompressedGtinWithoutAI(r,n,i)},e.prototype.encodeCompressedGtinWithoutAI=function(r,n,i){for(var s=0;s<4;++s){var o=this.getGeneralDecoder().extractNumericValueFromBitArray(n+10*s,10);o/100===0&&r.append("0"),o/10===0&&r.append("0"),r.append(o)}e.appendCheckDigit(r,i)},e.appendCheckDigit=function(r,n){for(var i=0,s=0;s<13;s++){var o=r.charAt(s+n).charCodeAt(0)-48;i+=s&1?o:3*o}i=10-i%10,i===10&&(i=0),r.append(i)},e.GTIN_SIZE=40,e}(cb),sj=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var s in i)i.hasOwnProperty(s)&&(n[s]=i[s])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),aj=function(t){sj(e,t);function e(r){return t.call(this,r)||this}return e.prototype.parseInformation=function(){var r=new Qe;r.append("(01)");var n=r.length(),i=this.getGeneralDecoder().extractNumericValueFromBitArray(e.HEADER_SIZE,4);return r.append(i),this.encodeCompressedGtinWithoutAI(r,e.HEADER_SIZE+4,n),this.getGeneralDecoder().decodeAllCodes(r,e.HEADER_SIZE+44)},e.HEADER_SIZE=4,e}(Ii),oj=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var s in i)i.hasOwnProperty(s)&&(n[s]=i[s])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),lj=function(t){oj(e,t);function e(r){return t.call(this,r)||this}return e.prototype.parseInformation=function(){var r=new Qe;return this.getGeneralDecoder().decodeAllCodes(r,e.HEADER_SIZE)},e.HEADER_SIZE=5,e}(cb),cj=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var s in i)i.hasOwnProperty(s)&&(n[s]=i[s])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),Hd=function(t){cj(e,t);function e(r){return t.call(this,r)||this}return e.prototype.encodeCompressedWeight=function(r,n,i){var s=this.getGeneralDecoder().extractNumericValueFromBitArray(n,i);this.addWeightCode(r,s);for(var o=this.checkWeight(s),u=1e5,f=0;f<5;++f)o/u===0&&r.append("0"),u/=10;r.append(o)},e}(Ii),uj=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var s in i)i.hasOwnProperty(s)&&(n[s]=i[s])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),ub=function(t){uj(e,t);function e(r){return t.call(this,r)||this}return e.prototype.parseInformation=function(){if(this.getInformation().getSize()!==e.HEADER_SIZE+Hd.GTIN_SIZE+e.WEIGHT_SIZE)throw new ie;var r=new Qe;return this.encodeCompressedGtin(r,e.HEADER_SIZE),this.encodeCompressedWeight(r,e.HEADER_SIZE+Hd.GTIN_SIZE,e.WEIGHT_SIZE),r.toString()},e.HEADER_SIZE=5,e.WEIGHT_SIZE=15,e}(Hd),dj=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var s in i)i.hasOwnProperty(s)&&(n[s]=i[s])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),fj=function(t){dj(e,t);function e(r){return t.call(this,r)||this}return e.prototype.addWeightCode=function(r,n){r.append("(3103)")},e.prototype.checkWeight=function(r){return r},e}(ub),hj=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var s in i)i.hasOwnProperty(s)&&(n[s]=i[s])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),pj=function(t){hj(e,t);function e(r){return t.call(this,r)||this}return e.prototype.addWeightCode=function(r,n){n<1e4?r.append("(3202)"):r.append("(3203)")},e.prototype.checkWeight=function(r){return r<1e4?r:r-1e4},e}(ub),xj=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var s in i)i.hasOwnProperty(s)&&(n[s]=i[s])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),gj=function(t){xj(e,t);function e(r){return t.call(this,r)||this}return e.prototype.parseInformation=function(){if(this.getInformation().getSize()<e.HEADER_SIZE+Ii.GTIN_SIZE)throw new ie;var r=new Qe;this.encodeCompressedGtin(r,e.HEADER_SIZE);var n=this.getGeneralDecoder().extractNumericValueFromBitArray(e.HEADER_SIZE+Ii.GTIN_SIZE,e.LAST_DIGIT_SIZE);r.append("(392"),r.append(n),r.append(")");var i=this.getGeneralDecoder().decodeGeneralPurposeField(e.HEADER_SIZE+Ii.GTIN_SIZE+e.LAST_DIGIT_SIZE,null);return r.append(i.getNewString()),r.toString()},e.HEADER_SIZE=8,e.LAST_DIGIT_SIZE=2,e}(Ii),mj=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var s in i)i.hasOwnProperty(s)&&(n[s]=i[s])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),vj=function(t){mj(e,t);function e(r){return t.call(this,r)||this}return e.prototype.parseInformation=function(){if(this.getInformation().getSize()<e.HEADER_SIZE+Ii.GTIN_SIZE)throw new ie;var r=new Qe;this.encodeCompressedGtin(r,e.HEADER_SIZE);var n=this.getGeneralDecoder().extractNumericValueFromBitArray(e.HEADER_SIZE+Ii.GTIN_SIZE,e.LAST_DIGIT_SIZE);r.append("(393"),r.append(n),r.append(")");var i=this.getGeneralDecoder().extractNumericValueFromBitArray(e.HEADER_SIZE+Ii.GTIN_SIZE+e.LAST_DIGIT_SIZE,e.FIRST_THREE_DIGITS_SIZE);i/100===0&&r.append("0"),i/10===0&&r.append("0"),r.append(i);var s=this.getGeneralDecoder().decodeGeneralPurposeField(e.HEADER_SIZE+Ii.GTIN_SIZE+e.LAST_DIGIT_SIZE+e.FIRST_THREE_DIGITS_SIZE,null);return r.append(s.getNewString()),r.toString()},e.HEADER_SIZE=8,e.LAST_DIGIT_SIZE=2,e.FIRST_THREE_DIGITS_SIZE=10,e}(Ii),yj=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var s in i)i.hasOwnProperty(s)&&(n[s]=i[s])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),Vs=function(t){yj(e,t);function e(r,n,i){var s=t.call(this,r)||this;return s.dateCode=i,s.firstAIdigits=n,s}return e.prototype.parseInformation=function(){if(this.getInformation().getSize()!==e.HEADER_SIZE+e.GTIN_SIZE+e.WEIGHT_SIZE+e.DATE_SIZE)throw new ie;var r=new Qe;return this.encodeCompressedGtin(r,e.HEADER_SIZE),this.encodeCompressedWeight(r,e.HEADER_SIZE+e.GTIN_SIZE,e.WEIGHT_SIZE),this.encodeCompressedDate(r,e.HEADER_SIZE+e.GTIN_SIZE+e.WEIGHT_SIZE),r.toString()},e.prototype.encodeCompressedDate=function(r,n){var i=this.getGeneralDecoder().extractNumericValueFromBitArray(n,e.DATE_SIZE);if(i!==38400){r.append("("),r.append(this.dateCode),r.append(")");var s=i%32;i/=32;var o=i%12+1;i/=12;var u=i;u/10===0&&r.append("0"),r.append(u),o/10===0&&r.append("0"),r.append(o),s/10===0&&r.append("0"),r.append(s)}},e.prototype.addWeightCode=function(r,n){r.append("("),r.append(this.firstAIdigits),r.append(n/1e5),r.append(")")},e.prototype.checkWeight=function(r){return r%1e5},e.HEADER_SIZE=8,e.WEIGHT_SIZE=20,e.DATE_SIZE=16,e}(Hd);function wj(t){try{if(t.get(1))return new aj(t);if(!t.get(2))return new lj(t);var e=Vd.extractNumericValueFromBitArray(t,1,4);switch(e){case 4:return new fj(t);case 5:return new pj(t)}var r=Vd.extractNumericValueFromBitArray(t,1,5);switch(r){case 12:return new gj(t);case 13:return new vj(t)}var n=Vd.extractNumericValueFromBitArray(t,1,7);switch(n){case 56:return new Vs(t,"310","11");case 57:return new Vs(t,"320","11");case 58:return new Vs(t,"310","13");case 59:return new Vs(t,"320","13");case 60:return new Vs(t,"310","15");case 61:return new Vs(t,"320","15");case 62:return new Vs(t,"310","17");case 63:return new Vs(t,"320","17")}}catch(i){throw console.log(i),new Nu("unknown decoder: "+t)}}var ty=function(){function t(e,r,n,i){this.leftchar=e,this.rightchar=r,this.finderpattern=n,this.maybeLast=i}return t.prototype.mayBeLast=function(){return this.maybeLast},t.prototype.getLeftChar=function(){return this.leftchar},t.prototype.getRightChar=function(){return this.rightchar},t.prototype.getFinderPattern=function(){return this.finderpattern},t.prototype.mustBeLast=function(){return this.rightchar==null},t.prototype.toString=function(){return"[ "+this.leftchar+", "+this.rightchar+" : "+(this.finderpattern==null?"null":this.finderpattern.getValue())+" ]"},t.equals=function(e,r){return e instanceof t?t.equalsOrNull(e.leftchar,r.leftchar)&&t.equalsOrNull(e.rightchar,r.rightchar)&&t.equalsOrNull(e.finderpattern,r.finderpattern):!1},t.equalsOrNull=function(e,r){return e===null?r===null:t.equals(e,r)},t.prototype.hashCode=function(){var e=this.leftchar.getValue()^this.rightchar.getValue()^this.finderpattern.getValue();return e},t}(),Cj=function(){function t(e,r,n){this.pairs=e,this.rowNumber=r,this.wasReversed=n}return t.prototype.getPairs=function(){return this.pairs},t.prototype.getRowNumber=function(){return this.rowNumber},t.prototype.isReversed=function(){return this.wasReversed},t.prototype.isEquivalent=function(e){return this.checkEqualitity(this,e)},t.prototype.toString=function(){return"{ "+this.pairs+" }"},t.prototype.equals=function(e,r){return e instanceof t?this.checkEqualitity(e,r)&&e.wasReversed===r.wasReversed:!1},t.prototype.checkEqualitity=function(e,r){if(!(!e||!r)){var n;return e.forEach(function(i,s){r.forEach(function(o){i.getLeftChar().getValue()===o.getLeftChar().getValue()&&i.getRightChar().getValue()===o.getRightChar().getValue()&&i.getFinderPatter().getValue()===o.getFinderPatter().getValue()&&(n=!0)})}),n}},t}(),Ej=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var s in i)i.hasOwnProperty(s)&&(n[s]=i[s])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),Hs=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},Aj=function(t){Ej(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.pairs=new Array(e.MAX_PAIRS),r.rows=new Array,r.startEnd=[2],r}return e.prototype.decodeRow=function(r,n,i){this.pairs.length=0,this.startFromEven=!1;try{return e.constructResult(this.decodeRow2pairs(r,n))}catch{}return this.pairs.length=0,this.startFromEven=!0,e.constructResult(this.decodeRow2pairs(r,n))},e.prototype.reset=function(){this.pairs.length=0,this.rows.length=0},e.prototype.decodeRow2pairs=function(r,n){for(var i=!1;!i;)try{this.pairs.push(this.retrieveNextPair(n,this.pairs,r))}catch(u){if(u instanceof ie){if(!this.pairs.length)throw new ie;i=!0}}if(this.checkChecksum())return this.pairs;var s;if(this.rows.length?s=!0:s=!1,this.storeRow(r,!1),s){var o=this.checkRowsBoolean(!1);if(o!=null||(o=this.checkRowsBoolean(!0),o!=null))return o}throw new ie},e.prototype.checkRowsBoolean=function(r){if(this.rows.length>25)return this.rows.length=0,null;this.pairs.length=0,r&&(this.rows=this.rows.reverse());var n=null;try{n=this.checkRows(new Array,0)}catch(i){console.log(i)}return r&&(this.rows=this.rows.reverse()),n},e.prototype.checkRows=function(r,n){for(var i,s,o=n;o<this.rows.length;o++){var u=this.rows[o];this.pairs.length=0;try{for(var f=(i=void 0,Hs(r)),h=f.next();!h.done;h=f.next()){var m=h.value;this.pairs.push(m.getPairs())}}catch(w){i={error:w}}finally{try{h&&!h.done&&(s=f.return)&&s.call(f)}finally{if(i)throw i.error}}if(this.pairs.push(u.getPairs()),!!e.isValidSequence(this.pairs)){if(this.checkChecksum())return this.pairs;var v=new Array(r);v.push(u);try{return this.checkRows(v,o+1)}catch(w){console.log(w)}}}throw new ie},e.isValidSequence=function(r){var n,i;try{for(var s=Hs(e.FINDER_PATTERN_SEQUENCES),o=s.next();!o.done;o=s.next()){var u=o.value;if(!(r.length>u.length)){for(var f=!0,h=0;h<r.length;h++)if(r[h].getFinderPattern().getValue()!==u[h]){f=!1;break}if(f)return!0}}}catch(m){n={error:m}}finally{try{o&&!o.done&&(i=s.return)&&i.call(s)}finally{if(n)throw n.error}}return!1},e.prototype.storeRow=function(r,n){for(var i=0,s=!1,o=!1;i<this.rows.length;){var u=this.rows[i];if(u.getRowNumber()>r){o=u.isEquivalent(this.pairs);break}s=u.isEquivalent(this.pairs),i++}o||s||e.isPartialRow(this.pairs,this.rows)||(this.rows.push(i,new Cj(this.pairs,r,n)),this.removePartialRows(this.pairs,this.rows))},e.prototype.removePartialRows=function(r,n){var i,s,o,u,f,h;try{for(var m=Hs(n),v=m.next();!v.done;v=m.next()){var w=v.value;if(w.getPairs().length!==r.length){var C=!0;try{for(var N=(o=void 0,Hs(w.getPairs())),b=N.next();!b.done;b=N.next()){var R=b.value,_=!1;try{for(var S=(f=void 0,Hs(r)),T=S.next();!T.done;T=S.next()){var P=T.value;if(ty.equals(R,P)){_=!0;break}}}catch(B){f={error:B}}finally{try{T&&!T.done&&(h=S.return)&&h.call(S)}finally{if(f)throw f.error}}_||(C=!1)}}catch(B){o={error:B}}finally{try{b&&!b.done&&(u=N.return)&&u.call(N)}finally{if(o)throw o.error}}}}}catch(B){i={error:B}}finally{try{v&&!v.done&&(s=m.return)&&s.call(m)}finally{if(i)throw i.error}}},e.isPartialRow=function(r,n){var i,s,o,u,f,h;try{for(var m=Hs(n),v=m.next();!v.done;v=m.next()){var w=v.value,C=!0;try{for(var N=(o=void 0,Hs(r)),b=N.next();!b.done;b=N.next()){var R=b.value,_=!1;try{for(var S=(f=void 0,Hs(w.getPairs())),T=S.next();!T.done;T=S.next()){var P=T.value;if(R.equals(P)){_=!0;break}}}catch(B){f={error:B}}finally{try{T&&!T.done&&(h=S.return)&&h.call(S)}finally{if(f)throw f.error}}if(!_){C=!1;break}}}catch(B){o={error:B}}finally{try{b&&!b.done&&(u=N.return)&&u.call(N)}finally{if(o)throw o.error}}if(C)return!0}}catch(B){i={error:B}}finally{try{v&&!v.done&&(s=m.return)&&s.call(m)}finally{if(i)throw i.error}}return!1},e.prototype.getRows=function(){return this.rows},e.constructResult=function(r){var n=JD.buildBitArray(r),i=wj(n),s=i.parseInformation(),o=r[0].getFinderPattern().getResultPoints(),u=r[r.length-1].getFinderPattern().getResultPoints(),f=[o[0],o[1],u[0],u[1]];return new sn(s,null,null,f,ke.RSS_EXPANDED,null)},e.prototype.checkChecksum=function(){var r=this.pairs.get(0),n=r.getLeftChar(),i=r.getRightChar();if(i===null)return!1;for(var s=i.getChecksumPortion(),o=2,u=1;u<this.pairs.size();++u){var f=this.pairs.get(u);s+=f.getLeftChar().getChecksumPortion(),o++;var h=f.getRightChar();h!=null&&(s+=h.getChecksumPortion(),o++)}s%=211;var m=211*(o-4)+s;return m===n.getValue()},e.getNextSecondBar=function(r,n){var i;return r.get(n)?(i=r.getNextUnset(n),i=r.getNextSet(i)):(i=r.getNextSet(n),i=r.getNextUnset(i)),i},e.prototype.retrieveNextPair=function(r,n,i){var s=n.length%2===0;this.startFromEven&&(s=!s);var o,u=!0,f=-1;do this.findNextPair(r,n,f),o=this.parseFoundFinderPattern(r,i,s),o===null?f=e.getNextSecondBar(r,this.startEnd[0]):u=!1;while(u);var h=this.decodeDataCharacter(r,o,s,!0);if(!this.isEmptyPair(n)&&n[n.length-1].mustBeLast())throw new ie;var m;try{m=this.decodeDataCharacter(r,o,s,!1)}catch(v){m=null,console.log(v)}return new ty(h,m,o,!0)},e.prototype.isEmptyPair=function(r){return r.length===0},e.prototype.findNextPair=function(r,n,i){var s=this.getDecodeFinderCounters();s[0]=0,s[1]=0,s[2]=0,s[3]=0;var o=r.getSize(),u;if(i>=0)u=i;else if(this.isEmptyPair(n))u=0;else{var f=n[n.length-1];u=f.getFinderPattern().getStartEnd()[1]}var h=n.length%2!==0;this.startFromEven&&(h=!h);for(var m=!1;u<o&&(m=!r.get(u),!!m);)u++;for(var v=0,w=u,C=u;C<o;C++)if(r.get(C)!==m)s[v]++;else{if(v===3){if(h&&e.reverseCounters(s),e.isFinderPattern(s)){this.startEnd[0]=w,this.startEnd[1]=C;return}h&&e.reverseCounters(s),w+=s[0]+s[1],s[0]=s[2],s[1]=s[3],s[2]=0,s[3]=0,v--}else v++;s[v]=1,m=!m}throw new ie},e.reverseCounters=function(r){for(var n=r.length,i=0;i<n/2;++i){var s=r[i];r[i]=r[n-i-1],r[n-i-1]=s}},e.prototype.parseFoundFinderPattern=function(r,n,i){var s,o,u;if(i){for(var f=this.startEnd[0]-1;f>=0&&!r.get(f);)f--;f++,s=this.startEnd[0]-f,o=f,u=this.startEnd[1]}else o=this.startEnd[0],u=r.getNextUnset(this.startEnd[1]+1),s=u-this.startEnd[1];var h=this.getDecodeFinderCounters();Mt.arraycopy(h,0,h,1,h.length-1),h[0]=s;var m;try{m=this.parseFinderValue(h,e.FINDER_PATTERNS)}catch{return null}return new lb(m,[o,u],o,u,n)},e.prototype.decodeDataCharacter=function(r,n,i,s){for(var o=this.getDataCharacterCounters(),u=0;u<o.length;u++)o[u]=0;if(s)e.recordPatternInReverse(r,n.getStartEnd()[0],o);else{e.recordPattern(r,n.getStartEnd()[1],o);for(var f=0,h=o.length-1;f<h;f++,h--){var m=o[f];o[f]=o[h],o[h]=m}}var v=17,w=pt.sum(new Int32Array(o))/v,C=(n.getStartEnd()[1]-n.getStartEnd()[0])/15;if(Math.abs(w-C)/C>.3)throw new ie;for(var N=this.getOddCounts(),b=this.getEvenCounts(),R=this.getOddRoundingErrors(),_=this.getEvenRoundingErrors(),f=0;f<o.length;f++){var S=1*o[f]/w,T=S+.5;if(T<1){if(S<.3)throw new ie;T=1}else if(T>8){if(S>8.7)throw new ie;T=8}var P=f/2;f&1?(b[P]=T,_[P]=S-T):(N[P]=T,R[P]=S-T)}this.adjustOddEvenCounts(v);for(var B=4*n.getValue()+(i?0:2)+(s?0:1)-1,k=0,M=0,f=N.length-1;f>=0;f--){if(e.isNotA1left(n,i,s)){var F=e.WEIGHTS[B][2*f];M+=N[f]*F}k+=N[f]}for(var U=0,f=b.length-1;f>=0;f--)if(e.isNotA1left(n,i,s)){var F=e.WEIGHTS[B][2*f+1];U+=b[f]*F}var X=M+U;if(k&1||k>13||k<4)throw new ie;var ee=(13-k)/2,Z=e.SYMBOL_WIDEST[ee],ae=9-Z,K=$o.getRSSvalue(N,Z,!0),G=$o.getRSSvalue(b,ae,!1),ue=e.EVEN_TOTAL_SUBSET[ee],de=e.GSUM[ee],ne=K*ue+G+de;return new Df(ne,X)},e.isNotA1left=function(r,n,i){return!(r.getValue()===0&&n&&i)},e.prototype.adjustOddEvenCounts=function(r){var n=pt.sum(new Int32Array(this.getOddCounts())),i=pt.sum(new Int32Array(this.getEvenCounts())),s=!1,o=!1;n>13?o=!0:n<4&&(s=!0);var u=!1,f=!1;i>13?f=!0:i<4&&(u=!0);var h=n+i-r,m=(n&1)===1,v=(i&1)===0;if(h===1)if(m){if(v)throw new ie;o=!0}else{if(!v)throw new ie;f=!0}else if(h===-1)if(m){if(v)throw new ie;s=!0}else{if(!v)throw new ie;u=!0}else if(h===0){if(m){if(!v)throw new ie;n<i?(s=!0,f=!0):(o=!0,u=!0)}else if(v)throw new ie}else throw new ie;if(s){if(o)throw new ie;e.increment(this.getOddCounts(),this.getOddRoundingErrors())}if(o&&e.decrement(this.getOddCounts(),this.getOddRoundingErrors()),u){if(f)throw new ie;e.increment(this.getEvenCounts(),this.getOddRoundingErrors())}f&&e.decrement(this.getEvenCounts(),this.getEvenRoundingErrors())},e.SYMBOL_WIDEST=[7,5,4,3,1],e.EVEN_TOTAL_SUBSET=[4,20,52,104,204],e.GSUM=[0,348,1388,2948,3988],e.FINDER_PATTERNS=[Int32Array.from([1,8,4,1]),Int32Array.from([3,6,4,1]),Int32Array.from([3,4,6,1]),Int32Array.from([3,2,8,1]),Int32Array.from([2,6,5,1]),Int32Array.from([2,2,9,1])],e.WEIGHTS=[[1,3,9,27,81,32,96,77],[20,60,180,118,143,7,21,63],[189,145,13,39,117,140,209,205],[193,157,49,147,19,57,171,91],[62,186,136,197,169,85,44,132],[185,133,188,142,4,12,36,108],[113,128,173,97,80,29,87,50],[150,28,84,41,123,158,52,156],[46,138,203,187,139,206,196,166],[76,17,51,153,37,111,122,155],[43,129,176,106,107,110,119,146],[16,48,144,10,30,90,59,177],[109,116,137,200,178,112,125,164],[70,210,208,202,184,130,179,115],[134,191,151,31,93,68,204,190],[148,22,66,198,172,94,71,2],[6,18,54,162,64,192,154,40],[120,149,25,75,14,42,126,167],[79,26,78,23,69,207,199,175],[103,98,83,38,114,131,182,124],[161,61,183,127,170,88,53,159],[55,165,73,8,24,72,5,15],[45,135,194,160,58,174,100,89]],e.FINDER_PAT_A=0,e.FINDER_PAT_B=1,e.FINDER_PAT_C=2,e.FINDER_PAT_D=3,e.FINDER_PAT_E=4,e.FINDER_PAT_F=5,e.FINDER_PATTERN_SEQUENCES=[[e.FINDER_PAT_A,e.FINDER_PAT_A],[e.FINDER_PAT_A,e.FINDER_PAT_B,e.FINDER_PAT_B],[e.FINDER_PAT_A,e.FINDER_PAT_C,e.FINDER_PAT_B,e.FINDER_PAT_D],[e.FINDER_PAT_A,e.FINDER_PAT_E,e.FINDER_PAT_B,e.FINDER_PAT_D,e.FINDER_PAT_C],[e.FINDER_PAT_A,e.FINDER_PAT_E,e.FINDER_PAT_B,e.FINDER_PAT_D,e.FINDER_PAT_D,e.FINDER_PAT_F],[e.FINDER_PAT_A,e.FINDER_PAT_E,e.FINDER_PAT_B,e.FINDER_PAT_D,e.FINDER_PAT_E,e.FINDER_PAT_F,e.FINDER_PAT_F],[e.FINDER_PAT_A,e.FINDER_PAT_A,e.FINDER_PAT_B,e.FINDER_PAT_B,e.FINDER_PAT_C,e.FINDER_PAT_C,e.FINDER_PAT_D,e.FINDER_PAT_D],[e.FINDER_PAT_A,e.FINDER_PAT_A,e.FINDER_PAT_B,e.FINDER_PAT_B,e.FINDER_PAT_C,e.FINDER_PAT_C,e.FINDER_PAT_D,e.FINDER_PAT_E,e.FINDER_PAT_E],[e.FINDER_PAT_A,e.FINDER_PAT_A,e.FINDER_PAT_B,e.FINDER_PAT_B,e.FINDER_PAT_C,e.FINDER_PAT_C,e.FINDER_PAT_D,e.FINDER_PAT_E,e.FINDER_PAT_F,e.FINDER_PAT_F],[e.FINDER_PAT_A,e.FINDER_PAT_A,e.FINDER_PAT_B,e.FINDER_PAT_B,e.FINDER_PAT_C,e.FINDER_PAT_D,e.FINDER_PAT_D,e.FINDER_PAT_E,e.FINDER_PAT_E,e.FINDER_PAT_F,e.FINDER_PAT_F]],e.MAX_PAIRS=11,e}(Ga),bj=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var s in i)i.hasOwnProperty(s)&&(n[s]=i[s])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),Sj=function(t){bj(e,t);function e(r,n,i){var s=t.call(this,r,n)||this;return s.count=0,s.finderPattern=i,s}return e.prototype.getFinderPattern=function(){return this.finderPattern},e.prototype.getCount=function(){return this.count},e.prototype.incrementCount=function(){this.count++},e}(Df),Nj=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var s in i)i.hasOwnProperty(s)&&(n[s]=i[s])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),V1=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},ry=function(t){Nj(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.possibleLeftPairs=[],r.possibleRightPairs=[],r}return e.prototype.decodeRow=function(r,n,i){var s,o,u,f,h=this.decodePair(n,!1,r,i);e.addOrTally(this.possibleLeftPairs,h),n.reverse();var m=this.decodePair(n,!0,r,i);e.addOrTally(this.possibleRightPairs,m),n.reverse();try{for(var v=V1(this.possibleLeftPairs),w=v.next();!w.done;w=v.next()){var C=w.value;if(C.getCount()>1)try{for(var N=(u=void 0,V1(this.possibleRightPairs)),b=N.next();!b.done;b=N.next()){var R=b.value;if(R.getCount()>1&&e.checkChecksum(C,R))return e.constructResult(C,R)}}catch(_){u={error:_}}finally{try{b&&!b.done&&(f=N.return)&&f.call(N)}finally{if(u)throw u.error}}}}catch(_){s={error:_}}finally{try{w&&!w.done&&(o=v.return)&&o.call(v)}finally{if(s)throw s.error}}throw new ie},e.addOrTally=function(r,n){var i,s;if(n!=null){var o=!1;try{for(var u=V1(r),f=u.next();!f.done;f=u.next()){var h=f.value;if(h.getValue()===n.getValue()){h.incrementCount(),o=!0;break}}}catch(m){i={error:m}}finally{try{f&&!f.done&&(s=u.return)&&s.call(u)}finally{if(i)throw i.error}}o||r.push(n)}},e.prototype.reset=function(){this.possibleLeftPairs.length=0,this.possibleRightPairs.length=0},e.constructResult=function(r,n){for(var i=4537077*r.getValue()+n.getValue(),s=new String(i).toString(),o=new Qe,u=13-s.length;u>0;u--)o.append("0");o.append(s);for(var f=0,u=0;u<13;u++){var h=o.charAt(u).charCodeAt(0)-48;f+=u&1?h:3*h}f=10-f%10,f===10&&(f=0),o.append(f.toString());var m=r.getFinderPattern().getResultPoints(),v=n.getFinderPattern().getResultPoints();return new sn(o.toString(),null,0,[m[0],m[1],v[0],v[1]],ke.RSS_14,new Date().getTime())},e.checkChecksum=function(r,n){var i=(r.getChecksumPortion()+16*n.getChecksumPortion())%79,s=9*r.getFinderPattern().getValue()+n.getFinderPattern().getValue();return s>72&&s--,s>8&&s--,i===s},e.prototype.decodePair=function(r,n,i,s){try{var o=this.findFinderPattern(r,n),u=this.parseFoundFinderPattern(r,i,n,o),f=s==null?null:s.get(Wt.NEED_RESULT_POINT_CALLBACK);if(f!=null){var h=(o[0]+o[1])/2;n&&(h=r.getSize()-1-h),f.foundPossibleResultPoint(new Re(h,i))}var m=this.decodeDataCharacter(r,u,!0),v=this.decodeDataCharacter(r,u,!1);return new Sj(1597*m.getValue()+v.getValue(),m.getChecksumPortion()+4*v.getChecksumPortion(),u)}catch{return null}},e.prototype.decodeDataCharacter=function(r,n,i){for(var s=this.getDataCharacterCounters(),o=0;o<s.length;o++)s[o]=0;if(i)Sr.recordPatternInReverse(r,n.getStartEnd()[0],s);else{Sr.recordPattern(r,n.getStartEnd()[1]+1,s);for(var u=0,f=s.length-1;u<f;u++,f--){var h=s[u];s[u]=s[f],s[f]=h}}for(var m=i?16:15,v=pt.sum(new Int32Array(s))/m,w=this.getOddCounts(),C=this.getEvenCounts(),N=this.getOddRoundingErrors(),b=this.getEvenRoundingErrors(),u=0;u<s.length;u++){var R=s[u]/v,_=Math.floor(R+.5);_<1?_=1:_>8&&(_=8);var S=Math.floor(u/2);u&1?(C[S]=_,b[S]=R-_):(w[S]=_,N[S]=R-_)}this.adjustOddEvenCounts(i,m);for(var T=0,P=0,u=w.length-1;u>=0;u--)P*=9,P+=w[u],T+=w[u];for(var B=0,k=0,u=C.length-1;u>=0;u--)B*=9,B+=C[u],k+=C[u];var M=P+3*B;if(i){if(T&1||T>12||T<4)throw new ie;var F=(12-T)/2,U=e.OUTSIDE_ODD_WIDEST[F],X=9-U,ee=$o.getRSSvalue(w,U,!1),Z=$o.getRSSvalue(C,X,!0),ae=e.OUTSIDE_EVEN_TOTAL_SUBSET[F],K=e.OUTSIDE_GSUM[F];return new Df(ee*ae+Z+K,M)}else{if(k&1||k>10||k<4)throw new ie;var F=(10-k)/2,U=e.INSIDE_ODD_WIDEST[F],X=9-U,ee=$o.getRSSvalue(w,U,!0),Z=$o.getRSSvalue(C,X,!1),G=e.INSIDE_ODD_TOTAL_SUBSET[F],K=e.INSIDE_GSUM[F];return new Df(Z*G+ee+K,M)}},e.prototype.findFinderPattern=function(r,n){var i=this.getDecodeFinderCounters();i[0]=0,i[1]=0,i[2]=0,i[3]=0;for(var s=r.getSize(),o=!1,u=0;u<s&&(o=!r.get(u),n!==o);)u++;for(var f=0,h=u,m=u;m<s;m++)if(r.get(m)!==o)i[f]++;else{if(f===3){if(Ga.isFinderPattern(i))return[h,m];h+=i[0]+i[1],i[0]=i[2],i[1]=i[3],i[2]=0,i[3]=0,f--}else f++;i[f]=1,o=!o}throw new ie},e.prototype.parseFoundFinderPattern=function(r,n,i,s){for(var o=r.get(s[0]),u=s[0]-1;u>=0&&o!==r.get(u);)u--;u++;var f=s[0]-u,h=this.getDecodeFinderCounters(),m=new Int32Array(h.length);Mt.arraycopy(h,0,m,1,h.length-1),m[0]=f;var v=this.parseFinderValue(m,e.FINDER_PATTERNS),w=u,C=s[1];return i&&(w=r.getSize()-1-w,C=r.getSize()-1-C),new lb(v,[u,s[1]],w,C,n)},e.prototype.adjustOddEvenCounts=function(r,n){var i=pt.sum(new Int32Array(this.getOddCounts())),s=pt.sum(new Int32Array(this.getEvenCounts())),o=!1,u=!1,f=!1,h=!1;r?(i>12?u=!0:i<4&&(o=!0),s>12?h=!0:s<4&&(f=!0)):(i>11?u=!0:i<5&&(o=!0),s>10?h=!0:s<4&&(f=!0));var m=i+s-n,v=(i&1)===(r?1:0),w=(s&1)===1;if(m===1)if(v){if(w)throw new ie;u=!0}else{if(!w)throw new ie;h=!0}else if(m===-1)if(v){if(w)throw new ie;o=!0}else{if(!w)throw new ie;f=!0}else if(m===0){if(v){if(!w)throw new ie;i<s?(o=!0,h=!0):(u=!0,f=!0)}else if(w)throw new ie}else throw new ie;if(o){if(u)throw new ie;Ga.increment(this.getOddCounts(),this.getOddRoundingErrors())}if(u&&Ga.decrement(this.getOddCounts(),this.getOddRoundingErrors()),f){if(h)throw new ie;Ga.increment(this.getEvenCounts(),this.getOddRoundingErrors())}h&&Ga.decrement(this.getEvenCounts(),this.getEvenRoundingErrors())},e.OUTSIDE_EVEN_TOTAL_SUBSET=[1,10,34,70,126],e.INSIDE_ODD_TOTAL_SUBSET=[4,20,48,81],e.OUTSIDE_GSUM=[0,161,961,2015,2715],e.INSIDE_GSUM=[0,336,1036,1516],e.OUTSIDE_ODD_WIDEST=[8,6,4,3,1],e.INSIDE_ODD_WIDEST=[2,4,6,8],e.FINDER_PATTERNS=[Int32Array.from([3,8,2,1]),Int32Array.from([3,5,5,1]),Int32Array.from([3,3,7,1]),Int32Array.from([3,1,9,1]),Int32Array.from([2,7,4,1]),Int32Array.from([2,5,6,1]),Int32Array.from([2,3,8,1]),Int32Array.from([1,5,7,1]),Int32Array.from([1,3,9,1])],e}(Ga),_j=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var s in i)i.hasOwnProperty(s)&&(n[s]=i[s])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),Ic=function(t){_j(e,t);function e(r){var n=t.call(this)||this;n.readers=[];var i=r?r.get(Wt.POSSIBLE_FORMATS):null,s=r&&r.get(Wt.ASSUME_CODE_39_CHECK_DIGIT)!==void 0,o=r&&r.get(Wt.ENABLE_CODE_39_EXTENDED_MODE)!==void 0;return i&&((i.includes(ke.EAN_13)||i.includes(ke.UPC_A)||i.includes(ke.EAN_8)||i.includes(ke.UPC_E))&&n.readers.push(new U1(r)),i.includes(ke.CODE_39)&&n.readers.push(new Xv(s,o)),i.includes(ke.CODE_93)&&n.readers.push(new Yv),i.includes(ke.CODE_128)&&n.readers.push(new Wv),i.includes(ke.ITF)&&n.readers.push(new $v),i.includes(ke.CODABAR)&&n.readers.push(new KD),i.includes(ke.RSS_14)&&n.readers.push(new ry),i.includes(ke.RSS_EXPANDED)&&(console.warn("RSS Expanded reader IS NOT ready for production yet! use at your own risk."),n.readers.push(new Aj))),n.readers.length===0&&(n.readers.push(new U1(r)),n.readers.push(new Xv),n.readers.push(new Yv),n.readers.push(new U1(r)),n.readers.push(new Wv),n.readers.push(new $v),n.readers.push(new ry)),n}return e.prototype.decodeRow=function(r,n,i){for(var s=0;s<this.readers.length;s++)try{return this.readers[s].decodeRow(r,n,i)}catch{}throw new ie},e.prototype.reset=function(){this.readers.forEach(function(r){return r.reset()})},e}(Sr),Ij=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var s in i)i.hasOwnProperty(s)&&(n[s]=i[s])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}();(function(t){Ij(e,t);function e(r,n){return r===void 0&&(r=500),t.call(this,new Ic(n),r,n)||this}return e})($l);var ny=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},Ct=function(){function t(e,r,n){this.ecCodewords=e,this.ecBlocks=[r],n&&this.ecBlocks.push(n)}return t.prototype.getECCodewords=function(){return this.ecCodewords},t.prototype.getECBlocks=function(){return this.ecBlocks},t}(),vt=function(){function t(e,r){this.count=e,this.dataCodewords=r}return t.prototype.getCount=function(){return this.count},t.prototype.getDataCodewords=function(){return this.dataCodewords},t}(),Tj=function(){function t(e,r,n,i,s,o){var u,f;this.versionNumber=e,this.symbolSizeRows=r,this.symbolSizeColumns=n,this.dataRegionSizeRows=i,this.dataRegionSizeColumns=s,this.ecBlocks=o;var h=0,m=o.getECCodewords(),v=o.getECBlocks();try{for(var w=ny(v),C=w.next();!C.done;C=w.next()){var N=C.value;h+=N.getCount()*(N.getDataCodewords()+m)}}catch(b){u={error:b}}finally{try{C&&!C.done&&(f=w.return)&&f.call(w)}finally{if(u)throw u.error}}this.totalCodewords=h}return t.prototype.getVersionNumber=function(){return this.versionNumber},t.prototype.getSymbolSizeRows=function(){return this.symbolSizeRows},t.prototype.getSymbolSizeColumns=function(){return this.symbolSizeColumns},t.prototype.getDataRegionSizeRows=function(){return this.dataRegionSizeRows},t.prototype.getDataRegionSizeColumns=function(){return this.dataRegionSizeColumns},t.prototype.getTotalCodewords=function(){return this.totalCodewords},t.prototype.getECBlocks=function(){return this.ecBlocks},t.getVersionForDimensions=function(e,r){var n,i;if(e&1||r&1)throw new me;try{for(var s=ny(t.VERSIONS),o=s.next();!o.done;o=s.next()){var u=o.value;if(u.symbolSizeRows===e&&u.symbolSizeColumns===r)return u}}catch(f){n={error:f}}finally{try{o&&!o.done&&(i=s.return)&&i.call(s)}finally{if(n)throw n.error}}throw new me},t.prototype.toString=function(){return""+this.versionNumber},t.buildVersions=function(){return[new t(1,10,10,8,8,new Ct(5,new vt(1,3))),new t(2,12,12,10,10,new Ct(7,new vt(1,5))),new t(3,14,14,12,12,new Ct(10,new vt(1,8))),new t(4,16,16,14,14,new Ct(12,new vt(1,12))),new t(5,18,18,16,16,new Ct(14,new vt(1,18))),new t(6,20,20,18,18,new Ct(18,new vt(1,22))),new t(7,22,22,20,20,new Ct(20,new vt(1,30))),new t(8,24,24,22,22,new Ct(24,new vt(1,36))),new t(9,26,26,24,24,new Ct(28,new vt(1,44))),new t(10,32,32,14,14,new Ct(36,new vt(1,62))),new t(11,36,36,16,16,new Ct(42,new vt(1,86))),new t(12,40,40,18,18,new Ct(48,new vt(1,114))),new t(13,44,44,20,20,new Ct(56,new vt(1,144))),new t(14,48,48,22,22,new Ct(68,new vt(1,174))),new t(15,52,52,24,24,new Ct(42,new vt(2,102))),new t(16,64,64,14,14,new Ct(56,new vt(2,140))),new t(17,72,72,16,16,new Ct(36,new vt(4,92))),new t(18,80,80,18,18,new Ct(48,new vt(4,114))),new t(19,88,88,20,20,new Ct(56,new vt(4,144))),new t(20,96,96,22,22,new Ct(68,new vt(4,174))),new t(21,104,104,24,24,new Ct(56,new vt(6,136))),new t(22,120,120,18,18,new Ct(68,new vt(6,175))),new t(23,132,132,20,20,new Ct(62,new vt(8,163))),new t(24,144,144,22,22,new Ct(62,new vt(8,156),new vt(2,155))),new t(25,8,18,6,16,new Ct(7,new vt(1,5))),new t(26,8,32,6,14,new Ct(11,new vt(1,10))),new t(27,12,26,10,24,new Ct(14,new vt(1,16))),new t(28,12,36,10,16,new Ct(18,new vt(1,22))),new t(29,16,36,14,16,new Ct(24,new vt(1,32))),new t(30,16,48,14,22,new Ct(28,new vt(1,49)))]},t.VERSIONS=t.buildVersions(),t}(),Rj=function(){function t(e){var r=e.getHeight();if(r<8||r>144||r&1)throw new me;this.version=t.readVersion(e),this.mappingBitMatrix=this.extractDataRegion(e),this.readMappingMatrix=new ls(this.mappingBitMatrix.getWidth(),this.mappingBitMatrix.getHeight())}return t.prototype.getVersion=function(){return this.version},t.readVersion=function(e){var r=e.getHeight(),n=e.getWidth();return Tj.getVersionForDimensions(r,n)},t.prototype.readCodewords=function(){var e=new Int8Array(this.version.getTotalCodewords()),r=0,n=4,i=0,s=this.mappingBitMatrix.getHeight(),o=this.mappingBitMatrix.getWidth(),u=!1,f=!1,h=!1,m=!1;do if(n===s&&i===0&&!u)e[r++]=this.readCorner1(s,o)&255,n-=2,i+=2,u=!0;else if(n===s-2&&i===0&&o&3&&!f)e[r++]=this.readCorner2(s,o)&255,n-=2,i+=2,f=!0;else if(n===s+4&&i===2&&!(o&7)&&!h)e[r++]=this.readCorner3(s,o)&255,n-=2,i+=2,h=!0;else if(n===s-2&&i===0&&(o&7)===4&&!m)e[r++]=this.readCorner4(s,o)&255,n-=2,i+=2,m=!0;else{do n<s&&i>=0&&!this.readMappingMatrix.get(i,n)&&(e[r++]=this.readUtah(n,i,s,o)&255),n-=2,i+=2;while(n>=0&&i<o);n+=1,i+=3;do n>=0&&i<o&&!this.readMappingMatrix.get(i,n)&&(e[r++]=this.readUtah(n,i,s,o)&255),n+=2,i-=2;while(n<s&&i>=0);n+=3,i+=1}while(n<s||i<o);if(r!==this.version.getTotalCodewords())throw new me;return e},t.prototype.readModule=function(e,r,n,i){return e<0&&(e+=n,r+=4-(n+4&7)),r<0&&(r+=i,e+=4-(i+4&7)),this.readMappingMatrix.set(r,e),this.mappingBitMatrix.get(r,e)},t.prototype.readUtah=function(e,r,n,i){var s=0;return this.readModule(e-2,r-2,n,i)&&(s|=1),s<<=1,this.readModule(e-2,r-1,n,i)&&(s|=1),s<<=1,this.readModule(e-1,r-2,n,i)&&(s|=1),s<<=1,this.readModule(e-1,r-1,n,i)&&(s|=1),s<<=1,this.readModule(e-1,r,n,i)&&(s|=1),s<<=1,this.readModule(e,r-2,n,i)&&(s|=1),s<<=1,this.readModule(e,r-1,n,i)&&(s|=1),s<<=1,this.readModule(e,r,n,i)&&(s|=1),s},t.prototype.readCorner1=function(e,r){var n=0;return this.readModule(e-1,0,e,r)&&(n|=1),n<<=1,this.readModule(e-1,1,e,r)&&(n|=1),n<<=1,this.readModule(e-1,2,e,r)&&(n|=1),n<<=1,this.readModule(0,r-2,e,r)&&(n|=1),n<<=1,this.readModule(0,r-1,e,r)&&(n|=1),n<<=1,this.readModule(1,r-1,e,r)&&(n|=1),n<<=1,this.readModule(2,r-1,e,r)&&(n|=1),n<<=1,this.readModule(3,r-1,e,r)&&(n|=1),n},t.prototype.readCorner2=function(e,r){var n=0;return this.readModule(e-3,0,e,r)&&(n|=1),n<<=1,this.readModule(e-2,0,e,r)&&(n|=1),n<<=1,this.readModule(e-1,0,e,r)&&(n|=1),n<<=1,this.readModule(0,r-4,e,r)&&(n|=1),n<<=1,this.readModule(0,r-3,e,r)&&(n|=1),n<<=1,this.readModule(0,r-2,e,r)&&(n|=1),n<<=1,this.readModule(0,r-1,e,r)&&(n|=1),n<<=1,this.readModule(1,r-1,e,r)&&(n|=1),n},t.prototype.readCorner3=function(e,r){var n=0;return this.readModule(e-1,0,e,r)&&(n|=1),n<<=1,this.readModule(e-1,r-1,e,r)&&(n|=1),n<<=1,this.readModule(0,r-3,e,r)&&(n|=1),n<<=1,this.readModule(0,r-2,e,r)&&(n|=1),n<<=1,this.readModule(0,r-1,e,r)&&(n|=1),n<<=1,this.readModule(1,r-3,e,r)&&(n|=1),n<<=1,this.readModule(1,r-2,e,r)&&(n|=1),n<<=1,this.readModule(1,r-1,e,r)&&(n|=1),n},t.prototype.readCorner4=function(e,r){var n=0;return this.readModule(e-3,0,e,r)&&(n|=1),n<<=1,this.readModule(e-2,0,e,r)&&(n|=1),n<<=1,this.readModule(e-1,0,e,r)&&(n|=1),n<<=1,this.readModule(0,r-2,e,r)&&(n|=1),n<<=1,this.readModule(0,r-1,e,r)&&(n|=1),n<<=1,this.readModule(1,r-1,e,r)&&(n|=1),n<<=1,this.readModule(2,r-1,e,r)&&(n|=1),n<<=1,this.readModule(3,r-1,e,r)&&(n|=1),n},t.prototype.extractDataRegion=function(e){var r=this.version.getSymbolSizeRows(),n=this.version.getSymbolSizeColumns();if(e.getHeight()!==r)throw new Be("Dimension of bitMatrix must match the version size");for(var i=this.version.getDataRegionSizeRows(),s=this.version.getDataRegionSizeColumns(),o=r/i|0,u=n/s|0,f=o*i,h=u*s,m=new ls(h,f),v=0;v<o;++v)for(var w=v*i,C=0;C<u;++C)for(var N=C*s,b=0;b<i;++b)for(var R=v*(i+2)+1+b,_=w+b,S=0;S<s;++S){var T=C*(s+2)+1+S;if(e.get(T,R)){var P=N+S;m.set(P,_)}}return m},t}(),iy=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},Oj=function(){function t(e,r){this.numDataCodewords=e,this.codewords=r}return t.getDataBlocks=function(e,r){var n,i,s,o,u=r.getECBlocks(),f=0,h=u.getECBlocks();try{for(var m=iy(h),v=m.next();!v.done;v=m.next()){var w=v.value;f+=w.getCount()}}catch(K){n={error:K}}finally{try{v&&!v.done&&(i=m.return)&&i.call(m)}finally{if(n)throw n.error}}var C=new Array(f),N=0;try{for(var b=iy(h),R=b.next();!R.done;R=b.next())for(var w=R.value,_=0;_<w.getCount();_++){var S=w.getDataCodewords(),T=u.getECCodewords()+S;C[N++]=new t(S,new Uint8Array(T))}}catch(K){s={error:K}}finally{try{R&&!R.done&&(o=b.return)&&o.call(b)}finally{if(s)throw s.error}}for(var P=C[0].codewords.length,B=P-u.getECCodewords(),k=B-1,M=0,_=0;_<k;_++)for(var F=0;F<N;F++)C[F].codewords[_]=e[M++];for(var U=r.getVersionNumber()===24,X=U?8:N,F=0;F<X;F++)C[F].codewords[B-1]=e[M++];for(var ee=C[0].codewords.length,_=B;_<ee;_++)for(var F=0;F<N;F++){var Z=U?(F+8)%N:F,ae=U&&Z>7?_-1:_;C[Z].codewords[ae]=e[M++]}if(M!==e.length)throw new Be;return C},t.prototype.getNumDataCodewords=function(){return this.numDataCodewords},t.prototype.getCodewords=function(){return this.codewords},t}(),db=function(){function t(e){this.bytes=e,this.byteOffset=0,this.bitOffset=0}return t.prototype.getBitOffset=function(){return this.bitOffset},t.prototype.getByteOffset=function(){return this.byteOffset},t.prototype.readBits=function(e){if(e<1||e>32||e>this.available())throw new Be(""+e);var r=0,n=this.bitOffset,i=this.byteOffset,s=this.bytes;if(n>0){var o=8-n,u=e<o?e:o,f=o-u,h=255>>8-u<<f;r=(s[i]&h)>>f,e-=u,n+=u,n===8&&(n=0,i++)}if(e>0){for(;e>=8;)r=r<<8|s[i]&255,i++,e-=8;if(e>0){var f=8-e,h=255>>f<<f;r=r<<e|(s[i]&h)>>f,n+=e}}return this.bitOffset=n,this.byteOffset=i,r},t.prototype.available=function(){return 8*(this.bytes.length-this.byteOffset)-this.bitOffset},t}(),mr;(function(t){t[t.PAD_ENCODE=0]="PAD_ENCODE",t[t.ASCII_ENCODE=1]="ASCII_ENCODE",t[t.C40_ENCODE=2]="C40_ENCODE",t[t.TEXT_ENCODE=3]="TEXT_ENCODE",t[t.ANSIX12_ENCODE=4]="ANSIX12_ENCODE",t[t.EDIFACT_ENCODE=5]="EDIFACT_ENCODE",t[t.BASE256_ENCODE=6]="BASE256_ENCODE"})(mr||(mr={}));var Pj=function(){function t(){}return t.decode=function(e){var r=new db(e),n=new Qe,i=new Qe,s=new Array,o=mr.ASCII_ENCODE;do if(o===mr.ASCII_ENCODE)o=this.decodeAsciiSegment(r,n,i);else{switch(o){case mr.C40_ENCODE:this.decodeC40Segment(r,n);break;case mr.TEXT_ENCODE:this.decodeTextSegment(r,n);break;case mr.ANSIX12_ENCODE:this.decodeAnsiX12Segment(r,n);break;case mr.EDIFACT_ENCODE:this.decodeEdifactSegment(r,n);break;case mr.BASE256_ENCODE:this.decodeBase256Segment(r,n,s);break;default:throw new me}o=mr.ASCII_ENCODE}while(o!==mr.PAD_ENCODE&&r.available()>0);return i.length()>0&&n.append(i.toString()),new E0(e,n.toString(),s.length===0?null:s,null)},t.decodeAsciiSegment=function(e,r,n){var i=!1;do{var s=e.readBits(8);if(s===0)throw new me;if(s<=128)return i&&(s+=128),r.append(String.fromCharCode(s-1)),mr.ASCII_ENCODE;if(s===129)return mr.PAD_ENCODE;if(s<=229){var o=s-130;o<10&&r.append("0"),r.append(""+o)}else switch(s){case 230:return mr.C40_ENCODE;case 231:return mr.BASE256_ENCODE;case 232:r.append("");break;case 233:case 234:break;case 235:i=!0;break;case 236:r.append("[)>05"),n.insert(0,"");break;case 237:r.append("[)>06"),n.insert(0,"");break;case 238:return mr.ANSIX12_ENCODE;case 239:return mr.TEXT_ENCODE;case 240:return mr.EDIFACT_ENCODE;case 241:break;default:if(s!==254||e.available()!==0)throw new me;break}}while(e.available()>0);return mr.ASCII_ENCODE},t.decodeC40Segment=function(e,r){var n=!1,i=[],s=0;do{if(e.available()===8)return;var o=e.readBits(8);if(o===254)return;this.parseTwoBytes(o,e.readBits(8),i);for(var u=0;u<3;u++){var f=i[u];switch(s){case 0:if(f<3)s=f+1;else if(f<this.C40_BASIC_SET_CHARS.length){var h=this.C40_BASIC_SET_CHARS[f];n?(r.append(String.fromCharCode(h.charCodeAt(0)+128)),n=!1):r.append(h)}else throw new me;break;case 1:n?(r.append(String.fromCharCode(f+128)),n=!1):r.append(String.fromCharCode(f)),s=0;break;case 2:if(f<this.C40_SHIFT2_SET_CHARS.length){var h=this.C40_SHIFT2_SET_CHARS[f];n?(r.append(String.fromCharCode(h.charCodeAt(0)+128)),n=!1):r.append(h)}else switch(f){case 27:r.append("");break;case 30:n=!0;break;default:throw new me}s=0;break;case 3:n?(r.append(String.fromCharCode(f+224)),n=!1):r.append(String.fromCharCode(f+96)),s=0;break;default:throw new me}}}while(e.available()>0)},t.decodeTextSegment=function(e,r){var n=!1,i=[],s=0;do{if(e.available()===8)return;var o=e.readBits(8);if(o===254)return;this.parseTwoBytes(o,e.readBits(8),i);for(var u=0;u<3;u++){var f=i[u];switch(s){case 0:if(f<3)s=f+1;else if(f<this.TEXT_BASIC_SET_CHARS.length){var h=this.TEXT_BASIC_SET_CHARS[f];n?(r.append(String.fromCharCode(h.charCodeAt(0)+128)),n=!1):r.append(h)}else throw new me;break;case 1:n?(r.append(String.fromCharCode(f+128)),n=!1):r.append(String.fromCharCode(f)),s=0;break;case 2:if(f<this.TEXT_SHIFT2_SET_CHARS.length){var h=this.TEXT_SHIFT2_SET_CHARS[f];n?(r.append(String.fromCharCode(h.charCodeAt(0)+128)),n=!1):r.append(h)}else switch(f){case 27:r.append("");break;case 30:n=!0;break;default:throw new me}s=0;break;case 3:if(f<this.TEXT_SHIFT3_SET_CHARS.length){var h=this.TEXT_SHIFT3_SET_CHARS[f];n?(r.append(String.fromCharCode(h.charCodeAt(0)+128)),n=!1):r.append(h),s=0}else throw new me;break;default:throw new me}}}while(e.available()>0)},t.decodeAnsiX12Segment=function(e,r){var n=[];do{if(e.available()===8)return;var i=e.readBits(8);if(i===254)return;this.parseTwoBytes(i,e.readBits(8),n);for(var s=0;s<3;s++){var o=n[s];switch(o){case 0:r.append("\r");break;case 1:r.append("*");break;case 2:r.append(">");break;case 3:r.append(" ");break;default:if(o<14)r.append(String.fromCharCode(o+44));else if(o<40)r.append(String.fromCharCode(o+51));else throw new me;break}}}while(e.available()>0)},t.parseTwoBytes=function(e,r,n){var i=(e<<8)+r-1,s=Math.floor(i/1600);n[0]=s,i-=s*1600,s=Math.floor(i/40),n[1]=s,n[2]=i-s*40},t.decodeEdifactSegment=function(e,r){do{if(e.available()<=16)return;for(var n=0;n<4;n++){var i=e.readBits(6);if(i===31){var s=8-e.getBitOffset();s!==8&&e.readBits(s);return}i&32||(i|=64),r.append(String.fromCharCode(i))}}while(e.available()>0)},t.decodeBase256Segment=function(e,r,n){var i=1+e.getByteOffset(),s=this.unrandomize255State(e.readBits(8),i++),o;if(s===0?o=e.available()/8|0:s<250?o=s:o=250*(s-249)+this.unrandomize255State(e.readBits(8),i++),o<0)throw new me;for(var u=new Uint8Array(o),f=0;f<o;f++){if(e.available()<8)throw new me;u[f]=this.unrandomize255State(e.readBits(8),i++)}n.push(u);try{r.append(ui.decode(u,lt.ISO88591))}catch(h){throw new Nu("Platform does not support required encoding: "+h.message)}},t.unrandomize255State=function(e,r){var n=149*r%255+1,i=e-n;return i>=0?i:i+256},t.C40_BASIC_SET_CHARS=["*","*","*"," ","0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"],t.C40_SHIFT2_SET_CHARS=["!",'"',"#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","@","[","\\","]","^","_"],t.TEXT_BASIC_SET_CHARS=["*","*","*"," ","0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z"],t.TEXT_SHIFT2_SET_CHARS=t.C40_SHIFT2_SET_CHARS,t.TEXT_SHIFT3_SET_CHARS=["`","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","{","|","}","~",""],t}(),Dj=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},jj=function(){function t(){this.rsDecoder=new A0(Tn.DATA_MATRIX_FIELD_256)}return t.prototype.decode=function(e){var r,n,i=new Rj(e),s=i.getVersion(),o=i.readCodewords(),u=Oj.getDataBlocks(o,s),f=0;try{for(var h=Dj(u),m=h.next();!m.done;m=h.next()){var v=m.value;f+=v.getNumDataCodewords()}}catch(T){r={error:T}}finally{try{m&&!m.done&&(n=h.return)&&n.call(h)}finally{if(r)throw r.error}}for(var w=new Uint8Array(f),C=u.length,N=0;N<C;N++){var b=u[N],R=b.getCodewords(),_=b.getNumDataCodewords();this.correctErrors(R,_);for(var S=0;S<_;S++)w[S*C+N]=R[S]}return Pj.decode(w)},t.prototype.correctErrors=function(e,r){var n=new Int32Array(e);try{this.rsDecoder.decode(n,e.length-r)}catch{throw new Or}for(var i=0;i<r;i++)e[i]=n[i]},t}(),Mj=function(){function t(e){this.image=e,this.rectangleDetector=new Op(this.image)}return t.prototype.detect=function(){var e=this.rectangleDetector.detect(),r=this.detectSolid1(e);if(r=this.detectSolid2(r),r[3]=this.correctTopRight(r),!r[3])throw new ie;r=this.shiftToModuleCenter(r);var n=r[0],i=r[1],s=r[2],o=r[3],u=this.transitionsBetween(n,o)+1,f=this.transitionsBetween(s,o)+1;(u&1)===1&&(u+=1),(f&1)===1&&(f+=1),4*u<7*f&&4*f<7*u&&(u=f=Math.max(u,f));var h=t.sampleGrid(this.image,n,i,s,o,u,f);return new Vg(h,[n,i,s,o])},t.shiftPoint=function(e,r,n){var i=(r.getX()-e.getX())/(n+1),s=(r.getY()-e.getY())/(n+1);return new Re(e.getX()+i,e.getY()+s)},t.moveAway=function(e,r,n){var i=e.getX(),s=e.getY();return i<r?i-=1:i+=1,s<n?s-=1:s+=1,new Re(i,s)},t.prototype.detectSolid1=function(e){var r=e[0],n=e[1],i=e[3],s=e[2],o=this.transitionsBetween(r,n),u=this.transitionsBetween(n,i),f=this.transitionsBetween(i,s),h=this.transitionsBetween(s,r),m=o,v=[s,r,n,i];return m>u&&(m=u,v[0]=r,v[1]=n,v[2]=i,v[3]=s),m>f&&(m=f,v[0]=n,v[1]=i,v[2]=s,v[3]=r),m>h&&(v[0]=i,v[1]=s,v[2]=r,v[3]=n),v},t.prototype.detectSolid2=function(e){var r=e[0],n=e[1],i=e[2],s=e[3],o=this.transitionsBetween(r,s),u=t.shiftPoint(n,i,(o+1)*4),f=t.shiftPoint(i,n,(o+1)*4),h=this.transitionsBetween(u,r),m=this.transitionsBetween(f,s);return h<m?(e[0]=r,e[1]=n,e[2]=i,e[3]=s):(e[0]=n,e[1]=i,e[2]=s,e[3]=r),e},t.prototype.correctTopRight=function(e){var r=e[0],n=e[1],i=e[2],s=e[3],o=this.transitionsBetween(r,s),u=this.transitionsBetween(n,s),f=t.shiftPoint(r,n,(u+1)*4),h=t.shiftPoint(i,n,(o+1)*4);o=this.transitionsBetween(f,s),u=this.transitionsBetween(h,s);var m=new Re(s.getX()+(i.getX()-n.getX())/(o+1),s.getY()+(i.getY()-n.getY())/(o+1)),v=new Re(s.getX()+(r.getX()-n.getX())/(u+1),s.getY()+(r.getY()-n.getY())/(u+1));if(!this.isValid(m))return this.isValid(v)?v:null;if(!this.isValid(v))return m;var w=this.transitionsBetween(f,m)+this.transitionsBetween(h,m),C=this.transitionsBetween(f,v)+this.transitionsBetween(h,v);return w>C?m:v},t.prototype.shiftToModuleCenter=function(e){var r=e[0],n=e[1],i=e[2],s=e[3],o=this.transitionsBetween(r,s)+1,u=this.transitionsBetween(i,s)+1,f=t.shiftPoint(r,n,u*4),h=t.shiftPoint(i,n,o*4);o=this.transitionsBetween(f,s)+1,u=this.transitionsBetween(h,s)+1,(o&1)===1&&(o+=1),(u&1)===1&&(u+=1);var m=(r.getX()+n.getX()+i.getX()+s.getX())/4,v=(r.getY()+n.getY()+i.getY()+s.getY())/4;r=t.moveAway(r,m,v),n=t.moveAway(n,m,v),i=t.moveAway(i,m,v),s=t.moveAway(s,m,v);var w,C;return f=t.shiftPoint(r,n,u*4),f=t.shiftPoint(f,s,o*4),w=t.shiftPoint(n,r,u*4),w=t.shiftPoint(w,i,o*4),h=t.shiftPoint(i,s,u*4),h=t.shiftPoint(h,n,o*4),C=t.shiftPoint(s,i,u*4),C=t.shiftPoint(C,r,o*4),[f,w,h,C]},t.prototype.isValid=function(e){return e.getX()>=0&&e.getX()<this.image.getWidth()&&e.getY()>0&&e.getY()<this.image.getHeight()},t.sampleGrid=function(e,r,n,i,s,o,u){var f=Hg.getInstance();return f.sampleGrid(e,o,u,.5,.5,o-.5,.5,o-.5,u-.5,.5,u-.5,r.getX(),r.getY(),s.getX(),s.getY(),i.getX(),i.getY(),n.getX(),n.getY())},t.prototype.transitionsBetween=function(e,r){var n=Math.trunc(e.getX()),i=Math.trunc(e.getY()),s=Math.trunc(r.getX()),o=Math.trunc(r.getY()),u=Math.abs(o-i)>Math.abs(s-n);if(u){var f=n;n=i,i=f,f=s,s=o,o=f}for(var h=Math.abs(s-n),m=Math.abs(o-i),v=-h/2,w=i<o?1:-1,C=n<s?1:-1,N=0,b=this.image.get(u?i:n,u?n:i),R=n,_=i;R!==s;R+=C){var S=this.image.get(u?_:R,u?R:_);if(S!==b&&(N++,b=S),v+=m,v>0){if(_===o)break;_+=w,v-=h}}return N},t}(),jp=function(){function t(){this.decoder=new jj}return t.prototype.decode=function(e,r){r===void 0&&(r=null);var n,i;if(r!=null&&r.has(Wt.PURE_BARCODE)){var s=t.extractPureBits(e.getBlackMatrix());n=this.decoder.decode(s),i=t.NO_POINTS}else{var o=new Mj(e.getBlackMatrix()).detect();n=this.decoder.decode(o.getBits()),i=o.getPoints()}var u=n.getRawBytes(),f=new sn(n.getText(),u,8*u.length,i,ke.DATA_MATRIX,Mt.currentTimeMillis()),h=n.getByteSegments();h!=null&&f.putMetadata(Vr.BYTE_SEGMENTS,h);var m=n.getECLevel();return m!=null&&f.putMetadata(Vr.ERROR_CORRECTION_LEVEL,m),f},t.prototype.reset=function(){},t.extractPureBits=function(e){var r=e.getTopLeftOnBit(),n=e.getBottomRightOnBit();if(r==null||n==null)throw new ie;var i=this.moduleSize(r,e),s=r[1],o=n[1],u=r[0],f=n[0],h=(f-u+1)/i,m=(o-s+1)/i;if(h<=0||m<=0)throw new ie;var v=i/2;s+=v,u+=v;for(var w=new ls(h,m),C=0;C<m;C++)for(var N=s+C*i,b=0;b<h;b++)e.get(u+b*i,N)&&w.set(b,C);return w},t.moduleSize=function(e,r){for(var n=r.getWidth(),i=e[0],s=e[1];i<n&&r.get(i,s);)i++;if(i===n)throw new ie;var o=i-e[0];if(o===0)throw new ie;return o},t.NO_POINTS=[],t}(),kj=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var s in i)i.hasOwnProperty(s)&&(n[s]=i[s])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}();(function(t){kj(e,t);function e(r){return r===void 0&&(r=500),t.call(this,new jp,r)||this}return e})($l);var Ko;(function(t){t[t.L=0]="L",t[t.M=1]="M",t[t.Q=2]="Q",t[t.H=3]="H"})(Ko||(Ko={}));var Lj=function(){function t(e,r,n){this.value=e,this.stringValue=r,this.bits=n,t.FOR_BITS.set(n,this),t.FOR_VALUE.set(e,this)}return t.prototype.getValue=function(){return this.value},t.prototype.getBits=function(){return this.bits},t.fromString=function(e){switch(e){case"L":return t.L;case"M":return t.M;case"Q":return t.Q;case"H":return t.H;default:throw new Ci(e+"not available")}},t.prototype.toString=function(){return this.stringValue},t.prototype.equals=function(e){if(!(e instanceof t))return!1;var r=e;return this.value===r.value},t.forBits=function(e){if(e<0||e>=t.FOR_BITS.size)throw new Be;return t.FOR_BITS.get(e)},t.FOR_BITS=new Map,t.FOR_VALUE=new Map,t.L=new t(Ko.L,"L",1),t.M=new t(Ko.M,"M",0),t.Q=new t(Ko.Q,"Q",3),t.H=new t(Ko.H,"H",2),t}(),Bj=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},fb=function(){function t(e){this.errorCorrectionLevel=Lj.forBits(e>>3&3),this.dataMask=e&7}return t.numBitsDiffering=function(e,r){return et.bitCount(e^r)},t.decodeFormatInformation=function(e,r){var n=t.doDecodeFormatInformation(e,r);return n!==null?n:t.doDecodeFormatInformation(e^t.FORMAT_INFO_MASK_QR,r^t.FORMAT_INFO_MASK_QR)},t.doDecodeFormatInformation=function(e,r){var n,i,s=Number.MAX_SAFE_INTEGER,o=0;try{for(var u=Bj(t.FORMAT_INFO_DECODE_LOOKUP),f=u.next();!f.done;f=u.next()){var h=f.value,m=h[0];if(m===e||m===r)return new t(h[1]);var v=t.numBitsDiffering(e,m);v<s&&(o=h[1],s=v),e!==r&&(v=t.numBitsDiffering(r,m),v<s&&(o=h[1],s=v))}}catch(w){n={error:w}}finally{try{f&&!f.done&&(i=u.return)&&i.call(u)}finally{if(n)throw n.error}}return s<=3?new t(o):null},t.prototype.getErrorCorrectionLevel=function(){return this.errorCorrectionLevel},t.prototype.getDataMask=function(){return this.dataMask},t.prototype.hashCode=function(){return this.errorCorrectionLevel.getBits()<<3|this.dataMask},t.prototype.equals=function(e){if(!(e instanceof t))return!1;var r=e;return this.errorCorrectionLevel===r.errorCorrectionLevel&&this.dataMask===r.dataMask},t.FORMAT_INFO_MASK_QR=21522,t.FORMAT_INFO_DECODE_LOOKUP=[Int32Array.from([21522,0]),Int32Array.from([20773,1]),Int32Array.from([24188,2]),Int32Array.from([23371,3]),Int32Array.from([17913,4]),Int32Array.from([16590,5]),Int32Array.from([20375,6]),Int32Array.from([19104,7]),Int32Array.from([30660,8]),Int32Array.from([29427,9]),Int32Array.from([32170,10]),Int32Array.from([30877,11]),Int32Array.from([26159,12]),Int32Array.from([25368,13]),Int32Array.from([27713,14]),Int32Array.from([26998,15]),Int32Array.from([5769,16]),Int32Array.from([5054,17]),Int32Array.from([7399,18]),Int32Array.from([6608,19]),Int32Array.from([1890,20]),Int32Array.from([597,21]),Int32Array.from([3340,22]),Int32Array.from([2107,23]),Int32Array.from([13663,24]),Int32Array.from([12392,25]),Int32Array.from([16177,26]),Int32Array.from([14854,27]),Int32Array.from([9396,28]),Int32Array.from([8579,29]),Int32Array.from([11994,30]),Int32Array.from([11245,31])],t}(),Fj=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},J=function(){function t(e){for(var r=[],n=1;n<arguments.length;n++)r[n-1]=arguments[n];this.ecCodewordsPerBlock=e,this.ecBlocks=r}return t.prototype.getECCodewordsPerBlock=function(){return this.ecCodewordsPerBlock},t.prototype.getNumBlocks=function(){var e,r,n=0,i=this.ecBlocks;try{for(var s=Fj(i),o=s.next();!o.done;o=s.next()){var u=o.value;n+=u.getCount()}}catch(f){e={error:f}}finally{try{o&&!o.done&&(r=s.return)&&r.call(s)}finally{if(e)throw e.error}}return n},t.prototype.getTotalECCodewords=function(){return this.ecCodewordsPerBlock*this.getNumBlocks()},t.prototype.getECBlocks=function(){return this.ecBlocks},t}(),H=function(){function t(e,r){this.count=e,this.dataCodewords=r}return t.prototype.getCount=function(){return this.count},t.prototype.getDataCodewords=function(){return this.dataCodewords},t}(),Uj=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},so=function(){function t(e,r){for(var n,i,s=[],o=2;o<arguments.length;o++)s[o-2]=arguments[o];this.versionNumber=e,this.alignmentPatternCenters=r,this.ecBlocks=s;var u=0,f=s[0].getECCodewordsPerBlock(),h=s[0].getECBlocks();try{for(var m=Uj(h),v=m.next();!v.done;v=m.next()){var w=v.value;u+=w.getCount()*(w.getDataCodewords()+f)}}catch(C){n={error:C}}finally{try{v&&!v.done&&(i=m.return)&&i.call(m)}finally{if(n)throw n.error}}this.totalCodewords=u}return t.prototype.getVersionNumber=function(){return this.versionNumber},t.prototype.getAlignmentPatternCenters=function(){return this.alignmentPatternCenters},t.prototype.getTotalCodewords=function(){return this.totalCodewords},t.prototype.getDimensionForVersion=function(){return 17+4*this.versionNumber},t.prototype.getECBlocksForLevel=function(e){return this.ecBlocks[e.getValue()]},t.getProvisionalVersionForDimension=function(e){if(e%4!==1)throw new me;try{return this.getVersionForNumber((e-17)/4)}catch{throw new me}},t.getVersionForNumber=function(e){if(e<1||e>40)throw new Be;return t.VERSIONS[e-1]},t.decodeVersionInformation=function(e){for(var r=Number.MAX_SAFE_INTEGER,n=0,i=0;i<t.VERSION_DECODE_INFO.length;i++){var s=t.VERSION_DECODE_INFO[i];if(s===e)return t.getVersionForNumber(i+7);var o=fb.numBitsDiffering(e,s);o<r&&(n=i+7,r=o)}return r<=3?t.getVersionForNumber(n):null},t.prototype.buildFunctionPattern=function(){var e=this.getDimensionForVersion(),r=new ls(e);r.setRegion(0,0,9,9),r.setRegion(e-8,0,8,9),r.setRegion(0,e-8,9,8);for(var n=this.alignmentPatternCenters.length,i=0;i<n;i++)for(var s=this.alignmentPatternCenters[i]-2,o=0;o<n;o++)i===0&&(o===0||o===n-1)||i===n-1&&o===0||r.setRegion(this.alignmentPatternCenters[o]-2,s,5,5);return r.setRegion(6,9,1,e-17),r.setRegion(9,6,e-17,1),this.versionNumber>6&&(r.setRegion(e-11,0,3,6),r.setRegion(0,e-11,6,3)),r},t.prototype.toString=function(){return""+this.versionNumber},t.VERSION_DECODE_INFO=Int32Array.from([31892,34236,39577,42195,48118,51042,55367,58893,63784,68472,70749,76311,79154,84390,87683,92361,96236,102084,102881,110507,110734,117786,119615,126325,127568,133589,136944,141498,145311,150283,152622,158308,161089,167017]),t.VERSIONS=[new t(1,new Int32Array(0),new J(7,new H(1,19)),new J(10,new H(1,16)),new J(13,new H(1,13)),new J(17,new H(1,9))),new t(2,Int32Array.from([6,18]),new J(10,new H(1,34)),new J(16,new H(1,28)),new J(22,new H(1,22)),new J(28,new H(1,16))),new t(3,Int32Array.from([6,22]),new J(15,new H(1,55)),new J(26,new H(1,44)),new J(18,new H(2,17)),new J(22,new H(2,13))),new t(4,Int32Array.from([6,26]),new J(20,new H(1,80)),new J(18,new H(2,32)),new J(26,new H(2,24)),new J(16,new H(4,9))),new t(5,Int32Array.from([6,30]),new J(26,new H(1,108)),new J(24,new H(2,43)),new J(18,new H(2,15),new H(2,16)),new J(22,new H(2,11),new H(2,12))),new t(6,Int32Array.from([6,34]),new J(18,new H(2,68)),new J(16,new H(4,27)),new J(24,new H(4,19)),new J(28,new H(4,15))),new t(7,Int32Array.from([6,22,38]),new J(20,new H(2,78)),new J(18,new H(4,31)),new J(18,new H(2,14),new H(4,15)),new J(26,new H(4,13),new H(1,14))),new t(8,Int32Array.from([6,24,42]),new J(24,new H(2,97)),new J(22,new H(2,38),new H(2,39)),new J(22,new H(4,18),new H(2,19)),new J(26,new H(4,14),new H(2,15))),new t(9,Int32Array.from([6,26,46]),new J(30,new H(2,116)),new J(22,new H(3,36),new H(2,37)),new J(20,new H(4,16),new H(4,17)),new J(24,new H(4,12),new H(4,13))),new t(10,Int32Array.from([6,28,50]),new J(18,new H(2,68),new H(2,69)),new J(26,new H(4,43),new H(1,44)),new J(24,new H(6,19),new H(2,20)),new J(28,new H(6,15),new H(2,16))),new t(11,Int32Array.from([6,30,54]),new J(20,new H(4,81)),new J(30,new H(1,50),new H(4,51)),new J(28,new H(4,22),new H(4,23)),new J(24,new H(3,12),new H(8,13))),new t(12,Int32Array.from([6,32,58]),new J(24,new H(2,92),new H(2,93)),new J(22,new H(6,36),new H(2,37)),new J(26,new H(4,20),new H(6,21)),new J(28,new H(7,14),new H(4,15))),new t(13,Int32Array.from([6,34,62]),new J(26,new H(4,107)),new J(22,new H(8,37),new H(1,38)),new J(24,new H(8,20),new H(4,21)),new J(22,new H(12,11),new H(4,12))),new t(14,Int32Array.from([6,26,46,66]),new J(30,new H(3,115),new H(1,116)),new J(24,new H(4,40),new H(5,41)),new J(20,new H(11,16),new H(5,17)),new J(24,new H(11,12),new H(5,13))),new t(15,Int32Array.from([6,26,48,70]),new J(22,new H(5,87),new H(1,88)),new J(24,new H(5,41),new H(5,42)),new J(30,new H(5,24),new H(7,25)),new J(24,new H(11,12),new H(7,13))),new t(16,Int32Array.from([6,26,50,74]),new J(24,new H(5,98),new H(1,99)),new J(28,new H(7,45),new H(3,46)),new J(24,new H(15,19),new H(2,20)),new J(30,new H(3,15),new H(13,16))),new t(17,Int32Array.from([6,30,54,78]),new J(28,new H(1,107),new H(5,108)),new J(28,new H(10,46),new H(1,47)),new J(28,new H(1,22),new H(15,23)),new J(28,new H(2,14),new H(17,15))),new t(18,Int32Array.from([6,30,56,82]),new J(30,new H(5,120),new H(1,121)),new J(26,new H(9,43),new H(4,44)),new J(28,new H(17,22),new H(1,23)),new J(28,new H(2,14),new H(19,15))),new t(19,Int32Array.from([6,30,58,86]),new J(28,new H(3,113),new H(4,114)),new J(26,new H(3,44),new H(11,45)),new J(26,new H(17,21),new H(4,22)),new J(26,new H(9,13),new H(16,14))),new t(20,Int32Array.from([6,34,62,90]),new J(28,new H(3,107),new H(5,108)),new J(26,new H(3,41),new H(13,42)),new J(30,new H(15,24),new H(5,25)),new J(28,new H(15,15),new H(10,16))),new t(21,Int32Array.from([6,28,50,72,94]),new J(28,new H(4,116),new H(4,117)),new J(26,new H(17,42)),new J(28,new H(17,22),new H(6,23)),new J(30,new H(19,16),new H(6,17))),new t(22,Int32Array.from([6,26,50,74,98]),new J(28,new H(2,111),new H(7,112)),new J(28,new H(17,46)),new J(30,new H(7,24),new H(16,25)),new J(24,new H(34,13))),new t(23,Int32Array.from([6,30,54,78,102]),new J(30,new H(4,121),new H(5,122)),new J(28,new H(4,47),new H(14,48)),new J(30,new H(11,24),new H(14,25)),new J(30,new H(16,15),new H(14,16))),new t(24,Int32Array.from([6,28,54,80,106]),new J(30,new H(6,117),new H(4,118)),new J(28,new H(6,45),new H(14,46)),new J(30,new H(11,24),new H(16,25)),new J(30,new H(30,16),new H(2,17))),new t(25,Int32Array.from([6,32,58,84,110]),new J(26,new H(8,106),new H(4,107)),new J(28,new H(8,47),new H(13,48)),new J(30,new H(7,24),new H(22,25)),new J(30,new H(22,15),new H(13,16))),new t(26,Int32Array.from([6,30,58,86,114]),new J(28,new H(10,114),new H(2,115)),new J(28,new H(19,46),new H(4,47)),new J(28,new H(28,22),new H(6,23)),new J(30,new H(33,16),new H(4,17))),new t(27,Int32Array.from([6,34,62,90,118]),new J(30,new H(8,122),new H(4,123)),new J(28,new H(22,45),new H(3,46)),new J(30,new H(8,23),new H(26,24)),new J(30,new H(12,15),new H(28,16))),new t(28,Int32Array.from([6,26,50,74,98,122]),new J(30,new H(3,117),new H(10,118)),new J(28,new H(3,45),new H(23,46)),new J(30,new H(4,24),new H(31,25)),new J(30,new H(11,15),new H(31,16))),new t(29,Int32Array.from([6,30,54,78,102,126]),new J(30,new H(7,116),new H(7,117)),new J(28,new H(21,45),new H(7,46)),new J(30,new H(1,23),new H(37,24)),new J(30,new H(19,15),new H(26,16))),new t(30,Int32Array.from([6,26,52,78,104,130]),new J(30,new H(5,115),new H(10,116)),new J(28,new H(19,47),new H(10,48)),new J(30,new H(15,24),new H(25,25)),new J(30,new H(23,15),new H(25,16))),new t(31,Int32Array.from([6,30,56,82,108,134]),new J(30,new H(13,115),new H(3,116)),new J(28,new H(2,46),new H(29,47)),new J(30,new H(42,24),new H(1,25)),new J(30,new H(23,15),new H(28,16))),new t(32,Int32Array.from([6,34,60,86,112,138]),new J(30,new H(17,115)),new J(28,new H(10,46),new H(23,47)),new J(30,new H(10,24),new H(35,25)),new J(30,new H(19,15),new H(35,16))),new t(33,Int32Array.from([6,30,58,86,114,142]),new J(30,new H(17,115),new H(1,116)),new J(28,new H(14,46),new H(21,47)),new J(30,new H(29,24),new H(19,25)),new J(30,new H(11,15),new H(46,16))),new t(34,Int32Array.from([6,34,62,90,118,146]),new J(30,new H(13,115),new H(6,116)),new J(28,new H(14,46),new H(23,47)),new J(30,new H(44,24),new H(7,25)),new J(30,new H(59,16),new H(1,17))),new t(35,Int32Array.from([6,30,54,78,102,126,150]),new J(30,new H(12,121),new H(7,122)),new J(28,new H(12,47),new H(26,48)),new J(30,new H(39,24),new H(14,25)),new J(30,new H(22,15),new H(41,16))),new t(36,Int32Array.from([6,24,50,76,102,128,154]),new J(30,new H(6,121),new H(14,122)),new J(28,new H(6,47),new H(34,48)),new J(30,new H(46,24),new H(10,25)),new J(30,new H(2,15),new H(64,16))),new t(37,Int32Array.from([6,28,54,80,106,132,158]),new J(30,new H(17,122),new H(4,123)),new J(28,new H(29,46),new H(14,47)),new J(30,new H(49,24),new H(10,25)),new J(30,new H(24,15),new H(46,16))),new t(38,Int32Array.from([6,32,58,84,110,136,162]),new J(30,new H(4,122),new H(18,123)),new J(28,new H(13,46),new H(32,47)),new J(30,new H(48,24),new H(14,25)),new J(30,new H(42,15),new H(32,16))),new t(39,Int32Array.from([6,26,54,82,110,138,166]),new J(30,new H(20,117),new H(4,118)),new J(28,new H(40,47),new H(7,48)),new J(30,new H(43,24),new H(22,25)),new J(30,new H(10,15),new H(67,16))),new t(40,Int32Array.from([6,30,58,86,114,142,170]),new J(30,new H(19,118),new H(6,119)),new J(28,new H(18,47),new H(31,48)),new J(30,new H(34,24),new H(34,25)),new J(30,new H(20,15),new H(61,16)))],t}(),Ir;(function(t){t[t.DATA_MASK_000=0]="DATA_MASK_000",t[t.DATA_MASK_001=1]="DATA_MASK_001",t[t.DATA_MASK_010=2]="DATA_MASK_010",t[t.DATA_MASK_011=3]="DATA_MASK_011",t[t.DATA_MASK_100=4]="DATA_MASK_100",t[t.DATA_MASK_101=5]="DATA_MASK_101",t[t.DATA_MASK_110=6]="DATA_MASK_110",t[t.DATA_MASK_111=7]="DATA_MASK_111"})(Ir||(Ir={}));var sy=function(){function t(e,r){this.value=e,this.isMasked=r}return t.prototype.unmaskBitMatrix=function(e,r){for(var n=0;n<r;n++)for(var i=0;i<r;i++)this.isMasked(n,i)&&e.flip(i,n)},t.values=new Map([[Ir.DATA_MASK_000,new t(Ir.DATA_MASK_000,function(e,r){return(e+r&1)===0})],[Ir.DATA_MASK_001,new t(Ir.DATA_MASK_001,function(e,r){return(e&1)===0})],[Ir.DATA_MASK_010,new t(Ir.DATA_MASK_010,function(e,r){return r%3===0})],[Ir.DATA_MASK_011,new t(Ir.DATA_MASK_011,function(e,r){return(e+r)%3===0})],[Ir.DATA_MASK_100,new t(Ir.DATA_MASK_100,function(e,r){return(Math.floor(e/2)+Math.floor(r/3)&1)===0})],[Ir.DATA_MASK_101,new t(Ir.DATA_MASK_101,function(e,r){return e*r%6===0})],[Ir.DATA_MASK_110,new t(Ir.DATA_MASK_110,function(e,r){return e*r%6<3})],[Ir.DATA_MASK_111,new t(Ir.DATA_MASK_111,function(e,r){return(e+r+e*r%3&1)===0})]]),t}(),Vj=function(){function t(e){var r=e.getHeight();if(r<21||(r&3)!==1)throw new me;this.bitMatrix=e}return t.prototype.readFormatInformation=function(){if(this.parsedFormatInfo!==null&&this.parsedFormatInfo!==void 0)return this.parsedFormatInfo;for(var e=0,r=0;r<6;r++)e=this.copyBit(r,8,e);e=this.copyBit(7,8,e),e=this.copyBit(8,8,e),e=this.copyBit(8,7,e);for(var n=5;n>=0;n--)e=this.copyBit(8,n,e);for(var i=this.bitMatrix.getHeight(),s=0,o=i-7,n=i-1;n>=o;n--)s=this.copyBit(8,n,s);for(var r=i-8;r<i;r++)s=this.copyBit(r,8,s);if(this.parsedFormatInfo=fb.decodeFormatInformation(e,s),this.parsedFormatInfo!==null)return this.parsedFormatInfo;throw new me},t.prototype.readVersion=function(){if(this.parsedVersion!==null&&this.parsedVersion!==void 0)return this.parsedVersion;var e=this.bitMatrix.getHeight(),r=Math.floor((e-17)/4);if(r<=6)return so.getVersionForNumber(r);for(var n=0,i=e-11,s=5;s>=0;s--)for(var o=e-9;o>=i;o--)n=this.copyBit(o,s,n);var u=so.decodeVersionInformation(n);if(u!==null&&u.getDimensionForVersion()===e)return this.parsedVersion=u,u;n=0;for(var o=5;o>=0;o--)for(var s=e-9;s>=i;s--)n=this.copyBit(o,s,n);if(u=so.decodeVersionInformation(n),u!==null&&u.getDimensionForVersion()===e)return this.parsedVersion=u,u;throw new me},t.prototype.copyBit=function(e,r,n){var i=this.isMirror?this.bitMatrix.get(r,e):this.bitMatrix.get(e,r);return i?n<<1|1:n<<1},t.prototype.readCodewords=function(){var e=this.readFormatInformation(),r=this.readVersion(),n=sy.values.get(e.getDataMask()),i=this.bitMatrix.getHeight();n.unmaskBitMatrix(this.bitMatrix,i);for(var s=r.buildFunctionPattern(),o=!0,u=new Uint8Array(r.getTotalCodewords()),f=0,h=0,m=0,v=i-1;v>0;v-=2){v===6&&v--;for(var w=0;w<i;w++)for(var C=o?i-1-w:w,N=0;N<2;N++)s.get(v-N,C)||(m++,h<<=1,this.bitMatrix.get(v-N,C)&&(h|=1),m===8&&(u[f++]=h,m=0,h=0));o=!o}if(f!==r.getTotalCodewords())throw new me;return u},t.prototype.remask=function(){if(this.parsedFormatInfo!==null){var e=sy.values.get(this.parsedFormatInfo.getDataMask()),r=this.bitMatrix.getHeight();e.unmaskBitMatrix(this.bitMatrix,r)}},t.prototype.setMirror=function(e){this.parsedVersion=null,this.parsedFormatInfo=null,this.isMirror=e},t.prototype.mirror=function(){for(var e=this.bitMatrix,r=0,n=e.getWidth();r<n;r++)for(var i=r+1,s=e.getHeight();i<s;i++)e.get(r,i)!==e.get(i,r)&&(e.flip(i,r),e.flip(r,i))},t}(),ay=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},Hj=function(){function t(e,r){this.numDataCodewords=e,this.codewords=r}return t.getDataBlocks=function(e,r,n){var i,s,o,u;if(e.length!==r.getTotalCodewords())throw new Be;var f=r.getECBlocksForLevel(n),h=0,m=f.getECBlocks();try{for(var v=ay(m),w=v.next();!w.done;w=v.next()){var C=w.value;h+=C.getCount()}}catch(ae){i={error:ae}}finally{try{w&&!w.done&&(s=v.return)&&s.call(v)}finally{if(i)throw i.error}}var N=new Array(h),b=0;try{for(var R=ay(m),_=R.next();!_.done;_=R.next())for(var C=_.value,S=0;S<C.getCount();S++){var T=C.getDataCodewords(),P=f.getECCodewordsPerBlock()+T;N[b++]=new t(T,new Uint8Array(P))}}catch(ae){o={error:ae}}finally{try{_&&!_.done&&(u=R.return)&&u.call(R)}finally{if(o)throw o.error}}for(var B=N[0].codewords.length,k=N.length-1;k>=0;){var M=N[k].codewords.length;if(M===B)break;k--}k++;for(var F=B-f.getECCodewordsPerBlock(),U=0,S=0;S<F;S++)for(var X=0;X<b;X++)N[X].codewords[S]=e[U++];for(var X=k;X<b;X++)N[X].codewords[F]=e[U++];for(var ee=N[0].codewords.length,S=F;S<ee;S++)for(var X=0;X<b;X++){var Z=X<k?S:S+1;N[X].codewords[Z]=e[U++]}return N},t.prototype.getNumDataCodewords=function(){return this.numDataCodewords},t.prototype.getCodewords=function(){return this.codewords},t}(),Jn;(function(t){t[t.TERMINATOR=0]="TERMINATOR",t[t.NUMERIC=1]="NUMERIC",t[t.ALPHANUMERIC=2]="ALPHANUMERIC",t[t.STRUCTURED_APPEND=3]="STRUCTURED_APPEND",t[t.BYTE=4]="BYTE",t[t.ECI=5]="ECI",t[t.KANJI=6]="KANJI",t[t.FNC1_FIRST_POSITION=7]="FNC1_FIRST_POSITION",t[t.FNC1_SECOND_POSITION=8]="FNC1_SECOND_POSITION",t[t.HANZI=9]="HANZI"})(Jn||(Jn={}));var Vt=function(){function t(e,r,n,i){this.value=e,this.stringValue=r,this.characterCountBitsForVersions=n,this.bits=i,t.FOR_BITS.set(i,this),t.FOR_VALUE.set(e,this)}return t.forBits=function(e){var r=t.FOR_BITS.get(e);if(r===void 0)throw new Be;return r},t.prototype.getCharacterCountBits=function(e){var r=e.getVersionNumber(),n;return r<=9?n=0:r<=26?n=1:n=2,this.characterCountBitsForVersions[n]},t.prototype.getValue=function(){return this.value},t.prototype.getBits=function(){return this.bits},t.prototype.equals=function(e){if(!(e instanceof t))return!1;var r=e;return this.value===r.value},t.prototype.toString=function(){return this.stringValue},t.FOR_BITS=new Map,t.FOR_VALUE=new Map,t.TERMINATOR=new t(Jn.TERMINATOR,"TERMINATOR",Int32Array.from([0,0,0]),0),t.NUMERIC=new t(Jn.NUMERIC,"NUMERIC",Int32Array.from([10,12,14]),1),t.ALPHANUMERIC=new t(Jn.ALPHANUMERIC,"ALPHANUMERIC",Int32Array.from([9,11,13]),2),t.STRUCTURED_APPEND=new t(Jn.STRUCTURED_APPEND,"STRUCTURED_APPEND",Int32Array.from([0,0,0]),3),t.BYTE=new t(Jn.BYTE,"BYTE",Int32Array.from([8,16,16]),4),t.ECI=new t(Jn.ECI,"ECI",Int32Array.from([0,0,0]),7),t.KANJI=new t(Jn.KANJI,"KANJI",Int32Array.from([8,10,12]),8),t.FNC1_FIRST_POSITION=new t(Jn.FNC1_FIRST_POSITION,"FNC1_FIRST_POSITION",Int32Array.from([0,0,0]),5),t.FNC1_SECOND_POSITION=new t(Jn.FNC1_SECOND_POSITION,"FNC1_SECOND_POSITION",Int32Array.from([0,0,0]),9),t.HANZI=new t(Jn.HANZI,"HANZI",Int32Array.from([8,10,12]),13),t}(),zj=function(){function t(){}return t.decode=function(e,r,n,i){var s=new db(e),o=new Qe,u=new Array,f=-1,h=-1;try{var m=null,v=!1,w=void 0;do{if(s.available()<4)w=Vt.TERMINATOR;else{var C=s.readBits(4);w=Vt.forBits(C)}switch(w){case Vt.TERMINATOR:break;case Vt.FNC1_FIRST_POSITION:case Vt.FNC1_SECOND_POSITION:v=!0;break;case Vt.STRUCTURED_APPEND:if(s.available()<16)throw new me;f=s.readBits(8),h=s.readBits(8);break;case Vt.ECI:var N=t.parseECIValue(s);if(m=Er.getCharacterSetECIByValue(N),m===null)throw new me;break;case Vt.HANZI:var b=s.readBits(4),R=s.readBits(w.getCharacterCountBits(r));b===t.GB2312_SUBSET&&t.decodeHanziSegment(s,o,R);break;default:var _=s.readBits(w.getCharacterCountBits(r));switch(w){case Vt.NUMERIC:t.decodeNumericSegment(s,o,_);break;case Vt.ALPHANUMERIC:t.decodeAlphanumericSegment(s,o,_,v);break;case Vt.BYTE:t.decodeByteSegment(s,o,_,m,u,i);break;case Vt.KANJI:t.decodeKanjiSegment(s,o,_);break;default:throw new me}break}}while(w!==Vt.TERMINATOR)}catch{throw new me}return new E0(e,o.toString(),u.length===0?null:u,n===null?null:n.toString(),f,h)},t.decodeHanziSegment=function(e,r,n){if(n*13>e.available())throw new me;for(var i=new Uint8Array(2*n),s=0;n>0;){var o=e.readBits(13),u=o/96<<8&4294967295|o%96;u<959?u+=41377:u+=42657,i[s]=u>>8&255,i[s+1]=u&255,s+=2,n--}try{r.append(ui.decode(i,lt.GB2312))}catch(f){throw new me(f)}},t.decodeKanjiSegment=function(e,r,n){if(n*13>e.available())throw new me;for(var i=new Uint8Array(2*n),s=0;n>0;){var o=e.readBits(13),u=o/192<<8&4294967295|o%192;u<7936?u+=33088:u+=49472,i[s]=u>>8,i[s+1]=u,s+=2,n--}try{r.append(ui.decode(i,lt.SHIFT_JIS))}catch(f){throw new me(f)}},t.decodeByteSegment=function(e,r,n,i,s,o){if(8*n>e.available())throw new me;for(var u=new Uint8Array(n),f=0;f<n;f++)u[f]=e.readBits(8);var h;i===null?h=lt.guessEncoding(u,o):h=i.getName();try{r.append(ui.decode(u,h))}catch(m){throw new me(m)}s.push(u)},t.toAlphaNumericChar=function(e){if(e>=t.ALPHANUMERIC_CHARS.length)throw new me;return t.ALPHANUMERIC_CHARS[e]},t.decodeAlphanumericSegment=function(e,r,n,i){for(var s=r.length();n>1;){if(e.available()<11)throw new me;var o=e.readBits(11);r.append(t.toAlphaNumericChar(Math.floor(o/45))),r.append(t.toAlphaNumericChar(o%45)),n-=2}if(n===1){if(e.available()<6)throw new me;r.append(t.toAlphaNumericChar(e.readBits(6)))}if(i)for(var u=s;u<r.length();u++)r.charAt(u)==="%"&&(u<r.length()-1&&r.charAt(u+1)==="%"?r.deleteCharAt(u+1):r.setCharAt(u,""))},t.decodeNumericSegment=function(e,r,n){for(;n>=3;){if(e.available()<10)throw new me;var i=e.readBits(10);if(i>=1e3)throw new me;r.append(t.toAlphaNumericChar(Math.floor(i/100))),r.append(t.toAlphaNumericChar(Math.floor(i/10)%10)),r.append(t.toAlphaNumericChar(i%10)),n-=3}if(n===2){if(e.available()<7)throw new me;var s=e.readBits(7);if(s>=100)throw new me;r.append(t.toAlphaNumericChar(Math.floor(s/10))),r.append(t.toAlphaNumericChar(s%10))}else if(n===1){if(e.available()<4)throw new me;var o=e.readBits(4);if(o>=10)throw new me;r.append(t.toAlphaNumericChar(o))}},t.parseECIValue=function(e){var r=e.readBits(8);if(!(r&128))return r&127;if((r&192)===128){var n=e.readBits(8);return(r&63)<<8&4294967295|n}if((r&224)===192){var i=e.readBits(16);return(r&31)<<16&4294967295|i}throw new me},t.ALPHANUMERIC_CHARS="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ $%*+-./:",t.GB2312_SUBSET=1,t}(),hb=function(){function t(e){this.mirrored=e}return t.prototype.isMirrored=function(){return this.mirrored},t.prototype.applyMirroredCorrection=function(e){if(!(!this.mirrored||e===null||e.length<3)){var r=e[0];e[0]=e[2],e[2]=r}},t}(),oy=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},Gj=function(){function t(){this.rsDecoder=new A0(Tn.QR_CODE_FIELD_256)}return t.prototype.decodeBooleanArray=function(e,r){return this.decodeBitMatrix(ls.parseFromBooleanArray(e),r)},t.prototype.decodeBitMatrix=function(e,r){var n=new Vj(e),i=null;try{return this.decodeBitMatrixParser(n,r)}catch(o){i=o}try{n.remask(),n.setMirror(!0),n.readVersion(),n.readFormatInformation(),n.mirror();var s=this.decodeBitMatrixParser(n,r);return s.setOther(new hb(!0)),s}catch(o){throw i!==null?i:o}},t.prototype.decodeBitMatrixParser=function(e,r){var n,i,s,o,u=e.readVersion(),f=e.readFormatInformation().getErrorCorrectionLevel(),h=e.readCodewords(),m=Hj.getDataBlocks(h,u,f),v=0;try{for(var w=oy(m),C=w.next();!C.done;C=w.next()){var N=C.value;v+=N.getNumDataCodewords()}}catch(k){n={error:k}}finally{try{C&&!C.done&&(i=w.return)&&i.call(w)}finally{if(n)throw n.error}}var b=new Uint8Array(v),R=0;try{for(var _=oy(m),S=_.next();!S.done;S=_.next()){var N=S.value,T=N.getCodewords(),P=N.getNumDataCodewords();this.correctErrors(T,P);for(var B=0;B<P;B++)b[R++]=T[B]}}catch(k){s={error:k}}finally{try{S&&!S.done&&(o=_.return)&&o.call(_)}finally{if(s)throw s.error}}return zj.decode(b,u,f,r)},t.prototype.correctErrors=function(e,r){var n=new Int32Array(e);try{this.rsDecoder.decode(n,e.length-r)}catch{throw new Or}for(var i=0;i<r;i++)e[i]=n[i]},t}(),Wj=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var s in i)i.hasOwnProperty(s)&&(n[s]=i[s])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),Xj=function(t){Wj(e,t);function e(r,n,i){var s=t.call(this,r,n)||this;return s.estimatedModuleSize=i,s}return e.prototype.aboutEquals=function(r,n,i){if(Math.abs(n-this.getY())<=r&&Math.abs(i-this.getX())<=r){var s=Math.abs(r-this.estimatedModuleSize);return s<=1||s<=this.estimatedModuleSize}return!1},e.prototype.combineEstimate=function(r,n,i){var s=(this.getX()+n)/2,o=(this.getY()+r)/2,u=(this.estimatedModuleSize+i)/2;return new e(s,o,u)},e}(Re),Yj=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},$j=function(){function t(e,r,n,i,s,o,u){this.image=e,this.startX=r,this.startY=n,this.width=i,this.height=s,this.moduleSize=o,this.resultPointCallback=u,this.possibleCenters=[],this.crossCheckStateCount=new Int32Array(3)}return t.prototype.find=function(){for(var e=this.startX,r=this.height,n=this.width,i=e+n,s=this.startY+r/2,o=new Int32Array(3),u=this.image,f=0;f<r;f++){var h=s+(f&1?-Math.floor((f+1)/2):Math.floor((f+1)/2));o[0]=0,o[1]=0,o[2]=0;for(var m=e;m<i&&!u.get(m,h);)m++;for(var v=0;m<i;){if(u.get(m,h))if(v===1)o[1]++;else if(v===2){if(this.foundPatternCross(o)){var w=this.handlePossibleCenter(o,h,m);if(w!==null)return w}o[0]=o[2],o[1]=1,o[2]=0,v=1}else o[++v]++;else v===1&&v++,o[v]++;m++}if(this.foundPatternCross(o)){var w=this.handlePossibleCenter(o,h,i);if(w!==null)return w}}if(this.possibleCenters.length!==0)return this.possibleCenters[0];throw new ie},t.centerFromEnd=function(e,r){return r-e[2]-e[1]/2},t.prototype.foundPatternCross=function(e){for(var r=this.moduleSize,n=r/2,i=0;i<3;i++)if(Math.abs(r-e[i])>=n)return!1;return!0},t.prototype.crossCheckVertical=function(e,r,n,i){var s=this.image,o=s.getHeight(),u=this.crossCheckStateCount;u[0]=0,u[1]=0,u[2]=0;for(var f=e;f>=0&&s.get(r,f)&&u[1]<=n;)u[1]++,f--;if(f<0||u[1]>n)return NaN;for(;f>=0&&!s.get(r,f)&&u[0]<=n;)u[0]++,f--;if(u[0]>n)return NaN;for(f=e+1;f<o&&s.get(r,f)&&u[1]<=n;)u[1]++,f++;if(f===o||u[1]>n)return NaN;for(;f<o&&!s.get(r,f)&&u[2]<=n;)u[2]++,f++;if(u[2]>n)return NaN;var h=u[0]+u[1]+u[2];return 5*Math.abs(h-i)>=2*i?NaN:this.foundPatternCross(u)?t.centerFromEnd(u,f):NaN},t.prototype.handlePossibleCenter=function(e,r,n){var i,s,o=e[0]+e[1]+e[2],u=t.centerFromEnd(e,n),f=this.crossCheckVertical(r,u,2*e[1],o);if(!isNaN(f)){var h=(e[0]+e[1]+e[2])/3;try{for(var m=Yj(this.possibleCenters),v=m.next();!v.done;v=m.next()){var w=v.value;if(w.aboutEquals(h,f,u))return w.combineEstimate(f,u,h)}}catch(N){i={error:N}}finally{try{v&&!v.done&&(s=m.return)&&s.call(m)}finally{if(i)throw i.error}}var C=new Xj(u,f,h);this.possibleCenters.push(C),this.resultPointCallback!==null&&this.resultPointCallback!==void 0&&this.resultPointCallback.foundPossibleResultPoint(C)}return null},t}(),Kj=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var s in i)i.hasOwnProperty(s)&&(n[s]=i[s])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),Zj=function(t){Kj(e,t);function e(r,n,i,s){var o=t.call(this,r,n)||this;return o.estimatedModuleSize=i,o.count=s,s===void 0&&(o.count=1),o}return e.prototype.getEstimatedModuleSize=function(){return this.estimatedModuleSize},e.prototype.getCount=function(){return this.count},e.prototype.aboutEquals=function(r,n,i){if(Math.abs(n-this.getY())<=r&&Math.abs(i-this.getX())<=r){var s=Math.abs(r-this.estimatedModuleSize);return s<=1||s<=this.estimatedModuleSize}return!1},e.prototype.combineEstimate=function(r,n,i){var s=this.count+1,o=(this.count*this.getX()+n)/s,u=(this.count*this.getY()+r)/s,f=(this.count*this.estimatedModuleSize+i)/s;return new e(o,u,f,s)},e}(Re),qj=function(){function t(e){this.bottomLeft=e[0],this.topLeft=e[1],this.topRight=e[2]}return t.prototype.getBottomLeft=function(){return this.bottomLeft},t.prototype.getTopLeft=function(){return this.topLeft},t.prototype.getTopRight=function(){return this.topRight},t}(),mc=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},Qj=function(){function t(e,r){this.image=e,this.resultPointCallback=r,this.possibleCenters=[],this.crossCheckStateCount=new Int32Array(5),this.resultPointCallback=r}return t.prototype.getImage=function(){return this.image},t.prototype.getPossibleCenters=function(){return this.possibleCenters},t.prototype.find=function(e){var r=e!=null&&e.get(Wt.TRY_HARDER)!==void 0,n=e!=null&&e.get(Wt.PURE_BARCODE)!==void 0,i=this.image,s=i.getHeight(),o=i.getWidth(),u=Math.floor(3*s/(4*t.MAX_MODULES));(u<t.MIN_SKIP||r)&&(u=t.MIN_SKIP);for(var f=!1,h=new Int32Array(5),m=u-1;m<s&&!f;m+=u){h[0]=0,h[1]=0,h[2]=0,h[3]=0,h[4]=0;for(var v=0,w=0;w<o;w++)if(i.get(w,m))(v&1)===1&&v++,h[v]++;else if(v&1)h[v]++;else if(v===4)if(t.foundPatternCross(h)){var C=this.handlePossibleCenter(h,m,w,n);if(C===!0)if(u=2,this.hasSkipped===!0)f=this.haveMultiplyConfirmedCenters();else{var N=this.findRowSkip();N>h[2]&&(m+=N-h[2]-u,w=o-1)}else{h[0]=h[2],h[1]=h[3],h[2]=h[4],h[3]=1,h[4]=0,v=3;continue}v=0,h[0]=0,h[1]=0,h[2]=0,h[3]=0,h[4]=0}else h[0]=h[2],h[1]=h[3],h[2]=h[4],h[3]=1,h[4]=0,v=3;else h[++v]++;if(t.foundPatternCross(h)){var C=this.handlePossibleCenter(h,m,o,n);C===!0&&(u=h[0],this.hasSkipped&&(f=this.haveMultiplyConfirmedCenters()))}}var b=this.selectBestPatterns();return Re.orderBestPatterns(b),new qj(b)},t.centerFromEnd=function(e,r){return r-e[4]-e[3]-e[2]/2},t.foundPatternCross=function(e){for(var r=0,n=0;n<5;n++){var i=e[n];if(i===0)return!1;r+=i}if(r<7)return!1;var s=r/7,o=s/2;return Math.abs(s-e[0])<o&&Math.abs(s-e[1])<o&&Math.abs(3*s-e[2])<3*o&&Math.abs(s-e[3])<o&&Math.abs(s-e[4])<o},t.prototype.getCrossCheckStateCount=function(){var e=this.crossCheckStateCount;return e[0]=0,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e},t.prototype.crossCheckDiagonal=function(e,r,n,i){for(var s=this.getCrossCheckStateCount(),o=0,u=this.image;e>=o&&r>=o&&u.get(r-o,e-o);)s[2]++,o++;if(e<o||r<o)return!1;for(;e>=o&&r>=o&&!u.get(r-o,e-o)&&s[1]<=n;)s[1]++,o++;if(e<o||r<o||s[1]>n)return!1;for(;e>=o&&r>=o&&u.get(r-o,e-o)&&s[0]<=n;)s[0]++,o++;if(s[0]>n)return!1;var f=u.getHeight(),h=u.getWidth();for(o=1;e+o<f&&r+o<h&&u.get(r+o,e+o);)s[2]++,o++;if(e+o>=f||r+o>=h)return!1;for(;e+o<f&&r+o<h&&!u.get(r+o,e+o)&&s[3]<n;)s[3]++,o++;if(e+o>=f||r+o>=h||s[3]>=n)return!1;for(;e+o<f&&r+o<h&&u.get(r+o,e+o)&&s[4]<n;)s[4]++,o++;if(s[4]>=n)return!1;var m=s[0]+s[1]+s[2]+s[3]+s[4];return Math.abs(m-i)<2*i&&t.foundPatternCross(s)},t.prototype.crossCheckVertical=function(e,r,n,i){for(var s=this.image,o=s.getHeight(),u=this.getCrossCheckStateCount(),f=e;f>=0&&s.get(r,f);)u[2]++,f--;if(f<0)return NaN;for(;f>=0&&!s.get(r,f)&&u[1]<=n;)u[1]++,f--;if(f<0||u[1]>n)return NaN;for(;f>=0&&s.get(r,f)&&u[0]<=n;)u[0]++,f--;if(u[0]>n)return NaN;for(f=e+1;f<o&&s.get(r,f);)u[2]++,f++;if(f===o)return NaN;for(;f<o&&!s.get(r,f)&&u[3]<n;)u[3]++,f++;if(f===o||u[3]>=n)return NaN;for(;f<o&&s.get(r,f)&&u[4]<n;)u[4]++,f++;if(u[4]>=n)return NaN;var h=u[0]+u[1]+u[2]+u[3]+u[4];return 5*Math.abs(h-i)>=2*i?NaN:t.foundPatternCross(u)?t.centerFromEnd(u,f):NaN},t.prototype.crossCheckHorizontal=function(e,r,n,i){for(var s=this.image,o=s.getWidth(),u=this.getCrossCheckStateCount(),f=e;f>=0&&s.get(f,r);)u[2]++,f--;if(f<0)return NaN;for(;f>=0&&!s.get(f,r)&&u[1]<=n;)u[1]++,f--;if(f<0||u[1]>n)return NaN;for(;f>=0&&s.get(f,r)&&u[0]<=n;)u[0]++,f--;if(u[0]>n)return NaN;for(f=e+1;f<o&&s.get(f,r);)u[2]++,f++;if(f===o)return NaN;for(;f<o&&!s.get(f,r)&&u[3]<n;)u[3]++,f++;if(f===o||u[3]>=n)return NaN;for(;f<o&&s.get(f,r)&&u[4]<n;)u[4]++,f++;if(u[4]>=n)return NaN;var h=u[0]+u[1]+u[2]+u[3]+u[4];return 5*Math.abs(h-i)>=i?NaN:t.foundPatternCross(u)?t.centerFromEnd(u,f):NaN},t.prototype.handlePossibleCenter=function(e,r,n,i){var s=e[0]+e[1]+e[2]+e[3]+e[4],o=t.centerFromEnd(e,n),u=this.crossCheckVertical(r,Math.floor(o),e[2],s);if(!isNaN(u)&&(o=this.crossCheckHorizontal(Math.floor(o),Math.floor(u),e[2],s),!isNaN(o)&&(!i||this.crossCheckDiagonal(Math.floor(u),Math.floor(o),e[2],s)))){for(var f=s/7,h=!1,m=this.possibleCenters,v=0,w=m.length;v<w;v++){var C=m[v];if(C.aboutEquals(f,u,o)){m[v]=C.combineEstimate(u,o,f),h=!0;break}}if(!h){var N=new Zj(o,u,f);m.push(N),this.resultPointCallback!==null&&this.resultPointCallback!==void 0&&this.resultPointCallback.foundPossibleResultPoint(N)}return!0}return!1},t.prototype.findRowSkip=function(){var e,r,n=this.possibleCenters.length;if(n<=1)return 0;var i=null;try{for(var s=mc(this.possibleCenters),o=s.next();!o.done;o=s.next()){var u=o.value;if(u.getCount()>=t.CENTER_QUORUM)if(i==null)i=u;else return this.hasSkipped=!0,Math.floor((Math.abs(i.getX()-u.getX())-Math.abs(i.getY()-u.getY()))/2)}}catch(f){e={error:f}}finally{try{o&&!o.done&&(r=s.return)&&r.call(s)}finally{if(e)throw e.error}}return 0},t.prototype.haveMultiplyConfirmedCenters=function(){var e,r,n,i,s=0,o=0,u=this.possibleCenters.length;try{for(var f=mc(this.possibleCenters),h=f.next();!h.done;h=f.next()){var m=h.value;m.getCount()>=t.CENTER_QUORUM&&(s++,o+=m.getEstimatedModuleSize())}}catch(b){e={error:b}}finally{try{h&&!h.done&&(r=f.return)&&r.call(f)}finally{if(e)throw e.error}}if(s<3)return!1;var v=o/u,w=0;try{for(var C=mc(this.possibleCenters),N=C.next();!N.done;N=C.next()){var m=N.value;w+=Math.abs(m.getEstimatedModuleSize()-v)}}catch(b){n={error:b}}finally{try{N&&!N.done&&(i=C.return)&&i.call(C)}finally{if(n)throw n.error}}return w<=.05*o},t.prototype.selectBestPatterns=function(){var e,r,n,i,s=this.possibleCenters.length;if(s<3)throw new ie;var o=this.possibleCenters,u;if(s>3){var f=0,h=0;try{for(var m=mc(this.possibleCenters),v=m.next();!v.done;v=m.next()){var w=v.value,C=w.getEstimatedModuleSize();f+=C,h+=C*C}}catch(B){e={error:B}}finally{try{v&&!v.done&&(r=m.return)&&r.call(m)}finally{if(e)throw e.error}}u=f/s;var N=Math.sqrt(h/s-u*u);o.sort(function(B,k){var M=Math.abs(k.getEstimatedModuleSize()-u),F=Math.abs(B.getEstimatedModuleSize()-u);return M<F?-1:M>F?1:0});for(var b=Math.max(.2*u,N),R=0;R<o.length&&o.length>3;R++){var _=o[R];Math.abs(_.getEstimatedModuleSize()-u)>b&&(o.splice(R,1),R--)}}if(o.length>3){var f=0;try{for(var S=mc(o),T=S.next();!T.done;T=S.next()){var P=T.value;f+=P.getEstimatedModuleSize()}}catch(k){n={error:k}}finally{try{T&&!T.done&&(i=S.return)&&i.call(S)}finally{if(n)throw n.error}}u=f/o.length,o.sort(function(k,M){if(M.getCount()===k.getCount()){var F=Math.abs(M.getEstimatedModuleSize()-u),U=Math.abs(k.getEstimatedModuleSize()-u);return F<U?1:F>U?-1:0}else return M.getCount()-k.getCount()}),o.splice(3)}return[o[0],o[1],o[2]]},t.CENTER_QUORUM=2,t.MIN_SKIP=3,t.MAX_MODULES=57,t}(),Jj=function(){function t(e){this.image=e}return t.prototype.getImage=function(){return this.image},t.prototype.getResultPointCallback=function(){return this.resultPointCallback},t.prototype.detect=function(e){this.resultPointCallback=e==null?null:e.get(Wt.NEED_RESULT_POINT_CALLBACK);var r=new Qj(this.image,this.resultPointCallback),n=r.find(e);return this.processFinderPatternInfo(n)},t.prototype.processFinderPatternInfo=function(e){var r=e.getTopLeft(),n=e.getTopRight(),i=e.getBottomLeft(),s=this.calculateModuleSize(r,n,i);if(s<1)throw new ie("No pattern found in proccess finder.");var o=t.computeDimension(r,n,i,s),u=so.getProvisionalVersionForDimension(o),f=u.getDimensionForVersion()-7,h=null;if(u.getAlignmentPatternCenters().length>0)for(var m=n.getX()-r.getX()+i.getX(),v=n.getY()-r.getY()+i.getY(),w=1-3/f,C=Math.floor(r.getX()+w*(m-r.getX())),N=Math.floor(r.getY()+w*(v-r.getY())),b=4;b<=16;b<<=1)try{h=this.findAlignmentInRegion(s,C,N,b);break}catch(T){if(!(T instanceof ie))throw T}var R=t.createTransform(r,n,i,h,o),_=t.sampleGrid(this.image,R,o),S;return h===null?S=[i,r,n]:S=[i,r,n,h],new Vg(_,S)},t.createTransform=function(e,r,n,i,s){var o=s-3.5,u,f,h,m;return i!==null?(u=i.getX(),f=i.getY(),h=o-3,m=h):(u=r.getX()-e.getX()+n.getX(),f=r.getY()-e.getY()+n.getY(),h=o,m=o),ob.quadrilateralToQuadrilateral(3.5,3.5,o,3.5,h,m,3.5,o,e.getX(),e.getY(),r.getX(),r.getY(),u,f,n.getX(),n.getY())},t.sampleGrid=function(e,r,n){var i=Hg.getInstance();return i.sampleGridWithTransform(e,n,n,r)},t.computeDimension=function(e,r,n,i){var s=pt.round(Re.distance(e,r)/i),o=pt.round(Re.distance(e,n)/i),u=Math.floor((s+o)/2)+7;switch(u&3){case 0:u++;break;case 2:u--;break;case 3:throw new ie("Dimensions could be not found.")}return u},t.prototype.calculateModuleSize=function(e,r,n){return(this.calculateModuleSizeOneWay(e,r)+this.calculateModuleSizeOneWay(e,n))/2},t.prototype.calculateModuleSizeOneWay=function(e,r){var n=this.sizeOfBlackWhiteBlackRunBothWays(Math.floor(e.getX()),Math.floor(e.getY()),Math.floor(r.getX()),Math.floor(r.getY())),i=this.sizeOfBlackWhiteBlackRunBothWays(Math.floor(r.getX()),Math.floor(r.getY()),Math.floor(e.getX()),Math.floor(e.getY()));return isNaN(n)?i/7:isNaN(i)?n/7:(n+i)/14},t.prototype.sizeOfBlackWhiteBlackRunBothWays=function(e,r,n,i){var s=this.sizeOfBlackWhiteBlackRun(e,r,n,i),o=1,u=e-(n-e);u<0?(o=e/(e-u),u=0):u>=this.image.getWidth()&&(o=(this.image.getWidth()-1-e)/(u-e),u=this.image.getWidth()-1);var f=Math.floor(r-(i-r)*o);return o=1,f<0?(o=r/(r-f),f=0):f>=this.image.getHeight()&&(o=(this.image.getHeight()-1-r)/(f-r),f=this.image.getHeight()-1),u=Math.floor(e+(u-e)*o),s+=this.sizeOfBlackWhiteBlackRun(e,r,u,f),s-1},t.prototype.sizeOfBlackWhiteBlackRun=function(e,r,n,i){var s=Math.abs(i-r)>Math.abs(n-e);if(s){var o=e;e=r,r=o,o=n,n=i,i=o}for(var u=Math.abs(n-e),f=Math.abs(i-r),h=-u/2,m=e<n?1:-1,v=r<i?1:-1,w=0,C=n+m,N=e,b=r;N!==C;N+=m){var R=s?b:N,_=s?N:b;if(w===1===this.image.get(R,_)){if(w===2)return pt.distance(N,b,e,r);w++}if(h+=f,h>0){if(b===i)break;b+=v,h-=u}}return w===2?pt.distance(n+m,i,e,r):NaN},t.prototype.findAlignmentInRegion=function(e,r,n,i){var s=Math.floor(i*e),o=Math.max(0,r-s),u=Math.min(this.image.getWidth()-1,r+s);if(u-o<e*3)throw new ie("Alignment top exceeds estimated module size.");var f=Math.max(0,n-s),h=Math.min(this.image.getHeight()-1,n+s);if(h-f<e*3)throw new ie("Alignment bottom exceeds estimated module size.");var m=new $j(this.image,o,f,u-o,h-f,e,this.resultPointCallback);return m.find()},t}(),Mp=function(){function t(){this.decoder=new Gj}return t.prototype.getDecoder=function(){return this.decoder},t.prototype.decode=function(e,r){var n,i;if(r!=null&&r.get(Wt.PURE_BARCODE)!==void 0){var s=t.extractPureBits(e.getBlackMatrix());n=this.decoder.decodeBitMatrix(s,r),i=t.NO_POINTS}else{var o=new Jj(e.getBlackMatrix()).detect(r);n=this.decoder.decodeBitMatrix(o.getBits(),r),i=o.getPoints()}n.getOther()instanceof hb&&n.getOther().applyMirroredCorrection(i);var u=new sn(n.getText(),n.getRawBytes(),void 0,i,ke.QR_CODE,void 0),f=n.getByteSegments();f!==null&&u.putMetadata(Vr.BYTE_SEGMENTS,f);var h=n.getECLevel();return h!==null&&u.putMetadata(Vr.ERROR_CORRECTION_LEVEL,h),n.hasStructuredAppend()&&(u.putMetadata(Vr.STRUCTURED_APPEND_SEQUENCE,n.getStructuredAppendSequenceNumber()),u.putMetadata(Vr.STRUCTURED_APPEND_PARITY,n.getStructuredAppendParity())),u},t.prototype.reset=function(){},t.extractPureBits=function(e){var r=e.getTopLeftOnBit(),n=e.getBottomRightOnBit();if(r===null||n===null)throw new ie;var i=this.moduleSize(r,e),s=r[1],o=n[1],u=r[0],f=n[0];if(u>=f||s>=o)throw new ie;if(o-s!==f-u&&(f=u+(o-s),f>=e.getWidth()))throw new ie;var h=Math.round((f-u+1)/i),m=Math.round((o-s+1)/i);if(h<=0||m<=0)throw new ie;if(m!==h)throw new ie;var v=Math.floor(i/2);s+=v,u+=v;var w=u+Math.floor((h-1)*i)-f;if(w>0){if(w>v)throw new ie;u-=w}var C=s+Math.floor((m-1)*i)-o;if(C>0){if(C>v)throw new ie;s-=C}for(var N=new ls(h,m),b=0;b<m;b++)for(var R=s+Math.floor(b*i),_=0;_<h;_++)e.get(u+Math.floor(_*i),R)&&N.set(_,b);return N},t.moduleSize=function(e,r){for(var n=r.getHeight(),i=r.getWidth(),s=e[0],o=e[1],u=!0,f=0;s<i&&o<n;){if(u!==r.get(s,o)){if(++f===5)break;u=!u}s++,o++}if(s===i||o===n)throw new ie;return(s-e[0])/7},t.NO_POINTS=new Array,t}(),eM=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},dt=function(){function t(){}return t.prototype.PDF417Common=function(){},t.getBitCountSum=function(e){return pt.sum(e)},t.toIntArray=function(e){var r,n;if(e==null||!e.length)return t.EMPTY_INT_ARRAY;var i=new Int32Array(e.length),s=0;try{for(var o=eM(e),u=o.next();!u.done;u=o.next()){var f=u.value;i[s++]=f}}catch(h){r={error:h}}finally{try{u&&!u.done&&(n=o.return)&&n.call(o)}finally{if(r)throw r.error}}return i},t.getCodeword=function(e){var r=Ar.binarySearch(t.SYMBOL_TABLE,e&262143);return r<0?-1:(t.CODEWORD_TABLE[r]-1)%t.NUMBER_OF_CODEWORDS},t.NUMBER_OF_CODEWORDS=929,t.MAX_CODEWORDS_IN_BARCODE=t.NUMBER_OF_CODEWORDS-1,t.MIN_ROWS_IN_BARCODE=3,t.MAX_ROWS_IN_BARCODE=90,t.MODULES_IN_CODEWORD=17,t.MODULES_IN_STOP_PATTERN=18,t.BARS_IN_MODULE=8,t.EMPTY_INT_ARRAY=new Int32Array([]),t.SYMBOL_TABLE=Int32Array.from([66142,66170,66206,66236,66290,66292,66350,66382,66396,66454,66470,66476,66594,66600,66614,66626,66628,66632,66640,66654,66662,66668,66682,66690,66718,66720,66748,66758,66776,66798,66802,66804,66820,66824,66832,66846,66848,66876,66880,66936,66950,66956,66968,66992,67006,67022,67036,67042,67044,67048,67062,67118,67150,67164,67214,67228,67256,67294,67322,67350,67366,67372,67398,67404,67416,67438,67474,67476,67490,67492,67496,67510,67618,67624,67650,67656,67664,67678,67686,67692,67706,67714,67716,67728,67742,67744,67772,67782,67788,67800,67822,67826,67828,67842,67848,67870,67872,67900,67904,67960,67974,67992,68016,68030,68046,68060,68066,68068,68072,68086,68104,68112,68126,68128,68156,68160,68216,68336,68358,68364,68376,68400,68414,68448,68476,68494,68508,68536,68546,68548,68552,68560,68574,68582,68588,68654,68686,68700,68706,68708,68712,68726,68750,68764,68792,68802,68804,68808,68816,68830,68838,68844,68858,68878,68892,68920,68976,68990,68994,68996,69e3,69008,69022,69024,69052,69062,69068,69080,69102,69106,69108,69142,69158,69164,69190,69208,69230,69254,69260,69272,69296,69310,69326,69340,69386,69394,69396,69410,69416,69430,69442,69444,69448,69456,69470,69478,69484,69554,69556,69666,69672,69698,69704,69712,69726,69754,69762,69764,69776,69790,69792,69820,69830,69836,69848,69870,69874,69876,69890,69918,69920,69948,69952,70008,70022,70040,70064,70078,70094,70108,70114,70116,70120,70134,70152,70174,70176,70264,70384,70412,70448,70462,70496,70524,70542,70556,70584,70594,70600,70608,70622,70630,70636,70664,70672,70686,70688,70716,70720,70776,70896,71136,71180,71192,71216,71230,71264,71292,71360,71416,71452,71480,71536,71550,71554,71556,71560,71568,71582,71584,71612,71622,71628,71640,71662,71726,71732,71758,71772,71778,71780,71784,71798,71822,71836,71864,71874,71880,71888,71902,71910,71916,71930,71950,71964,71992,72048,72062,72066,72068,72080,72094,72096,72124,72134,72140,72152,72174,72178,72180,72206,72220,72248,72304,72318,72416,72444,72456,72464,72478,72480,72508,72512,72568,72588,72600,72624,72638,72654,72668,72674,72676,72680,72694,72726,72742,72748,72774,72780,72792,72814,72838,72856,72880,72894,72910,72924,72930,72932,72936,72950,72966,72972,72984,73008,73022,73056,73084,73102,73116,73144,73156,73160,73168,73182,73190,73196,73210,73226,73234,73236,73250,73252,73256,73270,73282,73284,73296,73310,73318,73324,73346,73348,73352,73360,73374,73376,73404,73414,73420,73432,73454,73498,73518,73522,73524,73550,73564,73570,73572,73576,73590,73800,73822,73858,73860,73872,73886,73888,73916,73944,73970,73972,73992,74014,74016,74044,74048,74104,74118,74136,74160,74174,74210,74212,74216,74230,74244,74256,74270,74272,74360,74480,74502,74508,74544,74558,74592,74620,74638,74652,74680,74690,74696,74704,74726,74732,74782,74784,74812,74992,75232,75288,75326,75360,75388,75456,75512,75576,75632,75646,75650,75652,75664,75678,75680,75708,75718,75724,75736,75758,75808,75836,75840,75896,76016,76256,76736,76824,76848,76862,76896,76924,76992,77048,77296,77340,77368,77424,77438,77536,77564,77572,77576,77584,77600,77628,77632,77688,77702,77708,77720,77744,77758,77774,77788,77870,77902,77916,77922,77928,77966,77980,78008,78018,78024,78032,78046,78060,78074,78094,78136,78192,78206,78210,78212,78224,78238,78240,78268,78278,78284,78296,78322,78324,78350,78364,78448,78462,78560,78588,78600,78622,78624,78652,78656,78712,78726,78744,78768,78782,78798,78812,78818,78820,78824,78838,78862,78876,78904,78960,78974,79072,79100,79296,79352,79368,79376,79390,79392,79420,79424,79480,79600,79628,79640,79664,79678,79712,79740,79772,79800,79810,79812,79816,79824,79838,79846,79852,79894,79910,79916,79942,79948,79960,79982,79988,80006,80024,80048,80062,80078,80092,80098,80100,80104,80134,80140,80176,80190,80224,80252,80270,80284,80312,80328,80336,80350,80358,80364,80378,80390,80396,80408,80432,80446,80480,80508,80576,80632,80654,80668,80696,80752,80766,80776,80784,80798,80800,80828,80844,80856,80878,80882,80884,80914,80916,80930,80932,80936,80950,80962,80968,80976,80990,80998,81004,81026,81028,81040,81054,81056,81084,81094,81100,81112,81134,81154,81156,81160,81168,81182,81184,81212,81216,81272,81286,81292,81304,81328,81342,81358,81372,81380,81384,81398,81434,81454,81458,81460,81486,81500,81506,81508,81512,81526,81550,81564,81592,81602,81604,81608,81616,81630,81638,81644,81702,81708,81722,81734,81740,81752,81774,81778,81780,82050,82078,82080,82108,82180,82184,82192,82206,82208,82236,82240,82296,82316,82328,82352,82366,82402,82404,82408,82440,82448,82462,82464,82492,82496,82552,82672,82694,82700,82712,82736,82750,82784,82812,82830,82882,82884,82888,82896,82918,82924,82952,82960,82974,82976,83004,83008,83064,83184,83424,83468,83480,83504,83518,83552,83580,83648,83704,83740,83768,83824,83838,83842,83844,83848,83856,83872,83900,83910,83916,83928,83950,83984,84e3,84028,84032,84088,84208,84448,84928,85040,85054,85088,85116,85184,85240,85488,85560,85616,85630,85728,85756,85764,85768,85776,85790,85792,85820,85824,85880,85894,85900,85912,85936,85966,85980,86048,86080,86136,86256,86496,86976,88160,88188,88256,88312,88560,89056,89200,89214,89312,89340,89536,89592,89608,89616,89632,89664,89720,89840,89868,89880,89904,89952,89980,89998,90012,90040,90190,90204,90254,90268,90296,90306,90308,90312,90334,90382,90396,90424,90480,90494,90500,90504,90512,90526,90528,90556,90566,90572,90584,90610,90612,90638,90652,90680,90736,90750,90848,90876,90884,90888,90896,90910,90912,90940,90944,91e3,91014,91020,91032,91056,91070,91086,91100,91106,91108,91112,91126,91150,91164,91192,91248,91262,91360,91388,91584,91640,91664,91678,91680,91708,91712,91768,91888,91928,91952,91966,92e3,92028,92046,92060,92088,92098,92100,92104,92112,92126,92134,92140,92188,92216,92272,92384,92412,92608,92664,93168,93200,93214,93216,93244,93248,93304,93424,93664,93720,93744,93758,93792,93820,93888,93944,93980,94008,94064,94078,94084,94088,94096,94110,94112,94140,94150,94156,94168,94246,94252,94278,94284,94296,94318,94342,94348,94360,94384,94398,94414,94428,94440,94470,94476,94488,94512,94526,94560,94588,94606,94620,94648,94658,94660,94664,94672,94686,94694,94700,94714,94726,94732,94744,94768,94782,94816,94844,94912,94968,94990,95004,95032,95088,95102,95112,95120,95134,95136,95164,95180,95192,95214,95218,95220,95244,95256,95280,95294,95328,95356,95424,95480,95728,95758,95772,95800,95856,95870,95968,95996,96008,96016,96030,96032,96060,96064,96120,96152,96176,96190,96220,96226,96228,96232,96290,96292,96296,96310,96322,96324,96328,96336,96350,96358,96364,96386,96388,96392,96400,96414,96416,96444,96454,96460,96472,96494,96498,96500,96514,96516,96520,96528,96542,96544,96572,96576,96632,96646,96652,96664,96688,96702,96718,96732,96738,96740,96744,96758,96772,96776,96784,96798,96800,96828,96832,96888,97008,97030,97036,97048,97072,97086,97120,97148,97166,97180,97208,97220,97224,97232,97246,97254,97260,97326,97330,97332,97358,97372,97378,97380,97384,97398,97422,97436,97464,97474,97476,97480,97488,97502,97510,97516,97550,97564,97592,97648,97666,97668,97672,97680,97694,97696,97724,97734,97740,97752,97774,97830,97836,97850,97862,97868,97880,97902,97906,97908,97926,97932,97944,97968,97998,98012,98018,98020,98024,98038,98618,98674,98676,98838,98854,98874,98892,98904,98926,98930,98932,98968,99006,99042,99044,99048,99062,99166,99194,99246,99286,99350,99366,99372,99386,99398,99416,99438,99442,99444,99462,99504,99518,99534,99548,99554,99556,99560,99574,99590,99596,99608,99632,99646,99680,99708,99726,99740,99768,99778,99780,99784,99792,99806,99814,99820,99834,99858,99860,99874,99880,99894,99906,99920,99934,99962,99970,99972,99976,99984,99998,1e5,100028,100038,100044,100056,100078,100082,100084,100142,100174,100188,100246,100262,100268,100306,100308,100390,100396,100410,100422,100428,100440,100462,100466,100468,100486,100504,100528,100542,100558,100572,100578,100580,100584,100598,100620,100656,100670,100704,100732,100750,100792,100802,100808,100816,100830,100838,100844,100858,100888,100912,100926,100960,100988,101056,101112,101148,101176,101232,101246,101250,101252,101256,101264,101278,101280,101308,101318,101324,101336,101358,101362,101364,101410,101412,101416,101430,101442,101448,101456,101470,101478,101498,101506,101508,101520,101534,101536,101564,101580,101618,101620,101636,101640,101648,101662,101664,101692,101696,101752,101766,101784,101838,101858,101860,101864,101934,101938,101940,101966,101980,101986,101988,101992,102030,102044,102072,102082,102084,102088,102096,102138,102166,102182,102188,102214,102220,102232,102254,102282,102290,102292,102306,102308,102312,102326,102444,102458,102470,102476,102488,102514,102516,102534,102552,102576,102590,102606,102620,102626,102632,102646,102662,102668,102704,102718,102752,102780,102798,102812,102840,102850,102856,102864,102878,102886,102892,102906,102936,102974,103008,103036,103104,103160,103224,103280,103294,103298,103300,103312,103326,103328,103356,103366,103372,103384,103406,103410,103412,103472,103486,103520,103548,103616,103672,103920,103992,104048,104062,104160,104188,104194,104196,104200,104208,104224,104252,104256,104312,104326,104332,104344,104368,104382,104398,104412,104418,104420,104424,104482,104484,104514,104520,104528,104542,104550,104570,104578,104580,104592,104606,104608,104636,104652,104690,104692,104706,104712,104734,104736,104764,104768,104824,104838,104856,104910,104930,104932,104936,104968,104976,104990,104992,105020,105024,105080,105200,105240,105278,105312,105372,105410,105412,105416,105424,105446,105518,105524,105550,105564,105570,105572,105576,105614,105628,105656,105666,105672,105680,105702,105722,105742,105756,105784,105840,105854,105858,105860,105864,105872,105888,105932,105970,105972,106006,106022,106028,106054,106060,106072,106100,106118,106124,106136,106160,106174,106190,106210,106212,106216,106250,106258,106260,106274,106276,106280,106306,106308,106312,106320,106334,106348,106394,106414,106418,106420,106566,106572,106610,106612,106630,106636,106648,106672,106686,106722,106724,106728,106742,106758,106764,106776,106800,106814,106848,106876,106894,106908,106936,106946,106948,106952,106960,106974,106982,106988,107032,107056,107070,107104,107132,107200,107256,107292,107320,107376,107390,107394,107396,107400,107408,107422,107424,107452,107462,107468,107480,107502,107506,107508,107544,107568,107582,107616,107644,107712,107768,108016,108060,108088,108144,108158,108256,108284,108290,108292,108296,108304,108318,108320,108348,108352,108408,108422,108428,108440,108464,108478,108494,108508,108514,108516,108520,108592,108640,108668,108736,108792,109040,109536,109680,109694,109792,109820,110016,110072,110084,110088,110096,110112,110140,110144,110200,110320,110342,110348,110360,110384,110398,110432,110460,110478,110492,110520,110532,110536,110544,110558,110658,110686,110714,110722,110724,110728,110736,110750,110752,110780,110796,110834,110836,110850,110852,110856,110864,110878,110880,110908,110912,110968,110982,111e3,111054,111074,111076,111080,111108,111112,111120,111134,111136,111164,111168,111224,111344,111372,111422,111456,111516,111554,111556,111560,111568,111590,111632,111646,111648,111676,111680,111736,111856,112096,112152,112224,112252,112320,112440,112514,112516,112520,112528,112542,112544,112588,112686,112718,112732,112782,112796,112824,112834,112836,112840,112848,112870,112890,112910,112924,112952,113008,113022,113026,113028,113032,113040,113054,113056,113100,113138,113140,113166,113180,113208,113264,113278,113376,113404,113416,113424,113440,113468,113472,113560,113614,113634,113636,113640,113686,113702,113708,113734,113740,113752,113778,113780,113798,113804,113816,113840,113854,113870,113890,113892,113896,113926,113932,113944,113968,113982,114016,114044,114076,114114,114116,114120,114128,114150,114170,114194,114196,114210,114212,114216,114242,114244,114248,114256,114270,114278,114306,114308,114312,114320,114334,114336,114364,114380,114420,114458,114478,114482,114484,114510,114524,114530,114532,114536,114842,114866,114868,114970,114994,114996,115042,115044,115048,115062,115130,115226,115250,115252,115278,115292,115298,115300,115304,115318,115342,115394,115396,115400,115408,115422,115430,115436,115450,115478,115494,115514,115526,115532,115570,115572,115738,115758,115762,115764,115790,115804,115810,115812,115816,115830,115854,115868,115896,115906,115912,115920,115934,115942,115948,115962,115996,116024,116080,116094,116098,116100,116104,116112,116126,116128,116156,116166,116172,116184,116206,116210,116212,116246,116262,116268,116282,116294,116300,116312,116334,116338,116340,116358,116364,116376,116400,116414,116430,116444,116450,116452,116456,116498,116500,116514,116520,116534,116546,116548,116552,116560,116574,116582,116588,116602,116654,116694,116714,116762,116782,116786,116788,116814,116828,116834,116836,116840,116854,116878,116892,116920,116930,116936,116944,116958,116966,116972,116986,117006,117048,117104,117118,117122,117124,117136,117150,117152,117180,117190,117196,117208,117230,117234,117236,117304,117360,117374,117472,117500,117506,117508,117512,117520,117536,117564,117568,117624,117638,117644,117656,117680,117694,117710,117724,117730,117732,117736,117750,117782,117798,117804,117818,117830,117848,117874,117876,117894,117936,117950,117966,117986,117988,117992,118022,118028,118040,118064,118078,118112,118140,118172,118210,118212,118216,118224,118238,118246,118266,118306,118312,118338,118352,118366,118374,118394,118402,118404,118408,118416,118430,118432,118460,118476,118514,118516,118574,118578,118580,118606,118620,118626,118628,118632,118678,118694,118700,118730,118738,118740,118830,118834,118836,118862,118876,118882,118884,118888,118902,118926,118940,118968,118978,118980,118984,118992,119006,119014,119020,119034,119068,119096,119152,119166,119170,119172,119176,119184,119198,119200,119228,119238,119244,119256,119278,119282,119284,119324,119352,119408,119422,119520,119548,119554,119556,119560,119568,119582,119584,119612,119616,119672,119686,119692,119704,119728,119742,119758,119772,119778,119780,119784,119798,119920,119934,120032,120060,120256,120312,120324,120328,120336,120352,120384,120440,120560,120582,120588,120600,120624,120638,120672,120700,120718,120732,120760,120770,120772,120776,120784,120798,120806,120812,120870,120876,120890,120902,120908,120920,120946,120948,120966,120972,120984,121008,121022,121038,121058,121060,121064,121078,121100,121112,121136,121150,121184,121212,121244,121282,121284,121288,121296,121318,121338,121356,121368,121392,121406,121440,121468,121536,121592,121656,121730,121732,121736,121744,121758,121760,121804,121842,121844,121890,121922,121924,121928,121936,121950,121958,121978,121986,121988,121992,122e3,122014,122016,122044,122060,122098,122100,122116,122120,122128,122142,122144,122172,122176,122232,122246,122264,122318,122338,122340,122344,122414,122418,122420,122446,122460,122466,122468,122472,122510,122524,122552,122562,122564,122568,122576,122598,122618,122646,122662,122668,122694,122700,122712,122738,122740,122762,122770,122772,122786,122788,122792,123018,123026,123028,123042,123044,123048,123062,123098,123146,123154,123156,123170,123172,123176,123190,123202,123204,123208,123216,123238,123244,123258,123290,123314,123316,123402,123410,123412,123426,123428,123432,123446,123458,123464,123472,123486,123494,123500,123514,123522,123524,123528,123536,123552,123580,123590,123596,123608,123630,123634,123636,123674,123698,123700,123740,123746,123748,123752,123834,123914,123922,123924,123938,123944,123958,123970,123976,123984,123998,124006,124012,124026,124034,124036,124048,124062,124064,124092,124102,124108,124120,124142,124146,124148,124162,124164,124168,124176,124190,124192,124220,124224,124280,124294,124300,124312,124336,124350,124366,124380,124386,124388,124392,124406,124442,124462,124466,124468,124494,124508,124514,124520,124558,124572,124600,124610,124612,124616,124624,124646,124666,124694,124710,124716,124730,124742,124748,124760,124786,124788,124818,124820,124834,124836,124840,124854,124946,124948,124962,124964,124968,124982,124994,124996,125e3,125008,125022,125030,125036,125050,125058,125060,125064,125072,125086,125088,125116,125126,125132,125144,125166,125170,125172,125186,125188,125192,125200,125216,125244,125248,125304,125318,125324,125336,125360,125374,125390,125404,125410,125412,125416,125430,125444,125448,125456,125472,125504,125560,125680,125702,125708,125720,125744,125758,125792,125820,125838,125852,125880,125890,125892,125896,125904,125918,125926,125932,125978,125998,126002,126004,126030,126044,126050,126052,126056,126094,126108,126136,126146,126148,126152,126160,126182,126202,126222,126236,126264,126320,126334,126338,126340,126344,126352,126366,126368,126412,126450,126452,126486,126502,126508,126522,126534,126540,126552,126574,126578,126580,126598,126604,126616,126640,126654,126670,126684,126690,126692,126696,126738,126754,126756,126760,126774,126786,126788,126792,126800,126814,126822,126828,126842,126894,126898,126900,126934,127126,127142,127148,127162,127178,127186,127188,127254,127270,127276,127290,127302,127308,127320,127342,127346,127348,127370,127378,127380,127394,127396,127400,127450,127510,127526,127532,127546,127558,127576,127598,127602,127604,127622,127628,127640,127664,127678,127694,127708,127714,127716,127720,127734,127754,127762,127764,127778,127784,127810,127812,127816,127824,127838,127846,127866,127898,127918,127922,127924,128022,128038,128044,128058,128070,128076,128088,128110,128114,128116,128134,128140,128152,128176,128190,128206,128220,128226,128228,128232,128246,128262,128268,128280,128304,128318,128352,128380,128398,128412,128440,128450,128452,128456,128464,128478,128486,128492,128506,128522,128530,128532,128546,128548,128552,128566,128578,128580,128584,128592,128606,128614,128634,128642,128644,128648,128656,128670,128672,128700,128716,128754,128756,128794,128814,128818,128820,128846,128860,128866,128868,128872,128886,128918,128934,128940,128954,128978,128980,129178,129198,129202,129204,129238,129258,129306,129326,129330,129332,129358,129372,129378,129380,129384,129398,129430,129446,129452,129466,129482,129490,129492,129562,129582,129586,129588,129614,129628,129634,129636,129640,129654,129678,129692,129720,129730,129732,129736,129744,129758,129766,129772,129814,129830,129836,129850,129862,129868,129880,129902,129906,129908,129930,129938,129940,129954,129956,129960,129974,130010]),t.CODEWORD_TABLE=Int32Array.from([2627,1819,2622,2621,1813,1812,2729,2724,2723,2779,2774,2773,902,896,908,868,865,861,859,2511,873,871,1780,835,2493,825,2491,842,837,844,1764,1762,811,810,809,2483,807,2482,806,2480,815,814,813,812,2484,817,816,1745,1744,1742,1746,2655,2637,2635,2626,2625,2623,2628,1820,2752,2739,2737,2728,2727,2725,2730,2785,2783,2778,2777,2775,2780,787,781,747,739,736,2413,754,752,1719,692,689,681,2371,678,2369,700,697,694,703,1688,1686,642,638,2343,631,2341,627,2338,651,646,643,2345,654,652,1652,1650,1647,1654,601,599,2322,596,2321,594,2319,2317,611,610,608,606,2324,603,2323,615,614,612,1617,1616,1614,1612,616,1619,1618,2575,2538,2536,905,901,898,909,2509,2507,2504,870,867,864,860,2512,875,872,1781,2490,2489,2487,2485,1748,836,834,832,830,2494,827,2492,843,841,839,845,1765,1763,2701,2676,2674,2653,2648,2656,2634,2633,2631,2629,1821,2638,2636,2770,2763,2761,2750,2745,2753,2736,2735,2733,2731,1848,2740,2738,2786,2784,591,588,576,569,566,2296,1590,537,534,526,2276,522,2274,545,542,539,548,1572,1570,481,2245,466,2242,462,2239,492,485,482,2249,496,494,1534,1531,1528,1538,413,2196,406,2191,2188,425,419,2202,415,2199,432,430,427,1472,1467,1464,433,1476,1474,368,367,2160,365,2159,362,2157,2155,2152,378,377,375,2166,372,2165,369,2162,383,381,379,2168,1419,1418,1416,1414,385,1411,384,1423,1422,1420,1424,2461,802,2441,2439,790,786,783,794,2409,2406,2403,750,742,738,2414,756,753,1720,2367,2365,2362,2359,1663,693,691,684,2373,680,2370,702,699,696,704,1690,1687,2337,2336,2334,2332,1624,2329,1622,640,637,2344,634,2342,630,2340,650,648,645,2346,655,653,1653,1651,1649,1655,2612,2597,2595,2571,2568,2565,2576,2534,2529,2526,1787,2540,2537,907,904,900,910,2503,2502,2500,2498,1768,2495,1767,2510,2508,2506,869,866,863,2513,876,874,1782,2720,2713,2711,2697,2694,2691,2702,2672,2670,2664,1828,2678,2675,2647,2646,2644,2642,1823,2639,1822,2654,2652,2650,2657,2771,1855,2765,2762,1850,1849,2751,2749,2747,2754,353,2148,344,342,336,2142,332,2140,345,1375,1373,306,2130,299,2128,295,2125,319,314,311,2132,1354,1352,1349,1356,262,257,2101,253,2096,2093,274,273,267,2107,263,2104,280,278,275,1316,1311,1308,1320,1318,2052,202,2050,2044,2040,219,2063,212,2060,208,2055,224,221,2066,1260,1258,1252,231,1248,229,1266,1264,1261,1268,155,1998,153,1996,1994,1991,1988,165,164,2007,162,2006,159,2003,2e3,172,171,169,2012,166,2010,1186,1184,1182,1179,175,1176,173,1192,1191,1189,1187,176,1194,1193,2313,2307,2305,592,589,2294,2292,2289,578,572,568,2297,580,1591,2272,2267,2264,1547,538,536,529,2278,525,2275,547,544,541,1574,1571,2237,2235,2229,1493,2225,1489,478,2247,470,2244,465,2241,493,488,484,2250,498,495,1536,1533,1530,1539,2187,2186,2184,2182,1432,2179,1430,2176,1427,414,412,2197,409,2195,405,2193,2190,426,424,421,2203,418,2201,431,429,1473,1471,1469,1466,434,1477,1475,2478,2472,2470,2459,2457,2454,2462,803,2437,2432,2429,1726,2443,2440,792,789,785,2401,2399,2393,1702,2389,1699,2411,2408,2405,745,741,2415,758,755,1721,2358,2357,2355,2353,1661,2350,1660,2347,1657,2368,2366,2364,2361,1666,690,687,2374,683,2372,701,698,705,1691,1689,2619,2617,2610,2608,2605,2613,2593,2588,2585,1803,2599,2596,2563,2561,2555,1797,2551,1795,2573,2570,2567,2577,2525,2524,2522,2520,1786,2517,1785,2514,1783,2535,2533,2531,2528,1788,2541,2539,906,903,911,2721,1844,2715,2712,1838,1836,2699,2696,2693,2703,1827,1826,1824,2673,2671,2669,2666,1829,2679,2677,1858,1857,2772,1854,1853,1851,1856,2766,2764,143,1987,139,1986,135,133,131,1984,128,1983,125,1981,138,137,136,1985,1133,1132,1130,112,110,1974,107,1973,104,1971,1969,122,121,119,117,1977,114,1976,124,1115,1114,1112,1110,1117,1116,84,83,1953,81,1952,78,1950,1948,1945,94,93,91,1959,88,1958,85,1955,99,97,95,1961,1086,1085,1083,1081,1078,100,1090,1089,1087,1091,49,47,1917,44,1915,1913,1910,1907,59,1926,56,1925,53,1922,1919,66,64,1931,61,1929,1042,1040,1038,71,1035,70,1032,68,1048,1047,1045,1043,1050,1049,12,10,1869,1867,1864,1861,21,1880,19,1877,1874,1871,28,1888,25,1886,22,1883,982,980,977,974,32,30,991,989,987,984,34,995,994,992,2151,2150,2147,2146,2144,356,355,354,2149,2139,2138,2136,2134,1359,343,341,338,2143,335,2141,348,347,346,1376,1374,2124,2123,2121,2119,1326,2116,1324,310,308,305,2131,302,2129,298,2127,320,318,316,313,2133,322,321,1355,1353,1351,1357,2092,2091,2089,2087,1276,2084,1274,2081,1271,259,2102,256,2100,252,2098,2095,272,269,2108,266,2106,281,279,277,1317,1315,1313,1310,282,1321,1319,2039,2037,2035,2032,1203,2029,1200,1197,207,2053,205,2051,201,2049,2046,2043,220,218,2064,215,2062,211,2059,228,226,223,2069,1259,1257,1254,232,1251,230,1267,1265,1263,2316,2315,2312,2311,2309,2314,2304,2303,2301,2299,1593,2308,2306,590,2288,2287,2285,2283,1578,2280,1577,2295,2293,2291,579,577,574,571,2298,582,581,1592,2263,2262,2260,2258,1545,2255,1544,2252,1541,2273,2271,2269,2266,1550,535,532,2279,528,2277,546,543,549,1575,1573,2224,2222,2220,1486,2217,1485,2214,1482,1479,2238,2236,2234,2231,1496,2228,1492,480,477,2248,473,2246,469,2243,490,487,2251,497,1537,1535,1532,2477,2476,2474,2479,2469,2468,2466,2464,1730,2473,2471,2453,2452,2450,2448,1729,2445,1728,2460,2458,2456,2463,805,804,2428,2427,2425,2423,1725,2420,1724,2417,1722,2438,2436,2434,2431,1727,2444,2442,793,791,788,795,2388,2386,2384,1697,2381,1696,2378,1694,1692,2402,2400,2398,2395,1703,2392,1701,2412,2410,2407,751,748,744,2416,759,757,1807,2620,2618,1806,1805,2611,2609,2607,2614,1802,1801,1799,2594,2592,2590,2587,1804,2600,2598,1794,1793,1791,1789,2564,2562,2560,2557,1798,2554,1796,2574,2572,2569,2578,1847,1846,2722,1843,1842,1840,1845,2716,2714,1835,1834,1832,1830,1839,1837,2700,2698,2695,2704,1817,1811,1810,897,862,1777,829,826,838,1760,1758,808,2481,1741,1740,1738,1743,2624,1818,2726,2776,782,740,737,1715,686,679,695,1682,1680,639,628,2339,647,644,1645,1643,1640,1648,602,600,597,595,2320,593,2318,609,607,604,1611,1610,1608,1606,613,1615,1613,2328,926,924,892,886,899,857,850,2505,1778,824,823,821,819,2488,818,2486,833,831,828,840,1761,1759,2649,2632,2630,2746,2734,2732,2782,2781,570,567,1587,531,527,523,540,1566,1564,476,467,463,2240,486,483,1524,1521,1518,1529,411,403,2192,399,2189,423,416,1462,1457,1454,428,1468,1465,2210,366,363,2158,360,2156,357,2153,376,373,370,2163,1410,1409,1407,1405,382,1402,380,1417,1415,1412,1421,2175,2174,777,774,771,784,732,725,722,2404,743,1716,676,674,668,2363,665,2360,685,1684,1681,626,624,622,2335,620,2333,617,2330,641,635,649,1646,1644,1642,2566,928,925,2530,2527,894,891,888,2501,2499,2496,858,856,854,851,1779,2692,2668,2665,2645,2643,2640,2651,2768,2759,2757,2744,2743,2741,2748,352,1382,340,337,333,1371,1369,307,300,296,2126,315,312,1347,1342,1350,261,258,250,2097,246,2094,271,268,264,1306,1301,1298,276,1312,1309,2115,203,2048,195,2045,191,2041,213,209,2056,1246,1244,1238,225,1234,222,1256,1253,1249,1262,2080,2079,154,1997,150,1995,147,1992,1989,163,160,2004,156,2001,1175,1174,1172,1170,1167,170,1164,167,1185,1183,1180,1177,174,1190,1188,2025,2024,2022,587,586,564,559,556,2290,573,1588,520,518,512,2268,508,2265,530,1568,1565,461,457,2233,450,2230,446,2226,479,471,489,1526,1523,1520,397,395,2185,392,2183,389,2180,2177,410,2194,402,422,1463,1461,1459,1456,1470,2455,799,2433,2430,779,776,773,2397,2394,2390,734,728,724,746,1717,2356,2354,2351,2348,1658,677,675,673,670,667,688,1685,1683,2606,2589,2586,2559,2556,2552,927,2523,2521,2518,2515,1784,2532,895,893,890,2718,2709,2707,2689,2687,2684,2663,2662,2660,2658,1825,2667,2769,1852,2760,2758,142,141,1139,1138,134,132,129,126,1982,1129,1128,1126,1131,113,111,108,105,1972,101,1970,120,118,115,1109,1108,1106,1104,123,1113,1111,82,79,1951,75,1949,72,1946,92,89,86,1956,1077,1076,1074,1072,98,1069,96,1084,1082,1079,1088,1968,1967,48,45,1916,42,1914,39,1911,1908,60,57,54,1923,50,1920,1031,1030,1028,1026,67,1023,65,1020,62,1041,1039,1036,1033,69,1046,1044,1944,1943,1941,11,9,1868,7,1865,1862,1859,20,1878,16,1875,13,1872,970,968,966,963,29,960,26,23,983,981,978,975,33,971,31,990,988,985,1906,1904,1902,993,351,2145,1383,331,330,328,326,2137,323,2135,339,1372,1370,294,293,291,289,2122,286,2120,283,2117,309,303,317,1348,1346,1344,245,244,242,2090,239,2088,236,2085,2082,260,2099,249,270,1307,1305,1303,1300,1314,189,2038,186,2036,183,2033,2030,2026,206,198,2047,194,216,1247,1245,1243,1240,227,1237,1255,2310,2302,2300,2286,2284,2281,565,563,561,558,575,1589,2261,2259,2256,2253,1542,521,519,517,514,2270,511,533,1569,1567,2223,2221,2218,2215,1483,2211,1480,459,456,453,2232,449,474,491,1527,1525,1522,2475,2467,2465,2451,2449,2446,801,800,2426,2424,2421,2418,1723,2435,780,778,775,2387,2385,2382,2379,1695,2375,1693,2396,735,733,730,727,749,1718,2616,2615,2604,2603,2601,2584,2583,2581,2579,1800,2591,2550,2549,2547,2545,1792,2542,1790,2558,929,2719,1841,2710,2708,1833,1831,2690,2688,2686,1815,1809,1808,1774,1756,1754,1737,1736,1734,1739,1816,1711,1676,1674,633,629,1638,1636,1633,1641,598,1605,1604,1602,1600,605,1609,1607,2327,887,853,1775,822,820,1757,1755,1584,524,1560,1558,468,464,1514,1511,1508,1519,408,404,400,1452,1447,1444,417,1458,1455,2208,364,361,358,2154,1401,1400,1398,1396,374,1393,371,1408,1406,1403,1413,2173,2172,772,726,723,1712,672,669,666,682,1678,1675,625,623,621,618,2331,636,632,1639,1637,1635,920,918,884,880,889,849,848,847,846,2497,855,852,1776,2641,2742,2787,1380,334,1367,1365,301,297,1340,1338,1335,1343,255,251,247,1296,1291,1288,265,1302,1299,2113,204,196,192,2042,1232,1230,1224,214,1220,210,1242,1239,1235,1250,2077,2075,151,148,1993,144,1990,1163,1162,1160,1158,1155,161,1152,157,1173,1171,1168,1165,168,1181,1178,2021,2020,2018,2023,585,560,557,1585,516,509,1562,1559,458,447,2227,472,1516,1513,1510,398,396,393,390,2181,386,2178,407,1453,1451,1449,1446,420,1460,2209,769,764,720,712,2391,729,1713,664,663,661,659,2352,656,2349,671,1679,1677,2553,922,919,2519,2516,885,883,881,2685,2661,2659,2767,2756,2755,140,1137,1136,130,127,1125,1124,1122,1127,109,106,102,1103,1102,1100,1098,116,1107,1105,1980,80,76,73,1947,1068,1067,1065,1063,90,1060,87,1075,1073,1070,1080,1966,1965,46,43,40,1912,36,1909,1019,1018,1016,1014,58,1011,55,1008,51,1029,1027,1024,1021,63,1037,1034,1940,1939,1937,1942,8,1866,4,1863,1,1860,956,954,952,949,946,17,14,969,967,964,961,27,957,24,979,976,972,1901,1900,1898,1896,986,1905,1903,350,349,1381,329,327,324,1368,1366,292,290,287,284,2118,304,1341,1339,1337,1345,243,240,237,2086,233,2083,254,1297,1295,1293,1290,1304,2114,190,187,184,2034,180,2031,177,2027,199,1233,1231,1229,1226,217,1223,1241,2078,2076,584,555,554,552,550,2282,562,1586,507,506,504,502,2257,499,2254,515,1563,1561,445,443,441,2219,438,2216,435,2212,460,454,475,1517,1515,1512,2447,798,797,2422,2419,770,768,766,2383,2380,2376,721,719,717,714,731,1714,2602,2582,2580,2548,2546,2543,923,921,2717,2706,2705,2683,2682,2680,1771,1752,1750,1733,1732,1731,1735,1814,1707,1670,1668,1631,1629,1626,1634,1599,1598,1596,1594,1603,1601,2326,1772,1753,1751,1581,1554,1552,1504,1501,1498,1509,1442,1437,1434,401,1448,1445,2206,1392,1391,1389,1387,1384,359,1399,1397,1394,1404,2171,2170,1708,1672,1669,619,1632,1630,1628,1773,1378,1363,1361,1333,1328,1336,1286,1281,1278,248,1292,1289,2111,1218,1216,1210,197,1206,193,1228,1225,1221,1236,2073,2071,1151,1150,1148,1146,152,1143,149,1140,145,1161,1159,1156,1153,158,1169,1166,2017,2016,2014,2019,1582,510,1556,1553,452,448,1506,1500,394,391,387,1443,1441,1439,1436,1450,2207,765,716,713,1709,662,660,657,1673,1671,916,914,879,878,877,882,1135,1134,1121,1120,1118,1123,1097,1096,1094,1092,103,1101,1099,1979,1059,1058,1056,1054,77,1051,74,1066,1064,1061,1071,1964,1963,1007,1006,1004,1002,999,41,996,37,1017,1015,1012,1009,52,1025,1022,1936,1935,1933,1938,942,940,938,935,932,5,2,955,953,950,947,18,943,15,965,962,958,1895,1894,1892,1890,973,1899,1897,1379,325,1364,1362,288,285,1334,1332,1330,241,238,234,1287,1285,1283,1280,1294,2112,188,185,181,178,2028,1219,1217,1215,1212,200,1209,1227,2074,2072,583,553,551,1583,505,503,500,513,1557,1555,444,442,439,436,2213,455,451,1507,1505,1502,796,763,762,760,767,711,710,708,706,2377,718,715,1710,2544,917,915,2681,1627,1597,1595,2325,1769,1749,1747,1499,1438,1435,2204,1390,1388,1385,1395,2169,2167,1704,1665,1662,1625,1623,1620,1770,1329,1282,1279,2109,1214,1207,1222,2068,2065,1149,1147,1144,1141,146,1157,1154,2013,2011,2008,2015,1579,1549,1546,1495,1487,1433,1431,1428,1425,388,1440,2205,1705,658,1667,1664,1119,1095,1093,1978,1057,1055,1052,1062,1962,1960,1005,1003,1e3,997,38,1013,1010,1932,1930,1927,1934,941,939,936,933,6,930,3,951,948,944,1889,1887,1884,1881,959,1893,1891,35,1377,1360,1358,1327,1325,1322,1331,1277,1275,1272,1269,235,1284,2110,1205,1204,1201,1198,182,1195,179,1213,2070,2067,1580,501,1551,1548,440,437,1497,1494,1490,1503,761,709,707,1706,913,912,2198,1386,2164,2161,1621,1766,2103,1208,2058,2054,1145,1142,2005,2002,1999,2009,1488,1429,1426,2200,1698,1659,1656,1975,1053,1957,1954,1001,998,1924,1921,1918,1928,937,934,931,1879,1876,1873,1870,945,1885,1882,1323,1273,1270,2105,1202,1199,1196,1211,2061,2057,1576,1543,1540,1484,1481,1478,1491,1700]),t}(),tM=function(){function t(e,r){this.bits=e,this.points=r}return t.prototype.getBits=function(){return this.bits},t.prototype.getPoints=function(){return this.points},t}(),rM=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},nM=function(){function t(){}return t.detectMultiple=function(e,r,n){var i=e.getBlackMatrix(),s=t.detect(n,i);return s.length||(i=i.clone(),i.rotate180(),s=t.detect(n,i)),new tM(i,s)},t.detect=function(e,r){for(var n,i,s=new Array,o=0,u=0,f=!1;o<r.getHeight();){var h=t.findVertices(r,o,u);if(h[0]==null&&h[3]==null){if(!f)break;f=!1,u=0;try{for(var m=(n=void 0,rM(s)),v=m.next();!v.done;v=m.next()){var w=v.value;w[1]!=null&&(o=Math.trunc(Math.max(o,w[1].getY()))),w[3]!=null&&(o=Math.max(o,Math.trunc(w[3].getY())))}}catch(C){n={error:C}}finally{try{v&&!v.done&&(i=m.return)&&i.call(m)}finally{if(n)throw n.error}}o+=t.ROW_STEP;continue}if(f=!0,s.push(h),!e)break;h[2]!=null?(u=Math.trunc(h[2].getX()),o=Math.trunc(h[2].getY())):(u=Math.trunc(h[4].getX()),o=Math.trunc(h[4].getY()))}return s},t.findVertices=function(e,r,n){var i=e.getHeight(),s=e.getWidth(),o=new Array(8);return t.copyToResult(o,t.findRowsWithPattern(e,i,s,r,n,t.START_PATTERN),t.INDEXES_START_PATTERN),o[4]!=null&&(n=Math.trunc(o[4].getX()),r=Math.trunc(o[4].getY())),t.copyToResult(o,t.findRowsWithPattern(e,i,s,r,n,t.STOP_PATTERN),t.INDEXES_STOP_PATTERN),o},t.copyToResult=function(e,r,n){for(var i=0;i<n.length;i++)e[n[i]]=r[i]},t.findRowsWithPattern=function(e,r,n,i,s,o){for(var u=new Array(4),f=!1,h=new Int32Array(o.length);i<r;i+=t.ROW_STEP){var m=t.findGuardPattern(e,s,i,n,!1,o,h);if(m!=null){for(;i>0;){var v=t.findGuardPattern(e,s,--i,n,!1,o,h);if(v!=null)m=v;else{i++;break}}u[0]=new Re(m[0],i),u[1]=new Re(m[1],i),f=!0;break}}var w=i+1;if(f){for(var C=0,v=Int32Array.from([Math.trunc(u[0].getX()),Math.trunc(u[1].getX())]);w<r;w++){var m=t.findGuardPattern(e,v[0],w,n,!1,o,h);if(m!=null&&Math.abs(v[0]-m[0])<t.MAX_PATTERN_DRIFT&&Math.abs(v[1]-m[1])<t.MAX_PATTERN_DRIFT)v=m,C=0;else{if(C>t.SKIPPED_ROW_COUNT_MAX)break;C++}}w-=C+1,u[2]=new Re(v[0],w),u[3]=new Re(v[1],w)}return w-i<t.BARCODE_MIN_HEIGHT&&Ar.fill(u,null),u},t.findGuardPattern=function(e,r,n,i,s,o,u){Ar.fillWithin(u,0,u.length,0);for(var f=r,h=0;e.get(f,n)&&f>0&&h++<t.MAX_PIXEL_DRIFT;)f--;for(var m=f,v=0,w=o.length,C=s;m<i;m++){var N=e.get(m,n);if(N!==C)u[v]++;else{if(v===w-1){if(t.patternMatchVariance(u,o,t.MAX_INDIVIDUAL_VARIANCE)<t.MAX_AVG_VARIANCE)return new Int32Array([f,m]);f+=u[0]+u[1],Mt.arraycopy(u,2,u,0,v-1),u[v-1]=0,u[v]=0,v--}else v++;u[v]=1,C=!C}}return v===w-1&&t.patternMatchVariance(u,o,t.MAX_INDIVIDUAL_VARIANCE)<t.MAX_AVG_VARIANCE?new Int32Array([f,m-1]):null},t.patternMatchVariance=function(e,r,n){for(var i=e.length,s=0,o=0,u=0;u<i;u++)s+=e[u],o+=r[u];if(s<o)return 1/0;var f=s/o;n*=f;for(var h=0,m=0;m<i;m++){var v=e[m],w=r[m]*f,C=v>w?v-w:w-v;if(C>n)return 1/0;h+=C}return h/s},t.INDEXES_START_PATTERN=Int32Array.from([0,4,1,5]),t.INDEXES_STOP_PATTERN=Int32Array.from([6,2,7,3]),t.MAX_AVG_VARIANCE=.42,t.MAX_INDIVIDUAL_VARIANCE=.8,t.START_PATTERN=Int32Array.from([8,1,1,1,1,1,1,3]),t.STOP_PATTERN=Int32Array.from([7,1,1,3,1,1,1,2,1]),t.MAX_PIXEL_DRIFT=3,t.MAX_PATTERN_DRIFT=5,t.SKIPPED_ROW_COUNT_MAX=25,t.ROW_STEP=5,t.BARCODE_MIN_HEIGHT=10,t}(),iM=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},Ka=function(){function t(e,r){if(r.length===0)throw new Be;this.field=e;var n=r.length;if(n>1&&r[0]===0){for(var i=1;i<n&&r[i]===0;)i++;i===n?this.coefficients=new Int32Array([0]):(this.coefficients=new Int32Array(n-i),Mt.arraycopy(r,i,this.coefficients,0,this.coefficients.length))}else this.coefficients=r}return t.prototype.getCoefficients=function(){return this.coefficients},t.prototype.getDegree=function(){return this.coefficients.length-1},t.prototype.isZero=function(){return this.coefficients[0]===0},t.prototype.getCoefficient=function(e){return this.coefficients[this.coefficients.length-1-e]},t.prototype.evaluateAt=function(e){var r,n;if(e===0)return this.getCoefficient(0);if(e===1){var i=0;try{for(var s=iM(this.coefficients),o=s.next();!o.done;o=s.next()){var u=o.value;i=this.field.add(i,u)}}catch(v){r={error:v}}finally{try{o&&!o.done&&(n=s.return)&&n.call(s)}finally{if(r)throw r.error}}return i}for(var f=this.coefficients[0],h=this.coefficients.length,m=1;m<h;m++)f=this.field.add(this.field.multiply(e,f),this.coefficients[m]);return f},t.prototype.add=function(e){if(!this.field.equals(e.field))throw new Be("ModulusPolys do not have same ModulusGF field");if(this.isZero())return e;if(e.isZero())return this;var r=this.coefficients,n=e.coefficients;if(r.length>n.length){var i=r;r=n,n=i}var s=new Int32Array(n.length),o=n.length-r.length;Mt.arraycopy(n,0,s,0,o);for(var u=o;u<n.length;u++)s[u]=this.field.add(r[u-o],n[u]);return new t(this.field,s)},t.prototype.subtract=function(e){if(!this.field.equals(e.field))throw new Be("ModulusPolys do not have same ModulusGF field");return e.isZero()?this:this.add(e.negative())},t.prototype.multiply=function(e){return e instanceof t?this.multiplyOther(e):this.multiplyScalar(e)},t.prototype.multiplyOther=function(e){if(!this.field.equals(e.field))throw new Be("ModulusPolys do not have same ModulusGF field");if(this.isZero()||e.isZero())return new t(this.field,new Int32Array([0]));for(var r=this.coefficients,n=r.length,i=e.coefficients,s=i.length,o=new Int32Array(n+s-1),u=0;u<n;u++)for(var f=r[u],h=0;h<s;h++)o[u+h]=this.field.add(o[u+h],this.field.multiply(f,i[h]));return new t(this.field,o)},t.prototype.negative=function(){for(var e=this.coefficients.length,r=new Int32Array(e),n=0;n<e;n++)r[n]=this.field.subtract(0,this.coefficients[n]);return new t(this.field,r)},t.prototype.multiplyScalar=function(e){if(e===0)return new t(this.field,new Int32Array([0]));if(e===1)return this;for(var r=this.coefficients.length,n=new Int32Array(r),i=0;i<r;i++)n[i]=this.field.multiply(this.coefficients[i],e);return new t(this.field,n)},t.prototype.multiplyByMonomial=function(e,r){if(e<0)throw new Be;if(r===0)return new t(this.field,new Int32Array([0]));for(var n=this.coefficients.length,i=new Int32Array(n+e),s=0;s<n;s++)i[s]=this.field.multiply(this.coefficients[s],r);return new t(this.field,i)},t.prototype.toString=function(){for(var e=new Qe,r=this.getDegree();r>=0;r--){var n=this.getCoefficient(r);n!==0&&(n<0?(e.append(" - "),n=-n):e.length()>0&&e.append(" + "),(r===0||n!==1)&&e.append(n),r!==0&&(r===1?e.append("x"):(e.append("x^"),e.append(r))))}return e.toString()},t}(),sM=function(){function t(){}return t.prototype.add=function(e,r){return(e+r)%this.modulus},t.prototype.subtract=function(e,r){return(this.modulus+e-r)%this.modulus},t.prototype.exp=function(e){return this.expTable[e]},t.prototype.log=function(e){if(e===0)throw new Be;return this.logTable[e]},t.prototype.inverse=function(e){if(e===0)throw new ab;return this.expTable[this.modulus-this.logTable[e]-1]},t.prototype.multiply=function(e,r){return e===0||r===0?0:this.expTable[(this.logTable[e]+this.logTable[r])%(this.modulus-1)]},t.prototype.getSize=function(){return this.modulus},t.prototype.equals=function(e){return e===this},t}(),aM=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var s in i)i.hasOwnProperty(s)&&(n[s]=i[s])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),oM=function(t){aM(e,t);function e(r,n){var i=t.call(this)||this;i.modulus=r,i.expTable=new Int32Array(r),i.logTable=new Int32Array(r);for(var s=1,o=0;o<r;o++)i.expTable[o]=s,s=s*n%r;for(var o=0;o<r-1;o++)i.logTable[i.expTable[o]]=o;return i.zero=new Ka(i,new Int32Array([0])),i.one=new Ka(i,new Int32Array([1])),i}return e.prototype.getZero=function(){return this.zero},e.prototype.getOne=function(){return this.one},e.prototype.buildMonomial=function(r,n){if(r<0)throw new Be;if(n===0)return this.zero;var i=new Int32Array(r+1);return i[0]=n,new Ka(this,i)},e.PDF417_GF=new e(dt.NUMBER_OF_CODEWORDS,3),e}(sM),lM=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},cM=function(){function t(){this.field=oM.PDF417_GF}return t.prototype.decode=function(e,r,n){for(var i,s,o=new Ka(this.field,e),u=new Int32Array(r),f=!1,h=r;h>0;h--){var m=o.evaluateAt(this.field.exp(h));u[r-h]=m,m!==0&&(f=!0)}if(!f)return 0;var v=this.field.getOne();if(n!=null)try{for(var w=lM(n),C=w.next();!C.done;C=w.next()){var N=C.value,b=this.field.exp(e.length-1-N),R=new Ka(this.field,new Int32Array([this.field.subtract(0,b),1]));v=v.multiply(R)}}catch(F){i={error:F}}finally{try{C&&!C.done&&(s=w.return)&&s.call(w)}finally{if(i)throw i.error}}for(var _=new Ka(this.field,u),S=this.runEuclideanAlgorithm(this.field.buildMonomial(r,1),_,r),T=S[0],P=S[1],B=this.findErrorLocations(T),k=this.findErrorMagnitudes(P,T,B),h=0;h<B.length;h++){var M=e.length-1-this.field.log(B[h]);if(M<0)throw Or.getChecksumInstance();e[M]=this.field.subtract(e[M],k[h])}return B.length},t.prototype.runEuclideanAlgorithm=function(e,r,n){if(e.getDegree()<r.getDegree()){var i=e;e=r,r=i}for(var s=e,o=r,u=this.field.getZero(),f=this.field.getOne();o.getDegree()>=Math.round(n/2);){var h=s,m=u;if(s=o,u=f,s.isZero())throw Or.getChecksumInstance();o=h;for(var v=this.field.getZero(),w=s.getCoefficient(s.getDegree()),C=this.field.inverse(w);o.getDegree()>=s.getDegree()&&!o.isZero();){var N=o.getDegree()-s.getDegree(),b=this.field.multiply(o.getCoefficient(o.getDegree()),C);v=v.add(this.field.buildMonomial(N,b)),o=o.subtract(s.multiplyByMonomial(N,b))}f=v.multiply(u).subtract(m).negative()}var R=f.getCoefficient(0);if(R===0)throw Or.getChecksumInstance();var _=this.field.inverse(R),S=f.multiply(_),T=o.multiply(_);return[S,T]},t.prototype.findErrorLocations=function(e){for(var r=e.getDegree(),n=new Int32Array(r),i=0,s=1;s<this.field.getSize()&&i<r;s++)e.evaluateAt(s)===0&&(n[i]=this.field.inverse(s),i++);if(i!==r)throw Or.getChecksumInstance();return n},t.prototype.findErrorMagnitudes=function(e,r,n){for(var i=r.getDegree(),s=new Int32Array(i),o=1;o<=i;o++)s[i-o]=this.field.multiply(o,r.getCoefficient(o));for(var u=new Ka(this.field,s),f=n.length,h=new Int32Array(f),o=0;o<f;o++){var m=this.field.inverse(n[o]),v=this.field.subtract(0,e.evaluateAt(m)),w=this.field.inverse(u.evaluateAt(m));h[o]=this.field.multiply(v,w)}return h},t}(),kp=function(){function t(e,r,n,i,s){e instanceof t?this.constructor_2(e):this.constructor_1(e,r,n,i,s)}return t.prototype.constructor_1=function(e,r,n,i,s){var o=r==null||n==null,u=i==null||s==null;if(o&&u)throw new ie;o?(r=new Re(0,i.getY()),n=new Re(0,s.getY())):u&&(i=new Re(e.getWidth()-1,r.getY()),s=new Re(e.getWidth()-1,n.getY())),this.image=e,this.topLeft=r,this.bottomLeft=n,this.topRight=i,this.bottomRight=s,this.minX=Math.trunc(Math.min(r.getX(),n.getX())),this.maxX=Math.trunc(Math.max(i.getX(),s.getX())),this.minY=Math.trunc(Math.min(r.getY(),i.getY())),this.maxY=Math.trunc(Math.max(n.getY(),s.getY()))},t.prototype.constructor_2=function(e){this.image=e.image,this.topLeft=e.getTopLeft(),this.bottomLeft=e.getBottomLeft(),this.topRight=e.getTopRight(),this.bottomRight=e.getBottomRight(),this.minX=e.getMinX(),this.maxX=e.getMaxX(),this.minY=e.getMinY(),this.maxY=e.getMaxY()},t.merge=function(e,r){return e==null?r:r==null?e:new t(e.image,e.topLeft,e.bottomLeft,r.topRight,r.bottomRight)},t.prototype.addMissingRows=function(e,r,n){var i=this.topLeft,s=this.bottomLeft,o=this.topRight,u=this.bottomRight;if(e>0){var f=n?this.topLeft:this.topRight,h=Math.trunc(f.getY()-e);h<0&&(h=0);var m=new Re(f.getX(),h);n?i=m:o=m}if(r>0){var v=n?this.bottomLeft:this.bottomRight,w=Math.trunc(v.getY()+r);w>=this.image.getHeight()&&(w=this.image.getHeight()-1);var C=new Re(v.getX(),w);n?s=C:u=C}return new t(this.image,i,s,o,u)},t.prototype.getMinX=function(){return this.minX},t.prototype.getMaxX=function(){return this.maxX},t.prototype.getMinY=function(){return this.minY},t.prototype.getMaxY=function(){return this.maxY},t.prototype.getTopLeft=function(){return this.topLeft},t.prototype.getTopRight=function(){return this.topRight},t.prototype.getBottomLeft=function(){return this.bottomLeft},t.prototype.getBottomRight=function(){return this.bottomRight},t}(),uM=function(){function t(e,r,n,i){this.columnCount=e,this.errorCorrectionLevel=i,this.rowCountUpperPart=r,this.rowCountLowerPart=n,this.rowCount=r+n}return t.prototype.getColumnCount=function(){return this.columnCount},t.prototype.getErrorCorrectionLevel=function(){return this.errorCorrectionLevel},t.prototype.getRowCount=function(){return this.rowCount},t.prototype.getRowCountUpperPart=function(){return this.rowCountUpperPart},t.prototype.getRowCountLowerPart=function(){return this.rowCountLowerPart},t}(),Gg=function(){function t(){this.buffer=""}return t.form=function(e,r){var n=-1;function i(o,u,f,h,m,v){if(o==="%%")return"%";if(r[++n]!==void 0){o=h?parseInt(h.substr(1)):void 0;var w=m?parseInt(m.substr(1)):void 0,C;switch(v){case"s":C=r[n];break;case"c":C=r[n][0];break;case"f":C=parseFloat(r[n]).toFixed(o);break;case"p":C=parseFloat(r[n]).toPrecision(o);break;case"e":C=parseFloat(r[n]).toExponential(o);break;case"x":C=parseInt(r[n]).toString(w||16);break;case"d":C=parseFloat(parseInt(r[n],w||10).toPrecision(o)).toFixed(0);break}C=typeof C=="object"?JSON.stringify(C):(+C).toString(w);for(var N=parseInt(f),b=f&&f[0]+""=="0"?"0":" ";C.length<N;)C=u!==void 0?C+b:b+C;return C}}var s=/%(-)?(0?[0-9]+)?([.][0-9]+)?([#][0-9]+)?([scfpexd%])/g;return e.replace(s,i)},t.prototype.format=function(e){for(var r=[],n=1;n<arguments.length;n++)r[n-1]=arguments[n];this.buffer+=t.form(e,r)},t.prototype.toString=function(){return this.buffer},t}(),dM=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},pb=function(){function t(e){this.boundingBox=new kp(e),this.codewords=new Array(e.getMaxY()-e.getMinY()+1)}return t.prototype.getCodewordNearby=function(e){var r=this.getCodeword(e);if(r!=null)return r;for(var n=1;n<t.MAX_NEARBY_DISTANCE;n++){var i=this.imageRowToCodewordIndex(e)-n;if(i>=0&&(r=this.codewords[i],r!=null)||(i=this.imageRowToCodewordIndex(e)+n,i<this.codewords.length&&(r=this.codewords[i],r!=null)))return r}return null},t.prototype.imageRowToCodewordIndex=function(e){return e-this.boundingBox.getMinY()},t.prototype.setCodeword=function(e,r){this.codewords[this.imageRowToCodewordIndex(e)]=r},t.prototype.getCodeword=function(e){return this.codewords[this.imageRowToCodewordIndex(e)]},t.prototype.getBoundingBox=function(){return this.boundingBox},t.prototype.getCodewords=function(){return this.codewords},t.prototype.toString=function(){var e,r,n=new Gg,i=0;try{for(var s=dM(this.codewords),o=s.next();!o.done;o=s.next()){var u=o.value;if(u==null){n.format("%3d:    |   %n",i++);continue}n.format("%3d: %3d|%3d%n",i++,u.getRowNumber(),u.getValue())}}catch(f){e={error:f}}finally{try{o&&!o.done&&(r=s.return)&&r.call(s)}finally{if(e)throw e.error}}return n.toString()},t.MAX_NEARBY_DISTANCE=5,t}(),fM=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},hM=function(t,e){var r=typeof Symbol=="function"&&t[Symbol.iterator];if(!r)return t;var n=r.call(t),i,s=[],o;try{for(;(e===void 0||e-- >0)&&!(i=n.next()).done;)s.push(i.value)}catch(u){o={error:u}}finally{try{i&&!i.done&&(r=n.return)&&r.call(n)}finally{if(o)throw o.error}}return s},Tc=function(){function t(){this.values=new Map}return t.prototype.setValue=function(e){e=Math.trunc(e);var r=this.values.get(e);r==null&&(r=0),r++,this.values.set(e,r)},t.prototype.getValue=function(){var e,r,n=-1,i=new Array,s=function(v,w){var C={getKey:function(){return v},getValue:function(){return w}};C.getValue()>n?(n=C.getValue(),i=[],i.push(C.getKey())):C.getValue()===n&&i.push(C.getKey())};try{for(var o=fM(this.values.entries()),u=o.next();!u.done;u=o.next()){var f=hM(u.value,2),h=f[0],m=f[1];s(h,m)}}catch(v){e={error:v}}finally{try{u&&!u.done&&(r=o.return)&&r.call(o)}finally{if(e)throw e.error}}return dt.toIntArray(i)},t.prototype.getConfidence=function(e){return this.values.get(e)},t}(),pM=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var s in i)i.hasOwnProperty(s)&&(n[s]=i[s])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),H1=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},ly=function(t){pM(e,t);function e(r,n){var i=t.call(this,r)||this;return i._isLeft=n,i}return e.prototype.setRowNumbers=function(){var r,n;try{for(var i=H1(this.getCodewords()),s=i.next();!s.done;s=i.next()){var o=s.value;o!=null&&o.setRowNumberAsRowIndicatorColumn()}}catch(u){r={error:u}}finally{try{s&&!s.done&&(n=i.return)&&n.call(i)}finally{if(r)throw r.error}}},e.prototype.adjustCompleteIndicatorColumnRowNumbers=function(r){var n=this.getCodewords();this.setRowNumbers(),this.removeIncorrectCodewords(n,r);for(var i=this.getBoundingBox(),s=this._isLeft?i.getTopLeft():i.getTopRight(),o=this._isLeft?i.getBottomLeft():i.getBottomRight(),u=this.imageRowToCodewordIndex(Math.trunc(s.getY())),f=this.imageRowToCodewordIndex(Math.trunc(o.getY())),h=-1,m=1,v=0,w=u;w<f;w++)if(n[w]!=null){var C=n[w],N=C.getRowNumber()-h;if(N===0)v++;else if(N===1)m=Math.max(m,v),v=1,h=C.getRowNumber();else if(N<0||C.getRowNumber()>=r.getRowCount()||N>w)n[w]=null;else{var b=void 0;m>2?b=(m-2)*N:b=N;for(var R=b>=w,_=1;_<=b&&!R;_++)R=n[w-_]!=null;R?n[w]=null:(h=C.getRowNumber(),v=1)}}},e.prototype.getRowHeights=function(){var r,n,i=this.getBarcodeMetadata();if(i==null)return null;this.adjustIncompleteIndicatorColumnRowNumbers(i);var s=new Int32Array(i.getRowCount());try{for(var o=H1(this.getCodewords()),u=o.next();!u.done;u=o.next()){var f=u.value;if(f!=null){var h=f.getRowNumber();if(h>=s.length)continue;s[h]++}}}catch(m){r={error:m}}finally{try{u&&!u.done&&(n=o.return)&&n.call(o)}finally{if(r)throw r.error}}return s},e.prototype.adjustIncompleteIndicatorColumnRowNumbers=function(r){for(var n=this.getBoundingBox(),i=this._isLeft?n.getTopLeft():n.getTopRight(),s=this._isLeft?n.getBottomLeft():n.getBottomRight(),o=this.imageRowToCodewordIndex(Math.trunc(i.getY())),u=this.imageRowToCodewordIndex(Math.trunc(s.getY())),f=this.getCodewords(),h=-1,m=o;m<u;m++)if(f[m]!=null){var v=f[m];v.setRowNumberAsRowIndicatorColumn();var w=v.getRowNumber()-h;w===0||(w===1?h=v.getRowNumber():v.getRowNumber()>=r.getRowCount()?f[m]=null:h=v.getRowNumber())}},e.prototype.getBarcodeMetadata=function(){var r,n,i=this.getCodewords(),s=new Tc,o=new Tc,u=new Tc,f=new Tc;try{for(var h=H1(i),m=h.next();!m.done;m=h.next()){var v=m.value;if(v!=null){v.setRowNumberAsRowIndicatorColumn();var w=v.getValue()%30,C=v.getRowNumber();switch(this._isLeft||(C+=2),C%3){case 0:o.setValue(w*3+1);break;case 1:f.setValue(w/3),u.setValue(w%3);break;case 2:s.setValue(w+1);break}}}}catch(b){r={error:b}}finally{try{m&&!m.done&&(n=h.return)&&n.call(h)}finally{if(r)throw r.error}}if(s.getValue().length===0||o.getValue().length===0||u.getValue().length===0||f.getValue().length===0||s.getValue()[0]<1||o.getValue()[0]+u.getValue()[0]<dt.MIN_ROWS_IN_BARCODE||o.getValue()[0]+u.getValue()[0]>dt.MAX_ROWS_IN_BARCODE)return null;var N=new uM(s.getValue()[0],o.getValue()[0],u.getValue()[0],f.getValue()[0]);return this.removeIncorrectCodewords(i,N),N},e.prototype.removeIncorrectCodewords=function(r,n){for(var i=0;i<r.length;i++){var s=r[i];if(r[i]!=null){var o=s.getValue()%30,u=s.getRowNumber();if(u>n.getRowCount()){r[i]=null;continue}switch(this._isLeft||(u+=2),u%3){case 0:o*3+1!==n.getRowCountUpperPart()&&(r[i]=null);break;case 1:(Math.trunc(o/3)!==n.getErrorCorrectionLevel()||o%3!==n.getRowCountLowerPart())&&(r[i]=null);break;case 2:o+1!==n.getColumnCount()&&(r[i]=null);break}}}},e.prototype.isLeft=function(){return this._isLeft},e.prototype.toString=function(){return"IsLeft: "+this._isLeft+`
`+t.prototype.toString.call(this)},e}(pb),xM=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},gM=function(){function t(e,r){this.ADJUST_ROW_NUMBER_SKIP=2,this.barcodeMetadata=e,this.barcodeColumnCount=e.getColumnCount(),this.boundingBox=r,this.detectionResultColumns=new Array(this.barcodeColumnCount+2)}return t.prototype.getDetectionResultColumns=function(){this.adjustIndicatorColumnRowNumbers(this.detectionResultColumns[0]),this.adjustIndicatorColumnRowNumbers(this.detectionResultColumns[this.barcodeColumnCount+1]);var e=dt.MAX_CODEWORDS_IN_BARCODE,r;do r=e,e=this.adjustRowNumbersAndGetCount();while(e>0&&e<r);return this.detectionResultColumns},t.prototype.adjustIndicatorColumnRowNumbers=function(e){e!=null&&e.adjustCompleteIndicatorColumnRowNumbers(this.barcodeMetadata)},t.prototype.adjustRowNumbersAndGetCount=function(){var e=this.adjustRowNumbersByRow();if(e===0)return 0;for(var r=1;r<this.barcodeColumnCount+1;r++)for(var n=this.detectionResultColumns[r].getCodewords(),i=0;i<n.length;i++)n[i]!=null&&(n[i].hasValidRowNumber()||this.adjustRowNumbers(r,i,n));return e},t.prototype.adjustRowNumbersByRow=function(){this.adjustRowNumbersFromBothRI();var e=this.adjustRowNumbersFromLRI();return e+this.adjustRowNumbersFromRRI()},t.prototype.adjustRowNumbersFromBothRI=function(){if(!(this.detectionResultColumns[0]==null||this.detectionResultColumns[this.barcodeColumnCount+1]==null)){for(var e=this.detectionResultColumns[0].getCodewords(),r=this.detectionResultColumns[this.barcodeColumnCount+1].getCodewords(),n=0;n<e.length;n++)if(e[n]!=null&&r[n]!=null&&e[n].getRowNumber()===r[n].getRowNumber())for(var i=1;i<=this.barcodeColumnCount;i++){var s=this.detectionResultColumns[i].getCodewords()[n];s!=null&&(s.setRowNumber(e[n].getRowNumber()),s.hasValidRowNumber()||(this.detectionResultColumns[i].getCodewords()[n]=null))}}},t.prototype.adjustRowNumbersFromRRI=function(){if(this.detectionResultColumns[this.barcodeColumnCount+1]==null)return 0;for(var e=0,r=this.detectionResultColumns[this.barcodeColumnCount+1].getCodewords(),n=0;n<r.length;n++)if(r[n]!=null)for(var i=r[n].getRowNumber(),s=0,o=this.barcodeColumnCount+1;o>0&&s<this.ADJUST_ROW_NUMBER_SKIP;o--){var u=this.detectionResultColumns[o].getCodewords()[n];u!=null&&(s=t.adjustRowNumberIfValid(i,s,u),u.hasValidRowNumber()||e++)}return e},t.prototype.adjustRowNumbersFromLRI=function(){if(this.detectionResultColumns[0]==null)return 0;for(var e=0,r=this.detectionResultColumns[0].getCodewords(),n=0;n<r.length;n++)if(r[n]!=null)for(var i=r[n].getRowNumber(),s=0,o=1;o<this.barcodeColumnCount+1&&s<this.ADJUST_ROW_NUMBER_SKIP;o++){var u=this.detectionResultColumns[o].getCodewords()[n];u!=null&&(s=t.adjustRowNumberIfValid(i,s,u),u.hasValidRowNumber()||e++)}return e},t.adjustRowNumberIfValid=function(e,r,n){return n==null||n.hasValidRowNumber()||(n.isValidRowNumber(e)?(n.setRowNumber(e),r=0):++r),r},t.prototype.adjustRowNumbers=function(e,r,n){var i,s;if(this.detectionResultColumns[e-1]!=null){var o=n[r],u=this.detectionResultColumns[e-1].getCodewords(),f=u;this.detectionResultColumns[e+1]!=null&&(f=this.detectionResultColumns[e+1].getCodewords());var h=new Array(14);h[2]=u[r],h[3]=f[r],r>0&&(h[0]=n[r-1],h[4]=u[r-1],h[5]=f[r-1]),r>1&&(h[8]=n[r-2],h[10]=u[r-2],h[11]=f[r-2]),r<n.length-1&&(h[1]=n[r+1],h[6]=u[r+1],h[7]=f[r+1]),r<n.length-2&&(h[9]=n[r+2],h[12]=u[r+2],h[13]=f[r+2]);try{for(var m=xM(h),v=m.next();!v.done;v=m.next()){var w=v.value;if(t.adjustRowNumber(o,w))return}}catch(C){i={error:C}}finally{try{v&&!v.done&&(s=m.return)&&s.call(m)}finally{if(i)throw i.error}}}},t.adjustRowNumber=function(e,r){return r==null?!1:r.hasValidRowNumber()&&r.getBucket()===e.getBucket()?(e.setRowNumber(r.getRowNumber()),!0):!1},t.prototype.getBarcodeColumnCount=function(){return this.barcodeColumnCount},t.prototype.getBarcodeRowCount=function(){return this.barcodeMetadata.getRowCount()},t.prototype.getBarcodeECLevel=function(){return this.barcodeMetadata.getErrorCorrectionLevel()},t.prototype.setBoundingBox=function(e){this.boundingBox=e},t.prototype.getBoundingBox=function(){return this.boundingBox},t.prototype.setDetectionResultColumn=function(e,r){this.detectionResultColumns[e]=r},t.prototype.getDetectionResultColumn=function(e){return this.detectionResultColumns[e]},t.prototype.toString=function(){var e=this.detectionResultColumns[0];e==null&&(e=this.detectionResultColumns[this.barcodeColumnCount+1]);for(var r=new Gg,n=0;n<e.getCodewords().length;n++){r.format("CW %3d:",n);for(var i=0;i<this.barcodeColumnCount+2;i++){if(this.detectionResultColumns[i]==null){r.format("    |   ");continue}var s=this.detectionResultColumns[i].getCodewords()[n];if(s==null){r.format("    |   ");continue}r.format(" %3d|%3d",s.getRowNumber(),s.getValue())}r.format("%n")}return r.toString()},t}(),mM=function(){function t(e,r,n,i){this.rowNumber=t.BARCODE_ROW_UNKNOWN,this.startX=Math.trunc(e),this.endX=Math.trunc(r),this.bucket=Math.trunc(n),this.value=Math.trunc(i)}return t.prototype.hasValidRowNumber=function(){return this.isValidRowNumber(this.rowNumber)},t.prototype.isValidRowNumber=function(e){return e!==t.BARCODE_ROW_UNKNOWN&&this.bucket===e%3*3},t.prototype.setRowNumberAsRowIndicatorColumn=function(){this.rowNumber=Math.trunc(Math.trunc(this.value/30)*3+Math.trunc(this.bucket/3))},t.prototype.getWidth=function(){return this.endX-this.startX},t.prototype.getStartX=function(){return this.startX},t.prototype.getEndX=function(){return this.endX},t.prototype.getBucket=function(){return this.bucket},t.prototype.getValue=function(){return this.value},t.prototype.getRowNumber=function(){return this.rowNumber},t.prototype.setRowNumber=function(e){this.rowNumber=e},t.prototype.toString=function(){return this.rowNumber+"|"+this.value},t.BARCODE_ROW_UNKNOWN=-1,t}(),vM=function(){function t(){}return t.initialize=function(){for(var e=0;e<dt.SYMBOL_TABLE.length;e++)for(var r=dt.SYMBOL_TABLE[e],n=r&1,i=0;i<dt.BARS_IN_MODULE;i++){for(var s=0;(r&1)===n;)s+=1,r>>=1;n=r&1,t.RATIOS_TABLE[e]||(t.RATIOS_TABLE[e]=new Array(dt.BARS_IN_MODULE)),t.RATIOS_TABLE[e][dt.BARS_IN_MODULE-i-1]=Math.fround(s/dt.MODULES_IN_CODEWORD)}this.bSymbolTableReady=!0},t.getDecodedValue=function(e){var r=t.getDecodedCodewordValue(t.sampleBitCounts(e));return r!==-1?r:t.getClosestDecodedValue(e)},t.sampleBitCounts=function(e){for(var r=pt.sum(e),n=new Int32Array(dt.BARS_IN_MODULE),i=0,s=0,o=0;o<dt.MODULES_IN_CODEWORD;o++){var u=r/(2*dt.MODULES_IN_CODEWORD)+o*r/dt.MODULES_IN_CODEWORD;s+e[i]<=u&&(s+=e[i],i++),n[i]++}return n},t.getDecodedCodewordValue=function(e){var r=t.getBitValue(e);return dt.getCodeword(r)===-1?-1:r},t.getBitValue=function(e){for(var r=0,n=0;n<e.length;n++)for(var i=0;i<e[n];i++)r=r<<1|(n%2===0?1:0);return Math.trunc(r)},t.getClosestDecodedValue=function(e){var r=pt.sum(e),n=new Array(dt.BARS_IN_MODULE);if(r>1)for(var i=0;i<n.length;i++)n[i]=Math.fround(e[i]/r);var s=Rp.MAX_VALUE,o=-1;this.bSymbolTableReady||t.initialize();for(var u=0;u<t.RATIOS_TABLE.length;u++){for(var f=0,h=t.RATIOS_TABLE[u],m=0;m<dt.BARS_IN_MODULE;m++){var v=Math.fround(h[m]-n[m]);if(f+=Math.fround(v*v),f>=s)break}f<s&&(s=f,o=dt.SYMBOL_TABLE[u])}return o},t.bSymbolTableReady=!1,t.RATIOS_TABLE=new Array(dt.SYMBOL_TABLE.length).map(function(e){return new Array(dt.BARS_IN_MODULE)}),t}(),yM=function(){function t(){this.segmentCount=-1,this.fileSize=-1,this.timestamp=-1,this.checksum=-1}return t.prototype.getSegmentIndex=function(){return this.segmentIndex},t.prototype.setSegmentIndex=function(e){this.segmentIndex=e},t.prototype.getFileId=function(){return this.fileId},t.prototype.setFileId=function(e){this.fileId=e},t.prototype.getOptionalData=function(){return this.optionalData},t.prototype.setOptionalData=function(e){this.optionalData=e},t.prototype.isLastSegment=function(){return this.lastSegment},t.prototype.setLastSegment=function(e){this.lastSegment=e},t.prototype.getSegmentCount=function(){return this.segmentCount},t.prototype.setSegmentCount=function(e){this.segmentCount=e},t.prototype.getSender=function(){return this.sender||null},t.prototype.setSender=function(e){this.sender=e},t.prototype.getAddressee=function(){return this.addressee||null},t.prototype.setAddressee=function(e){this.addressee=e},t.prototype.getFileName=function(){return this.fileName},t.prototype.setFileName=function(e){this.fileName=e},t.prototype.getFileSize=function(){return this.fileSize},t.prototype.setFileSize=function(e){this.fileSize=e},t.prototype.getChecksum=function(){return this.checksum},t.prototype.setChecksum=function(e){this.checksum=e},t.prototype.getTimestamp=function(){return this.timestamp},t.prototype.setTimestamp=function(e){this.timestamp=e},t}(),cy=function(){function t(){}return t.parseLong=function(e,r){return r===void 0&&(r=void 0),parseInt(e,r)},t}(),wM=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var s in i)i.hasOwnProperty(s)&&(n[s]=i[s])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),CM=function(t){wM(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.kind="NullPointerException",e}(Mn),EM=function(){function t(){}return t.prototype.writeBytes=function(e){this.writeBytesOffset(e,0,e.length)},t.prototype.writeBytesOffset=function(e,r,n){if(e==null)throw new CM;if(r<0||r>e.length||n<0||r+n>e.length||r+n<0)throw new Fg;if(n===0)return;for(var i=0;i<n;i++)this.write(e[r+i])},t.prototype.flush=function(){},t.prototype.close=function(){},t}(),AM=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var s in i)i.hasOwnProperty(s)&&(n[s]=i[s])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),bM=function(t){AM(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e}(Mn),SM=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var s in i)i.hasOwnProperty(s)&&(n[s]=i[s])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),NM=function(t){SM(e,t);function e(r){r===void 0&&(r=32);var n=t.call(this)||this;if(n.count=0,r<0)throw new Be("Negative initial size: "+r);return n.buf=new Uint8Array(r),n}return e.prototype.ensureCapacity=function(r){r-this.buf.length>0&&this.grow(r)},e.prototype.grow=function(r){var n=this.buf.length,i=n<<1;if(i-r<0&&(i=r),i<0){if(r<0)throw new bM;i=et.MAX_VALUE}this.buf=Ar.copyOfUint8Array(this.buf,i)},e.prototype.write=function(r){this.ensureCapacity(this.count+1),this.buf[this.count]=r,this.count+=1},e.prototype.writeBytesOffset=function(r,n,i){if(n<0||n>r.length||i<0||n+i-r.length>0)throw new Fg;this.ensureCapacity(this.count+i),Mt.arraycopy(r,n,this.buf,this.count,i),this.count+=i},e.prototype.writeTo=function(r){r.writeBytesOffset(this.buf,0,this.count)},e.prototype.reset=function(){this.count=0},e.prototype.toByteArray=function(){return Ar.copyOfUint8Array(this.buf,this.count)},e.prototype.size=function(){return this.count},e.prototype.toString=function(r){return r?typeof r=="string"?this.toString_string(r):this.toString_number(r):this.toString_void()},e.prototype.toString_void=function(){return new String(this.buf).toString()},e.prototype.toString_string=function(r){return new String(this.buf).toString()},e.prototype.toString_number=function(r){return new String(this.buf).toString()},e.prototype.close=function(){},e}(EM),It;(function(t){t[t.ALPHA=0]="ALPHA",t[t.LOWER=1]="LOWER",t[t.MIXED=2]="MIXED",t[t.PUNCT=3]="PUNCT",t[t.ALPHA_SHIFT=4]="ALPHA_SHIFT",t[t.PUNCT_SHIFT=5]="PUNCT_SHIFT"})(It||(It={}));function xb(){if(typeof window<"u")return window.BigInt||null;if(typeof global<"u")return global.BigInt||null;if(typeof self<"u")return self.BigInt||null;throw new Error("Can't search globals for BigInt!")}var md;function Ys(t){if(typeof md>"u"&&(md=xb()),md===null)throw new Error("BigInt is not supported!");return md(t)}function _M(){var t=[];t[0]=Ys(1);var e=Ys(900);t[1]=e;for(var r=2;r<16;r++)t[r]=t[r-1]*e;return t}var IM=function(){function t(){}return t.decode=function(e,r){var n=new Qe(""),i=Er.ISO8859_1;n.enableDecoding(i);for(var s=1,o=e[s++],u=new yM;s<e[0];){switch(o){case t.TEXT_COMPACTION_MODE_LATCH:s=t.textCompaction(e,s,n);break;case t.BYTE_COMPACTION_MODE_LATCH:case t.BYTE_COMPACTION_MODE_LATCH_6:s=t.byteCompaction(o,e,i,s,n);break;case t.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:n.append(e[s++]);break;case t.NUMERIC_COMPACTION_MODE_LATCH:s=t.numericCompaction(e,s,n);break;case t.ECI_CHARSET:Er.getCharacterSetECIByValue(e[s++]);break;case t.ECI_GENERAL_PURPOSE:s+=2;break;case t.ECI_USER_DEFINED:s++;break;case t.BEGIN_MACRO_PDF417_CONTROL_BLOCK:s=t.decodeMacroBlock(e,s,u);break;case t.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case t.MACRO_PDF417_TERMINATOR:throw new me;default:s--,s=t.textCompaction(e,s,n);break}if(s<e.length)o=e[s++];else throw me.getFormatInstance()}if(n.length()===0)throw me.getFormatInstance();var f=new E0(null,n.toString(),null,r);return f.setOther(u),f},t.decodeMacroBlock=function(e,r,n){if(r+t.NUMBER_OF_SEQUENCE_CODEWORDS>e[0])throw me.getFormatInstance();for(var i=new Int32Array(t.NUMBER_OF_SEQUENCE_CODEWORDS),s=0;s<t.NUMBER_OF_SEQUENCE_CODEWORDS;s++,r++)i[s]=e[r];n.setSegmentIndex(et.parseInt(t.decodeBase900toBase10(i,t.NUMBER_OF_SEQUENCE_CODEWORDS)));var o=new Qe;r=t.textCompaction(e,r,o),n.setFileId(o.toString());var u=-1;for(e[r]===t.BEGIN_MACRO_PDF417_OPTIONAL_FIELD&&(u=r+1);r<e[0];)switch(e[r]){case t.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:switch(r++,e[r]){case t.MACRO_PDF417_OPTIONAL_FIELD_FILE_NAME:var f=new Qe;r=t.textCompaction(e,r+1,f),n.setFileName(f.toString());break;case t.MACRO_PDF417_OPTIONAL_FIELD_SENDER:var h=new Qe;r=t.textCompaction(e,r+1,h),n.setSender(h.toString());break;case t.MACRO_PDF417_OPTIONAL_FIELD_ADDRESSEE:var m=new Qe;r=t.textCompaction(e,r+1,m),n.setAddressee(m.toString());break;case t.MACRO_PDF417_OPTIONAL_FIELD_SEGMENT_COUNT:var v=new Qe;r=t.numericCompaction(e,r+1,v),n.setSegmentCount(et.parseInt(v.toString()));break;case t.MACRO_PDF417_OPTIONAL_FIELD_TIME_STAMP:var w=new Qe;r=t.numericCompaction(e,r+1,w),n.setTimestamp(cy.parseLong(w.toString()));break;case t.MACRO_PDF417_OPTIONAL_FIELD_CHECKSUM:var C=new Qe;r=t.numericCompaction(e,r+1,C),n.setChecksum(et.parseInt(C.toString()));break;case t.MACRO_PDF417_OPTIONAL_FIELD_FILE_SIZE:var N=new Qe;r=t.numericCompaction(e,r+1,N),n.setFileSize(cy.parseLong(N.toString()));break;default:throw me.getFormatInstance()}break;case t.MACRO_PDF417_TERMINATOR:r++,n.setLastSegment(!0);break;default:throw me.getFormatInstance()}if(u!==-1){var b=r-u;n.isLastSegment()&&b--,n.setOptionalData(Ar.copyOfRange(e,u,u+b))}return r},t.textCompaction=function(e,r,n){for(var i=new Int32Array((e[0]-r)*2),s=new Int32Array((e[0]-r)*2),o=0,u=!1;r<e[0]&&!u;){var f=e[r++];if(f<t.TEXT_COMPACTION_MODE_LATCH)i[o]=f/30,i[o+1]=f%30,o+=2;else switch(f){case t.TEXT_COMPACTION_MODE_LATCH:i[o++]=t.TEXT_COMPACTION_MODE_LATCH;break;case t.BYTE_COMPACTION_MODE_LATCH:case t.BYTE_COMPACTION_MODE_LATCH_6:case t.NUMERIC_COMPACTION_MODE_LATCH:case t.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case t.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case t.MACRO_PDF417_TERMINATOR:r--,u=!0;break;case t.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:i[o]=t.MODE_SHIFT_TO_BYTE_COMPACTION_MODE,f=e[r++],s[o]=f,o++;break}}return t.decodeTextCompaction(i,s,o,n),r},t.decodeTextCompaction=function(e,r,n,i){for(var s=It.ALPHA,o=It.ALPHA,u=0;u<n;){var f=e[u],h="";switch(s){case It.ALPHA:if(f<26)h=String.fromCharCode(65+f);else switch(f){case 26:h=" ";break;case t.LL:s=It.LOWER;break;case t.ML:s=It.MIXED;break;case t.PS:o=s,s=It.PUNCT_SHIFT;break;case t.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:i.append(r[u]);break;case t.TEXT_COMPACTION_MODE_LATCH:s=It.ALPHA;break}break;case It.LOWER:if(f<26)h=String.fromCharCode(97+f);else switch(f){case 26:h=" ";break;case t.AS:o=s,s=It.ALPHA_SHIFT;break;case t.ML:s=It.MIXED;break;case t.PS:o=s,s=It.PUNCT_SHIFT;break;case t.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:i.append(r[u]);break;case t.TEXT_COMPACTION_MODE_LATCH:s=It.ALPHA;break}break;case It.MIXED:if(f<t.PL)h=t.MIXED_CHARS[f];else switch(f){case t.PL:s=It.PUNCT;break;case 26:h=" ";break;case t.LL:s=It.LOWER;break;case t.AL:s=It.ALPHA;break;case t.PS:o=s,s=It.PUNCT_SHIFT;break;case t.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:i.append(r[u]);break;case t.TEXT_COMPACTION_MODE_LATCH:s=It.ALPHA;break}break;case It.PUNCT:if(f<t.PAL)h=t.PUNCT_CHARS[f];else switch(f){case t.PAL:s=It.ALPHA;break;case t.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:i.append(r[u]);break;case t.TEXT_COMPACTION_MODE_LATCH:s=It.ALPHA;break}break;case It.ALPHA_SHIFT:if(s=o,f<26)h=String.fromCharCode(65+f);else switch(f){case 26:h=" ";break;case t.TEXT_COMPACTION_MODE_LATCH:s=It.ALPHA;break}break;case It.PUNCT_SHIFT:if(s=o,f<t.PAL)h=t.PUNCT_CHARS[f];else switch(f){case t.PAL:s=It.ALPHA;break;case t.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:i.append(r[u]);break;case t.TEXT_COMPACTION_MODE_LATCH:s=It.ALPHA;break}break}h!==""&&i.append(h),u++}},t.byteCompaction=function(e,r,n,i,s){var o=new NM,u=0,f=0,h=!1;switch(e){case t.BYTE_COMPACTION_MODE_LATCH:for(var m=new Int32Array(6),v=r[i++];i<r[0]&&!h;)switch(m[u++]=v,f=900*f+v,v=r[i++],v){case t.TEXT_COMPACTION_MODE_LATCH:case t.BYTE_COMPACTION_MODE_LATCH:case t.NUMERIC_COMPACTION_MODE_LATCH:case t.BYTE_COMPACTION_MODE_LATCH_6:case t.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case t.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case t.MACRO_PDF417_TERMINATOR:i--,h=!0;break;default:if(u%5===0&&u>0){for(var w=0;w<6;++w)o.write(Number(Ys(f)>>Ys(8*(5-w))));f=0,u=0}break}i===r[0]&&v<t.TEXT_COMPACTION_MODE_LATCH&&(m[u++]=v);for(var C=0;C<u;C++)o.write(m[C]);break;case t.BYTE_COMPACTION_MODE_LATCH_6:for(;i<r[0]&&!h;){var N=r[i++];if(N<t.TEXT_COMPACTION_MODE_LATCH)u++,f=900*f+N;else switch(N){case t.TEXT_COMPACTION_MODE_LATCH:case t.BYTE_COMPACTION_MODE_LATCH:case t.NUMERIC_COMPACTION_MODE_LATCH:case t.BYTE_COMPACTION_MODE_LATCH_6:case t.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case t.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case t.MACRO_PDF417_TERMINATOR:i--,h=!0;break}if(u%5===0&&u>0){for(var w=0;w<6;++w)o.write(Number(Ys(f)>>Ys(8*(5-w))));f=0,u=0}}break}return s.append(ui.decode(o.toByteArray(),n)),i},t.numericCompaction=function(e,r,n){for(var i=0,s=!1,o=new Int32Array(t.MAX_NUMERIC_CODEWORDS);r<e[0]&&!s;){var u=e[r++];if(r===e[0]&&(s=!0),u<t.TEXT_COMPACTION_MODE_LATCH)o[i]=u,i++;else switch(u){case t.TEXT_COMPACTION_MODE_LATCH:case t.BYTE_COMPACTION_MODE_LATCH:case t.BYTE_COMPACTION_MODE_LATCH_6:case t.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case t.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case t.MACRO_PDF417_TERMINATOR:r--,s=!0;break}(i%t.MAX_NUMERIC_CODEWORDS===0||u===t.NUMERIC_COMPACTION_MODE_LATCH||s)&&i>0&&(n.append(t.decodeBase900toBase10(o,i)),i=0)}return r},t.decodeBase900toBase10=function(e,r){for(var n=Ys(0),i=0;i<r;i++)n+=t.EXP900[r-i-1]*Ys(e[i]);var s=n.toString();if(s.charAt(0)!=="1")throw new me;return s.substring(1)},t.TEXT_COMPACTION_MODE_LATCH=900,t.BYTE_COMPACTION_MODE_LATCH=901,t.NUMERIC_COMPACTION_MODE_LATCH=902,t.BYTE_COMPACTION_MODE_LATCH_6=924,t.ECI_USER_DEFINED=925,t.ECI_GENERAL_PURPOSE=926,t.ECI_CHARSET=927,t.BEGIN_MACRO_PDF417_CONTROL_BLOCK=928,t.BEGIN_MACRO_PDF417_OPTIONAL_FIELD=923,t.MACRO_PDF417_TERMINATOR=922,t.MODE_SHIFT_TO_BYTE_COMPACTION_MODE=913,t.MAX_NUMERIC_CODEWORDS=15,t.MACRO_PDF417_OPTIONAL_FIELD_FILE_NAME=0,t.MACRO_PDF417_OPTIONAL_FIELD_SEGMENT_COUNT=1,t.MACRO_PDF417_OPTIONAL_FIELD_TIME_STAMP=2,t.MACRO_PDF417_OPTIONAL_FIELD_SENDER=3,t.MACRO_PDF417_OPTIONAL_FIELD_ADDRESSEE=4,t.MACRO_PDF417_OPTIONAL_FIELD_FILE_SIZE=5,t.MACRO_PDF417_OPTIONAL_FIELD_CHECKSUM=6,t.PL=25,t.LL=27,t.AS=27,t.ML=28,t.AL=28,t.PS=29,t.PAL=29,t.PUNCT_CHARS=`;<>@[\\]_\`~!\r	,:
-.$/"|*()?{}'`,t.MIXED_CHARS="0123456789&\r	,:#-.$/+%*=^",t.EXP900=xb()?_M():[],t.NUMBER_OF_SEQUENCE_CODEWORDS=2,t}(),vc=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},TM=function(){function t(){}return t.decode=function(e,r,n,i,s,o,u){for(var f=new kp(e,r,n,i,s),h=null,m=null,v,w=!0;;w=!1){if(r!=null&&(h=t.getRowIndicatorColumn(e,f,r,!0,o,u)),i!=null&&(m=t.getRowIndicatorColumn(e,f,i,!1,o,u)),v=t.merge(h,m),v==null)throw ie.getNotFoundInstance();var C=v.getBoundingBox();if(w&&C!=null&&(C.getMinY()<f.getMinY()||C.getMaxY()>f.getMaxY()))f=C;else break}v.setBoundingBox(f);var N=v.getBarcodeColumnCount()+1;v.setDetectionResultColumn(0,h),v.setDetectionResultColumn(N,m);for(var b=h!=null,R=1;R<=N;R++){var _=b?R:N-R;if(v.getDetectionResultColumn(_)===void 0){var S=void 0;_===0||_===N?S=new ly(f,_===0):S=new pb(f),v.setDetectionResultColumn(_,S);for(var T=-1,P=T,B=f.getMinY();B<=f.getMaxY();B++){if(T=t.getStartColumn(v,_,B,b),T<0||T>f.getMaxX()){if(P===-1)continue;T=P}var k=t.detectCodeword(e,f.getMinX(),f.getMaxX(),b,T,B,o,u);k!=null&&(S.setCodeword(B,k),P=T,o=Math.min(o,k.getWidth()),u=Math.max(u,k.getWidth()))}}}return t.createDecoderResult(v)},t.merge=function(e,r){if(e==null&&r==null)return null;var n=t.getBarcodeMetadata(e,r);if(n==null)return null;var i=kp.merge(t.adjustBoundingBox(e),t.adjustBoundingBox(r));return new gM(n,i)},t.adjustBoundingBox=function(e){var r,n;if(e==null)return null;var i=e.getRowHeights();if(i==null)return null;var s=t.getMax(i),o=0;try{for(var u=vc(i),f=u.next();!f.done;f=u.next()){var h=f.value;if(o+=s-h,h>0)break}}catch(C){r={error:C}}finally{try{f&&!f.done&&(n=u.return)&&n.call(u)}finally{if(r)throw r.error}}for(var m=e.getCodewords(),v=0;o>0&&m[v]==null;v++)o--;for(var w=0,v=i.length-1;v>=0&&(w+=s-i[v],!(i[v]>0));v--);for(var v=m.length-1;w>0&&m[v]==null;v--)w--;return e.getBoundingBox().addMissingRows(o,w,e.isLeft())},t.getMax=function(e){var r,n,i=-1;try{for(var s=vc(e),o=s.next();!o.done;o=s.next()){var u=o.value;i=Math.max(i,u)}}catch(f){r={error:f}}finally{try{o&&!o.done&&(n=s.return)&&n.call(s)}finally{if(r)throw r.error}}return i},t.getBarcodeMetadata=function(e,r){var n;if(e==null||(n=e.getBarcodeMetadata())==null)return r==null?null:r.getBarcodeMetadata();var i;return r==null||(i=r.getBarcodeMetadata())==null?n:n.getColumnCount()!==i.getColumnCount()&&n.getErrorCorrectionLevel()!==i.getErrorCorrectionLevel()&&n.getRowCount()!==i.getRowCount()?null:n},t.getRowIndicatorColumn=function(e,r,n,i,s,o){for(var u=new ly(r,i),f=0;f<2;f++)for(var h=f===0?1:-1,m=Math.trunc(Math.trunc(n.getX())),v=Math.trunc(Math.trunc(n.getY()));v<=r.getMaxY()&&v>=r.getMinY();v+=h){var w=t.detectCodeword(e,0,e.getWidth(),i,m,v,s,o);w!=null&&(u.setCodeword(v,w),i?m=w.getStartX():m=w.getEndX())}return u},t.adjustCodewordCount=function(e,r){var n=r[0][1],i=n.getValue(),s=e.getBarcodeColumnCount()*e.getBarcodeRowCount()-t.getNumberOfECCodeWords(e.getBarcodeECLevel());if(i.length===0){if(s<1||s>dt.MAX_CODEWORDS_IN_BARCODE)throw ie.getNotFoundInstance();n.setValue(s)}else i[0]!==s&&n.setValue(s)},t.createDecoderResult=function(e){var r=t.createBarcodeMatrix(e);t.adjustCodewordCount(e,r);for(var n=new Array,i=new Int32Array(e.getBarcodeRowCount()*e.getBarcodeColumnCount()),s=[],o=new Array,u=0;u<e.getBarcodeRowCount();u++)for(var f=0;f<e.getBarcodeColumnCount();f++){var h=r[u][f+1].getValue(),m=u*e.getBarcodeColumnCount()+f;h.length===0?n.push(m):h.length===1?i[m]=h[0]:(o.push(m),s.push(h))}for(var v=new Array(s.length),w=0;w<v.length;w++)v[w]=s[w];return t.createDecoderResultFromAmbiguousValues(e.getBarcodeECLevel(),i,dt.toIntArray(n),dt.toIntArray(o),v)},t.createDecoderResultFromAmbiguousValues=function(e,r,n,i,s){for(var o=new Int32Array(i.length),u=100;u-- >0;){for(var f=0;f<o.length;f++)r[i[f]]=s[f][o[f]];try{return t.decodeCodewords(r,e,n)}catch(m){var h=m instanceof Or;if(!h)throw m}if(o.length===0)throw Or.getChecksumInstance();for(var f=0;f<o.length;f++)if(o[f]<s[f].length-1){o[f]++;break}else if(o[f]=0,f===o.length-1)throw Or.getChecksumInstance()}throw Or.getChecksumInstance()},t.createBarcodeMatrix=function(e){for(var r,n,i,s,o=Array.from({length:e.getBarcodeRowCount()},function(){return new Array(e.getBarcodeColumnCount()+2)}),u=0;u<o.length;u++)for(var f=0;f<o[u].length;f++)o[u][f]=new Tc;var h=0;try{for(var m=vc(e.getDetectionResultColumns()),v=m.next();!v.done;v=m.next()){var w=v.value;if(w!=null)try{for(var C=(i=void 0,vc(w.getCodewords())),N=C.next();!N.done;N=C.next()){var b=N.value;if(b!=null){var R=b.getRowNumber();if(R>=0){if(R>=o.length)continue;o[R][h].setValue(b.getValue())}}}}catch(_){i={error:_}}finally{try{N&&!N.done&&(s=C.return)&&s.call(C)}finally{if(i)throw i.error}}h++}}catch(_){r={error:_}}finally{try{v&&!v.done&&(n=m.return)&&n.call(m)}finally{if(r)throw r.error}}return o},t.isValidBarcodeColumn=function(e,r){return r>=0&&r<=e.getBarcodeColumnCount()+1},t.getStartColumn=function(e,r,n,i){var s,o,u=i?1:-1,f=null;if(t.isValidBarcodeColumn(e,r-u)&&(f=e.getDetectionResultColumn(r-u).getCodeword(n)),f!=null)return i?f.getEndX():f.getStartX();if(f=e.getDetectionResultColumn(r).getCodewordNearby(n),f!=null)return i?f.getStartX():f.getEndX();if(t.isValidBarcodeColumn(e,r-u)&&(f=e.getDetectionResultColumn(r-u).getCodewordNearby(n)),f!=null)return i?f.getEndX():f.getStartX();for(var h=0;t.isValidBarcodeColumn(e,r-u);){r-=u;try{for(var m=(s=void 0,vc(e.getDetectionResultColumn(r).getCodewords())),v=m.next();!v.done;v=m.next()){var w=v.value;if(w!=null)return(i?w.getEndX():w.getStartX())+u*h*(w.getEndX()-w.getStartX())}}catch(C){s={error:C}}finally{try{v&&!v.done&&(o=m.return)&&o.call(m)}finally{if(s)throw s.error}}h++}return i?e.getBoundingBox().getMinX():e.getBoundingBox().getMaxX()},t.detectCodeword=function(e,r,n,i,s,o,u,f){s=t.adjustCodewordStartColumn(e,r,n,i,s,o);var h=t.getModuleBitCount(e,r,n,i,s,o);if(h==null)return null;var m,v=pt.sum(h);if(i)m=s+v;else{for(var w=0;w<h.length/2;w++){var C=h[w];h[w]=h[h.length-1-w],h[h.length-1-w]=C}m=s,s=m-v}if(!t.checkCodewordSkew(v,u,f))return null;var N=vM.getDecodedValue(h),b=dt.getCodeword(N);return b===-1?null:new mM(s,m,t.getCodewordBucketNumber(N),b)},t.getModuleBitCount=function(e,r,n,i,s,o){for(var u=s,f=new Int32Array(8),h=0,m=i?1:-1,v=i;(i?u<n:u>=r)&&h<f.length;)e.get(u,o)===v?(f[h]++,u+=m):(h++,v=!v);return h===f.length||u===(i?n:r)&&h===f.length-1?f:null},t.getNumberOfECCodeWords=function(e){return 2<<e},t.adjustCodewordStartColumn=function(e,r,n,i,s,o){for(var u=s,f=i?-1:1,h=0;h<2;h++){for(;(i?u>=r:u<n)&&i===e.get(u,o);){if(Math.abs(s-u)>t.CODEWORD_SKEW_SIZE)return s;u+=f}f=-f,i=!i}return u},t.checkCodewordSkew=function(e,r,n){return r-t.CODEWORD_SKEW_SIZE<=e&&e<=n+t.CODEWORD_SKEW_SIZE},t.decodeCodewords=function(e,r,n){if(e.length===0)throw me.getFormatInstance();var i=1<<r+1,s=t.correctErrors(e,n,i);t.verifyCodewordCount(e,i);var o=IM.decode(e,""+r);return o.setErrorsCorrected(s),o.setErasures(n.length),o},t.correctErrors=function(e,r,n){if(r!=null&&r.length>n/2+t.MAX_ERRORS||n<0||n>t.MAX_EC_CODEWORDS)throw Or.getChecksumInstance();return t.errorCorrection.decode(e,n,r)},t.verifyCodewordCount=function(e,r){if(e.length<4)throw me.getFormatInstance();var n=e[0];if(n>e.length)throw me.getFormatInstance();if(n===0)if(r<e.length)e[0]=e.length-r;else throw me.getFormatInstance()},t.getBitCountForCodeword=function(e){for(var r=new Int32Array(8),n=0,i=r.length-1;!((e&1)!==n&&(n=e&1,i--,i<0));)r[i]++,e>>=1;return r},t.getCodewordBucketNumber=function(e){return e instanceof Int32Array?this.getCodewordBucketNumber_Int32Array(e):this.getCodewordBucketNumber_number(e)},t.getCodewordBucketNumber_number=function(e){return t.getCodewordBucketNumber(t.getBitCountForCodeword(e))},t.getCodewordBucketNumber_Int32Array=function(e){return(e[0]-e[2]+e[4]-e[6]+9)%9},t.toString=function(e){for(var r=new Gg,n=0;n<e.length;n++){r.format("Row %2d: ",n);for(var i=0;i<e[n].length;i++){var s=e[n][i];s.getValue().length===0?r.format("        ",null):r.format("%4d(%2d)",s.getValue()[0],s.getConfidence(s.getValue()[0]))}r.format("%n")}return r.toString()},t.CODEWORD_SKEW_SIZE=2,t.MAX_ERRORS=3,t.MAX_EC_CODEWORDS=512,t.errorCorrection=new cM,t}(),RM=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},Lp=function(){function t(){}return t.prototype.decode=function(e,r){r===void 0&&(r=null);var n=t.decode(e,r,!1);if(n==null||n.length===0||n[0]==null)throw ie.getNotFoundInstance();return n[0]},t.prototype.decodeMultiple=function(e,r){r===void 0&&(r=null);try{return t.decode(e,r,!0)}catch(n){throw n instanceof me||n instanceof Or?ie.getNotFoundInstance():n}},t.decode=function(e,r,n){var i,s,o=new Array,u=nM.detectMultiple(e,r,n);try{for(var f=RM(u.getPoints()),h=f.next();!h.done;h=f.next()){var m=h.value,v=TM.decode(u.getBits(),m[4],m[5],m[6],m[7],t.getMinCodewordWidth(m),t.getMaxCodewordWidth(m)),w=new sn(v.getText(),v.getRawBytes(),void 0,m,ke.PDF_417);w.putMetadata(Vr.ERROR_CORRECTION_LEVEL,v.getECLevel());var C=v.getOther();C!=null&&w.putMetadata(Vr.PDF417_EXTRA_METADATA,C),o.push(w)}}catch(N){i={error:N}}finally{try{h&&!h.done&&(s=f.return)&&s.call(f)}finally{if(i)throw i.error}}return o.map(function(N){return N})},t.getMaxWidth=function(e,r){return e==null||r==null?0:Math.trunc(Math.abs(e.getX()-r.getX()))},t.getMinWidth=function(e,r){return e==null||r==null?et.MAX_VALUE:Math.trunc(Math.abs(e.getX()-r.getX()))},t.getMaxCodewordWidth=function(e){return Math.floor(Math.max(Math.max(t.getMaxWidth(e[0],e[4]),t.getMaxWidth(e[6],e[2])*dt.MODULES_IN_CODEWORD/dt.MODULES_IN_STOP_PATTERN),Math.max(t.getMaxWidth(e[1],e[5]),t.getMaxWidth(e[7],e[3])*dt.MODULES_IN_CODEWORD/dt.MODULES_IN_STOP_PATTERN)))},t.getMinCodewordWidth=function(e){return Math.floor(Math.min(Math.min(t.getMinWidth(e[0],e[4]),t.getMinWidth(e[6],e[2])*dt.MODULES_IN_CODEWORD/dt.MODULES_IN_STOP_PATTERN),Math.min(t.getMinWidth(e[1],e[5]),t.getMinWidth(e[7],e[3])*dt.MODULES_IN_CODEWORD/dt.MODULES_IN_STOP_PATTERN)))},t.prototype.reset=function(){},t}(),OM=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var s in i)i.hasOwnProperty(s)&&(n[s]=i[s])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),uy=function(t){OM(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.kind="ReaderException",e}(Mn),dy=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},PM=function(){function t(){}return t.prototype.decode=function(e,r){return this.setHints(r),this.decodeInternal(e)},t.prototype.decodeWithState=function(e){return(this.readers===null||this.readers===void 0)&&this.setHints(null),this.decodeInternal(e)},t.prototype.setHints=function(e){this.hints=e;var r=e!=null&&e.get(Wt.TRY_HARDER)!==void 0,n=e==null?null:e.get(Wt.POSSIBLE_FORMATS),i=new Array;if(n!=null){var s=n.some(function(o){return o===ke.UPC_A||o===ke.UPC_E||o===ke.EAN_13||o===ke.EAN_8||o===ke.CODABAR||o===ke.CODE_39||o===ke.CODE_93||o===ke.CODE_128||o===ke.ITF||o===ke.RSS_14||o===ke.RSS_EXPANDED});s&&!r&&i.push(new Ic(e)),n.includes(ke.QR_CODE)&&i.push(new Mp),n.includes(ke.DATA_MATRIX)&&i.push(new jp),n.includes(ke.AZTEC)&&i.push(new Pp),n.includes(ke.PDF_417)&&i.push(new Lp),s&&r&&i.push(new Ic(e))}i.length===0&&(r||i.push(new Ic(e)),i.push(new Mp),i.push(new jp),i.push(new Pp),i.push(new Lp),r&&i.push(new Ic(e))),this.readers=i},t.prototype.reset=function(){var e,r;if(this.readers!==null)try{for(var n=dy(this.readers),i=n.next();!i.done;i=n.next()){var s=i.value;s.reset()}}catch(o){e={error:o}}finally{try{i&&!i.done&&(r=n.return)&&r.call(n)}finally{if(e)throw e.error}}},t.prototype.decodeInternal=function(e){var r,n;if(this.readers===null)throw new uy("No readers where selected, nothing can be read.");try{for(var i=dy(this.readers),s=i.next();!s.done;s=i.next()){var o=s.value;try{return o.decode(e,this.hints)}catch(u){if(u instanceof uy)continue}}}catch(u){r={error:u}}finally{try{s&&!s.done&&(n=i.return)&&n.call(i)}finally{if(r)throw r.error}}throw new ie("No MultiFormat Readers were able to detect the code.")},t}(),DM=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var s in i)i.hasOwnProperty(s)&&(n[s]=i[s])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),jM=function(t){DM(e,t);function e(r,n){r===void 0&&(r=null),n===void 0&&(n=500);var i=this,s=new PM;return s.setHints(r),i=t.call(this,s,n)||this,i}return e.prototype.decodeBitmap=function(r){return this.reader.decodeWithState(r)},e}($l),MM=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var s in i)i.hasOwnProperty(s)&&(n[s]=i[s])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}();(function(t){MM(e,t);function e(r){return r===void 0&&(r=500),t.call(this,new Lp,r)||this}return e})($l);var kM=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var s in i)i.hasOwnProperty(s)&&(n[s]=i[s])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}();(function(t){kM(e,t);function e(r){return r===void 0&&(r=500),t.call(this,new Mp,r)||this}return e})($l);var Bp;(function(t){t[t.ERROR_CORRECTION=0]="ERROR_CORRECTION",t[t.CHARACTER_SET=1]="CHARACTER_SET",t[t.DATA_MATRIX_SHAPE=2]="DATA_MATRIX_SHAPE",t[t.DATA_MATRIX_COMPACT=3]="DATA_MATRIX_COMPACT",t[t.MIN_SIZE=4]="MIN_SIZE",t[t.MAX_SIZE=5]="MAX_SIZE",t[t.MARGIN=6]="MARGIN",t[t.PDF417_COMPACT=7]="PDF417_COMPACT",t[t.PDF417_COMPACTION=8]="PDF417_COMPACTION",t[t.PDF417_DIMENSIONS=9]="PDF417_DIMENSIONS",t[t.AZTEC_LAYERS=10]="AZTEC_LAYERS",t[t.QR_VERSION=11]="QR_VERSION",t[t.GS1_FORMAT=12]="GS1_FORMAT",t[t.FORCE_C40=13]="FORCE_C40"})(Bp||(Bp={}));const vd=Bp;var gb=function(){function t(e){this.field=e,this.cachedGenerators=[],this.cachedGenerators.push(new wa(e,Int32Array.from([1])))}return t.prototype.buildGenerator=function(e){var r=this.cachedGenerators;if(e>=r.length)for(var n=r[r.length-1],i=this.field,s=r.length;s<=e;s++){var o=n.multiply(new wa(i,Int32Array.from([1,i.exp(s-1+i.getGeneratorBase())])));r.push(o),n=o}return r[e]},t.prototype.encode=function(e,r){if(r===0)throw new Be("No error correction bytes");var n=e.length-r;if(n<=0)throw new Be("No data bytes provided");var i=this.buildGenerator(r),s=new Int32Array(n);Mt.arraycopy(e,0,s,0,n);var o=new wa(this.field,s);o=o.multiplyByMonomial(r,1);for(var u=o.divide(i)[1],f=u.getCoefficients(),h=r-f.length,m=0;m<h;m++)e[n+m]=0;Mt.arraycopy(f,0,e,n+h,f.length)},t}(),Rc=function(){function t(){}return t.applyMaskPenaltyRule1=function(e){return t.applyMaskPenaltyRule1Internal(e,!0)+t.applyMaskPenaltyRule1Internal(e,!1)},t.applyMaskPenaltyRule2=function(e){for(var r=0,n=e.getArray(),i=e.getWidth(),s=e.getHeight(),o=0;o<s-1;o++)for(var u=n[o],f=0;f<i-1;f++){var h=u[f];h===u[f+1]&&h===n[o+1][f]&&h===n[o+1][f+1]&&r++}return t.N2*r},t.applyMaskPenaltyRule3=function(e){for(var r=0,n=e.getArray(),i=e.getWidth(),s=e.getHeight(),o=0;o<s;o++)for(var u=0;u<i;u++){var f=n[o];u+6<i&&f[u]===1&&f[u+1]===0&&f[u+2]===1&&f[u+3]===1&&f[u+4]===1&&f[u+5]===0&&f[u+6]===1&&(t.isWhiteHorizontal(f,u-4,u)||t.isWhiteHorizontal(f,u+7,u+11))&&r++,o+6<s&&n[o][u]===1&&n[o+1][u]===0&&n[o+2][u]===1&&n[o+3][u]===1&&n[o+4][u]===1&&n[o+5][u]===0&&n[o+6][u]===1&&(t.isWhiteVertical(n,u,o-4,o)||t.isWhiteVertical(n,u,o+7,o+11))&&r++}return r*t.N3},t.isWhiteHorizontal=function(e,r,n){r=Math.max(r,0),n=Math.min(n,e.length);for(var i=r;i<n;i++)if(e[i]===1)return!1;return!0},t.isWhiteVertical=function(e,r,n,i){n=Math.max(n,0),i=Math.min(i,e.length);for(var s=n;s<i;s++)if(e[s][r]===1)return!1;return!0},t.applyMaskPenaltyRule4=function(e){for(var r=0,n=e.getArray(),i=e.getWidth(),s=e.getHeight(),o=0;o<s;o++)for(var u=n[o],f=0;f<i;f++)u[f]===1&&r++;var h=e.getHeight()*e.getWidth(),m=Math.floor(Math.abs(r*2-h)*10/h);return m*t.N4},t.getDataMaskBit=function(e,r,n){var i,s;switch(e){case 0:i=n+r&1;break;case 1:i=n&1;break;case 2:i=r%3;break;case 3:i=(n+r)%3;break;case 4:i=Math.floor(n/2)+Math.floor(r/3)&1;break;case 5:s=n*r,i=(s&1)+s%3;break;case 6:s=n*r,i=(s&1)+s%3&1;break;case 7:s=n*r,i=s%3+(n+r&1)&1;break;default:throw new Be("Invalid mask pattern: "+e)}return i===0},t.applyMaskPenaltyRule1Internal=function(e,r){for(var n=0,i=r?e.getHeight():e.getWidth(),s=r?e.getWidth():e.getHeight(),o=e.getArray(),u=0;u<i;u++){for(var f=0,h=-1,m=0;m<s;m++){var v=r?o[u][m]:o[m][u];v===h?f++:(f>=5&&(n+=t.N1+(f-5)),f=1,h=v)}f>=5&&(n+=t.N1+(f-5))}return n},t.N1=3,t.N2=3,t.N3=40,t.N4=10,t}(),LM=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},BM=function(){function t(e,r){this.width=e,this.height=r;for(var n=new Array(r),i=0;i!==r;i++)n[i]=new Uint8Array(e);this.bytes=n}return t.prototype.getHeight=function(){return this.height},t.prototype.getWidth=function(){return this.width},t.prototype.get=function(e,r){return this.bytes[r][e]},t.prototype.getArray=function(){return this.bytes},t.prototype.setNumber=function(e,r,n){this.bytes[r][e]=n},t.prototype.setBoolean=function(e,r,n){this.bytes[r][e]=n?1:0},t.prototype.clear=function(e){var r,n;try{for(var i=LM(this.bytes),s=i.next();!s.done;s=i.next()){var o=s.value;Ar.fill(o,e)}}catch(u){r={error:u}}finally{try{s&&!s.done&&(n=i.return)&&n.call(i)}finally{if(r)throw r.error}}},t.prototype.equals=function(e){if(!(e instanceof t))return!1;var r=e;if(this.width!==r.width||this.height!==r.height)return!1;for(var n=0,i=this.height;n<i;++n)for(var s=this.bytes[n],o=r.bytes[n],u=0,f=this.width;u<f;++u)if(s[u]!==o[u])return!1;return!0},t.prototype.toString=function(){for(var e=new Qe,r=0,n=this.height;r<n;++r){for(var i=this.bytes[r],s=0,o=this.width;s<o;++s)switch(i[s]){case 0:e.append(" 0");break;case 1:e.append(" 1");break;default:e.append("  ");break}e.append(`
`)}return e.toString()},t}(),Fp=function(){function t(){this.maskPattern=-1}return t.prototype.getMode=function(){return this.mode},t.prototype.getECLevel=function(){return this.ecLevel},t.prototype.getVersion=function(){return this.version},t.prototype.getMaskPattern=function(){return this.maskPattern},t.prototype.getMatrix=function(){return this.matrix},t.prototype.toString=function(){var e=new Qe;return e.append(`<<
`),e.append(" mode: "),e.append(this.mode?this.mode.toString():"null"),e.append(`
 ecLevel: `),e.append(this.ecLevel?this.ecLevel.toString():"null"),e.append(`
 version: `),e.append(this.version?this.version.toString():"null"),e.append(`
 maskPattern: `),e.append(this.maskPattern.toString()),this.matrix?(e.append(`
 matrix:
`),e.append(this.matrix.toString())):e.append(`
 matrix: null
`),e.append(`>>
`),e.toString()},t.prototype.setMode=function(e){this.mode=e},t.prototype.setECLevel=function(e){this.ecLevel=e},t.prototype.setVersion=function(e){this.version=e},t.prototype.setMaskPattern=function(e){this.maskPattern=e},t.prototype.setMatrix=function(e){this.matrix=e},t.isValidMaskPattern=function(e){return e>=0&&e<t.NUM_MASK_PATTERNS},t.NUM_MASK_PATTERNS=8,t}(),FM=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var s in i)i.hasOwnProperty(s)&&(n[s]=i[s])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),Ut=function(t){FM(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.kind="WriterException",e}(Mn),fy=function(){function t(){}return t.clearMatrix=function(e){e.clear(255)},t.buildMatrix=function(e,r,n,i,s){t.clearMatrix(s),t.embedBasicPatterns(n,s),t.embedTypeInfo(r,i,s),t.maybeEmbedVersionInfo(n,s),t.embedDataBits(e,i,s)},t.embedBasicPatterns=function(e,r){t.embedPositionDetectionPatternsAndSeparators(r),t.embedDarkDotAtLeftBottomCorner(r),t.maybeEmbedPositionAdjustmentPatterns(e,r),t.embedTimingPatterns(r)},t.embedTypeInfo=function(e,r,n){var i=new Pr;t.makeTypeInfoBits(e,r,i);for(var s=0,o=i.getSize();s<o;++s){var u=i.get(i.getSize()-1-s),f=t.TYPE_INFO_COORDINATES[s],h=f[0],m=f[1];if(n.setBoolean(h,m,u),s<8){var v=n.getWidth()-s-1,w=8;n.setBoolean(v,w,u)}else{var v=8,w=n.getHeight()-7+(s-8);n.setBoolean(v,w,u)}}},t.maybeEmbedVersionInfo=function(e,r){if(!(e.getVersionNumber()<7)){var n=new Pr;t.makeVersionInfoBits(e,n);for(var i=6*3-1,s=0;s<6;++s)for(var o=0;o<3;++o){var u=n.get(i);i--,r.setBoolean(s,r.getHeight()-11+o,u),r.setBoolean(r.getHeight()-11+o,s,u)}}},t.embedDataBits=function(e,r,n){for(var i=0,s=-1,o=n.getWidth()-1,u=n.getHeight()-1;o>0;){for(o===6&&(o-=1);u>=0&&u<n.getHeight();){for(var f=0;f<2;++f){var h=o-f;if(t.isEmpty(n.get(h,u))){var m=void 0;i<e.getSize()?(m=e.get(i),++i):m=!1,r!==255&&Rc.getDataMaskBit(r,h,u)&&(m=!m),n.setBoolean(h,u,m)}}u+=s}s=-s,u+=s,o-=2}if(i!==e.getSize())throw new Ut("Not all bits consumed: "+i+"/"+e.getSize())},t.findMSBSet=function(e){return 32-et.numberOfLeadingZeros(e)},t.calculateBCHCode=function(e,r){if(r===0)throw new Be("0 polynomial");var n=t.findMSBSet(r);for(e<<=n-1;t.findMSBSet(e)>=n;)e^=r<<t.findMSBSet(e)-n;return e},t.makeTypeInfoBits=function(e,r,n){if(!Fp.isValidMaskPattern(r))throw new Ut("Invalid mask pattern");var i=e.getBits()<<3|r;n.appendBits(i,5);var s=t.calculateBCHCode(i,t.TYPE_INFO_POLY);n.appendBits(s,10);var o=new Pr;if(o.appendBits(t.TYPE_INFO_MASK_PATTERN,15),n.xor(o),n.getSize()!==15)throw new Ut("should not happen but we got: "+n.getSize())},t.makeVersionInfoBits=function(e,r){r.appendBits(e.getVersionNumber(),6);var n=t.calculateBCHCode(e.getVersionNumber(),t.VERSION_INFO_POLY);if(r.appendBits(n,12),r.getSize()!==18)throw new Ut("should not happen but we got: "+r.getSize())},t.isEmpty=function(e){return e===255},t.embedTimingPatterns=function(e){for(var r=8;r<e.getWidth()-8;++r){var n=(r+1)%2;t.isEmpty(e.get(r,6))&&e.setNumber(r,6,n),t.isEmpty(e.get(6,r))&&e.setNumber(6,r,n)}},t.embedDarkDotAtLeftBottomCorner=function(e){if(e.get(8,e.getHeight()-8)===0)throw new Ut;e.setNumber(8,e.getHeight()-8,1)},t.embedHorizontalSeparationPattern=function(e,r,n){for(var i=0;i<8;++i){if(!t.isEmpty(n.get(e+i,r)))throw new Ut;n.setNumber(e+i,r,0)}},t.embedVerticalSeparationPattern=function(e,r,n){for(var i=0;i<7;++i){if(!t.isEmpty(n.get(e,r+i)))throw new Ut;n.setNumber(e,r+i,0)}},t.embedPositionAdjustmentPattern=function(e,r,n){for(var i=0;i<5;++i)for(var s=t.POSITION_ADJUSTMENT_PATTERN[i],o=0;o<5;++o)n.setNumber(e+o,r+i,s[o])},t.embedPositionDetectionPattern=function(e,r,n){for(var i=0;i<7;++i)for(var s=t.POSITION_DETECTION_PATTERN[i],o=0;o<7;++o)n.setNumber(e+o,r+i,s[o])},t.embedPositionDetectionPatternsAndSeparators=function(e){var r=t.POSITION_DETECTION_PATTERN[0].length;t.embedPositionDetectionPattern(0,0,e),t.embedPositionDetectionPattern(e.getWidth()-r,0,e),t.embedPositionDetectionPattern(0,e.getWidth()-r,e);var n=8;t.embedHorizontalSeparationPattern(0,n-1,e),t.embedHorizontalSeparationPattern(e.getWidth()-n,n-1,e),t.embedHorizontalSeparationPattern(0,e.getWidth()-n,e);var i=7;t.embedVerticalSeparationPattern(i,0,e),t.embedVerticalSeparationPattern(e.getHeight()-i-1,0,e),t.embedVerticalSeparationPattern(i,e.getHeight()-i,e)},t.maybeEmbedPositionAdjustmentPatterns=function(e,r){if(!(e.getVersionNumber()<2))for(var n=e.getVersionNumber()-1,i=t.POSITION_ADJUSTMENT_PATTERN_COORDINATE_TABLE[n],s=0,o=i.length;s!==o;s++){var u=i[s];if(u>=0)for(var f=0;f!==o;f++){var h=i[f];h>=0&&t.isEmpty(r.get(h,u))&&t.embedPositionAdjustmentPattern(h-2,u-2,r)}}},t.POSITION_DETECTION_PATTERN=Array.from([Int32Array.from([1,1,1,1,1,1,1]),Int32Array.from([1,0,0,0,0,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,0,0,0,0,1]),Int32Array.from([1,1,1,1,1,1,1])]),t.POSITION_ADJUSTMENT_PATTERN=Array.from([Int32Array.from([1,1,1,1,1]),Int32Array.from([1,0,0,0,1]),Int32Array.from([1,0,1,0,1]),Int32Array.from([1,0,0,0,1]),Int32Array.from([1,1,1,1,1])]),t.POSITION_ADJUSTMENT_PATTERN_COORDINATE_TABLE=Array.from([Int32Array.from([-1,-1,-1,-1,-1,-1,-1]),Int32Array.from([6,18,-1,-1,-1,-1,-1]),Int32Array.from([6,22,-1,-1,-1,-1,-1]),Int32Array.from([6,26,-1,-1,-1,-1,-1]),Int32Array.from([6,30,-1,-1,-1,-1,-1]),Int32Array.from([6,34,-1,-1,-1,-1,-1]),Int32Array.from([6,22,38,-1,-1,-1,-1]),Int32Array.from([6,24,42,-1,-1,-1,-1]),Int32Array.from([6,26,46,-1,-1,-1,-1]),Int32Array.from([6,28,50,-1,-1,-1,-1]),Int32Array.from([6,30,54,-1,-1,-1,-1]),Int32Array.from([6,32,58,-1,-1,-1,-1]),Int32Array.from([6,34,62,-1,-1,-1,-1]),Int32Array.from([6,26,46,66,-1,-1,-1]),Int32Array.from([6,26,48,70,-1,-1,-1]),Int32Array.from([6,26,50,74,-1,-1,-1]),Int32Array.from([6,30,54,78,-1,-1,-1]),Int32Array.from([6,30,56,82,-1,-1,-1]),Int32Array.from([6,30,58,86,-1,-1,-1]),Int32Array.from([6,34,62,90,-1,-1,-1]),Int32Array.from([6,28,50,72,94,-1,-1]),Int32Array.from([6,26,50,74,98,-1,-1]),Int32Array.from([6,30,54,78,102,-1,-1]),Int32Array.from([6,28,54,80,106,-1,-1]),Int32Array.from([6,32,58,84,110,-1,-1]),Int32Array.from([6,30,58,86,114,-1,-1]),Int32Array.from([6,34,62,90,118,-1,-1]),Int32Array.from([6,26,50,74,98,122,-1]),Int32Array.from([6,30,54,78,102,126,-1]),Int32Array.from([6,26,52,78,104,130,-1]),Int32Array.from([6,30,56,82,108,134,-1]),Int32Array.from([6,34,60,86,112,138,-1]),Int32Array.from([6,30,58,86,114,142,-1]),Int32Array.from([6,34,62,90,118,146,-1]),Int32Array.from([6,30,54,78,102,126,150]),Int32Array.from([6,24,50,76,102,128,154]),Int32Array.from([6,28,54,80,106,132,158]),Int32Array.from([6,32,58,84,110,136,162]),Int32Array.from([6,26,54,82,110,138,166]),Int32Array.from([6,30,58,86,114,142,170])]),t.TYPE_INFO_COORDINATES=Array.from([Int32Array.from([8,0]),Int32Array.from([8,1]),Int32Array.from([8,2]),Int32Array.from([8,3]),Int32Array.from([8,4]),Int32Array.from([8,5]),Int32Array.from([8,7]),Int32Array.from([8,8]),Int32Array.from([7,8]),Int32Array.from([5,8]),Int32Array.from([4,8]),Int32Array.from([3,8]),Int32Array.from([2,8]),Int32Array.from([1,8]),Int32Array.from([0,8])]),t.VERSION_INFO_POLY=7973,t.TYPE_INFO_POLY=1335,t.TYPE_INFO_MASK_PATTERN=21522,t}(),UM=function(){function t(e,r){this.dataBytes=e,this.errorCorrectionBytes=r}return t.prototype.getDataBytes=function(){return this.dataBytes},t.prototype.getErrorCorrectionBytes=function(){return this.errorCorrectionBytes},t}(),hy=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")};(function(){function t(){}return t.calculateMaskPenalty=function(e){return Rc.applyMaskPenaltyRule1(e)+Rc.applyMaskPenaltyRule2(e)+Rc.applyMaskPenaltyRule3(e)+Rc.applyMaskPenaltyRule4(e)},t.encode=function(e,r,n){n===void 0&&(n=null);var i=t.DEFAULT_BYTE_MODE_ENCODING,s=n!==null&&n.get(vd.CHARACTER_SET)!==void 0;s&&(i=n.get(vd.CHARACTER_SET).toString());var o=this.chooseMode(e,i),u=new Pr;if(o===Vt.BYTE&&(s||t.DEFAULT_BYTE_MODE_ENCODING!==i)){var f=Er.getCharacterSetECIByName(i);f!==void 0&&this.appendECI(f,u)}this.appendModeInfo(o,u);var h=new Pr;this.appendBytes(e,o,h,i);var m;if(n!==null&&n.get(vd.QR_VERSION)!==void 0){var v=Number.parseInt(n.get(vd.QR_VERSION).toString(),10);m=so.getVersionForNumber(v);var w=this.calculateBitsNeeded(o,u,h,m);if(!this.willFit(w,m,r))throw new Ut("Data too big for requested version")}else m=this.recommendVersion(r,o,u,h);var C=new Pr;C.appendBitArray(u);var N=o===Vt.BYTE?h.getSizeInBytes():e.length;this.appendLengthInfo(N,m,o,C),C.appendBitArray(h);var b=m.getECBlocksForLevel(r),R=m.getTotalCodewords()-b.getTotalECCodewords();this.terminateBits(R,C);var _=this.interleaveWithECBytes(C,m.getTotalCodewords(),R,b.getNumBlocks()),S=new Fp;S.setECLevel(r),S.setMode(o),S.setVersion(m);var T=m.getDimensionForVersion(),P=new BM(T,T),B=this.chooseMaskPattern(_,r,m,P);return S.setMaskPattern(B),fy.buildMatrix(_,r,m,B,P),S.setMatrix(P),S},t.recommendVersion=function(e,r,n,i){var s=this.calculateBitsNeeded(r,n,i,so.getVersionForNumber(1)),o=this.chooseVersion(s,e),u=this.calculateBitsNeeded(r,n,i,o);return this.chooseVersion(u,e)},t.calculateBitsNeeded=function(e,r,n,i){return r.getSize()+e.getCharacterCountBits(i)+n.getSize()},t.getAlphanumericCode=function(e){return e<t.ALPHANUMERIC_TABLE.length?t.ALPHANUMERIC_TABLE[e]:-1},t.chooseMode=function(e,r){if(r===void 0&&(r=null),Er.SJIS.getName()===r&&this.isOnlyDoubleByteKanji(e))return Vt.KANJI;for(var n=!1,i=!1,s=0,o=e.length;s<o;++s){var u=e.charAt(s);if(t.isDigit(u))n=!0;else if(this.getAlphanumericCode(u.charCodeAt(0))!==-1)i=!0;else return Vt.BYTE}return i?Vt.ALPHANUMERIC:n?Vt.NUMERIC:Vt.BYTE},t.isOnlyDoubleByteKanji=function(e){var r;try{r=ui.encode(e,Er.SJIS)}catch{return!1}var n=r.length;if(n%2!==0)return!1;for(var i=0;i<n;i+=2){var s=r[i]&255;if((s<129||s>159)&&(s<224||s>235))return!1}return!0},t.chooseMaskPattern=function(e,r,n,i){for(var s=Number.MAX_SAFE_INTEGER,o=-1,u=0;u<Fp.NUM_MASK_PATTERNS;u++){fy.buildMatrix(e,r,n,u,i);var f=this.calculateMaskPenalty(i);f<s&&(s=f,o=u)}return o},t.chooseVersion=function(e,r){for(var n=1;n<=40;n++){var i=so.getVersionForNumber(n);if(t.willFit(e,i,r))return i}throw new Ut("Data too big")},t.willFit=function(e,r,n){var i=r.getTotalCodewords(),s=r.getECBlocksForLevel(n),o=s.getTotalECCodewords(),u=i-o,f=(e+7)/8;return u>=f},t.terminateBits=function(e,r){var n=e*8;if(r.getSize()>n)throw new Ut("data bits cannot fit in the QR Code"+r.getSize()+" > "+n);for(var i=0;i<4&&r.getSize()<n;++i)r.appendBit(!1);var s=r.getSize()&7;if(s>0)for(var i=s;i<8;i++)r.appendBit(!1);for(var o=e-r.getSizeInBytes(),i=0;i<o;++i)r.appendBits(i&1?17:236,8);if(r.getSize()!==n)throw new Ut("Bits size does not equal capacity")},t.getNumDataBytesAndNumECBytesForBlockID=function(e,r,n,i,s,o){if(i>=n)throw new Ut("Block ID too large");var u=e%n,f=n-u,h=Math.floor(e/n),m=h+1,v=Math.floor(r/n),w=v+1,C=h-v,N=m-w;if(C!==N)throw new Ut("EC bytes mismatch");if(n!==f+u)throw new Ut("RS blocks mismatch");if(e!==(v+C)*f+(w+N)*u)throw new Ut("Total bytes mismatch");i<f?(s[0]=v,o[0]=C):(s[0]=w,o[0]=N)},t.interleaveWithECBytes=function(e,r,n,i){var s,o,u,f;if(e.getSizeInBytes()!==n)throw new Ut("Number of bits and data bytes does not match");for(var h=0,m=0,v=0,w=new Array,C=0;C<i;++C){var N=new Int32Array(1),b=new Int32Array(1);t.getNumDataBytesAndNumECBytesForBlockID(r,n,i,C,N,b);var R=N[0],_=new Uint8Array(R);e.toBytes(8*h,_,0,R);var S=t.generateECBytes(_,b[0]);w.push(new UM(_,S)),m=Math.max(m,R),v=Math.max(v,S.length),h+=N[0]}if(n!==h)throw new Ut("Data bytes does not match offset");for(var T=new Pr,C=0;C<m;++C)try{for(var P=(s=void 0,hy(w)),B=P.next();!B.done;B=P.next()){var k=B.value,_=k.getDataBytes();C<_.length&&T.appendBits(_[C],8)}}catch(X){s={error:X}}finally{try{B&&!B.done&&(o=P.return)&&o.call(P)}finally{if(s)throw s.error}}for(var C=0;C<v;++C)try{for(var M=(u=void 0,hy(w)),F=M.next();!F.done;F=M.next()){var k=F.value,S=k.getErrorCorrectionBytes();C<S.length&&T.appendBits(S[C],8)}}catch(X){u={error:X}}finally{try{F&&!F.done&&(f=M.return)&&f.call(M)}finally{if(u)throw u.error}}if(r!==T.getSizeInBytes())throw new Ut("Interleaving error: "+r+" and "+T.getSizeInBytes()+" differ.");return T},t.generateECBytes=function(e,r){for(var n=e.length,i=new Int32Array(n+r),s=0;s<n;s++)i[s]=e[s]&255;new gb(Tn.QR_CODE_FIELD_256).encode(i,r);for(var o=new Uint8Array(r),s=0;s<r;s++)o[s]=i[n+s];return o},t.appendModeInfo=function(e,r){r.appendBits(e.getBits(),4)},t.appendLengthInfo=function(e,r,n,i){var s=n.getCharacterCountBits(r);if(e>=1<<s)throw new Ut(e+" is bigger than "+((1<<s)-1));i.appendBits(e,s)},t.appendBytes=function(e,r,n,i){switch(r){case Vt.NUMERIC:t.appendNumericBytes(e,n);break;case Vt.ALPHANUMERIC:t.appendAlphanumericBytes(e,n);break;case Vt.BYTE:t.append8BitBytes(e,n,i);break;case Vt.KANJI:t.appendKanjiBytes(e,n);break;default:throw new Ut("Invalid mode: "+r)}},t.getDigit=function(e){return e.charCodeAt(0)-48},t.isDigit=function(e){var r=t.getDigit(e);return r>=0&&r<=9},t.appendNumericBytes=function(e,r){for(var n=e.length,i=0;i<n;){var s=t.getDigit(e.charAt(i));if(i+2<n){var o=t.getDigit(e.charAt(i+1)),u=t.getDigit(e.charAt(i+2));r.appendBits(s*100+o*10+u,10),i+=3}else if(i+1<n){var o=t.getDigit(e.charAt(i+1));r.appendBits(s*10+o,7),i+=2}else r.appendBits(s,4),i++}},t.appendAlphanumericBytes=function(e,r){for(var n=e.length,i=0;i<n;){var s=t.getAlphanumericCode(e.charCodeAt(i));if(s===-1)throw new Ut;if(i+1<n){var o=t.getAlphanumericCode(e.charCodeAt(i+1));if(o===-1)throw new Ut;r.appendBits(s*45+o,11),i+=2}else r.appendBits(s,6),i++}},t.append8BitBytes=function(e,r,n){var i;try{i=ui.encode(e,n)}catch(f){throw new Ut(f)}for(var s=0,o=i.length;s!==o;s++){var u=i[s];r.appendBits(u,8)}},t.appendKanjiBytes=function(e,r){var n;try{n=ui.encode(e,Er.SJIS)}catch(v){throw new Ut(v)}for(var i=n.length,s=0;s<i;s+=2){var o=n[s]&255,u=n[s+1]&255,f=o<<8&4294967295|u,h=-1;if(f>=33088&&f<=40956?h=f-33088:f>=57408&&f<=60351&&(h=f-49472),h===-1)throw new Ut("Invalid byte sequence");var m=(h>>8)*192+(h&255);r.appendBits(m,13)}},t.appendECI=function(e,r){r.appendBits(Vt.ECI.getBits(),4),r.appendBits(e.getValue(),8)},t.ALPHANUMERIC_TABLE=Int32Array.from([-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,36,-1,-1,-1,37,38,-1,-1,-1,-1,39,40,-1,41,42,43,0,1,2,3,4,5,6,7,8,9,44,-1,-1,-1,-1,-1,-1,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,-1,-1,-1,-1,-1]),t.DEFAULT_BYTE_MODE_ENCODING=Er.UTF8.getName(),t})();var VM=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var s in i)i.hasOwnProperty(s)&&(n[s]=i[s])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}();(function(t){VM(e,t);function e(r,n,i,s,o,u,f,h){var m=t.call(this,u,f)||this;if(m.yuvData=r,m.dataWidth=n,m.dataHeight=i,m.left=s,m.top=o,s+u>n||o+f>i)throw new Be("Crop rectangle does not fit within image data.");return h&&m.reverseHorizontal(u,f),m}return e.prototype.getRow=function(r,n){if(r<0||r>=this.getHeight())throw new Be("Requested row is outside the image: "+r);var i=this.getWidth();(n==null||n.length<i)&&(n=new Uint8ClampedArray(i));var s=(r+this.top)*this.dataWidth+this.left;return Mt.arraycopy(this.yuvData,s,n,0,i),n},e.prototype.getMatrix=function(){var r=this.getWidth(),n=this.getHeight();if(r===this.dataWidth&&n===this.dataHeight)return this.yuvData;var i=r*n,s=new Uint8ClampedArray(i),o=this.top*this.dataWidth+this.left;if(r===this.dataWidth)return Mt.arraycopy(this.yuvData,o,s,0,i),s;for(var u=0;u<n;u++){var f=u*r;Mt.arraycopy(this.yuvData,o,s,f,r),o+=this.dataWidth}return s},e.prototype.isCropSupported=function(){return!0},e.prototype.crop=function(r,n,i,s){return new e(this.yuvData,this.dataWidth,this.dataHeight,this.left+r,this.top+n,i,s,!1)},e.prototype.renderThumbnail=function(){for(var r=this.getWidth()/e.THUMBNAIL_SCALE_FACTOR,n=this.getHeight()/e.THUMBNAIL_SCALE_FACTOR,i=new Int32Array(r*n),s=this.yuvData,o=this.top*this.dataWidth+this.left,u=0;u<n;u++){for(var f=u*r,h=0;h<r;h++){var m=s[o+h*e.THUMBNAIL_SCALE_FACTOR]&255;i[f+h]=4278190080|m*65793}o+=this.dataWidth*e.THUMBNAIL_SCALE_FACTOR}return i},e.prototype.getThumbnailWidth=function(){return this.getWidth()/e.THUMBNAIL_SCALE_FACTOR},e.prototype.getThumbnailHeight=function(){return this.getHeight()/e.THUMBNAIL_SCALE_FACTOR},e.prototype.reverseHorizontal=function(r,n){for(var i=this.yuvData,s=0,o=this.top*this.dataWidth+this.left;s<n;s++,o+=this.dataWidth)for(var u=o+r/2,f=o,h=o+r-1;f<u;f++,h--){var m=i[f];i[f]=i[h],i[h]=m}},e.prototype.invert=function(){return new Ug(this)},e.THUMBNAIL_SCALE_FACTOR=2,e})(C0);var HM=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var s in i)i.hasOwnProperty(s)&&(n[s]=i[s])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}();(function(t){HM(e,t);function e(r,n,i,s,o,u,f){var h=t.call(this,n,i)||this;if(h.dataWidth=s,h.dataHeight=o,h.left=u,h.top=f,r.BYTES_PER_ELEMENT===4){for(var m=n*i,v=new Uint8ClampedArray(m),w=0;w<m;w++){var C=r[w],N=C>>16&255,b=C>>7&510,R=C&255;v[w]=(N+b+R)/4&255}h.luminances=v}else h.luminances=r;if(s===void 0&&(h.dataWidth=n),o===void 0&&(h.dataHeight=i),u===void 0&&(h.left=0),f===void 0&&(h.top=0),h.left+n>h.dataWidth||h.top+i>h.dataHeight)throw new Be("Crop rectangle does not fit within image data.");return h}return e.prototype.getRow=function(r,n){if(r<0||r>=this.getHeight())throw new Be("Requested row is outside the image: "+r);var i=this.getWidth();(n==null||n.length<i)&&(n=new Uint8ClampedArray(i));var s=(r+this.top)*this.dataWidth+this.left;return Mt.arraycopy(this.luminances,s,n,0,i),n},e.prototype.getMatrix=function(){var r=this.getWidth(),n=this.getHeight();if(r===this.dataWidth&&n===this.dataHeight)return this.luminances;var i=r*n,s=new Uint8ClampedArray(i),o=this.top*this.dataWidth+this.left;if(r===this.dataWidth)return Mt.arraycopy(this.luminances,o,s,0,i),s;for(var u=0;u<n;u++){var f=u*r;Mt.arraycopy(this.luminances,o,s,f,r),o+=this.dataWidth}return s},e.prototype.isCropSupported=function(){return!0},e.prototype.crop=function(r,n,i,s){return new e(this.luminances,i,s,this.dataWidth,this.dataHeight,this.left+r,this.top+n)},e.prototype.invert=function(){return new Ug(this)},e})(C0);var zM=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var s in i)i.hasOwnProperty(s)&&(n[s]=i[s])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),GM=function(t){zM(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.forName=function(r){return this.getCharacterSetECIByName(r)},e}(Er),WM=function(){function t(){}return t.ISO_8859_1=Er.ISO8859_1,t}(),Up,XM=301,YM=function(t,e){for(var r=1,n=0;n<255;n++)e[n]=r,t[r]=n,r*=2,r>=256&&(r^=XM);return{LOG:t,ALOG:e}};Up=YM([],[]),Up.LOG;Up.ALOG;var py;(function(t){t[t.FORCE_NONE=0]="FORCE_NONE",t[t.FORCE_SQUARE=1]="FORCE_SQUARE",t[t.FORCE_RECTANGLE=2]="FORCE_RECTANGLE"})(py||(py={}));var xy=129,mb=230,$M=231,KM=235,ZM=236,qM=237,QM=238,JM=239,ek=240,z1=254,tk=254,gy="[)>05",my="[)>06",vy="",bt=0,Fr=1,un=2,vr=3,Tr=4,Qr=5,rk=function(){function t(){}return t.prototype.getEncodingMode=function(){return bt},t.prototype.encode=function(e){var r=Ti.determineConsecutiveDigitCount(e.getMessage(),e.pos);if(r>=2)e.writeCodeword(this.encodeASCIIDigits(e.getMessage().charCodeAt(e.pos),e.getMessage().charCodeAt(e.pos+1))),e.pos+=2;else{var n=e.getCurrentChar(),i=Ti.lookAheadTest(e.getMessage(),e.pos,this.getEncodingMode());if(i!==this.getEncodingMode())switch(i){case Qr:e.writeCodeword($M),e.signalEncoderChange(Qr);return;case Fr:e.writeCodeword(mb),e.signalEncoderChange(Fr);return;case vr:e.writeCodeword(QM),e.signalEncoderChange(vr);break;case un:e.writeCodeword(JM),e.signalEncoderChange(un);break;case Tr:e.writeCodeword(ek),e.signalEncoderChange(Tr);break;default:throw new Error("Illegal mode: "+i)}else Ti.isExtendedASCII(n)?(e.writeCodeword(KM),e.writeCodeword(n-128+1),e.pos++):(e.writeCodeword(n+1),e.pos++)}},t.prototype.encodeASCIIDigits=function(e,r){if(Ti.isDigit(e)&&Ti.isDigit(r)){var n=(e-48)*10+(r-48);return n+130}throw new Error("not digits: "+e+r)},t}(),nk=function(){function t(){}return t.prototype.getEncodingMode=function(){return Qr},t.prototype.encode=function(e){var r=new Qe;for(r.append(0);e.hasMoreCharacters();){var n=e.getCurrentChar();r.append(n),e.pos++;var i=Ti.lookAheadTest(e.getMessage(),e.pos,this.getEncodingMode());if(i!==this.getEncodingMode()){e.signalEncoderChange(bt);break}}var s=r.length()-1,o=1,u=e.getCodewordCount()+s+o;e.updateSymbolInfo(u);var f=e.getSymbolInfo().getDataCapacity()-u>0;if(e.hasMoreCharacters()||f)if(s<=249)r.setCharAt(0,lt.getCharAt(s));else if(s<=1555)r.setCharAt(0,lt.getCharAt(Math.floor(s/250)+249)),r.insert(1,lt.getCharAt(s%250));else throw new Error("Message length not in valid ranges: "+s);for(var h=0,n=r.length();h<n;h++)e.writeCodeword(this.randomize255State(r.charAt(h).charCodeAt(0),e.getCodewordCount()+1))},t.prototype.randomize255State=function(e,r){var n=149*r%255+1,i=e+n;return i<=255?i:i-256},t}(),Wg=function(){function t(){}return t.prototype.getEncodingMode=function(){return Fr},t.prototype.encodeMaximal=function(e){for(var r=new Qe,n=0,i=e.pos,s=0;e.hasMoreCharacters();){var o=e.getCurrentChar();e.pos++,n=this.encodeChar(o,r),r.length()%3===0&&(i=e.pos,s=r.length())}if(s!==r.length()){var u=Math.floor(r.length()/3*2),f=Math.floor(e.getCodewordCount()+u+1);e.updateSymbolInfo(f);var h=e.getSymbolInfo().getDataCapacity()-f,m=Math.floor(r.length()%3);(m===2&&h!==2||m===1&&(n>3||h!==1))&&(e.pos=i)}r.length()>0&&e.writeCodeword(mb),this.handleEOD(e,r)},t.prototype.encode=function(e){for(var r=new Qe;e.hasMoreCharacters();){var n=e.getCurrentChar();e.pos++;var i=this.encodeChar(n,r),s=Math.floor(r.length()/3)*2,o=e.getCodewordCount()+s;e.updateSymbolInfo(o);var u=e.getSymbolInfo().getDataCapacity()-o;if(!e.hasMoreCharacters()){var f=new Qe;for(r.length()%3===2&&u!==2&&(i=this.backtrackOneCharacter(e,r,f,i));r.length()%3===1&&(i>3||u!==1);)i=this.backtrackOneCharacter(e,r,f,i);break}var h=r.length();if(h%3===0){var m=Ti.lookAheadTest(e.getMessage(),e.pos,this.getEncodingMode());if(m!==this.getEncodingMode()){e.signalEncoderChange(bt);break}}}this.handleEOD(e,r)},t.prototype.backtrackOneCharacter=function(e,r,n,i){var s=r.length(),o=r.toString().substring(0,s-i);r.setLengthToZero(),r.append(o),e.pos--;var u=e.getCurrentChar();return i=this.encodeChar(u,n),e.resetSymbolInfo(),i},t.prototype.writeNextTriplet=function(e,r){e.writeCodewords(this.encodeToCodewords(r.toString()));var n=r.toString().substring(3);r.setLengthToZero(),r.append(n)},t.prototype.handleEOD=function(e,r){var n=Math.floor(r.length()/3*2),i=r.length()%3,s=e.getCodewordCount()+n;e.updateSymbolInfo(s);var o=e.getSymbolInfo().getDataCapacity()-s;if(i===2){for(r.append("\0");r.length()>=3;)this.writeNextTriplet(e,r);e.hasMoreCharacters()&&e.writeCodeword(z1)}else if(o===1&&i===1){for(;r.length()>=3;)this.writeNextTriplet(e,r);e.hasMoreCharacters()&&e.writeCodeword(z1),e.pos--}else if(i===0){for(;r.length()>=3;)this.writeNextTriplet(e,r);(o>0||e.hasMoreCharacters())&&e.writeCodeword(z1)}else throw new Error("Unexpected case. Please report!");e.signalEncoderChange(bt)},t.prototype.encodeChar=function(e,r){if(e===32)return r.append(3),1;if(e>=48&&e<=57)return r.append(e-48+4),1;if(e>=65&&e<=90)return r.append(e-65+14),1;if(e<32)return r.append(0),r.append(e),2;if(e<=47)return r.append(1),r.append(e-33),2;if(e<=64)return r.append(1),r.append(e-58+15),2;if(e<=95)return r.append(1),r.append(e-91+22),2;if(e<=127)return r.append(2),r.append(e-96),2;r.append("1");var n=2;return n+=this.encodeChar(e-128,r),n},t.prototype.encodeToCodewords=function(e){var r=1600*e.charCodeAt(0)+40*e.charCodeAt(1)+e.charCodeAt(2)+1,n=r/256,i=r%256,s=new Qe;return s.append(n),s.append(i),s.toString()},t}(),ik=function(){function t(){}return t.prototype.getEncodingMode=function(){return Tr},t.prototype.encode=function(e){for(var r=new Qe;e.hasMoreCharacters();){var n=e.getCurrentChar();this.encodeChar(n,r),e.pos++;var i=r.length();if(i>=4){e.writeCodewords(this.encodeToCodewords(r.toString()));var s=r.toString().substring(4);r.setLengthToZero(),r.append(s);var o=Ti.lookAheadTest(e.getMessage(),e.pos,this.getEncodingMode());if(o!==this.getEncodingMode()){e.signalEncoderChange(bt);break}}}r.append(lt.getCharAt(31)),this.handleEOD(e,r)},t.prototype.handleEOD=function(e,r){try{var n=r.length();if(n===0)return;if(n===1){e.updateSymbolInfo();var i=e.getSymbolInfo().getDataCapacity()-e.getCodewordCount(),s=e.getRemainingCharacters();if(s>i&&(e.updateSymbolInfo(e.getCodewordCount()+1),i=e.getSymbolInfo().getDataCapacity()-e.getCodewordCount()),s<=i&&i<=2)return}if(n>4)throw new Error("Count must not exceed 4");var o=n-1,u=this.encodeToCodewords(r.toString()),f=!e.hasMoreCharacters(),h=f&&o<=2;if(o<=2){e.updateSymbolInfo(e.getCodewordCount()+o);var i=e.getSymbolInfo().getDataCapacity()-e.getCodewordCount();i>=3&&(h=!1,e.updateSymbolInfo(e.getCodewordCount()+u.length))}h?(e.resetSymbolInfo(),e.pos-=o):e.writeCodewords(u)}finally{e.signalEncoderChange(bt)}},t.prototype.encodeChar=function(e,r){e>=32&&e<=63?r.append(e):e>=64&&e<=94?r.append(lt.getCharAt(e-64)):Ti.illegalCharacter(lt.getCharAt(e))},t.prototype.encodeToCodewords=function(e){var r=e.length;if(r===0)throw new Error("StringBuilder must not be empty");var n=e.charAt(0).charCodeAt(0),i=r>=2?e.charAt(1).charCodeAt(0):0,s=r>=3?e.charAt(2).charCodeAt(0):0,o=r>=4?e.charAt(3).charCodeAt(0):0,u=(n<<18)+(i<<12)+(s<<6)+o,f=u>>16&255,h=u>>8&255,m=u&255,v=new Qe;return v.append(f),r>=2&&v.append(h),r>=3&&v.append(m),v.toString()},t}(),sk=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var s in i)i.hasOwnProperty(s)&&(n[s]=i[s])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),ak=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},yt=function(){function t(e,r,n,i,s,o,u,f){u===void 0&&(u=0),f===void 0&&(f=0),this.rectangular=e,this.dataCapacity=r,this.errorCodewords=n,this.matrixWidth=i,this.matrixHeight=s,this.dataRegions=o,this.rsBlockData=u,this.rsBlockError=f}return t.lookup=function(e,r,n,i,s){var o,u;r===void 0&&(r=0),n===void 0&&(n=null),i===void 0&&(i=null),s===void 0&&(s=!0);try{for(var f=ak(lk),h=f.next();!h.done;h=f.next()){var m=h.value;if(!(r===1&&m.rectangular)&&!(r===2&&!m.rectangular)&&!(n!=null&&(m.getSymbolWidth()<n.getWidth()||m.getSymbolHeight()<n.getHeight()))&&!(i!=null&&(m.getSymbolWidth()>i.getWidth()||m.getSymbolHeight()>i.getHeight()))&&e<=m.dataCapacity)return m}}catch(v){o={error:v}}finally{try{h&&!h.done&&(u=f.return)&&u.call(f)}finally{if(o)throw o.error}}if(s)throw new Error("Can't find a symbol arrangement that matches the message. Data codewords: "+e);return null},t.prototype.getHorizontalDataRegions=function(){switch(this.dataRegions){case 1:return 1;case 2:case 4:return 2;case 16:return 4;case 36:return 6;default:throw new Error("Cannot handle this number of data regions")}},t.prototype.getVerticalDataRegions=function(){switch(this.dataRegions){case 1:case 2:return 1;case 4:return 2;case 16:return 4;case 36:return 6;default:throw new Error("Cannot handle this number of data regions")}},t.prototype.getSymbolDataWidth=function(){return this.getHorizontalDataRegions()*this.matrixWidth},t.prototype.getSymbolDataHeight=function(){return this.getVerticalDataRegions()*this.matrixHeight},t.prototype.getSymbolWidth=function(){return this.getSymbolDataWidth()+this.getHorizontalDataRegions()*2},t.prototype.getSymbolHeight=function(){return this.getSymbolDataHeight()+this.getVerticalDataRegions()*2},t.prototype.getCodewordCount=function(){return this.dataCapacity+this.errorCodewords},t.prototype.getInterleavedBlockCount=function(){return this.rsBlockData?this.dataCapacity/this.rsBlockData:1},t.prototype.getDataCapacity=function(){return this.dataCapacity},t.prototype.getErrorCodewords=function(){return this.errorCodewords},t.prototype.getDataLengthForInterleavedBlock=function(e){return this.rsBlockData},t.prototype.getErrorLengthForInterleavedBlock=function(e){return this.rsBlockError},t}(),ok=function(t){sk(e,t);function e(){return t.call(this,!1,1558,620,22,22,36,-1,62)||this}return e.prototype.getInterleavedBlockCount=function(){return 10},e.prototype.getDataLengthForInterleavedBlock=function(r){return r<=8?156:155},e}(yt),lk=[new yt(!1,3,5,8,8,1),new yt(!1,5,7,10,10,1),new yt(!0,5,7,16,6,1),new yt(!1,8,10,12,12,1),new yt(!0,10,11,14,6,2),new yt(!1,12,12,14,14,1),new yt(!0,16,14,24,10,1),new yt(!1,18,14,16,16,1),new yt(!1,22,18,18,18,1),new yt(!0,22,18,16,10,2),new yt(!1,30,20,20,20,1),new yt(!0,32,24,16,14,2),new yt(!1,36,24,22,22,1),new yt(!1,44,28,24,24,1),new yt(!0,49,28,22,14,2),new yt(!1,62,36,14,14,4),new yt(!1,86,42,16,16,4),new yt(!1,114,48,18,18,4),new yt(!1,144,56,20,20,4),new yt(!1,174,68,22,22,4),new yt(!1,204,84,24,24,4,102,42),new yt(!1,280,112,14,14,16,140,56),new yt(!1,368,144,16,16,16,92,36),new yt(!1,456,192,18,18,16,114,48),new yt(!1,576,224,20,20,16,144,56),new yt(!1,696,272,22,22,16,174,68),new yt(!1,816,336,24,24,16,136,56),new yt(!1,1050,408,18,18,36,175,68),new yt(!1,1304,496,20,20,36,163,62),new ok],ck=function(){function t(e){this.msg=e,this.pos=0,this.skipAtEnd=0;for(var r=e.split("").map(function(u){return u.charCodeAt(0)}),n=new Qe,i=0,s=r.length;i<s;i++){var o=String.fromCharCode(r[i]&255);if(o==="?"&&e.charAt(i)!=="?")throw new Error("Message contains characters outside ISO-8859-1 encoding.");n.append(o)}this.msg=n.toString(),this.shape=0,this.codewords=new Qe,this.newEncoding=-1}return t.prototype.setSymbolShape=function(e){this.shape=e},t.prototype.setSizeConstraints=function(e,r){this.minSize=e,this.maxSize=r},t.prototype.getMessage=function(){return this.msg},t.prototype.setSkipAtEnd=function(e){this.skipAtEnd=e},t.prototype.getCurrentChar=function(){return this.msg.charCodeAt(this.pos)},t.prototype.getCurrent=function(){return this.msg.charCodeAt(this.pos)},t.prototype.getCodewords=function(){return this.codewords},t.prototype.writeCodewords=function(e){this.codewords.append(e)},t.prototype.writeCodeword=function(e){this.codewords.append(e)},t.prototype.getCodewordCount=function(){return this.codewords.length()},t.prototype.getNewEncoding=function(){return this.newEncoding},t.prototype.signalEncoderChange=function(e){this.newEncoding=e},t.prototype.resetEncoderSignal=function(){this.newEncoding=-1},t.prototype.hasMoreCharacters=function(){return this.pos<this.getTotalMessageCharCount()},t.prototype.getTotalMessageCharCount=function(){return this.msg.length-this.skipAtEnd},t.prototype.getRemainingCharacters=function(){return this.getTotalMessageCharCount()-this.pos},t.prototype.getSymbolInfo=function(){return this.symbolInfo},t.prototype.updateSymbolInfo=function(e){e===void 0&&(e=this.getCodewordCount()),(this.symbolInfo==null||e>this.symbolInfo.getDataCapacity())&&(this.symbolInfo=yt.lookup(e,this.shape,this.minSize,this.maxSize,!0))},t.prototype.resetSymbolInfo=function(){this.symbolInfo=null},t}(),uk=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var s in i)i.hasOwnProperty(s)&&(n[s]=i[s])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),dk=function(t){uk(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.getEncodingMode=function(){return vr},e.prototype.encode=function(r){for(var n=new Qe;r.hasMoreCharacters();){var i=r.getCurrentChar();r.pos++,this.encodeChar(i,n);var s=n.length();if(s%3===0){this.writeNextTriplet(r,n);var o=Ti.lookAheadTest(r.getMessage(),r.pos,this.getEncodingMode());if(o!==this.getEncodingMode()){r.signalEncoderChange(bt);break}}}this.handleEOD(r,n)},e.prototype.encodeChar=function(r,n){switch(r){case 13:n.append(0);break;case 42:n.append(1);break;case 62:n.append(2);break;case 32:n.append(3);break;default:r>=48&&r<=57?n.append(r-48+4):r>=65&&r<=90?n.append(r-65+14):Ti.illegalCharacter(lt.getCharAt(r));break}return 1},e.prototype.handleEOD=function(r,n){r.updateSymbolInfo();var i=r.getSymbolInfo().getDataCapacity()-r.getCodewordCount(),s=n.length();r.pos-=s,(r.getRemainingCharacters()>1||i>1||r.getRemainingCharacters()!==i)&&r.writeCodeword(tk),r.getNewEncoding()<0&&r.signalEncoderChange(bt)},e}(Wg),fk=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var s in i)i.hasOwnProperty(s)&&(n[s]=i[s])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),hk=function(t){fk(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.getEncodingMode=function(){return un},e.prototype.encodeChar=function(r,n){if(r===32)return n.append(3),1;if(r>=48&&r<=57)return n.append(r-48+4),1;if(r>=97&&r<=122)return n.append(r-97+14),1;if(r<32)return n.append(0),n.append(r),2;if(r<=47)return n.append(1),n.append(r-33),2;if(r<=64)return n.append(1),n.append(r-58+15),2;if(r>=91&&r<=95)return n.append(1),n.append(r-91+22),2;if(r===96)return n.append(2),n.append(0),2;if(r<=90)return n.append(2),n.append(r-65+1),2;if(r<=127)return n.append(2),n.append(r-123+27),2;n.append("1");var i=2;return i+=this.encodeChar(r-128,n),i},e}(Wg),Ti=function(){function t(){}return t.randomize253State=function(e){var r=149*e%253+1,n=xy+r;return n<=254?n:n-254},t.encodeHighLevel=function(e,r,n,i,s){r===void 0&&(r=0),n===void 0&&(n=null),i===void 0&&(i=null),s===void 0&&(s=!1);var o=new Wg,u=[new rk,o,new hk,new dk,new ik,new nk],f=new ck(e);f.setSymbolShape(r),f.setSizeConstraints(n,i),e.startsWith(gy)&&e.endsWith(vy)?(f.writeCodeword(ZM),f.setSkipAtEnd(2),f.pos+=gy.length):e.startsWith(my)&&e.endsWith(vy)&&(f.writeCodeword(qM),f.setSkipAtEnd(2),f.pos+=my.length);var h=bt;for(s&&(o.encodeMaximal(f),h=f.getNewEncoding(),f.resetEncoderSignal());f.hasMoreCharacters();)u[h].encode(f),f.getNewEncoding()>=0&&(h=f.getNewEncoding(),f.resetEncoderSignal());var m=f.getCodewordCount();f.updateSymbolInfo();var v=f.getSymbolInfo().getDataCapacity();m<v&&h!==bt&&h!==Qr&&h!==Tr&&f.writeCodeword("");var w=f.getCodewords();for(w.length()<v&&w.append(xy);w.length()<v;)w.append(this.randomize253State(w.length()+1));return f.getCodewords().toString()},t.lookAheadTest=function(e,r,n){var i=this.lookAheadTestIntern(e,r,n);if(n===vr&&i===vr){for(var s=Math.min(r+3,e.length),o=r;o<s;o++)if(!this.isNativeX12(e.charCodeAt(o)))return bt}else if(n===Tr&&i===Tr){for(var s=Math.min(r+4,e.length),o=r;o<s;o++)if(!this.isNativeEDIFACT(e.charCodeAt(o)))return bt}return i},t.lookAheadTestIntern=function(e,r,n){if(r>=e.length)return n;var i;n===bt?i=[0,1,1,1,1,1.25]:(i=[1,2,2,2,2,2.25],i[n]=0);for(var s=0,o=new Uint8Array(6),u=[];;){if(r+s===e.length){Ar.fill(o,0),Ar.fill(u,0);var f=this.findMinimums(i,u,et.MAX_VALUE,o),h=this.getMinimumCount(o);if(u[bt]===f)return bt;if(h===1){if(o[Qr]>0)return Qr;if(o[Tr]>0)return Tr;if(o[un]>0)return un;if(o[vr]>0)return vr}return Fr}var m=e.charCodeAt(r+s);if(s++,this.isDigit(m)?i[bt]+=.5:this.isExtendedASCII(m)?(i[bt]=Math.ceil(i[bt]),i[bt]+=2):(i[bt]=Math.ceil(i[bt]),i[bt]++),this.isNativeC40(m)?i[Fr]+=2/3:this.isExtendedASCII(m)?i[Fr]+=8/3:i[Fr]+=4/3,this.isNativeText(m)?i[un]+=2/3:this.isExtendedASCII(m)?i[un]+=8/3:i[un]+=4/3,this.isNativeX12(m)?i[vr]+=2/3:this.isExtendedASCII(m)?i[vr]+=13/3:i[vr]+=10/3,this.isNativeEDIFACT(m)?i[Tr]+=3/4:this.isExtendedASCII(m)?i[Tr]+=17/4:i[Tr]+=13/4,this.isSpecialB256(m)?i[Qr]+=4:i[Qr]++,s>=4){if(Ar.fill(o,0),Ar.fill(u,0),this.findMinimums(i,u,et.MAX_VALUE,o),u[bt]<this.min(u[Qr],u[Fr],u[un],u[vr],u[Tr]))return bt;if(u[Qr]<u[bt]||u[Qr]+1<this.min(u[Fr],u[un],u[vr],u[Tr]))return Qr;if(u[Tr]+1<this.min(u[Qr],u[Fr],u[un],u[vr],u[bt]))return Tr;if(u[un]+1<this.min(u[Qr],u[Fr],u[Tr],u[vr],u[bt]))return un;if(u[vr]+1<this.min(u[Qr],u[Fr],u[Tr],u[un],u[bt]))return vr;if(u[Fr]+1<this.min(u[bt],u[Qr],u[Tr],u[un])){if(u[Fr]<u[vr])return Fr;if(u[Fr]===u[vr]){for(var v=r+s+1;v<e.length;){var w=e.charCodeAt(v);if(this.isX12TermSep(w))return vr;if(!this.isNativeX12(w))break;v++}return Fr}}}}},t.min=function(e,r,n,i,s){var o=Math.min(e,Math.min(r,Math.min(n,i)));return s===void 0?o:Math.min(o,s)},t.findMinimums=function(e,r,n,i){for(var s=0;s<6;s++){var o=r[s]=Math.ceil(e[s]);n>o&&(n=o,Ar.fill(i,0)),n===o&&(i[s]=i[s]+1)}return n},t.getMinimumCount=function(e){for(var r=0,n=0;n<6;n++)r+=e[n];return r||0},t.isDigit=function(e){return e>=48&&e<=57},t.isExtendedASCII=function(e){return e>=128&&e<=255},t.isNativeC40=function(e){return e===32||e>=48&&e<=57||e>=65&&e<=90},t.isNativeText=function(e){return e===32||e>=48&&e<=57||e>=97&&e<=122},t.isNativeX12=function(e){return this.isX12TermSep(e)||e===32||e>=48&&e<=57||e>=65&&e<=90},t.isX12TermSep=function(e){return e===13||e===42||e===62},t.isNativeEDIFACT=function(e){return e>=32&&e<=94},t.isSpecialB256=function(e){return!1},t.determineConsecutiveDigitCount=function(e,r){r===void 0&&(r=0);for(var n=e.length,i=r;i<n&&this.isDigit(e.charCodeAt(i));)i++;return i-r},t.illegalCharacter=function(e){var r=et.toHexString(e.charCodeAt(0));throw r="0000".substring(0,4-r.length)+r,new Error("Illegal character: "+e+" (0x"+r+")")},t}(),G1=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},yy=function(){function t(e){this.charset=e,this.name=e.name}return t.prototype.canEncode=function(e){try{return ui.encode(e,this.charset)!=null}catch{return!1}},t}(),pk=function(){function t(e,r,n){var i,s,o,u,f,h;this.ENCODERS=["IBM437","ISO-8859-2","ISO-8859-3","ISO-8859-4","ISO-8859-5","ISO-8859-6","ISO-8859-7","ISO-8859-8","ISO-8859-9","ISO-8859-10","ISO-8859-11","ISO-8859-13","ISO-8859-14","ISO-8859-15","ISO-8859-16","windows-1250","windows-1251","windows-1252","windows-1256","Shift_JIS"].map(function(U){return new yy(GM.forName(U))}),this.encoders=[];var m=[];m.push(new yy(WM.ISO_8859_1));for(var v=r!=null&&r.name.startsWith("UTF"),w=0;w<e.length;w++){var C=!1;try{for(var N=(i=void 0,G1(m)),b=N.next();!b.done;b=N.next()){var R=b.value,_=e.charAt(w),S=_.charCodeAt(0);if(S===n||R.canEncode(_)){C=!0;break}}}catch(U){i={error:U}}finally{try{b&&!b.done&&(s=N.return)&&s.call(N)}finally{if(i)throw i.error}}if(!C)try{for(var T=(o=void 0,G1(this.ENCODERS)),P=T.next();!P.done;P=T.next()){var R=P.value;if(R.canEncode(e.charAt(w))){m.push(R),C=!0;break}}}catch(U){o={error:U}}finally{try{P&&!P.done&&(u=T.return)&&u.call(T)}finally{if(o)throw o.error}}C||(v=!0)}if(m.length===1&&!v)this.encoders=[m[0]];else{this.encoders=[];var B=0;try{for(var k=G1(m),M=k.next();!M.done;M=k.next()){var R=M.value;this.encoders[B++]=R}}catch(U){f={error:U}}finally{try{M&&!M.done&&(h=k.return)&&h.call(k)}finally{if(f)throw f.error}}}var F=-1;if(r!=null){for(var w=0;w<this.encoders.length;w++)if(this.encoders[w]!=null&&r.name===this.encoders[w].name){F=w;break}}this.priorityEncoderIndex=F}return t.prototype.length=function(){return this.encoders.length},t.prototype.getCharsetName=function(e){if(!(e<this.length()))throw new Error("index must be less than length");return this.encoders[e].name},t.prototype.getCharset=function(e){if(!(e<this.length()))throw new Error("index must be less than length");return this.encoders[e].charset},t.prototype.getECIValue=function(e){return this.encoders[e].charset.getValueIdentifier()},t.prototype.getPriorityEncoderIndex=function(){return this.priorityEncoderIndex},t.prototype.canEncode=function(e,r){if(!(r<this.length()))throw new Error("index must be less than length");return!0},t.prototype.encode=function(e,r){if(!(r<this.length()))throw new Error("index must be less than length");return ui.encode(lt.getCharAt(e),this.encoders[r].name)},t}(),xk=3,gk=function(){function t(e,r,n){this.fnc1=n;var i=new pk(e,r,n);if(i.length()===1)for(var s=0;s<this.bytes.length;s++){var o=e.charAt(s).charCodeAt(0);this.bytes[s]=o===n?1e3:o}else this.bytes=this.encodeMinimally(e,i,n)}return t.prototype.getFNC1Character=function(){return this.fnc1},t.prototype.length=function(){return this.bytes.length},t.prototype.haveNCharacters=function(e,r){if(e+r-1>=this.bytes.length)return!1;for(var n=0;n<r;n++)if(this.isECI(e+n))return!1;return!0},t.prototype.charAt=function(e){if(e<0||e>=this.length())throw new Error(""+e);if(this.isECI(e))throw new Error("value at "+e+" is not a character but an ECI");return this.isFNC1(e)?this.fnc1:this.bytes[e]},t.prototype.subSequence=function(e,r){if(e<0||e>r||r>this.length())throw new Error(""+e);for(var n=new Qe,i=e;i<r;i++){if(this.isECI(i))throw new Error("value at "+i+" is not a character but an ECI");n.append(this.charAt(i))}return n.toString()},t.prototype.isECI=function(e){if(e<0||e>=this.length())throw new Error(""+e);return this.bytes[e]>255&&this.bytes[e]<=999},t.prototype.isFNC1=function(e){if(e<0||e>=this.length())throw new Error(""+e);return this.bytes[e]===1e3},t.prototype.getECIValue=function(e){if(e<0||e>=this.length())throw new Error(""+e);if(!this.isECI(e))throw new Error("value at "+e+" is not an ECI but a character");return this.bytes[e]-256},t.prototype.addEdge=function(e,r,n){(e[r][n.encoderIndex]==null||e[r][n.encoderIndex].cachedTotalSize>n.cachedTotalSize)&&(e[r][n.encoderIndex]=n)},t.prototype.addEdges=function(e,r,n,i,s,o){var u=e.charAt(i).charCodeAt(0),f=0,h=r.length();r.getPriorityEncoderIndex()>=0&&(u===o||r.canEncode(u,r.getPriorityEncoderIndex()))&&(f=r.getPriorityEncoderIndex(),h=f+1);for(var m=f;m<h;m++)(u===o||r.canEncode(u,m))&&this.addEdge(n,i+1,new wy(u,r,m,s,o))},t.prototype.encodeMinimally=function(e,r,n){var i=e.length,s=new wy[i+1][r.length()];this.addEdges(e,r,s,0,null,n);for(var o=1;o<=i;o++){for(var u=0;u<r.length();u++)s[o][u]!=null&&o<i&&this.addEdges(e,r,s,o,s[o][u],n);for(var u=0;u<r.length();u++)s[o-1][u]=null}for(var f=-1,h=et.MAX_VALUE,u=0;u<r.length();u++)if(s[i][u]!=null){var m=s[i][u];m.cachedTotalSize<h&&(h=m.cachedTotalSize,f=u)}if(f<0)throw new Error('Failed to encode "'+e+'"');for(var v=[],w=s[i][f];w!=null;){if(w.isFNC1())v.unshift(1e3);else for(var C=r.encode(w.c,w.encoderIndex),o=C.length-1;o>=0;o--)v.unshift(C[o]&255);var N=w.previous===null?0:w.previous.encoderIndex;N!==w.encoderIndex&&v.unshift(256+r.getECIValue(w.encoderIndex)),w=w.previous}for(var b=[],o=0;o<b.length;o++)b[o]=v[o];return b},t}(),wy=function(){function t(e,r,n,i,s){this.c=e,this.encoderSet=r,this.encoderIndex=n,this.previous=i,this.fnc1=s,this.c=e===s?1e3:e;var o=this.isFNC1()?1:r.encode(e,n).length,u=i===null?0:i.encoderIndex;u!==n&&(o+=xk),i!=null&&(o+=i.cachedTotalSize),this.cachedTotalSize=o}return t.prototype.isFNC1=function(){return this.c===1e3},t}(),mk=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var s in i)i.hasOwnProperty(s)&&(n[s]=i[s])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}();var Cy;(function(t){t[t.ASCII=0]="ASCII",t[t.C40=1]="C40",t[t.TEXT=2]="TEXT",t[t.X12=3]="X12",t[t.EDF=4]="EDF",t[t.B256=5]="B256"})(Cy||(Cy={}));(function(t){mk(e,t);function e(r,n,i,s,o){var u=t.call(this,r,n,i)||this;return u.shape=s,u.macroId=o,u}return e.prototype.getMacroId=function(){return this.macroId},e.prototype.getShapeHint=function(){return this.shape},e})(gk);var vk=function(){function t(){}return t.prototype.isCompact=function(){return this.compact},t.prototype.setCompact=function(e){this.compact=e},t.prototype.getSize=function(){return this.size},t.prototype.setSize=function(e){this.size=e},t.prototype.getLayers=function(){return this.layers},t.prototype.setLayers=function(e){this.layers=e},t.prototype.getCodeWords=function(){return this.codeWords},t.prototype.setCodeWords=function(e){this.codeWords=e},t.prototype.getMatrix=function(){return this.matrix},t.prototype.setMatrix=function(e){this.matrix=e},t}(),Ey=function(){function t(){}return t.singletonList=function(e){return[e]},t.min=function(e,r){return e.sort(r)[0]},t}(),yk=function(){function t(e){this.previous=e}return t.prototype.getPrevious=function(){return this.previous},t}(),wk=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var s in i)i.hasOwnProperty(s)&&(n[s]=i[s])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),Xg=function(t){wk(e,t);function e(r,n,i){var s=t.call(this,r)||this;return s.value=n,s.bitCount=i,s}return e.prototype.appendTo=function(r,n){r.appendBits(this.value,this.bitCount)},e.prototype.add=function(r,n){return new e(this,r,n)},e.prototype.addBinaryShift=function(r,n){return console.warn("addBinaryShift on SimpleToken, this simply returns a copy of this token"),new e(this,r,n)},e.prototype.toString=function(){var r=this.value&(1<<this.bitCount)-1;return r|=1<<this.bitCount,"<"+et.toBinaryString(r|1<<this.bitCount).substring(1)+">"},e}(yk),Ck=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var s in i)i.hasOwnProperty(s)&&(n[s]=i[s])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),Ek=function(t){Ck(e,t);function e(r,n,i){var s=t.call(this,r,0,0)||this;return s.binaryShiftStart=n,s.binaryShiftByteCount=i,s}return e.prototype.appendTo=function(r,n){for(var i=0;i<this.binaryShiftByteCount;i++)(i===0||i===31&&this.binaryShiftByteCount<=62)&&(r.appendBits(31,5),this.binaryShiftByteCount>62?r.appendBits(this.binaryShiftByteCount-31,16):i===0?r.appendBits(Math.min(this.binaryShiftByteCount,31),5):r.appendBits(this.binaryShiftByteCount-31,5)),r.appendBits(n[this.binaryShiftStart+i],8)},e.prototype.addBinaryShift=function(r,n){return new e(this,r,n)},e.prototype.toString=function(){return"<"+this.binaryShiftStart+"::"+(this.binaryShiftStart+this.binaryShiftByteCount-1)+">"},e}(Xg);function Ak(t,e,r){return new Ek(t,e,r)}function yc(t,e,r){return new Xg(t,e,r)}var bk=["UPPER","LOWER","DIGIT","MIXED","PUNCT"],Ca=0,jf=1,oi=2,vb=3,es=4,Sk=new Xg(null,0,0),W1=[Int32Array.from([0,(5<<16)+28,(5<<16)+30,(5<<16)+29,656318]),Int32Array.from([(9<<16)+480+14,0,(5<<16)+30,(5<<16)+29,656318]),Int32Array.from([(4<<16)+14,(9<<16)+448+28,0,(9<<16)+448+29,932798]),Int32Array.from([(5<<16)+29,(5<<16)+28,656318,0,(5<<16)+30]),Int32Array.from([(5<<16)+31,656380,656382,656381,0])],Nk=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")};function _k(t){var e,r;try{for(var n=Nk(t),i=n.next();!i.done;i=n.next()){var s=i.value;Ar.fill(s,-1)}}catch(o){e={error:o}}finally{try{i&&!i.done&&(r=n.return)&&r.call(n)}finally{if(e)throw e.error}}return t[Ca][es]=0,t[jf][es]=0,t[jf][Ca]=28,t[vb][es]=0,t[oi][es]=0,t[oi][Ca]=15,t}var yb=_k(Ar.createInt32Array(6,6)),Ik=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},Tk=function(){function t(e,r,n,i){this.token=e,this.mode=r,this.binaryShiftByteCount=n,this.bitCount=i}return t.prototype.getMode=function(){return this.mode},t.prototype.getToken=function(){return this.token},t.prototype.getBinaryShiftByteCount=function(){return this.binaryShiftByteCount},t.prototype.getBitCount=function(){return this.bitCount},t.prototype.latchAndAppend=function(e,r){var n=this.bitCount,i=this.token;if(e!==this.mode){var s=W1[this.mode][e];i=yc(i,s&65535,s>>16),n+=s>>16}var o=e===oi?4:5;return i=yc(i,r,o),new t(i,e,0,n+o)},t.prototype.shiftAndAppend=function(e,r){var n=this.token,i=this.mode===oi?4:5;return n=yc(n,yb[this.mode][e],i),n=yc(n,r,5),new t(n,this.mode,0,this.bitCount+i+5)},t.prototype.addBinaryShiftChar=function(e){var r=this.token,n=this.mode,i=this.bitCount;if(this.mode===es||this.mode===oi){var s=W1[n][Ca];r=yc(r,s&65535,s>>16),i+=s>>16,n=Ca}var o=this.binaryShiftByteCount===0||this.binaryShiftByteCount===31?18:this.binaryShiftByteCount===62?9:8,u=new t(r,n,this.binaryShiftByteCount+1,i+o);return u.binaryShiftByteCount===2078&&(u=u.endBinaryShift(e+1)),u},t.prototype.endBinaryShift=function(e){if(this.binaryShiftByteCount===0)return this;var r=this.token;return r=Ak(r,e-this.binaryShiftByteCount,this.binaryShiftByteCount),new t(r,this.mode,0,this.bitCount)},t.prototype.isBetterThanOrEqualTo=function(e){var r=this.bitCount+(W1[this.mode][e.mode]>>16);return this.binaryShiftByteCount<e.binaryShiftByteCount?r+=t.calculateBinaryShiftCost(e)-t.calculateBinaryShiftCost(this):this.binaryShiftByteCount>e.binaryShiftByteCount&&e.binaryShiftByteCount>0&&(r+=10),r<=e.bitCount},t.prototype.toBitArray=function(e){for(var r,n,i=[],s=this.endBinaryShift(e.length).token;s!==null;s=s.getPrevious())i.unshift(s);var o=new Pr;try{for(var u=Ik(i),f=u.next();!f.done;f=u.next()){var h=f.value;h.appendTo(o,e)}}catch(m){r={error:m}}finally{try{f&&!f.done&&(n=u.return)&&n.call(u)}finally{if(r)throw r.error}}return o},t.prototype.toString=function(){return lt.format("%s bits=%d bytes=%d",bk[this.mode],this.bitCount,this.binaryShiftByteCount)},t.calculateBinaryShiftCost=function(e){return e.binaryShiftByteCount>62?21:e.binaryShiftByteCount>31?20:e.binaryShiftByteCount>0?10:0},t.INITIAL_STATE=new t(Sk,Ca,0,0),t}();function Rk(t){var e=lt.getCharCode(" "),r=lt.getCharCode("."),n=lt.getCharCode(",");t[Ca][e]=1;for(var i=lt.getCharCode("Z"),s=lt.getCharCode("A"),o=s;o<=i;o++)t[Ca][o]=o-s+2;t[jf][e]=1;for(var u=lt.getCharCode("z"),f=lt.getCharCode("a"),o=f;o<=u;o++)t[jf][o]=o-f+2;t[oi][e]=1;for(var h=lt.getCharCode("9"),m=lt.getCharCode("0"),o=m;o<=h;o++)t[oi][o]=o-m+2;t[oi][n]=12,t[oi][r]=13;for(var v=["\0"," ","","","","","","","\x07","\b","	",`
`,"\v","\f","\r","\x1B","","","","","@","\\","^","_","`","|","~",""],w=0;w<v.length;w++)t[vb][lt.getCharCode(v[w])]=w;for(var C=["\0","\r","\0","\0","\0","\0","!","'","#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","[","]","{","}"],w=0;w<C.length;w++)lt.getCharCode(C[w])>0&&(t[es][lt.getCharCode(C[w])]=w);return t}var X1=Rk(Ar.createInt32Array(5,256)),yd=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},Ok=function(){function t(e){this.text=e}return t.prototype.encode=function(){for(var e=lt.getCharCode(" "),r=lt.getCharCode(`
`),n=Ey.singletonList(Tk.INITIAL_STATE),i=0;i<this.text.length;i++){var s=void 0,o=i+1<this.text.length?this.text[i+1]:0;switch(this.text[i]){case lt.getCharCode("\r"):s=o===r?2:0;break;case lt.getCharCode("."):s=o===e?3:0;break;case lt.getCharCode(","):s=o===e?4:0;break;case lt.getCharCode(":"):s=o===e?5:0;break;default:s=0}s>0?(n=t.updateStateListForPair(n,i,s),i++):n=this.updateStateListForChar(n,i)}var u=Ey.min(n,function(f,h){return f.getBitCount()-h.getBitCount()});return u.toBitArray(this.text)},t.prototype.updateStateListForChar=function(e,r){var n,i,s=[];try{for(var o=yd(e),u=o.next();!u.done;u=o.next()){var f=u.value;this.updateStateForChar(f,r,s)}}catch(h){n={error:h}}finally{try{u&&!u.done&&(i=o.return)&&i.call(o)}finally{if(n)throw n.error}}return t.simplifyStates(s)},t.prototype.updateStateForChar=function(e,r,n){for(var i=this.text[r]&255,s=X1[e.getMode()][i]>0,o=null,u=0;u<=es;u++){var f=X1[u][i];if(f>0){if(o==null&&(o=e.endBinaryShift(r)),!s||u===e.getMode()||u===oi){var h=o.latchAndAppend(u,f);n.push(h)}if(!s&&yb[e.getMode()][u]>=0){var m=o.shiftAndAppend(u,f);n.push(m)}}}if(e.getBinaryShiftByteCount()>0||X1[e.getMode()][i]===0){var v=e.addBinaryShiftChar(r);n.push(v)}},t.updateStateListForPair=function(e,r,n){var i,s,o=[];try{for(var u=yd(e),f=u.next();!f.done;f=u.next()){var h=f.value;this.updateStateForPair(h,r,n,o)}}catch(m){i={error:m}}finally{try{f&&!f.done&&(s=u.return)&&s.call(u)}finally{if(i)throw i.error}}return this.simplifyStates(o)},t.updateStateForPair=function(e,r,n,i){var s=e.endBinaryShift(r);if(i.push(s.latchAndAppend(es,n)),e.getMode()!==es&&i.push(s.shiftAndAppend(es,n)),n===3||n===4){var o=s.latchAndAppend(oi,16-n).latchAndAppend(oi,1);i.push(o)}if(e.getBinaryShiftByteCount()>0){var u=e.addBinaryShiftChar(r).addBinaryShiftChar(r+1);i.push(u)}},t.simplifyStates=function(e){var r,n,i,s,o=[];try{for(var u=yd(e),f=u.next();!f.done;f=u.next()){var h=f.value,m=!0,v=function(R){if(R.isBetterThanOrEqualTo(h))return m=!1,"break";h.isBetterThanOrEqualTo(R)&&(o=o.filter(function(_){return _!==R}))};try{for(var w=(i=void 0,yd(o)),C=w.next();!C.done;C=w.next()){var N=C.value,b=v(N);if(b==="break")break}}catch(R){i={error:R}}finally{try{C&&!C.done&&(s=w.return)&&s.call(w)}finally{if(i)throw i.error}}m&&o.push(h)}}catch(R){r={error:R}}finally{try{f&&!f.done&&(n=u.return)&&n.call(u)}finally{if(r)throw r.error}}return o},t}(),Pk=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")};(function(){function t(){}return t.encodeBytes=function(e){return t.encode(e,t.DEFAULT_EC_PERCENT,t.DEFAULT_AZTEC_LAYERS)},t.encode=function(e,r,n){var i=new Ok(e).encode(),s=et.truncDivision(i.getSize()*r,100)+11,o=i.getSize()+s,u,f,h,m,v;if(n!==t.DEFAULT_AZTEC_LAYERS){if(u=n<0,f=Math.abs(n),f>(u?t.MAX_NB_BITS_COMPACT:t.MAX_NB_BITS))throw new Be(lt.format("Illegal value %s for layers",n));h=t.totalBitsInLayer(f,u),m=t.WORD_SIZE[f];var w=h-h%m;if(v=t.stuffBits(i,m),v.getSize()+s>w)throw new Be("Data to large for user specified layer");if(u&&v.getSize()>m*64)throw new Be("Data to large for user specified layer")}else{m=0,v=null;for(var C=0;;C++){if(C>t.MAX_NB_BITS)throw new Be("Data too large for an Aztec code");if(u=C<=3,f=u?C+1:C,h=t.totalBitsInLayer(f,u),!(o>h)){(v==null||m!==t.WORD_SIZE[f])&&(m=t.WORD_SIZE[f],v=t.stuffBits(i,m));var w=h-h%m;if(!(u&&v.getSize()>m*64)&&v.getSize()+s<=w)break}}}var N=t.generateCheckWords(v,h,m),b=v.getSize()/m,R=t.generateModeMessage(u,f,b),_=(u?11:14)+f*4,S=new Int32Array(_),T;if(u){T=_;for(var C=0;C<S.length;C++)S[C]=C}else{T=_+1+2*et.truncDivision(et.truncDivision(_,2)-1,15);for(var P=et.truncDivision(_,2),B=et.truncDivision(T,2),C=0;C<P;C++){var k=C+et.truncDivision(C,15);S[P-C-1]=B-k-1,S[P+C]=B+k+1}}for(var M=new ls(T),C=0,F=0;C<f;C++){for(var U=(f-C)*4+(u?9:12),X=0;X<U;X++)for(var ee=X*2,Z=0;Z<2;Z++)N.get(F+ee+Z)&&M.set(S[C*2+Z],S[C*2+X]),N.get(F+U*2+ee+Z)&&M.set(S[C*2+X],S[_-1-C*2-Z]),N.get(F+U*4+ee+Z)&&M.set(S[_-1-C*2-Z],S[_-1-C*2-X]),N.get(F+U*6+ee+Z)&&M.set(S[_-1-C*2-X],S[C*2+Z]);F+=U*8}if(t.drawModeMessage(M,u,T,R),u)t.drawBullsEye(M,et.truncDivision(T,2),5);else{t.drawBullsEye(M,et.truncDivision(T,2),7);for(var C=0,X=0;C<et.truncDivision(_,2)-1;C+=15,X+=16)for(var Z=et.truncDivision(T,2)&1;Z<T;Z+=2)M.set(et.truncDivision(T,2)-X,Z),M.set(et.truncDivision(T,2)+X,Z),M.set(Z,et.truncDivision(T,2)-X),M.set(Z,et.truncDivision(T,2)+X)}var ae=new vk;return ae.setCompact(u),ae.setSize(T),ae.setLayers(f),ae.setCodeWords(b),ae.setMatrix(M),ae},t.drawBullsEye=function(e,r,n){for(var i=0;i<n;i+=2)for(var s=r-i;s<=r+i;s++)e.set(s,r-i),e.set(s,r+i),e.set(r-i,s),e.set(r+i,s);e.set(r-n,r-n),e.set(r-n+1,r-n),e.set(r-n,r-n+1),e.set(r+n,r-n),e.set(r+n,r-n+1),e.set(r+n,r+n-1)},t.generateModeMessage=function(e,r,n){var i=new Pr;return e?(i.appendBits(r-1,2),i.appendBits(n-1,6),i=t.generateCheckWords(i,28,4)):(i.appendBits(r-1,5),i.appendBits(n-1,11),i=t.generateCheckWords(i,40,4)),i},t.drawModeMessage=function(e,r,n,i){var s=et.truncDivision(n,2);if(r)for(var o=0;o<7;o++){var u=s-3+o;i.get(o)&&e.set(u,s-5),i.get(o+7)&&e.set(s+5,u),i.get(20-o)&&e.set(u,s+5),i.get(27-o)&&e.set(s-5,u)}else for(var o=0;o<10;o++){var u=s-5+o+et.truncDivision(o,5);i.get(o)&&e.set(u,s-7),i.get(o+10)&&e.set(s+7,u),i.get(29-o)&&e.set(u,s+7),i.get(39-o)&&e.set(s-7,u)}},t.generateCheckWords=function(e,r,n){var i,s,o=e.getSize()/n,u=new gb(t.getGF(n)),f=et.truncDivision(r,n),h=t.bitsToWords(e,n,f);u.encode(h,f-o);var m=r%n,v=new Pr;v.appendBits(0,m);try{for(var w=Pk(Array.from(h)),C=w.next();!C.done;C=w.next()){var N=C.value;v.appendBits(N,n)}}catch(b){i={error:b}}finally{try{C&&!C.done&&(s=w.return)&&s.call(w)}finally{if(i)throw i.error}}return v},t.bitsToWords=function(e,r,n){var i=new Int32Array(n),s,o;for(s=0,o=e.getSize()/r;s<o;s++){for(var u=0,f=0;f<r;f++)u|=e.get(s*r+f)?1<<r-f-1:0;i[s]=u}return i},t.getGF=function(e){switch(e){case 4:return Tn.AZTEC_PARAM;case 6:return Tn.AZTEC_DATA_6;case 8:return Tn.AZTEC_DATA_8;case 10:return Tn.AZTEC_DATA_10;case 12:return Tn.AZTEC_DATA_12;default:throw new Be("Unsupported word size "+e)}},t.stuffBits=function(e,r){for(var n=new Pr,i=e.getSize(),s=(1<<r)-2,o=0;o<i;o+=r){for(var u=0,f=0;f<r;f++)(o+f>=i||e.get(o+f))&&(u|=1<<r-1-f);(u&s)===s?(n.appendBits(u&s,r),o--):u&s?n.appendBits(u,r):(n.appendBits(u|1,r),o--)}return n},t.totalBitsInLayer=function(e,r){return((r?88:112)+16*e)*e},t.DEFAULT_EC_PERCENT=33,t.DEFAULT_AZTEC_LAYERS=0,t.MAX_NB_BITS=32,t.MAX_NB_BITS_COMPACT=4,t.WORD_SIZE=Int32Array.from([4,6,6,8,8,8,8,8,8,10,10,10,10,10,10,10,10,10,10,10,10,10,10,12,12,12,12,12,12,12,12,12,12]),t})();function Dk({onScanSuccess:t,onClose:e,showProductLookup:r=!0}){const[n,i]=I.useState(!1),[s,o]=I.useState(null),[u,f]=I.useState(null),[h,m]=I.useState(!1),[v,w]=I.useState(null),C=I.useRef(null),N=I.useRef(null),b=I.useRef(null),{toast:R}=nn(),_=I.useCallback(async()=>{try{return(await navigator.mediaDevices.getUserMedia({video:{facingMode:"environment",width:{ideal:1280},height:{ideal:720}}})).getTracks().forEach(k=>k.stop()),o(!0),w(null),!0}catch(B){return console.error("Camera permission denied:",B),o(!1),B.name==="NotAllowedError"?w("Camera permission denied. Please enable camera access in your browser settings."):B.name==="NotFoundError"?w("No camera found on this device."):w("Camera access failed. Please try again."),!1}},[]),S=I.useCallback(async()=>{if(C.current){i(!0),w(null);try{N.current=new YP("barcode-scanner");const B={fps:10,qrbox:{width:250,height:150},aspectRatio:1.777778};await N.current.start({facingMode:"environment"},B,(k,M)=>{var U,X;const F=((X=(U=M==null?void 0:M.result)==null?void 0:U.format)==null?void 0:X.formatName)||"Unknown";T(k,F)},k=>{})}catch(B){console.warn("HTML5-QRCode failed, trying ZXing:",B);try{b.current=new jM;const k=document.createElement("video");k.style.width="100%",k.style.height="300px",k.style.objectFit="cover",C.current&&(C.current.appendChild(k),await b.current.decodeFromVideoDevice(null,k,(M,F)=>{var U;if(M){const X=((U=M.getBarcodeFormat())==null?void 0:U.toString())||"Unknown";T(M.getText(),X)}}))}catch(k){console.error("ZXing library also failed:",k),w("Failed to initialize barcode scanner. Please check camera permissions."),i(!1)}}}},[]),T=async(B,k)=>{console.log("Barcode scanned:",B,k);const M={code:B,format:k};if(f(M),P(),r){m(!0);try{const U=await(await hr("POST","/api/barcode-lookup",{code:B})).json();U.product?(M.product=U.product,f(M),R({title:"Product Found!",description:`${U.product.name} ${U.product.brand?"by "+U.product.brand:""}`})):R({title:"Barcode Scanned",description:`Code: ${B} (Product details not found)`})}catch(F){console.error("Product lookup failed:",F),R({title:"Barcode Scanned",description:`Code: ${B} (Product lookup unavailable)`})}m(!1)}t&&t(M)},P=I.useCallback(()=>{i(!1),N.current&&(N.current.stop().catch(console.error),N.current.clear(),N.current=null),b.current&&(b.current.reset(),b.current=null),C.current&&(C.current.innerHTML="")},[]);return I.useEffect(()=>(_(),()=>{P()}),[_,P]),s===null?l.jsxs(oe,{className:"w-full max-w-md mx-auto",children:[l.jsx(ve,{className:"text-center",children:l.jsxs(ye,{className:"flex items-center gap-2 justify-center",children:[l.jsx(E1,{className:"w-5 h-5"}),"Barcode Scanner"]})}),l.jsxs(le,{className:"text-center",children:[l.jsx(ii,{className:"w-8 h-8 animate-spin mx-auto mb-4 text-primary"}),l.jsx("p",{className:"text-muted-foreground",children:"Checking camera permissions..."})]})]}):s===!1?l.jsxs(oe,{className:"w-full max-w-md mx-auto",children:[l.jsx(ve,{className:"text-center",children:l.jsxs(ye,{className:"flex items-center gap-2 justify-center text-destructive",children:[l.jsx(Sa,{className:"w-5 h-5"}),"Camera Access Required"]})}),l.jsxs(le,{className:"text-center space-y-4",children:[l.jsx("p",{className:"text-muted-foreground",children:v}),l.jsxs("div",{className:"space-y-2",children:[l.jsxs(se,{onClick:_,variant:"outline",children:[l.jsx(E1,{className:"w-4 h-4 mr-2"}),"Try Again"]}),e&&l.jsxs(se,{onClick:e,variant:"ghost",className:"w-full",children:[l.jsx(ma,{className:"w-4 h-4 mr-2"}),"Close"]})]})]})]}):u?l.jsxs(oe,{className:"w-full max-w-md mx-auto",children:[l.jsx(ve,{className:"text-center",children:l.jsxs(ye,{className:"flex items-center gap-2 justify-center text-success",children:[l.jsx(JC,{className:"w-5 h-5"}),"Scan Complete"]})}),l.jsxs(le,{className:"space-y-4",children:[l.jsxs("div",{className:"bg-muted p-4 rounded-lg",children:[l.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[l.jsx(A1,{className:"w-4 h-4"}),l.jsxs("span",{className:"font-medium",children:["Barcode: ",u.code]})]}),l.jsx(we,{variant:"secondary",children:u.format})]}),u.product&&l.jsxs("div",{className:"bg-success/10 p-4 rounded-lg border border-success/20",children:[l.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[l.jsx(yf,{className:"w-5 h-5 text-success"}),l.jsx("h3",{className:"font-semibold",children:u.product.name})]}),u.product.brand&&l.jsxs("p",{className:"text-sm text-muted-foreground mb-2",children:["Brand: ",u.product.brand]}),u.product.category&&l.jsx(we,{variant:"outline",className:"mb-3",children:u.product.category}),u.product.nutrition&&l.jsxs("div",{className:"grid grid-cols-2 gap-2 text-sm",children:[l.jsxs("div",{children:["Calories: ",u.product.nutrition.calories||"N/A"]}),l.jsxs("div",{children:["Protein: ",u.product.nutrition.protein||"N/A","g"]}),l.jsxs("div",{children:["Carbs: ",u.product.nutrition.carbs||"N/A","g"]}),l.jsxs("div",{children:["Fat: ",u.product.nutrition.fat||"N/A","g"]})]}),u.product.price_estimate&&l.jsxs("p",{className:"text-sm font-medium text-success mt-2",children:["Est. Price: ",u.product.price_estimate]}),u.product.allergens&&u.product.allergens.length>0&&l.jsxs("div",{className:"mt-3",children:[l.jsx("p",{className:"text-xs font-medium text-destructive mb-1",children:"Allergens:"}),l.jsx("div",{className:"flex flex-wrap gap-1",children:u.product.allergens.map((B,k)=>l.jsx(we,{variant:"destructive",className:"text-xs",children:B},k))})]})]}),l.jsxs("div",{className:"flex gap-2",children:[l.jsxs(se,{onClick:()=>{f(null),S()},variant:"outline",className:"flex-1",children:[l.jsx(A1,{className:"w-4 h-4 mr-2"}),"Scan Another"]}),e&&l.jsx(se,{onClick:e,className:"flex-1",children:"Done"})]})]})]}):l.jsxs(oe,{className:"w-full max-w-md mx-auto",children:[l.jsx(ve,{className:"text-center",children:l.jsxs(ye,{className:"flex items-center gap-2 justify-center",children:[l.jsx(A1,{className:"w-5 h-5"}),"Barcode Scanner"]})}),l.jsxs(le,{className:"space-y-4",children:[n?l.jsxs("div",{className:"space-y-4",children:[l.jsx("div",{ref:C,id:"barcode-scanner",className:"w-full bg-black rounded-lg overflow-hidden",style:{minHeight:"300px"}}),h&&l.jsxs("div",{className:"text-center",children:[l.jsx(ii,{className:"w-5 h-5 animate-spin mx-auto mb-2"}),l.jsx("p",{className:"text-sm text-muted-foreground",children:"Looking up product..."})]}),l.jsxs(se,{onClick:P,variant:"destructive",className:"w-full",children:[l.jsx(ma,{className:"w-4 h-4 mr-2"}),"Stop Scanning"]})]}):l.jsxs("div",{className:"text-center space-y-4",children:[l.jsx("p",{className:"text-muted-foreground",children:"Position barcode within the camera frame to scan"}),l.jsxs(se,{onClick:S,className:"w-full",children:[l.jsx(E1,{className:"w-4 h-4 mr-2"}),"Start Scanning"]}),e&&l.jsxs(se,{onClick:e,variant:"ghost",className:"w-full",children:[l.jsx(ma,{className:"w-4 h-4 mr-2"}),"Close"]})]}),v&&l.jsx("div",{className:"bg-destructive/10 border border-destructive/20 rounded-lg p-3",children:l.jsxs("div",{className:"flex items-center gap-2 text-destructive",children:[l.jsx(Sa,{className:"w-4 h-4"}),l.jsx("p",{className:"text-sm",children:v})]})})]})]})}function jk(){const[t,e]=I.useState(!1),[r,n]=I.useState([]),{toast:i}=nn();Og({title:"Barcode Scanner - Scan Groceries & Products",description:"Scan product barcodes to instantly get nutrition information, price estimates, and add items to your grocery list with ChefGrocer's smart barcode scanner.",keywords:"barcode scanner, grocery scanner, nutrition lookup, product scanner, food barcode"});const s=f=>{var m,v,w,C,N,b;const h={id:`${f.code}-${Date.now()}`,code:f.code,format:f.format,name:(m=f.product)==null?void 0:m.name,brand:(v=f.product)==null?void 0:v.brand,category:(w=f.product)==null?void 0:w.category,nutrition:(C=f.product)==null?void 0:C.nutrition,price_estimate:(N=f.product)==null?void 0:N.price_estimate,scannedAt:new Date};n(R=>[h,...R]),e(!1),i({title:"Item Scanned Successfully!",description:(b=f.product)!=null&&b.name?`Added ${f.product.name} to your scanned items`:`Barcode ${f.code} scanned`})},o=f=>{i({title:"Added to Grocery List",description:`${f.name||f.code} added to your grocery list`})},u=f=>{i({title:"Added to Favorites",description:`${f.name||f.code} added to your favorites`})};return l.jsx("div",{className:"min-h-screen bg-gradient-to-br from-green-50 to-emerald-50 dark:from-gray-900 dark:to-gray-800",children:l.jsxs("div",{className:"container max-w-4xl mx-auto p-4",children:[l.jsxs("div",{className:"flex items-center gap-4 mb-6",children:[l.jsx(iu,{href:"/",children:l.jsx(se,{variant:"outline",size:"icon",children:l.jsx(Xx,{className:"w-4 h-4"})})}),l.jsxs("div",{children:[l.jsx("h1",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:"Barcode Scanner"}),l.jsx("p",{className:"text-muted-foreground",children:"Scan products to get nutrition info and pricing"})]})]}),l.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[l.jsx("div",{children:t?l.jsx(Dk,{onScanSuccess:s,onClose:()=>e(!1),showProductLookup:!0}):l.jsxs(oe,{children:[l.jsx(ve,{className:"text-center",children:l.jsxs(ye,{className:"flex items-center gap-2 justify-center",children:[l.jsx(yf,{className:"w-5 h-5"}),"Ready to Scan"]})}),l.jsxs(le,{className:"text-center space-y-4",children:[l.jsx("p",{className:"text-muted-foreground",children:"Point your camera at any product barcode to get instant nutrition information"}),l.jsx(se,{onClick:()=>e(!0),size:"lg",className:"w-full",children:"Start Scanning"}),l.jsxs("div",{className:"text-xs text-muted-foreground space-y-1",children:[l.jsx("p",{children:" Works with UPC, EAN, Code 128"}),l.jsx("p",{children:" Nutrition data from USDA database"}),l.jsx("p",{children:" Price estimates and allergen info"})]})]})]})}),l.jsx("div",{children:l.jsxs(oe,{children:[l.jsx(ve,{children:l.jsxs(ye,{className:"flex items-center gap-2",children:[l.jsx(In,{className:"w-5 h-5"}),"Scanned Items (",r.length,")"]})}),l.jsx(le,{children:r.length===0?l.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[l.jsx(yf,{className:"w-12 h-12 mx-auto mb-3 opacity-50"}),l.jsx("p",{children:"No items scanned yet"}),l.jsx("p",{className:"text-sm",children:"Your scanned products will appear here"})]}):l.jsx("div",{className:"space-y-4 max-h-96 overflow-y-auto",children:r.map(f=>l.jsxs("div",{className:"border rounded-lg p-4 bg-white dark:bg-gray-800",children:[l.jsxs("div",{className:"flex items-start justify-between mb-2",children:[l.jsxs("div",{className:"flex-1",children:[l.jsx("h3",{className:"font-medium",children:f.name||`Barcode: ${f.code}`}),f.brand&&l.jsxs("p",{className:"text-sm text-muted-foreground",children:["by ",f.brand]})]}),l.jsx(we,{variant:"outline",className:"text-xs",children:f.format})]}),f.category&&l.jsx(we,{variant:"secondary",className:"mb-2",children:f.category}),f.nutrition&&l.jsxs("div",{className:"grid grid-cols-2 gap-2 text-xs bg-muted p-2 rounded mb-2",children:[l.jsxs("div",{children:["Calories: ",f.nutrition.calories||"N/A"]}),l.jsxs("div",{children:["Protein: ",f.nutrition.protein||"N/A","g"]}),l.jsxs("div",{children:["Carbs: ",f.nutrition.carbs||"N/A","g"]}),l.jsxs("div",{children:["Fat: ",f.nutrition.fat||"N/A","g"]})]}),f.price_estimate&&l.jsxs("p",{className:"text-sm font-medium text-green-600 dark:text-green-400 mb-3",children:["Est. Price: ",f.price_estimate]}),l.jsxs("div",{className:"flex gap-2",children:[l.jsxs(se,{onClick:()=>o(f),size:"sm",variant:"outline",className:"flex-1",children:[l.jsx(r4,{className:"w-3 h-3 mr-1"}),"Add to List"]}),l.jsx(se,{onClick:()=>u(f),size:"sm",variant:"outline",children:l.jsx(mf,{className:"w-3 h-3"})})]}),l.jsxs("p",{className:"text-xs text-muted-foreground mt-2",children:["Scanned ",f.scannedAt.toLocaleTimeString()]})]},f.id))})})]})})]}),l.jsxs(oe,{className:"mt-6",children:[l.jsx(ve,{children:l.jsx(ye,{className:"text-lg",children:"Scanning Tips"})}),l.jsx(le,{children:l.jsxs("div",{className:"grid md:grid-cols-3 gap-4 text-sm",children:[l.jsxs("div",{className:"text-center",children:[l.jsx("div",{className:"w-12 h-12 bg-primary/10 rounded-full flex items-center justify-center mx-auto mb-2",children:""}),l.jsx("h3",{className:"font-medium mb-1",children:"Good Lighting"}),l.jsx("p",{className:"text-muted-foreground",children:"Ensure good lighting for best scan results"})]}),l.jsxs("div",{className:"text-center",children:[l.jsx("div",{className:"w-12 h-12 bg-primary/10 rounded-full flex items-center justify-center mx-auto mb-2",children:""}),l.jsx("h3",{className:"font-medium mb-1",children:"Steady Aim"}),l.jsx("p",{className:"text-muted-foreground",children:"Hold camera steady and center the barcode"})]}),l.jsxs("div",{className:"text-center",children:[l.jsx("div",{className:"w-12 h-12 bg-primary/10 rounded-full flex items-center justify-center mx-auto mb-2",children:""}),l.jsx("h3",{className:"font-medium mb-1",children:"Right Distance"}),l.jsx("p",{className:"text-muted-foreground",children:"Keep 4-8 inches away from the barcode"})]})]})})]})]})})}function Mk(){const t=()=>{const e=document.createElement("a");e.href="/ChefGrocer-Complete-Enhanced-v3.tar.gz",e.download="ChefGrocer-Complete-Enhanced-v3.tar.gz",document.body.appendChild(e),e.click(),document.body.removeChild(e)};return l.jsx("div",{className:"min-h-screen bg-gradient-to-br from-green-50 to-blue-50 dark:from-gray-900 dark:to-gray-800 p-4",children:l.jsxs("div",{className:"max-w-4xl mx-auto py-8",children:[l.jsxs("div",{className:"text-center mb-8",children:[l.jsx("h1",{className:"text-4xl font-bold text-green-800 dark:text-green-400 mb-4",children:"ChefGrocer Complete Project"}),l.jsx("p",{className:"text-lg text-gray-600 dark:text-gray-300",children:"Your complete AI-powered cooking assistant with enhanced grocery list and real food images"})]}),l.jsxs(oe,{className:"mb-8",children:[l.jsxs(ve,{children:[l.jsxs(ye,{className:"flex items-center gap-2",children:[l.jsx(M5,{className:"h-6 w-6"}),"Complete Project Archive"]}),l.jsx(xt,{children:"ChefGrocer-Complete-Enhanced-v3.tar.gz - Ready for deployment"})]}),l.jsxs(le,{className:"space-y-6",children:[l.jsxs("div",{className:"flex items-center justify-between p-4 bg-gray-50 dark:bg-gray-800 rounded-lg",children:[l.jsxs("div",{children:[l.jsx("h3",{className:"font-semibold",children:"File Size: 2.2MB"}),l.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Complete project with all assets and dependencies"})]}),l.jsxs(se,{onClick:t,size:"lg",className:"flex items-center gap-2",children:[l.jsx(gf,{className:"h-5 w-5"}),"Download Project"]})]}),l.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[l.jsxs("div",{children:[l.jsxs("h3",{className:"font-semibold mb-3 flex items-center gap-2",children:[l.jsx(ou,{className:"h-5 w-5 text-green-600"}),"Latest Enhancements"]}),l.jsxs("ul",{className:"space-y-2 text-sm",children:[l.jsxs("li",{className:"flex items-start gap-2",children:[l.jsx(we,{variant:"secondary",children:"Visual"}),'Real food images - eliminated all "?" placeholders']}),l.jsxs("li",{className:"flex items-start gap-2",children:[l.jsx(we,{variant:"secondary",children:"Smart"}),"35+ high-quality food photos with auto-matching"]}),l.jsxs("li",{className:"flex items-start gap-2",children:[l.jsx(we,{variant:"secondary",children:"UX"}),"Enhanced grocery list with type-and-save"]}),l.jsxs("li",{className:"flex items-start gap-2",children:[l.jsx(we,{variant:"secondary",children:"Performance"}),"Sub-1-second API response times"]})]})]}),l.jsxs("div",{children:[l.jsx("h3",{className:"font-semibold mb-3",children:"Project Contents"}),l.jsxs("ul",{className:"space-y-2 text-sm",children:[l.jsx("li",{children:" React TypeScript frontend"}),l.jsx("li",{children:" Express.js backend with AI integration"}),l.jsx("li",{children:" PostgreSQL database schema"}),l.jsx("li",{children:" Google Gemini AI integration"}),l.jsx("li",{children:" Stripe payment processing"}),l.jsx("li",{children:" iOS Capacitor configuration"}),l.jsx("li",{children:" Complete documentation"})]})]})]}),l.jsxs("div",{className:"bg-blue-50 dark:bg-blue-900/20 p-4 rounded-lg",children:[l.jsx("h3",{className:"font-semibold mb-2",children:"Quick Setup Instructions"}),l.jsxs("ol",{className:"text-sm space-y-1",children:[l.jsxs("li",{children:["1. Extract: ",l.jsx("code",{className:"bg-gray-200 dark:bg-gray-700 px-2 py-1 rounded",children:"tar -xzf ChefGrocer-Complete-Enhanced-v2.tar.gz"})]}),l.jsxs("li",{children:["2. Install: ",l.jsx("code",{className:"bg-gray-200 dark:bg-gray-700 px-2 py-1 rounded",children:"npm install"})]}),l.jsx("li",{children:"3. Configure environment variables"}),l.jsxs("li",{children:["4. Start: ",l.jsx("code",{className:"bg-gray-200 dark:bg-gray-700 px-2 py-1 rounded",children:"npm run dev"})]})]})]}),l.jsxs("div",{className:"text-center",children:[l.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 mb-4",children:"Revenue-ready system targeting $2,500-$10,000/month scaling to $100K/month"}),l.jsxs(se,{onClick:t,size:"lg",className:"flex items-center gap-2 mx-auto",children:[l.jsx(gf,{className:"h-5 w-5"}),"Download ChefGrocer Complete"]})]})]})]})]})})}/*! Capacitor: https://capacitorjs.com/ - MIT License */var Ll;(function(t){t.Unimplemented="UNIMPLEMENTED",t.Unavailable="UNAVAILABLE"})(Ll||(Ll={}));class Y1 extends Error{constructor(e,r,n){super(e),this.message=e,this.code=r,this.data=n}}const kk=t=>{var e,r;return t!=null&&t.androidBridge?"android":!((r=(e=t==null?void 0:t.webkit)===null||e===void 0?void 0:e.messageHandlers)===null||r===void 0)&&r.bridge?"ios":"web"},Lk=t=>{const e=t.CapacitorCustomPlatform||null,r=t.Capacitor||{},n=r.Plugins=r.Plugins||{},i=()=>e!==null?e.name:kk(t),s=()=>i()!=="web",o=v=>{const w=h.get(v);return!!(w!=null&&w.platforms.has(i())||u(v))},u=v=>{var w;return(w=r.PluginHeaders)===null||w===void 0?void 0:w.find(C=>C.name===v)},f=v=>t.console.error(v),h=new Map,m=(v,w={})=>{const C=h.get(v);if(C)return console.warn(`Capacitor plugin "${v}" already registered. Cannot register plugins twice.`),C.proxy;const N=i(),b=u(v);let R;const _=async()=>(!R&&N in w?R=typeof w[N]=="function"?R=await w[N]():R=w[N]:e!==null&&!R&&"web"in w&&(R=typeof w.web=="function"?R=await w.web():R=w.web),R),S=(F,U)=>{var X,ee;if(b){const Z=b==null?void 0:b.methods.find(ae=>U===ae.name);if(Z)return Z.rtype==="promise"?ae=>r.nativePromise(v,U.toString(),ae):(ae,K)=>r.nativeCallback(v,U.toString(),ae,K);if(F)return(X=F[U])===null||X===void 0?void 0:X.bind(F)}else{if(F)return(ee=F[U])===null||ee===void 0?void 0:ee.bind(F);throw new Y1(`"${v}" plugin is not implemented on ${N}`,Ll.Unimplemented)}},T=F=>{let U;const X=(...ee)=>{const Z=_().then(ae=>{const K=S(ae,F);if(K){const G=K(...ee);return U=G==null?void 0:G.remove,G}else throw new Y1(`"${v}.${F}()" is not implemented on ${N}`,Ll.Unimplemented)});return F==="addListener"&&(Z.remove=async()=>U()),Z};return X.toString=()=>`${F.toString()}() { [capacitor code] }`,Object.defineProperty(X,"name",{value:F,writable:!1,configurable:!1}),X},P=T("addListener"),B=T("removeListener"),k=(F,U)=>{const X=P({eventName:F},U),ee=async()=>{const ae=await X;B({eventName:F,callbackId:ae},U)},Z=new Promise(ae=>X.then(()=>ae({remove:ee})));return Z.remove=async()=>{console.warn("Using addListener() without 'await' is deprecated."),await ee()},Z},M=new Proxy({},{get(F,U){switch(U){case"$$typeof":return;case"toJSON":return()=>({});case"addListener":return b?k:P;case"removeListener":return B;default:return T(U)}}});return n[v]=M,h.set(v,{name:v,proxy:M,platforms:new Set([...Object.keys(w),...b?[N]:[]])}),M};return r.convertFileSrc||(r.convertFileSrc=v=>v),r.getPlatform=i,r.handleError=f,r.isNativePlatform=s,r.isPluginAvailable=o,r.registerPlugin=m,r.Exception=Y1,r.DEBUG=!!r.DEBUG,r.isLoggingEnabled=!!r.isLoggingEnabled,r},Bk=t=>t.Capacitor=Lk(t),ol=Bk(typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{}),wb=ol.registerPlugin;class Cb{constructor(){this.listeners={},this.retainedEventArguments={},this.windowListeners={}}addListener(e,r){let n=!1;this.listeners[e]||(this.listeners[e]=[],n=!0),this.listeners[e].push(r);const s=this.windowListeners[e];s&&!s.registered&&this.addWindowListener(s),n&&this.sendRetainedArgumentsForEvent(e);const o=async()=>this.removeListener(e,r);return Promise.resolve({remove:o})}async removeAllListeners(){this.listeners={};for(const e in this.windowListeners)this.removeWindowListener(this.windowListeners[e]);this.windowListeners={}}notifyListeners(e,r,n){const i=this.listeners[e];if(!i){if(n){let s=this.retainedEventArguments[e];s||(s=[]),s.push(r),this.retainedEventArguments[e]=s}return}i.forEach(s=>s(r))}hasListeners(e){var r;return!!(!((r=this.listeners[e])===null||r===void 0)&&r.length)}registerWindowListener(e,r){this.windowListeners[r]={registered:!1,windowEventName:e,pluginEventName:r,handler:n=>{this.notifyListeners(r,n)}}}unimplemented(e="not implemented"){return new ol.Exception(e,Ll.Unimplemented)}unavailable(e="not available"){return new ol.Exception(e,Ll.Unavailable)}async removeListener(e,r){const n=this.listeners[e];if(!n)return;const i=n.indexOf(r);this.listeners[e].splice(i,1),this.listeners[e].length||this.removeWindowListener(this.windowListeners[e])}addWindowListener(e){window.addEventListener(e.windowEventName,e.handler),e.registered=!0}removeWindowListener(e){e&&(window.removeEventListener(e.windowEventName,e.handler),e.registered=!1)}sendRetainedArgumentsForEvent(e){const r=this.retainedEventArguments[e];r&&(delete this.retainedEventArguments[e],r.forEach(n=>{this.notifyListeners(e,n)}))}}const Ay=t=>encodeURIComponent(t).replace(/%(2[346B]|5E|60|7C)/g,decodeURIComponent).replace(/[()]/g,escape),by=t=>t.replace(/(%[\dA-F]{2})+/gi,decodeURIComponent);class Fk extends Cb{async getCookies(){const e=document.cookie,r={};return e.split(";").forEach(n=>{if(n.length<=0)return;let[i,s]=n.replace(/=/,"CAP_COOKIE").split("CAP_COOKIE");i=by(i).trim(),s=by(s).trim(),r[i]=s}),r}async setCookie(e){try{const r=Ay(e.key),n=Ay(e.value),i=`; expires=${(e.expires||"").replace("expires=","")}`,s=(e.path||"/").replace("path=",""),o=e.url!=null&&e.url.length>0?`domain=${e.url}`:"";document.cookie=`${r}=${n||""}${i}; path=${s}; ${o};`}catch(r){return Promise.reject(r)}}async deleteCookie(e){try{document.cookie=`${e.key}=; Max-Age=0`}catch(r){return Promise.reject(r)}}async clearCookies(){try{const e=document.cookie.split(";")||[];for(const r of e)document.cookie=r.replace(/^ +/,"").replace(/=.*/,`=;expires=${new Date().toUTCString()};path=/`)}catch(e){return Promise.reject(e)}}async clearAllCookies(){try{await this.clearCookies()}catch(e){return Promise.reject(e)}}}wb("CapacitorCookies",{web:()=>new Fk});const Uk=async t=>new Promise((e,r)=>{const n=new FileReader;n.onload=()=>{const i=n.result;e(i.indexOf(",")>=0?i.split(",")[1]:i)},n.onerror=i=>r(i),n.readAsDataURL(t)}),Vk=(t={})=>{const e=Object.keys(t);return Object.keys(t).map(i=>i.toLocaleLowerCase()).reduce((i,s,o)=>(i[s]=t[e[o]],i),{})},Hk=(t,e=!0)=>t?Object.entries(t).reduce((n,i)=>{const[s,o]=i;let u,f;return Array.isArray(o)?(f="",o.forEach(h=>{u=e?encodeURIComponent(h):h,f+=`${s}=${u}&`}),f.slice(0,-1)):(u=e?encodeURIComponent(o):o,f=`${s}=${u}`),`${n}&${f}`},"").substr(1):null,zk=(t,e={})=>{const r=Object.assign({method:t.method||"GET",headers:t.headers},e),i=Vk(t.headers)["content-type"]||"";if(typeof t.data=="string")r.body=t.data;else if(i.includes("application/x-www-form-urlencoded")){const s=new URLSearchParams;for(const[o,u]of Object.entries(t.data||{}))s.set(o,u);r.body=s.toString()}else if(i.includes("multipart/form-data")||t.data instanceof FormData){const s=new FormData;if(t.data instanceof FormData)t.data.forEach((u,f)=>{s.append(f,u)});else for(const u of Object.keys(t.data))s.append(u,t.data[u]);r.body=s;const o=new Headers(r.headers);o.delete("content-type"),r.headers=o}else(i.includes("application/json")||typeof t.data=="object")&&(r.body=JSON.stringify(t.data));return r};class Gk extends Cb{async request(e){const r=zk(e,e.webFetchExtra),n=Hk(e.params,e.shouldEncodeUrlParams),i=n?`${e.url}?${n}`:e.url,s=await fetch(i,r),o=s.headers.get("content-type")||"";let{responseType:u="text"}=s.ok?e:{};o.includes("application/json")&&(u="json");let f,h;switch(u){case"arraybuffer":case"blob":h=await s.blob(),f=await Uk(h);break;case"json":f=await s.json();break;case"document":case"text":default:f=await s.text()}const m={};return s.headers.forEach((v,w)=>{m[w]=v}),{data:f,headers:m,status:s.status,url:s.url}}async get(e){return this.request(Object.assign(Object.assign({},e),{method:"GET"}))}async post(e){return this.request(Object.assign(Object.assign({},e),{method:"POST"}))}async put(e){return this.request(Object.assign(Object.assign({},e),{method:"PUT"}))}async patch(e){return this.request(Object.assign(Object.assign({},e),{method:"PATCH"}))}async delete(e){return this.request(Object.assign(Object.assign({},e),{method:"DELETE"}))}}wb("CapacitorHttp",{web:()=>new Gk});function Wk(){const[t,e]=I.useState([]),[r,n]=I.useState({}),[i,s]=I.useState(!1),[o,u]=I.useState(null);I.useEffect(()=>{if(!ol.isNativePlatform()||ol.getPlatform()!=="ios"){console.log("IAP only available on iOS platform");return}async function m(){try{s(!0),e([{productId:"premium_monthly",title:"Premium Monthly",price:"$4.99",description:"Unlimited AI voice commands and advanced meal planning"},{productId:"pro_monthly",title:"Pro Monthly",price:"$9.99",description:"Everything in Premium plus priority support and partnerships"},{productId:"lifetime_access",title:"Lifetime Access",price:"$99.99",description:"One-time payment for lifetime access to all features"}]);try{const w=await hr("GET","/api/auth/user");if(w){const C=await w.json(),N={};C.subscriptionTier==="premium"?N.premium_monthly=!0:C.subscriptionTier==="pro"?N.pro_monthly=!0:C.subscriptionTier==="lifetime"&&(N.lifetime_access=!0),n(N)}}catch{console.log("User not authenticated or subscription check failed")}}catch(v){console.error("IAP initialization error:",v),u("Failed to initialize purchases")}finally{s(!1)}}return m(),()=>{}},[]);async function f(m){try{if(s(!0),u(null),ol.isNativePlatform()){window.location.href="/subscribe";return}window.location.href="/subscribe"}catch(v){console.error("Purchase error:",v),u(v.message||"Purchase failed")}finally{s(!1)}}async function h(){try{s(!0),u(null);const m=await hr("GET","/api/auth/user");if(m){const v=await m.json(),w={};v.subscriptionTier==="premium"?w.premium_monthly=!0:v.subscriptionTier==="pro"?w.pro_monthly=!0:v.subscriptionTier==="lifetime"&&(w.lifetime_access=!0),n(w),console.log("Subscription status restored")}}catch(m){console.error("Restore error:",m),u(m.message||"Restore failed")}finally{s(!1)}}return{products:t,purchased:r,buy:f,restore:h,loading:i,error:o,isAvailable:!0}}function Xk(){const{products:t,purchased:e,buy:r,restore:n,loading:i,error:s,isAvailable:o}=Wk(),{toast:u}=nn(),f=async w=>{try{await r(w),u({title:"Purchase Successful!",description:"Your subscription has been activated."})}catch{u({title:"Purchase Failed",description:"Please try again or contact support.",variant:"destructive"})}},h=async()=>{try{await n(),u({title:"Purchases Restored",description:"Your previous purchases have been restored."})}catch{u({title:"Restore Failed",description:"No purchases found to restore.",variant:"destructive"})}},m=w=>{switch(w){case"premium_monthly":return l.jsx(On,{className:"w-6 h-6 text-yellow-500"});case"pro_monthly":return l.jsx(ns,{className:"w-6 h-6 text-purple-500"});case"lifetime_access":return l.jsx(lu,{className:"w-6 h-6 text-orange-500"});default:return l.jsx(On,{className:"w-6 h-6 text-blue-500"})}},v=w=>({premium_monthly:["Unlimited AI voice commands","Advanced meal planning","Premium recipe access","Price comparison alerts"],pro_monthly:["Everything in Premium","Priority AI processing","Advanced nutrition analysis","Restaurant partnerships","Premium customer support"],lifetime_access:["Everything in Pro","Lifetime access to all features","Future feature updates included","One-time payment","Priority support forever"]})[w]||[];return l.jsxs("div",{className:"max-w-md mx-auto p-4 space-y-6",children:[l.jsxs("div",{className:"text-center mb-6",children:[l.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Upgrade ChefGrocer"}),l.jsx("p",{className:"text-gray-600",children:"Unlock premium features and AI-powered cooking assistance"})]}),s&&l.jsx(oe,{className:"border-red-200 bg-red-50",children:l.jsx(le,{className:"pt-4",children:l.jsx("p",{className:"text-red-600 text-sm",children:s})})}),i&&t.length===0&&l.jsxs("div",{className:"flex justify-center items-center py-8",children:[l.jsx(ii,{className:"w-6 h-6 animate-spin"}),l.jsx("span",{className:"ml-2 text-gray-600",children:"Loading products..."})]}),t.map(w=>l.jsxs(oe,{className:"relative",children:[e[w.productId]&&l.jsxs(we,{className:"absolute -top-2 -right-2 bg-green-500",children:[l.jsx(ou,{className:"w-3 h-3 mr-1"}),"Purchased"]}),l.jsx(ve,{children:l.jsxs(ye,{className:"flex items-center gap-3",children:[m(w.productId),l.jsxs("div",{children:[l.jsx("h3",{className:"text-lg font-semibold",children:w.title}),l.jsx("p",{className:"text-2xl font-bold text-orange-600",children:w.price})]})]})}),l.jsxs(le,{children:[l.jsx("p",{className:"text-gray-600 mb-4",children:w.description}),l.jsx("div",{className:"space-y-2 mb-4",children:v(w.productId).map((C,N)=>l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(ou,{className:"w-4 h-4 text-green-500"}),l.jsx("span",{className:"text-sm text-gray-700",children:C})]},N))}),l.jsxs(se,{onClick:()=>f(w.productId),disabled:e[w.productId]||i,className:"w-full bg-orange-600 hover:bg-orange-700",children:[i?l.jsx(ii,{className:"w-4 h-4 animate-spin mr-2"}):null,e[w.productId]?"Purchased":"Buy Now"]})]})]},w.productId)),l.jsxs("div",{className:"text-center space-y-4",children:[l.jsxs(se,{onClick:h,variant:"outline",disabled:i,className:"w-full",children:[i?l.jsx(ii,{className:"w-4 h-4 animate-spin mr-2"}):null,"Restore Purchases"]}),l.jsx("p",{className:"text-xs text-gray-500",children:"Subscriptions auto-renew. Cancel anytime in App Store settings."})]})]})}function Yk(){const[t,e]=I.useState([]),[r,n]=I.useState(""),[i,s]=I.useState(""),[o,u]=I.useState("general"),[f,h]=I.useState(null),{toast:m}=nn(),v=[{id:"general",name:"General",icon:In},{id:"weekly",name:"Weekly Shopping",icon:Rl},{id:"quick",name:"Quick Lists",icon:Ns}];I.useEffect(()=>{const S=localStorage.getItem("grocery-lists");S&&e(JSON.parse(S))},[]);const w=S=>{e(S),localStorage.setItem("grocery-lists",JSON.stringify(S))},C=()=>{if(!r.trim()){m({title:"Empty List",description:"Please add some items to your grocery list.",variant:"destructive"});return}const S=new Date().toISOString(),T=i.trim()||`List ${new Date().toLocaleDateString()}`;if(f){const P=t.map(B=>B.id===f?{...B,name:T,content:r,category:o,updatedAt:S}:B);w(P),m({title:"List Updated",description:`"${T}" has been saved.`})}else{const P={id:Date.now().toString(),name:T,content:r,category:o,createdAt:S,updatedAt:S};w([...t,P]),m({title:"List Saved",description:`"${T}" has been saved.`})}},N=S=>{n(S.content),s(S.name),u(S.category),h(S.id)},b=S=>{const T=t.filter(P=>P.id!==S);w(T),f===S&&(n(""),s(""),h(null)),m({title:"List Deleted",description:"Grocery list has been removed."})},R=()=>{n(""),s(""),h(null),u("general")},_=S=>t.filter(T=>T.category===S);return l.jsx("div",{className:"min-h-screen bg-gradient-to-br from-orange-50 to-red-50 p-4",children:l.jsxs("div",{className:"max-w-6xl mx-auto",children:[l.jsxs("div",{className:"text-center mb-6",children:[l.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Grocery Notepad"}),l.jsx("p",{className:"text-gray-600",children:"Create and save your grocery lists quickly and easily"})]}),l.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[l.jsxs(oe,{className:"lg:sticky lg:top-4",children:[l.jsx(ve,{children:l.jsxs(ye,{className:"flex items-center gap-2",children:[l.jsx(Rl,{className:"w-5 h-5"}),f?"Edit List":"New Grocery List"]})}),l.jsxs(le,{className:"space-y-4",children:[l.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[l.jsx(Zt,{placeholder:"List name (optional)",value:i,onChange:S=>s(S.target.value)}),l.jsx("select",{value:o,onChange:S=>u(S.target.value),className:"px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-orange-500",children:v.map(S=>l.jsx("option",{value:S.id,children:S.name},S.id))})]}),l.jsx(g0,{placeholder:`Type your grocery list here...

Examples:
 Milk (2 gallons)
 Bread (whole wheat)
 Bananas (6)
 Chicken breast (2 lbs)
 Rice (brown, 1 bag)
 Yogurt (Greek, vanilla)

Just type naturally - one item per line!`,value:r,onChange:S=>n(S.target.value),className:"min-h-[400px] text-base leading-relaxed"}),l.jsxs("div",{className:"flex gap-2",children:[l.jsxs(se,{onClick:C,className:"flex-1 bg-orange-600 hover:bg-orange-700",children:[l.jsx(W5,{className:"w-4 h-4 mr-2"}),"Save List"]}),l.jsxs(se,{onClick:R,variant:"outline",className:"flex-1",children:[l.jsx(r4,{className:"w-4 h-4 mr-2"}),"New List"]})]})]})]}),l.jsxs(oe,{children:[l.jsx(ve,{children:l.jsxs(ye,{className:"flex items-center gap-2",children:[l.jsx(In,{className:"w-5 h-5"}),"Saved Lists (",t.length,")"]})}),l.jsx(le,{children:l.jsxs(Wl,{value:o,onValueChange:u,children:[l.jsx(Xl,{className:"grid w-full grid-cols-3",children:v.map(S=>{const T=S.icon,P=_(S.id).length;return l.jsxs(tn,{value:S.id,className:"text-xs",children:[l.jsx(T,{className:"w-3 h-3 mr-1"}),S.name,P>0&&l.jsx(we,{variant:"secondary",className:"ml-1 text-xs",children:P})]},S.id)})}),v.map(S=>l.jsx(pn,{value:S.id,className:"space-y-3 mt-4",children:_(S.id).length===0?l.jsxs("div",{className:"text-center py-8 text-gray-500",children:[l.jsx(In,{className:"w-12 h-12 mx-auto mb-2 opacity-50"}),l.jsxs("p",{children:["No lists in ",S.name," yet"]}),l.jsx("p",{className:"text-sm",children:"Create your first list above!"})]}):_(S.id).map(T=>l.jsx(oe,{className:`cursor-pointer transition-colors ${f===T.id?"ring-2 ring-orange-500":"hover:bg-gray-50"}`,children:l.jsxs(le,{className:"p-4",children:[l.jsxs("div",{className:"flex justify-between items-start mb-2",children:[l.jsx("h3",{className:"font-medium text-gray-900 truncate",onClick:()=>N(T),children:T.name}),l.jsx(se,{onClick:()=>b(T.id),variant:"ghost",size:"sm",className:"text-red-500 hover:text-red-700",children:l.jsx(s4,{className:"w-4 h-4"})})]}),l.jsxs("p",{className:"text-sm text-gray-600 line-clamp-2 cursor-pointer",onClick:()=>N(T),children:[T.content.split(`
`).slice(0,3).join("  "),T.content.split(`
`).length>3&&"..."]}),l.jsx("p",{className:"text-xs text-gray-400 mt-2",children:new Date(T.updatedAt).toLocaleDateString()})]})},T.id))},S.id))]})})]})]})]})})}function $k(){return LE(),l.jsxs(e_,{children:[l.jsx(Zr,{path:"/login",component:EP}),l.jsx(Zr,{path:"/landing",component:j9}),l.jsx(Zr,{path:"/privacy-policy",component:iP}),l.jsx(Zr,{path:"/terms",component:CP}),l.jsx(Zr,{path:"/download",component:Mk}),l.jsx(Zr,{path:"/",component:D9}),l.jsx(Zr,{path:"/checkout",component:CO}),l.jsx(Zr,{path:"/subscribe",component:bO}),l.jsx(Zr,{path:"/revenue",component:DO}),l.jsx(Zr,{path:"/revenue-optimization",component:kO}),l.jsx(Zr,{path:"/payment-setup",component:VO}),l.jsx(Zr,{path:"/privacy-dashboard",component:wP}),l.jsx(Zr,{path:"/barcode-scanner",component:jk}),l.jsx(Zr,{path:"/subscription-mobile",component:Xk}),l.jsx(Zr,{path:"/grocery-notepad",component:Yk}),l.jsx(Zr,{component:M9})]})}function Kk(){return l.jsx(l7,{children:l.jsx(w_,{client:P_,children:l.jsxs(s7,{children:[l.jsx(DI,{}),l.jsx($k,{}),l.jsx(c7,{}),l.jsx(u7,{}),l.jsx(f7,{}),l.jsx(SR,{})]})})})}function Zk(){if(!(typeof window>"u"))try{window.addEventListener("load",()=>{const t=performance.getEntriesByType("navigation")[0]})}catch{}}Zk();s8.initialize();K3(document.getElementById("root")).render(l.jsx(Kk,{}));
